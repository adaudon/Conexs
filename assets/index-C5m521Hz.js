var Ju=Object.defineProperty;var qu=(i,s,o)=>s in i?Ju(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o;var _i=(i,s,o)=>qu(i,typeof s!="symbol"?s+"":s,o);function _mergeNamespaces(i,s){for(var o=0;o<s.length;o++){const a=s[o];if(typeof a!="string"&&!Array.isArray(a)){for(const _ in a)if(_!=="default"&&!(_ in i)){const $=Object.getOwnPropertyDescriptor(a,_);$&&Object.defineProperty(i,_,$.get?$:{enumerable:!0,get:()=>a[_]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))a(_);new MutationObserver(_=>{for(const $ of _)if($.type==="childList")for(const nt of $.addedNodes)nt.tagName==="LINK"&&nt.rel==="modulepreload"&&a(nt)}).observe(document,{childList:!0,subtree:!0});function o(_){const $={};return _.integrity&&($.integrity=_.integrity),_.referrerPolicy&&($.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?$.credentials="include":_.crossOrigin==="anonymous"?$.credentials="omit":$.credentials="same-origin",$}function a(_){if(_.ep)return;_.ep=!0;const $=o(_);fetch(_.href,$)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,s,o){var a,_={},$=null,nt=null;if(s!=null)for(a in s.ref!==void 0&&(nt=s.ref),s.key!==void 0&&($=""+s.key),s)J.call(s,a)&&!L$1.hasOwnProperty(a)&&(_[a]=s[a]);var tt=arguments.length-2;if(tt===1)_.children=o;else if(1<tt){for(var ot=Array(tt),pt=0;pt<tt;pt++)ot[pt]=arguments[pt+2];_.children=ot}if(i&&i.defaultProps)for(a in tt=i.defaultProps,tt)_[a]===void 0&&(_[a]=tt[a]);return{$$typeof:l$3,type:i,key:$,ref:nt,props:_,_owner:K$1.current}}function N$1(i,s){return{$$typeof:l$3,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$3}function escape(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(o){return s[o]})}var P$1=/\/+/g;function Q$1(i,s){return typeof i=="object"&&i!==null&&i.key!=null?escape(""+i.key):s.toString(36)}function R$1(i,s,o,a,_){var $=typeof i;($==="undefined"||$==="boolean")&&(i=null);var nt=!1;if(i===null)nt=!0;else switch($){case"string":case"number":nt=!0;break;case"object":switch(i.$$typeof){case l$3:case n$3:nt=!0}}if(nt)return nt=i,_=_(nt),i=a===""?"."+Q$1(nt,0):a,I$1(_)?(o="",i!=null&&(o=i.replace(P$1,"$&/")+"/"),R$1(_,s,o,"",function(pt){return pt})):_!=null&&(O$1(_)&&(_=N$1(_,o+(!_.key||nt&&nt.key===_.key?"":(""+_.key).replace(P$1,"$&/")+"/")+i)),s.push(_)),1;if(nt=0,a=a===""?".":a+":",I$1(i))for(var tt=0;tt<i.length;tt++){$=i[tt];var ot=a+Q$1($,tt);nt+=R$1($,s,o,ot,_)}else if(ot=A$2(i),typeof ot=="function")for(i=ot.call(i),tt=0;!($=i.next()).done;)$=$.value,ot=a+Q$1($,tt++),nt+=R$1($,s,o,ot,_);else if($==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return nt}function S$1(i,s,o){if(i==null)return i;var a=[],_=0;return R$1(i,a,"","",function($){return s.call(o,$,_++)}),a}function T$1(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(o){(i._status===0||i._status===-1)&&(i._status=1,i._result=o)},function(o){(i._status===0||i._status===-1)&&(i._status=2,i._result=o)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,s,o){S$1(i,function(){s.apply(this,arguments)},o)},count:function(i){var s=0;return S$1(i,function(){s++}),s},toArray:function(i){return S$1(i,function(s){return s})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(i,s,o){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var a=C$1({},i.props),_=i.key,$=i.ref,nt=i._owner;if(s!=null){if(s.ref!==void 0&&($=s.ref,nt=K$1.current),s.key!==void 0&&(_=""+s.key),i.type&&i.type.defaultProps)var tt=i.type.defaultProps;for(ot in s)J.call(s,ot)&&!L$1.hasOwnProperty(ot)&&(a[ot]=s[ot]===void 0&&tt!==void 0?tt[ot]:s[ot])}var ot=arguments.length-2;if(ot===1)a.children=o;else if(1<ot){tt=Array(ot);for(var pt=0;pt<ot;pt++)tt[pt]=arguments[pt+2];a.children=tt}return{$$typeof:l$3,type:i.type,key:_,ref:$,props:a,_owner:nt}};react_production_min.createContext=function(i){return i={$$typeof:u$1,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$2,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var s=M$1.bind(null,i);return s.type=i,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$3,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,s){return{$$typeof:x$1,type:i,compare:s===void 0?null:s}};react_production_min.startTransition=function(i){var s=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=s}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(i,s){return U$1.current.useCallback(i,s)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,s){return U$1.current.useEffect(i,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,s,o){return U$1.current.useImperativeHandle(i,s,o)};react_production_min.useInsertionEffect=function(i,s){return U$1.current.useInsertionEffect(i,s)};react_production_min.useLayoutEffect=function(i,s){return U$1.current.useLayoutEffect(i,s)};react_production_min.useMemo=function(i,s){return U$1.current.useMemo(i,s)};react_production_min.useReducer=function(i,s,o){return U$1.current.useReducer(i,s,o)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,s,o){return U$1.current.useSyncExternalStore(i,s,o)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$2=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(i,s,o){var a,_={},$=null,nt=null;o!==void 0&&($=""+o),s.key!==void 0&&($=""+s.key),s.ref!==void 0&&(nt=s.ref);for(a in s)m$3.call(s,a)&&!p$3.hasOwnProperty(a)&&(_[a]=s[a]);if(i&&i.defaultProps)for(a in s=i.defaultProps,s)_[a]===void 0&&(_[a]=s[a]);return{$$typeof:k$2,type:i,key:$,ref:nt,props:_,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(wt,Pt){var Lt=wt.length;wt.push(Pt);e:for(;0<Lt;){var Rt=Lt-1>>>1,Dt=wt[Rt];if(0<_(Dt,Pt))wt[Rt]=Pt,wt[Lt]=Dt,Lt=Rt;else break e}}function o(wt){return wt.length===0?null:wt[0]}function a(wt){if(wt.length===0)return null;var Pt=wt[0],Lt=wt.pop();if(Lt!==Pt){wt[0]=Lt;e:for(var Rt=0,Dt=wt.length,$t=Dt>>>1;Rt<$t;){var jt=2*(Rt+1)-1,Zt=wt[jt],qt=jt+1,er=wt[qt];if(0>_(Zt,Lt))qt<Dt&&0>_(er,Zt)?(wt[Rt]=er,wt[qt]=Lt,Rt=qt):(wt[Rt]=Zt,wt[jt]=Lt,Rt=jt);else if(qt<Dt&&0>_(er,Lt))wt[Rt]=er,wt[qt]=Lt,Rt=qt;else break e}}return Pt}function _(wt,Pt){var Lt=wt.sortIndex-Pt.sortIndex;return Lt!==0?Lt:wt.id-Pt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var $=performance;i.unstable_now=function(){return $.now()}}else{var nt=Date,tt=nt.now();i.unstable_now=function(){return nt.now()-tt}}var ot=[],pt=[],ut=1,mt=null,vt=3,ht=!1,gt=!1,rt=!1,j=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function st(wt){for(var Pt=o(pt);Pt!==null;){if(Pt.callback===null)a(pt);else if(Pt.startTime<=wt)a(pt),Pt.sortIndex=Pt.expirationTime,s(ot,Pt);else break;Pt=o(pt)}}function lt(wt){if(rt=!1,st(wt),!gt)if(o(ot)!==null)gt=!0,Ot(et);else{var Pt=o(pt);Pt!==null&&At(lt,Pt.startTime-wt)}}function et(wt,Pt){gt=!1,rt&&(rt=!1,_e(ct),ct=-1),ht=!0;var Lt=vt;try{for(st(Pt),mt=o(ot);mt!==null&&(!(mt.expirationTime>Pt)||wt&&!_t());){var Rt=mt.callback;if(typeof Rt=="function"){mt.callback=null,vt=mt.priorityLevel;var Dt=Rt(mt.expirationTime<=Pt);Pt=i.unstable_now(),typeof Dt=="function"?mt.callback=Dt:mt===o(ot)&&a(ot),st(Pt)}else a(ot);mt=o(ot)}if(mt!==null)var $t=!0;else{var jt=o(pt);jt!==null&&At(lt,jt.startTime-Pt),$t=!1}return $t}finally{mt=null,vt=Lt,ht=!1}}var at=!1,ft=null,ct=-1,xt=5,dt=-1;function _t(){return!(i.unstable_now()-dt<xt)}function Ct(){if(ft!==null){var wt=i.unstable_now();dt=wt;var Pt=!0;try{Pt=ft(!0,wt)}finally{Pt?Et():(at=!1,ft=null)}}else at=!1}var Et;if(typeof it=="function")Et=function(){it(Ct)};else if(typeof MessageChannel<"u"){var Mt=new MessageChannel,St=Mt.port2;Mt.port1.onmessage=Ct,Et=function(){St.postMessage(null)}}else Et=function(){j(Ct,0)};function Ot(wt){ft=wt,at||(at=!0,Et())}function At(wt,Pt){ct=j(function(){wt(i.unstable_now())},Pt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(wt){wt.callback=null},i.unstable_continueExecution=function(){gt||ht||(gt=!0,Ot(et))},i.unstable_forceFrameRate=function(wt){0>wt||125<wt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xt=0<wt?Math.floor(1e3/wt):5},i.unstable_getCurrentPriorityLevel=function(){return vt},i.unstable_getFirstCallbackNode=function(){return o(ot)},i.unstable_next=function(wt){switch(vt){case 1:case 2:case 3:var Pt=3;break;default:Pt=vt}var Lt=vt;vt=Pt;try{return wt()}finally{vt=Lt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(wt,Pt){switch(wt){case 1:case 2:case 3:case 4:case 5:break;default:wt=3}var Lt=vt;vt=wt;try{return Pt()}finally{vt=Lt}},i.unstable_scheduleCallback=function(wt,Pt,Lt){var Rt=i.unstable_now();switch(typeof Lt=="object"&&Lt!==null?(Lt=Lt.delay,Lt=typeof Lt=="number"&&0<Lt?Rt+Lt:Rt):Lt=Rt,wt){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=Lt+Dt,wt={id:ut++,callback:Pt,priorityLevel:wt,startTime:Lt,expirationTime:Dt,sortIndex:-1},Lt>Rt?(wt.sortIndex=Lt,s(pt,wt),o(ot)===null&&wt===o(pt)&&(rt?(_e(ct),ct=-1):rt=!0,At(lt,Lt-Rt))):(wt.sortIndex=Dt,s(ot,wt),gt||ht||(gt=!0,Ot(et))),wt},i.unstable_shouldYield=_t,i.unstable_wrapCallback=function(wt){var Pt=vt;return function(){var Lt=vt;vt=Pt;try{return wt.apply(this,arguments)}finally{vt=Lt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,s){ha(i,s),ha(i+"Capture",s)}function ha(i,s){for(ea[i]=s,i=0;i<s.length;i++)da.add(s[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,s,o,a){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,s,o,a){if(s===null||typeof s>"u"||pa(i,s,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$2(i,s,o,a,_,$,nt){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=_,this.mustUseProperty=o,this.propertyName=i,this.type=s,this.sanitizeURL=$,this.removeEmptyString=nt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z$1[i]=new v$2(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];z$1[s]=new v$2(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z$1[i]=new v$2(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z$1[i]=new v$2(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z$1[i]=new v$2(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z$1[i]=new v$2(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z$1[i]=new v$2(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z$1[i]=new v$2(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z$1[i]=new v$2(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ra,sa);z$1[s]=new v$2(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ra,sa);z$1[s]=new v$2(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ra,sa);z$1[s]=new v$2(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z$1[i]=new v$2(i,1,!1,i.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z$1[i]=new v$2(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,s,o,a){var _=z$1.hasOwnProperty(s)?z$1[s]:null;(_!==null?_.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,o,_,a)&&(o=null),a||_===null?oa(s)&&(o===null?i.removeAttribute(s):i.setAttribute(s,""+o)):_.mustUseProperty?i[_.propertyName]=o===null?_.type===3?!1:"":o:(s=_.attributeName,a=_.attributeNamespace,o===null?i.removeAttribute(s):(_=_.type,o=_===3||_===4&&o===!0?"":""+o,a?i.setAttributeNS(a,s,o):i.setAttribute(s,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A$1=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+i}var Na=!1;function Oa(i,s){if(!i||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(pt){var a=pt}Reflect.construct(i,[],s)}else{try{s.call()}catch(pt){a=pt}i.call(s.prototype)}else{try{throw Error()}catch(pt){a=pt}i()}}catch(pt){if(pt&&a&&typeof pt.stack=="string"){for(var _=pt.stack.split(`
`),$=a.stack.split(`
`),nt=_.length-1,tt=$.length-1;1<=nt&&0<=tt&&_[nt]!==$[tt];)tt--;for(;1<=nt&&0<=tt;nt--,tt--)if(_[nt]!==$[tt]){if(nt!==1||tt!==1)do if(nt--,tt--,0>tt||_[nt]!==$[tt]){var ot=`
`+_[nt].replace(" at new "," at ");return i.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",i.displayName)),ot}while(1<=nt&&0<=tt);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return s=i.displayName||null,s!==null?s:Qa(i.type)||"Memo";case Ha:s=i._payload,i=i._init;try{return Qa(i(s))}catch{}}return null}function Ra(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(i){var s=Ta(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),a=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var _=o.get,$=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return _.call(this)},set:function(nt){a=""+nt,$.call(this,nt)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(nt){a=""+nt},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),a="";return i&&(a=Ta(i)?i.checked?"true":"false":i.value),i=a,i!==o?(s.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,s){var o=s.checked;return A$1({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??i._wrapperState.initialChecked})}function Za(i,s){var o=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;o=Sa(s.value!=null?s.value:o),i._wrapperState={initialChecked:a,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(i,s){s=s.checked,s!=null&&ta(i,"checked",s,!1)}function bb(i,s){ab(i,s);var o=Sa(s.value),a=s.type;if(o!=null)a==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+o):i.value!==""+o&&(i.value=""+o);else if(a==="submit"||a==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?cb(i,s.type,o):s.hasOwnProperty("defaultValue")&&cb(i,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function db(i,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,o||s===i.value||(i.value=s),i.defaultValue=s}o=i.name,o!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,o!==""&&(i.name=o)}function cb(i,s,o){(s!=="number"||Xa(i.ownerDocument)!==i)&&(o==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+o&&(i.defaultValue=""+o))}var eb=Array.isArray;function fb(i,s,o,a){if(i=i.options,s){s={};for(var _=0;_<o.length;_++)s["$"+o[_]]=!0;for(o=0;o<i.length;o++)_=s.hasOwnProperty("$"+i[o].value),i[o].selected!==_&&(i[o].selected=_),_&&a&&(i[o].defaultSelected=!0)}else{for(o=""+Sa(o),s=null,_=0;_<i.length;_++){if(i[_].value===o){i[_].selected=!0,a&&(i[_].defaultSelected=!0);return}s!==null||i[_].disabled||(s=i[_])}s!==null&&(s.selected=!0)}}function gb(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(p$2(92));if(eb(o)){if(1<o.length)throw Error(p$2(93));o=o[0]}s=o}s==null&&(s=""),o=s}i._wrapperState={initialValue:Sa(o)}}function ib(i,s){var o=Sa(s.value),a=Sa(s.defaultValue);o!=null&&(o=""+o,o!==i.value&&(i.value=o),s.defaultValue==null&&i.defaultValue!==o&&(i.defaultValue=o)),a!=null&&(i.defaultValue=""+a)}function jb(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,a,_){MSApp.execUnsafeLocalFunction(function(){return i(s,o,a,_)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ob(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),pb[s]=pb[i]})});function rb(i,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||pb.hasOwnProperty(i)&&pb[i]?(""+s).trim():s+"px"}function sb(i,s){i=i.style;for(var o in s)if(s.hasOwnProperty(o)){var a=o.indexOf("--")===0,_=rb(o,s[o],a);o==="float"&&(o="cssFloat"),a?i.setProperty(o,_):i[o]=_}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,s){if(s){if(tb[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$2(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$2(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$2(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$2(62))}}function vb(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$2(280));var s=i.stateNode;s&&(s=Db(s),yb(i.stateNode,i.type,s))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,s=Ab;if(Ab=zb=null,Bb(i),s)for(i=0;i<s.length;i++)Bb(s[i])}}function Gb(i,s){return i(s)}function Hb(){}var Ib=!1;function Jb(i,s,o){if(Ib)return i(s,o);Ib=!0;try{return Gb(i,s,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,s){var o=i.stateNode;if(o===null)return null;var a=Db(o);if(a===null)return null;o=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(i=i.type,a=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!a;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(p$2(231,s,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,s,o,a,_,$,nt,tt,ot){var pt=Array.prototype.slice.call(arguments,3);try{s.apply(o,pt)}catch(ut){this.onError(ut)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,s,o,a,_,$,nt,tt,ot){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,s,o,a,_,$,nt,tt,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var pt=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=pt)}}function Vb(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function Wb(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$2(188))}function Yb(i){var s=i.alternate;if(!s){if(s=Vb(i),s===null)throw Error(p$2(188));return s!==i?null:i}for(var o=i,a=s;;){var _=o.return;if(_===null)break;var $=_.alternate;if($===null){if(a=_.return,a!==null){o=a;continue}break}if(_.child===$.child){for($=_.child;$;){if($===o)return Xb(_),i;if($===a)return Xb(_),s;$=$.sibling}throw Error(p$2(188))}if(o.return!==a.return)o=_,a=$;else{for(var nt=!1,tt=_.child;tt;){if(tt===o){nt=!0,o=_,a=$;break}if(tt===a){nt=!0,a=_,o=$;break}tt=tt.sibling}if(!nt){for(tt=$.child;tt;){if(tt===o){nt=!0,o=$,a=_;break}if(tt===a){nt=!0,a=$,o=_;break}tt=tt.sibling}if(!nt)throw Error(p$2(189))}}if(o.alternate!==a)throw Error(p$2(190))}if(o.tag!==3)throw Error(p$2(188));return o.stateNode.current===o?i:s}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=$b(i);if(s!==null)return s;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,s){var o=i.pendingLanes;if(o===0)return 0;var a=0,_=i.suspendedLanes,$=i.pingedLanes,nt=o&268435455;if(nt!==0){var tt=nt&~_;tt!==0?a=tc(tt):($&=nt,$!==0&&(a=tc($)))}else nt=o&~_,nt!==0?a=tc(nt):$!==0&&(a=tc($));if(a===0)return 0;if(s!==0&&s!==a&&!(s&_)&&(_=a&-a,$=s&-s,_>=$||_===16&&($&4194240)!==0))return s;if(a&4&&(a|=o&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=a;0<s;)o=31-oc(s),_=1<<o,a|=i[o],s&=~_;return a}function vc(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,s){for(var o=i.suspendedLanes,a=i.pingedLanes,_=i.expirationTimes,$=i.pendingLanes;0<$;){var nt=31-oc($),tt=1<<nt,ot=_[nt];ot===-1?(!(tt&o)||tt&a)&&(_[nt]=vc(tt,s)):ot<=s&&(i.expiredLanes|=tt),$&=~tt}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ac(i,s,o){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-oc(s),i[s]=o}function Bc(i,s){var o=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var a=i.eventTimes;for(i=i.expirationTimes;0<o;){var _=31-oc(o),$=1<<_;s[_]=0,a[_]=-1,i[_]=-1,o&=~$}}function Cc(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var a=31-oc(o),_=1<<a;_&s|i[a]&s&&(i[a]|=s),o&=~_}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,s){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(i,s,o,a,_,$){return i===null||i.nativeEvent!==$?(i={blockedOn:s,domEventName:o,eventSystemFlags:a,nativeEvent:$,targetContainers:[_]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),i):(i.eventSystemFlags|=a,s=i.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),i)}function Uc(i,s,o,a,_){switch(s){case"focusin":return Lc=Tc(Lc,i,s,o,a,_),!0;case"dragenter":return Mc=Tc(Mc,i,s,o,a,_),!0;case"mouseover":return Nc=Tc(Nc,i,s,o,a,_),!0;case"pointerover":var $=_.pointerId;return Oc.set($,Tc(Oc.get($)||null,i,s,o,a,_)),!0;case"gotpointercapture":return $=_.pointerId,Pc.set($,Tc(Pc.get($)||null,i,s,o,a,_)),!0}return!1}function Vc(i){var s=Wc(i.target);if(s!==null){var o=Vb(s);if(o!==null){if(s=o.tag,s===13){if(s=Wb(o),s!==null){i.blockedOn=s,Ic(i.priority,function(){Gc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Yc(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(o===null){o=i.nativeEvent;var a=new o.constructor(o.type,o);wb=a,o.target.dispatchEvent(a),wb=null}else return s=Cb(o),s!==null&&Fc(s),i.blockedOn=o,!1;s.shift()}return!0}function Zc(i,s,o){Xc(i)&&o.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function s(_){return ad(_,i)}if(0<Kc.length){ad(Kc[0],i);for(var o=1;o<Kc.length;o++){var a=Kc[o];a.blockedOn===i&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(s),Pc.forEach(s),o=0;o<Qc.length;o++)a=Qc[o],a.blockedOn===i&&(a.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,s,o,a){var _=C,$=cd.transition;cd.transition=null;try{C=1,fd(i,s,o,a)}finally{C=_,cd.transition=$}}function gd(i,s,o,a){var _=C,$=cd.transition;cd.transition=null;try{C=4,fd(i,s,o,a)}finally{C=_,cd.transition=$}}function fd(i,s,o,a){if(dd){var _=Yc(i,s,o,a);if(_===null)hd(i,s,a,id,o),Sc(i,a);else if(Uc(_,i,s,o,a))a.stopPropagation();else if(Sc(i,a),s&4&&-1<Rc.indexOf(i)){for(;_!==null;){var $=Cb(_);if($!==null&&Ec($),$=Yc(i,s,o,a),$===null&&hd(i,s,a,id,o),$===_)break;_=$}_!==null&&a.stopPropagation()}else hd(i,s,a,null,o)}}var id=null;function Yc(i,s,o,a){if(id=null,i=xb(a),i=Wc(i),i!==null)if(s=Vb(i),s===null)i=null;else if(o=s.tag,o===13){if(i=Wb(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,s=ld,o=s.length,a,_="value"in kd?kd.value:kd.textContent,$=_.length;for(i=0;i<o&&s[i]===_[i];i++);var nt=o-i;for(a=1;a<=nt&&s[o-a]===_[$-a];a++);return md=_.slice(i,1<a?1-a:void 0)}function od(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function s(o,a,_,$,nt){this._reactName=o,this._targetInst=_,this.type=a,this.nativeEvent=$,this.target=nt,this.currentTarget=null;for(var tt in i)i.hasOwnProperty(tt)&&(o=i[tt],this[tt]=o?o($):$[tt]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Od[i])?!!s[i]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(i){if(i.key){var s=Md[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,s){switch(i){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return i=s.data,i===ee&&fe?null:i;default:return null}}function ke(i,s){if(ie)return i==="compositionend"||!ae&&ge(i,s)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!le[i.type]:s==="textarea"}function ne(i,s,o,a){Eb(a),s=oe(s,"onChange"),0<s.length&&(o=new td("onChange","change",null,o,a),i.push({event:o,listeners:s}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var s=ue(i);if(Wa(s))return i}function ve(i,s){if(i==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,i,xb(i)),Jb(re,s)}}function Ce(i,s,o){i==="focusin"?(Ae(),pe=s,qe=o,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,s){if(i==="click")return te(s)}function Fe(i,s){if(i==="input"||i==="change")return te(s)}function Ge(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,s){if(He(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),a=Object.keys(s);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var _=o[a];if(!ja.call(s,_)||!He(i[_],s[_]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,s){var o=Je(i);i=0;for(var a;o;){if(o.nodeType===3){if(a=i+o.textContent.length,i<=s&&a>=s)return{node:o,offset:s-i};i=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je(o)}}function Le(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Le(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var i=window,s=Xa();s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Xa(i.document)}return s}function Ne(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Oe(i){var s=Me(),o=i.focusedElem,a=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(a!==null&&Ne(o)){if(s=a.start,i=a.end,i===void 0&&(i=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(i,o.value.length);else if(i=(s=o.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var _=o.textContent.length,$=Math.min(a.start,_);a=a.end===void 0?$:Math.min(a.end,_),!i.extend&&$>a&&(_=a,a=$,$=_),_=Ke(o,$);var nt=Ke(o,a);_&&nt&&(i.rangeCount!==1||i.anchorNode!==_.node||i.anchorOffset!==_.offset||i.focusNode!==nt.node||i.focusOffset!==nt.offset)&&(s=s.createRange(),s.setStart(_.node,_.offset),i.removeAllRanges(),$>a?(i.addRange(s),i.extend(nt.node,nt.offset)):(s.setEnd(nt.node,nt.offset),i.addRange(s)))}}for(s=[],i=o;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)i=s[o],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,s,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,o),i.push({event:s,listeners:a}),s.target=Qe)))}function Ve(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var s=We[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ye)return Xe[i]=s[o];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,s){df.set(i,s),fa(s,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,s,o){var a=i.type||"unknown-event";i.currentTarget=o,Ub(a,s,void 0,i),i.currentTarget=null}function se(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var a=i[o],_=a.event;a=a.listeners;e:{var $=void 0;if(s)for(var nt=a.length-1;0<=nt;nt--){var tt=a[nt],ot=tt.instance,pt=tt.currentTarget;if(tt=tt.listener,ot!==$&&_.isPropagationStopped())break e;nf(_,tt,pt),$=ot}else for(nt=0;nt<a.length;nt++){if(tt=a[nt],ot=tt.instance,pt=tt.currentTarget,tt=tt.listener,ot!==$&&_.isPropagationStopped())break e;nf(_,tt,pt),$=ot}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,s){var o=s[of];o===void 0&&(o=s[of]=new Set);var a=i+"__bubble";o.has(a)||(pf(s,i,2,!1),o.add(a))}function qf(i,s,o){var a=0;s&&(a|=4),pf(o,i,a,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,i),qf(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(i,s,o,a){switch(jd(s)){case 1:var _=ed;break;case 4:_=gd;break;default:_=fd}o=_.bind(null,s,o,i),_=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),a?_!==void 0?i.addEventListener(s,o,{capture:!0,passive:_}):i.addEventListener(s,o,!0):_!==void 0?i.addEventListener(s,o,{passive:_}):i.addEventListener(s,o,!1)}function hd(i,s,o,a,_){var $=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var nt=a.tag;if(nt===3||nt===4){var tt=a.stateNode.containerInfo;if(tt===_||tt.nodeType===8&&tt.parentNode===_)break;if(nt===4)for(nt=a.return;nt!==null;){var ot=nt.tag;if((ot===3||ot===4)&&(ot=nt.stateNode.containerInfo,ot===_||ot.nodeType===8&&ot.parentNode===_))return;nt=nt.return}for(;tt!==null;){if(nt=Wc(tt),nt===null)return;if(ot=nt.tag,ot===5||ot===6){a=$=nt;continue e}tt=tt.parentNode}}a=a.return}Jb(function(){var pt=$,ut=xb(o),mt=[];e:{var vt=df.get(i);if(vt!==void 0){var ht=td,gt=i;switch(i){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":ht=Rd;break;case"focusin":gt="focus",ht=Fd;break;case"focusout":gt="blur",ht=Fd;break;case"beforeblur":case"afterblur":ht=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Vd;break;case $e:case af:case bf:ht=Hd;break;case cf:ht=Xd;break;case"scroll":ht=vd;break;case"wheel":ht=Zd;break;case"copy":case"cut":case"paste":ht=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Td}var rt=(s&4)!==0,j=!rt&&i==="scroll",_e=rt?vt!==null?vt+"Capture":null:vt;rt=[];for(var it=pt,st;it!==null;){st=it;var lt=st.stateNode;if(st.tag===5&&lt!==null&&(st=lt,_e!==null&&(lt=Kb(it,_e),lt!=null&&rt.push(tf(it,lt,st)))),j)break;it=it.return}0<rt.length&&(vt=new ht(vt,gt,null,o,ut),mt.push({event:vt,listeners:rt}))}}if(!(s&7)){e:{if(vt=i==="mouseover"||i==="pointerover",ht=i==="mouseout"||i==="pointerout",vt&&o!==wb&&(gt=o.relatedTarget||o.fromElement)&&(Wc(gt)||gt[uf]))break e;if((ht||vt)&&(vt=ut.window===ut?ut:(vt=ut.ownerDocument)?vt.defaultView||vt.parentWindow:window,ht?(gt=o.relatedTarget||o.toElement,ht=pt,gt=gt?Wc(gt):null,gt!==null&&(j=Vb(gt),gt!==j||gt.tag!==5&&gt.tag!==6)&&(gt=null)):(ht=null,gt=pt),ht!==gt)){if(rt=Bd,lt="onMouseLeave",_e="onMouseEnter",it="mouse",(i==="pointerout"||i==="pointerover")&&(rt=Td,lt="onPointerLeave",_e="onPointerEnter",it="pointer"),j=ht==null?vt:ue(ht),st=gt==null?vt:ue(gt),vt=new rt(lt,it+"leave",ht,o,ut),vt.target=j,vt.relatedTarget=st,lt=null,Wc(ut)===pt&&(rt=new rt(_e,it+"enter",gt,o,ut),rt.target=st,rt.relatedTarget=j,lt=rt),j=lt,ht&&gt)t:{for(rt=ht,_e=gt,it=0,st=rt;st;st=vf(st))it++;for(st=0,lt=_e;lt;lt=vf(lt))st++;for(;0<it-st;)rt=vf(rt),it--;for(;0<st-it;)_e=vf(_e),st--;for(;it--;){if(rt===_e||_e!==null&&rt===_e.alternate)break t;rt=vf(rt),_e=vf(_e)}rt=null}else rt=null;ht!==null&&wf(mt,vt,ht,rt,!1),gt!==null&&j!==null&&wf(mt,j,gt,rt,!0)}}e:{if(vt=pt?ue(pt):window,ht=vt.nodeName&&vt.nodeName.toLowerCase(),ht==="select"||ht==="input"&&vt.type==="file")var et=ve;else if(me(vt))if(we)et=Fe;else{et=De;var at=Ce}else(ht=vt.nodeName)&&ht.toLowerCase()==="input"&&(vt.type==="checkbox"||vt.type==="radio")&&(et=Ee);if(et&&(et=et(i,pt))){ne(mt,et,o,ut);break e}at&&at(i,vt,pt),i==="focusout"&&(at=vt._wrapperState)&&at.controlled&&vt.type==="number"&&cb(vt,"number",vt.value)}switch(at=pt?ue(pt):window,i){case"focusin":(me(at)||at.contentEditable==="true")&&(Qe=at,Re=pt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(mt,o,ut);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(mt,o,ut)}var ft;if(ae)e:{switch(i){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else ie?ge(i,o)&&(ct="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ct="onCompositionStart");ct&&(de&&o.locale!=="ko"&&(ie||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&ie&&(ft=nd()):(kd=ut,ld="value"in kd?kd.value:kd.textContent,ie=!0)),at=oe(pt,ct),0<at.length&&(ct=new Ld(ct,i,null,o,ut),mt.push({event:ct,listeners:at}),ft?ct.data=ft:(ft=he(o),ft!==null&&(ct.data=ft)))),(ft=ce?je(i,o):ke(i,o))&&(pt=oe(pt,"onBeforeInput"),0<pt.length&&(ut=new Ld("onBeforeInput","beforeinput",null,o,ut),mt.push({event:ut,listeners:pt}),ut.data=ft))}se(mt,s)})}function tf(i,s,o){return{instance:i,listener:s,currentTarget:o}}function oe(i,s){for(var o=s+"Capture",a=[];i!==null;){var _=i,$=_.stateNode;_.tag===5&&$!==null&&(_=$,$=Kb(i,o),$!=null&&a.unshift(tf(i,$,_)),$=Kb(i,s),$!=null&&a.push(tf(i,$,_))),i=i.return}return a}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,s,o,a,_){for(var $=s._reactName,nt=[];o!==null&&o!==a;){var tt=o,ot=tt.alternate,pt=tt.stateNode;if(ot!==null&&ot===a)break;tt.tag===5&&pt!==null&&(tt=pt,_?(ot=Kb(o,$),ot!=null&&nt.unshift(tf(o,ot,tt))):_||(ot=Kb(o,$),ot!=null&&nt.push(tf(o,ot,tt)))),o=o.return}nt.length!==0&&i.push({event:s,listeners:nt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,s,o){if(s=zf(s),zf(i)!==s&&o)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,s){var o=s,a=0;do{var _=o.nextSibling;if(i.removeChild(o),_&&_.nodeType===8)if(o=_.data,o==="/$"){if(a===0){i.removeChild(_),bd(s);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=_}while(o);bd(s)}function Lf(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var s=i[Of];if(s)return s;for(var o=i.parentNode;o;){if(s=o[uf]||o[Of]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Mf(i);i!==null;){if(o=i[Of])return o;i=Mf(i)}return s}i=o,o=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$2(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,s){Tf++,Sf[Tf]=i.current,i.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,s){var o=i.type.contextTypes;if(!o)return Vf;var a=i.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var _={},$;for($ in o)_[$]=s[$];return a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=_),_}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,s,o){if(H.current!==Vf)throw Error(p$2(168));G(H,s),G(Wf,o)}function bg(i,s,o){var a=i.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var _ in a)if(!(_ in s))throw Error(p$2(108,Ra(i)||"Unknown",_));return A$1({},o,a)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,s,o){var a=i.stateNode;if(!a)throw Error(p$2(169));o?(i=bg(i,s,Xf),a.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,s=C;try{var o=eg;for(C=1;i<o.length;i++){var a=o[i];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(_){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),_}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,s){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=s}function ug(i,s,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var a=rg;i=sg;var _=32-oc(a)-1;a&=~(1<<_),o+=1;var $=32-oc(s)+_;if(30<$){var nt=_-_%5;$=(a&(1<<nt)-1).toString(32),a>>=nt,_-=nt,rg=1<<32-oc(s)+_|o<<_|a,sg=$+i}else rg=1<<$|o<<_|a,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,s){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=i,s=i.deletions,s===null?(i.deletions=[o],i.flags|=16):s.push(o)}function Cg(i,s){switch(i.tag){case 5:var o=i.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xg=i,yg=Lf(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xg=i,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=s,o.return=i,i.child=o,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var s=yg;if(s){var o=s;if(!Cg(i,s)){if(Dg(i))throw Error(p$2(418));s=Lf(o.nextSibling);var a=xg;s&&Cg(i,s)?Ag(a,o):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$2(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ef(i.type,i.memoizedProps)),s&&(s=yg)){if(Dg(i))throw Hg(),Error(p$2(418));for(;s;)Ag(i,s),s=Lf(s.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$2(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"){if(s===0){yg=Lf(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,s,o){if(i=o.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p$2(309));var a=o.stateNode}if(!a)throw Error(p$2(147,i));var _=a,$=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===$?s.ref:(s=function(nt){var tt=_.refs;nt===null?delete tt[$]:tt[$]=nt},s._stringRef=$,s)}if(typeof i!="string")throw Error(p$2(284));if(!o._owner)throw Error(p$2(290,i))}return i}function Mg(i,s){throw i=Object.prototype.toString.call(s),Error(p$2(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Ng(i){var s=i._init;return s(i._payload)}function Og(i){function s(_e,it){if(i){var st=_e.deletions;st===null?(_e.deletions=[it],_e.flags|=16):st.push(it)}}function o(_e,it){if(!i)return null;for(;it!==null;)s(_e,it),it=it.sibling;return null}function a(_e,it){for(_e=new Map;it!==null;)it.key!==null?_e.set(it.key,it):_e.set(it.index,it),it=it.sibling;return _e}function _(_e,it){return _e=Pg(_e,it),_e.index=0,_e.sibling=null,_e}function $(_e,it,st){return _e.index=st,i?(st=_e.alternate,st!==null?(st=st.index,st<it?(_e.flags|=2,it):st):(_e.flags|=2,it)):(_e.flags|=1048576,it)}function nt(_e){return i&&_e.alternate===null&&(_e.flags|=2),_e}function tt(_e,it,st,lt){return it===null||it.tag!==6?(it=Qg(st,_e.mode,lt),it.return=_e,it):(it=_(it,st),it.return=_e,it)}function ot(_e,it,st,lt){var et=st.type;return et===ya?ut(_e,it,st.props.children,lt,st.key):it!==null&&(it.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===Ha&&Ng(et)===it.type)?(lt=_(it,st.props),lt.ref=Lg(_e,it,st),lt.return=_e,lt):(lt=Rg(st.type,st.key,st.props,null,_e.mode,lt),lt.ref=Lg(_e,it,st),lt.return=_e,lt)}function pt(_e,it,st,lt){return it===null||it.tag!==4||it.stateNode.containerInfo!==st.containerInfo||it.stateNode.implementation!==st.implementation?(it=Sg(st,_e.mode,lt),it.return=_e,it):(it=_(it,st.children||[]),it.return=_e,it)}function ut(_e,it,st,lt,et){return it===null||it.tag!==7?(it=Tg(st,_e.mode,lt,et),it.return=_e,it):(it=_(it,st),it.return=_e,it)}function mt(_e,it,st){if(typeof it=="string"&&it!==""||typeof it=="number")return it=Qg(""+it,_e.mode,st),it.return=_e,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return st=Rg(it.type,it.key,it.props,null,_e.mode,st),st.ref=Lg(_e,null,it),st.return=_e,st;case wa:return it=Sg(it,_e.mode,st),it.return=_e,it;case Ha:var lt=it._init;return mt(_e,lt(it._payload),st)}if(eb(it)||Ka(it))return it=Tg(it,_e.mode,st,null),it.return=_e,it;Mg(_e,it)}return null}function vt(_e,it,st,lt){var et=it!==null?it.key:null;if(typeof st=="string"&&st!==""||typeof st=="number")return et!==null?null:tt(_e,it,""+st,lt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case va:return st.key===et?ot(_e,it,st,lt):null;case wa:return st.key===et?pt(_e,it,st,lt):null;case Ha:return et=st._init,vt(_e,it,et(st._payload),lt)}if(eb(st)||Ka(st))return et!==null?null:ut(_e,it,st,lt,null);Mg(_e,st)}return null}function ht(_e,it,st,lt,et){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return _e=_e.get(st)||null,tt(it,_e,""+lt,et);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case va:return _e=_e.get(lt.key===null?st:lt.key)||null,ot(it,_e,lt,et);case wa:return _e=_e.get(lt.key===null?st:lt.key)||null,pt(it,_e,lt,et);case Ha:var at=lt._init;return ht(_e,it,st,at(lt._payload),et)}if(eb(lt)||Ka(lt))return _e=_e.get(st)||null,ut(it,_e,lt,et,null);Mg(it,lt)}return null}function gt(_e,it,st,lt){for(var et=null,at=null,ft=it,ct=it=0,xt=null;ft!==null&&ct<st.length;ct++){ft.index>ct?(xt=ft,ft=null):xt=ft.sibling;var dt=vt(_e,ft,st[ct],lt);if(dt===null){ft===null&&(ft=xt);break}i&&ft&&dt.alternate===null&&s(_e,ft),it=$(dt,it,ct),at===null?et=dt:at.sibling=dt,at=dt,ft=xt}if(ct===st.length)return o(_e,ft),I&&tg(_e,ct),et;if(ft===null){for(;ct<st.length;ct++)ft=mt(_e,st[ct],lt),ft!==null&&(it=$(ft,it,ct),at===null?et=ft:at.sibling=ft,at=ft);return I&&tg(_e,ct),et}for(ft=a(_e,ft);ct<st.length;ct++)xt=ht(ft,_e,ct,st[ct],lt),xt!==null&&(i&&xt.alternate!==null&&ft.delete(xt.key===null?ct:xt.key),it=$(xt,it,ct),at===null?et=xt:at.sibling=xt,at=xt);return i&&ft.forEach(function(_t){return s(_e,_t)}),I&&tg(_e,ct),et}function rt(_e,it,st,lt){var et=Ka(st);if(typeof et!="function")throw Error(p$2(150));if(st=et.call(st),st==null)throw Error(p$2(151));for(var at=et=null,ft=it,ct=it=0,xt=null,dt=st.next();ft!==null&&!dt.done;ct++,dt=st.next()){ft.index>ct?(xt=ft,ft=null):xt=ft.sibling;var _t=vt(_e,ft,dt.value,lt);if(_t===null){ft===null&&(ft=xt);break}i&&ft&&_t.alternate===null&&s(_e,ft),it=$(_t,it,ct),at===null?et=_t:at.sibling=_t,at=_t,ft=xt}if(dt.done)return o(_e,ft),I&&tg(_e,ct),et;if(ft===null){for(;!dt.done;ct++,dt=st.next())dt=mt(_e,dt.value,lt),dt!==null&&(it=$(dt,it,ct),at===null?et=dt:at.sibling=dt,at=dt);return I&&tg(_e,ct),et}for(ft=a(_e,ft);!dt.done;ct++,dt=st.next())dt=ht(ft,_e,ct,dt.value,lt),dt!==null&&(i&&dt.alternate!==null&&ft.delete(dt.key===null?ct:dt.key),it=$(dt,it,ct),at===null?et=dt:at.sibling=dt,at=dt);return i&&ft.forEach(function(Ct){return s(_e,Ct)}),I&&tg(_e,ct),et}function j(_e,it,st,lt){if(typeof st=="object"&&st!==null&&st.type===ya&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case va:e:{for(var et=st.key,at=it;at!==null;){if(at.key===et){if(et=st.type,et===ya){if(at.tag===7){o(_e,at.sibling),it=_(at,st.props.children),it.return=_e,_e=it;break e}}else if(at.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===Ha&&Ng(et)===at.type){o(_e,at.sibling),it=_(at,st.props),it.ref=Lg(_e,at,st),it.return=_e,_e=it;break e}o(_e,at);break}else s(_e,at);at=at.sibling}st.type===ya?(it=Tg(st.props.children,_e.mode,lt,st.key),it.return=_e,_e=it):(lt=Rg(st.type,st.key,st.props,null,_e.mode,lt),lt.ref=Lg(_e,it,st),lt.return=_e,_e=lt)}return nt(_e);case wa:e:{for(at=st.key;it!==null;){if(it.key===at)if(it.tag===4&&it.stateNode.containerInfo===st.containerInfo&&it.stateNode.implementation===st.implementation){o(_e,it.sibling),it=_(it,st.children||[]),it.return=_e,_e=it;break e}else{o(_e,it);break}else s(_e,it);it=it.sibling}it=Sg(st,_e.mode,lt),it.return=_e,_e=it}return nt(_e);case Ha:return at=st._init,j(_e,it,at(st._payload),lt)}if(eb(st))return gt(_e,it,st,lt);if(Ka(st))return rt(_e,it,st,lt);Mg(_e,st)}return typeof st=="string"&&st!==""||typeof st=="number"?(st=""+st,it!==null&&it.tag===6?(o(_e,it.sibling),it=_(it,st),it.return=_e,_e=it):(o(_e,it),it=Qg(st,_e.mode,lt),it.return=_e,_e=it),nt(_e)):o(_e,it)}return j}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var s=Wg.current;E(Wg),i._currentValue=s}function bh(i,s,o){for(;i!==null;){var a=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),i===o)break;i=i.return}}function ch(i,s){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(dh=!0),i.firstContext=null)}function eh(i){var s=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return s}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,s,o,a){var _=s.interleaved;return _===null?(o.next=o,gh(s)):(o.next=_.next,_.next=o),s.interleaved=o,ih(i,a)}function ih(i,s){i.lanes|=s;var o=i.alternate;for(o!==null&&(o.lanes|=s),o=i,i=i.return;i!==null;)i.childLanes|=s,o=i.alternate,o!==null&&(o.childLanes|=s),o=i,i=i.return;return o.tag===3?o.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(i,s,o){var a=i.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var _=a.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),a.pending=s,ih(i,o)}return _=a.interleaved,_===null?(s.next=s,gh(a)):(s.next=_.next,_.next=s),a.interleaved=s,ih(i,o)}function oh(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}function ph(i,s){var o=i.updateQueue,a=i.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var _=null,$=null;if(o=o.firstBaseUpdate,o!==null){do{var nt={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};$===null?_=$=nt:$=$.next=nt,o=o.next}while(o!==null);$===null?_=$=s:$=$.next=s}else _=$=s;o={baseState:a.baseState,firstBaseUpdate:_,lastBaseUpdate:$,shared:a.shared,effects:a.effects},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}function qh(i,s,o,a){var _=i.updateQueue;jh=!1;var $=_.firstBaseUpdate,nt=_.lastBaseUpdate,tt=_.shared.pending;if(tt!==null){_.shared.pending=null;var ot=tt,pt=ot.next;ot.next=null,nt===null?$=pt:nt.next=pt,nt=ot;var ut=i.alternate;ut!==null&&(ut=ut.updateQueue,tt=ut.lastBaseUpdate,tt!==nt&&(tt===null?ut.firstBaseUpdate=pt:tt.next=pt,ut.lastBaseUpdate=ot))}if($!==null){var mt=_.baseState;nt=0,ut=pt=ot=null,tt=$;do{var vt=tt.lane,ht=tt.eventTime;if((a&vt)===vt){ut!==null&&(ut=ut.next={eventTime:ht,lane:0,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null});e:{var gt=i,rt=tt;switch(vt=s,ht=o,rt.tag){case 1:if(gt=rt.payload,typeof gt=="function"){mt=gt.call(ht,mt,vt);break e}mt=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=rt.payload,vt=typeof gt=="function"?gt.call(ht,mt,vt):gt,vt==null)break e;mt=A$1({},mt,vt);break e;case 2:jh=!0}}tt.callback!==null&&tt.lane!==0&&(i.flags|=64,vt=_.effects,vt===null?_.effects=[tt]:vt.push(tt))}else ht={eventTime:ht,lane:vt,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},ut===null?(pt=ut=ht,ot=mt):ut=ut.next=ht,nt|=vt;if(tt=tt.next,tt===null){if(tt=_.shared.pending,tt===null)break;vt=tt,tt=vt.next,vt.next=null,_.lastBaseUpdate=vt,_.shared.pending=null}}while(!0);if(ut===null&&(ot=mt),_.baseState=ot,_.firstBaseUpdate=pt,_.lastBaseUpdate=ut,s=_.shared.interleaved,s!==null){_=s;do nt|=_.lane,_=_.next;while(_!==s)}else $===null&&(_.shared.lanes=0);rh|=nt,i.lanes=nt,i.memoizedState=mt}}function sh(i,s,o){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var a=i[s],_=a.callback;if(_!==null){if(a.callback=null,a=o,typeof _!="function")throw Error(p$2(191,_));_.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p$2(174));return i}function yh(i,s){switch(G(wh,s),G(vh,i),G(uh,th),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=lb(s,i)}E(uh),G(uh,s)}function zh(){E(uh),E(vh),E(wh)}function Ah(i){xh(wh.current);var s=xh(uh.current),o=lb(s,i.type);s!==o&&(G(vh,i),G(uh,o))}function Bh(i){vh.current===i&&(E(uh),E(vh))}var L=Uf(0);function Ch(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$2(321))}function Mh(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!He(i[o],s[o]))return!1;return!0}function Nh(i,s,o,a,_,$){if(Hh=$,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=o(a,_),Jh){$=0;do{if(Jh=!1,Kh=0,25<=$)throw Error(p$2(301));$+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,i=o(a,_)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p$2(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=i;else{if(i===null)throw Error(p$2(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,s){return typeof s=="function"?s(i):s}function Wh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p$2(311));o.lastRenderedReducer=i;var a=N,_=a.baseQueue,$=o.pending;if($!==null){if(_!==null){var nt=_.next;_.next=$.next,$.next=nt}a.baseQueue=_=$,o.pending=null}if(_!==null){$=_.next,a=a.baseState;var tt=nt=null,ot=null,pt=$;do{var ut=pt.lane;if((Hh&ut)===ut)ot!==null&&(ot=ot.next={lane:0,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),a=pt.hasEagerState?pt.eagerState:i(a,pt.action);else{var mt={lane:ut,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null};ot===null?(tt=ot=mt,nt=a):ot=ot.next=mt,M.lanes|=ut,rh|=ut}pt=pt.next}while(pt!==null&&pt!==$);ot===null?nt=a:ot.next=tt,He(a,s.memoizedState)||(dh=!0),s.memoizedState=a,s.baseState=nt,s.baseQueue=ot,o.lastRenderedState=a}if(i=o.interleaved,i!==null){_=i;do $=_.lane,M.lanes|=$,rh|=$,_=_.next;while(_!==i)}else _===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Xh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p$2(311));o.lastRenderedReducer=i;var a=o.dispatch,_=o.pending,$=s.memoizedState;if(_!==null){o.pending=null;var nt=_=_.next;do $=i($,nt.action),nt=nt.next;while(nt!==_);He($,s.memoizedState)||(dh=!0),s.memoizedState=$,s.baseQueue===null&&(s.baseState=$),o.lastRenderedState=$}return[$,a]}function Yh(){}function Zh(i,s){var o=M,a=Uh(),_=s(),$=!He(a.memoizedState,_);if($&&(a.memoizedState=_,dh=!0),a=a.queue,$h(ai.bind(null,o,a,i),[i]),a.getSnapshot!==s||$||O!==null&&O.memoizedState.tag&1){if(o.flags|=2048,bi(9,ci.bind(null,o,a,_,s),void 0,null),Q===null)throw Error(p$2(349));Hh&30||di(o,s,_)}return _}function di(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function ci(i,s,o,a){s.value=o,s.getSnapshot=a,ei(s)&&fi(i)}function ai(i,s,o){return o(function(){ei(s)&&fi(i)})}function ei(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!He(i,o)}catch{return!0}}function fi(i){var s=ih(i,1);s!==null&&gi(s,i,1,-1)}function hi(i){var s=Th();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},s.queue=i,i=i.dispatch=ii.bind(null,M,i),[s.memoizedState,i]}function bi(i,s,o,a){return i={tag:i,create:s,destroy:o,deps:a,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=i.next=i):(o=s.lastEffect,o===null?s.lastEffect=i.next=i:(a=o.next,o.next=i,i.next=a,s.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,s,o,a){var _=Th();M.flags|=i,_.memoizedState=bi(1|s,o,void 0,a===void 0?null:a)}function li(i,s,o,a){var _=Uh();a=a===void 0?null:a;var $=void 0;if(N!==null){var nt=N.memoizedState;if($=nt.destroy,a!==null&&Mh(a,nt.deps)){_.memoizedState=bi(s,o,$,a);return}}M.flags|=i,_.memoizedState=bi(1|s,o,$,a)}function mi(i,s){return ki(8390656,8,i,s)}function $h(i,s){return li(2048,8,i,s)}function ni(i,s){return li(4,2,i,s)}function oi(i,s){return li(4,4,i,s)}function pi(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function qi(i,s,o){return o=o!=null?o.concat([i]):null,li(4,4,pi.bind(null,s,i),o)}function ri(){}function si(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(o.memoizedState=[i,s],i)}function ti(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(i=i(),o.memoizedState=[i,s],i)}function ui(i,s,o){return Hh&21?(He(o,s)||(o=yc(),M.lanes|=o,rh|=o,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=o)}function vi(i,s){var o=C;C=o!==0&&4>o?o:4,i(!0);var a=Gh.transition;Gh.transition={};try{i(!1),s()}finally{C=o,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(i,s,o){var a=yi(i);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(s,o);else if(o=hh(i,s,o,a),o!==null){var _=R();gi(o,i,a,_),Bi(o,s,a)}}function ii(i,s,o){var a=yi(i),_={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(s,_);else{var $=i.alternate;if(i.lanes===0&&($===null||$.lanes===0)&&($=s.lastRenderedReducer,$!==null))try{var nt=s.lastRenderedState,tt=$(nt,o);if(_.hasEagerState=!0,_.eagerState=tt,He(tt,nt)){var ot=s.interleaved;ot===null?(_.next=_,gh(s)):(_.next=ot.next,ot.next=_),s.interleaved=_;return}}catch{}finally{}o=hh(i,s,_,a),o!==null&&(_=R(),gi(o,i,a,_),Bi(o,s,a))}}function zi(i){var s=i.alternate;return i===M||s!==null&&s===M}function Ai(i,s){Jh=Ih=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Bi(i,s,o){if(o&4194240){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,s){return Th().memoizedState=[i,s===void 0?null:s],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,s,o){return o=o!=null?o.concat([i]):null,ki(4194308,4,pi.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ki(4194308,4,i,s)},useInsertionEffect:function(i,s){return ki(4,2,i,s)},useMemo:function(i,s){var o=Th();return s=s===void 0?null:s,i=i(),o.memoizedState=[i,s],i},useReducer:function(i,s,o){var a=Th();return s=o!==void 0?o(s):s,a.memoizedState=a.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},a.queue=i,i=i.dispatch=xi.bind(null,M,i),[a.memoizedState,i]},useRef:function(i){var s=Th();return i={current:i},s.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),s=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,o){var a=M,_=Th();if(I){if(o===void 0)throw Error(p$2(407));o=o()}else{if(o=s(),Q===null)throw Error(p$2(349));Hh&30||di(a,s,o)}_.memoizedState=o;var $={value:o,getSnapshot:s};return _.queue=$,mi(ai.bind(null,a,$,i),[i]),a.flags|=2048,bi(9,ci.bind(null,a,$,o,s),void 0,null),o},useId:function(){var i=Th(),s=Q.identifierPrefix;if(I){var o=sg,a=rg;o=(a&~(1<<32-oc(a)-1)).toString(32)+o,s=":"+s+"R"+o,o=Kh++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Lh++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return ui(s,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return N===null?s.memoizedState=i:ui(s,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,s){if(i&&i.defaultProps){s=A$1({},s),i=i.defaultProps;for(var o in i)s[o]===void 0&&(s[o]=i[o]);return s}return s}function Di(i,s,o,a){s=i.memoizedState,o=o(a,s),o=o==null?s:A$1({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var a=R(),_=yi(i),$=mh(a,_);$.payload=s,o!=null&&($.callback=o),s=nh(i,$,_),s!==null&&(gi(s,i,_,a),oh(s,i,_))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var a=R(),_=yi(i),$=mh(a,_);$.tag=1,$.payload=s,o!=null&&($.callback=o),s=nh(i,$,_),s!==null&&(gi(s,i,_,a),oh(s,i,_))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=R(),a=yi(i),_=mh(o,a);_.tag=2,s!=null&&(_.callback=s),s=nh(i,_,a),s!==null&&(gi(s,i,a,o),oh(s,i,a))}};function Fi(i,s,o,a,_,$,nt){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(a,$,nt):s.prototype&&s.prototype.isPureReactComponent?!Ie(o,a)||!Ie(_,$):!0}function Gi(i,s,o){var a=!1,_=Vf,$=s.contextType;return typeof $=="object"&&$!==null?$=eh($):(_=Zf(s)?Xf:H.current,a=s.contextTypes,$=(a=a!=null)?Yf(i,_):Vf),s=new s(o,$),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,i.stateNode=s,s._reactInternals=i,a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=_,i.__reactInternalMemoizedMaskedChildContext=$),s}function Hi(i,s,o,a){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,a),s.state!==i&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(i,s,o,a){var _=i.stateNode;_.props=o,_.state=i.memoizedState,_.refs={},kh(i);var $=s.contextType;typeof $=="object"&&$!==null?_.context=eh($):($=Zf(s)?Xf:H.current,_.context=Yf(i,$)),_.state=i.memoizedState,$=s.getDerivedStateFromProps,typeof $=="function"&&(Di(i,s,$,o),_.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(s=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),s!==_.state&&Ei.enqueueReplaceState(_,_.state,null),qh(i,o,_,a),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,s){try{var o="",a=s;do o+=Pa(a),a=a.return;while(a);var _=o}catch($){_=`
Error generating stack: `+$.message+`
`+$.stack}return{value:i,source:s,stack:_,digest:null}}function Ki(i,s,o){return{value:i,source:null,stack:o??null,digest:s??null}}function Li(i,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,s,o){o=mh(-1,o),o.tag=3,o.payload={element:null};var a=s.value;return o.callback=function(){Oi||(Oi=!0,Pi=a),Li(i,s)},o}function Qi(i,s,o){o=mh(-1,o),o.tag=3;var a=i.type.getDerivedStateFromError;if(typeof a=="function"){var _=s.value;o.payload=function(){return a(_)},o.callback=function(){Li(i,s)}}var $=i.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(o.callback=function(){Li(i,s),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var nt=s.stack;this.componentDidCatch(s.value,{componentStack:nt!==null?nt:""})}),o}function Si(i,s,o){var a=i.pingCache;if(a===null){a=i.pingCache=new Mi;var _=new Set;a.set(s,_)}else _=a.get(s),_===void 0&&(_=new Set,a.set(s,_));_.has(o)||(_.add(o),i=Ti.bind(null,i,s,o),s.then(i,i))}function Ui(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Vi(i,s,o,a,_){return i.mode&1?(i.flags|=65536,i.lanes=_,i):(i===s?i.flags|=65536:(i.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=mh(-1,1),s.tag=2,nh(o,s,1))),o.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,s,o,a){s.child=i===null?Vg(s,null,o,a):Ug(s,i.child,o,a)}function Yi(i,s,o,a,_){o=o.render;var $=s.ref;return ch(s,_),a=Nh(i,s,o,a,$,_),o=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,Zi(i,s,_)):(I&&o&&vg(s),s.flags|=1,Xi(i,s,a,_),s.child)}function $i(i,s,o,a,_){if(i===null){var $=o.type;return typeof $=="function"&&!aj($)&&$.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=$,bj(i,s,$,a,_)):(i=Rg(o.type,null,a,s,s.mode,_),i.ref=s.ref,i.return=s,s.child=i)}if($=i.child,!(i.lanes&_)){var nt=$.memoizedProps;if(o=o.compare,o=o!==null?o:Ie,o(nt,a)&&i.ref===s.ref)return Zi(i,s,_)}return s.flags|=1,i=Pg($,a),i.ref=s.ref,i.return=s,s.child=i}function bj(i,s,o,a,_){if(i!==null){var $=i.memoizedProps;if(Ie($,a)&&i.ref===s.ref)if(dh=!1,s.pendingProps=a=$,(i.lanes&_)!==0)i.flags&131072&&(dh=!0);else return s.lanes=i.lanes,Zi(i,s,_)}return cj(i,s,o,a,_)}function dj(i,s,o){var a=s.pendingProps,_=a.children,$=i!==null?i.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=o;else{if(!(o&1073741824))return i=$!==null?$.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=$!==null?$.baseLanes:o,G(ej,fj),fj|=a}else $!==null?(a=$.baseLanes|o,s.memoizedState=null):a=o,G(ej,fj),fj|=a;return Xi(i,s,_,o),s.child}function gj(i,s){var o=s.ref;(i===null&&o!==null||i!==null&&i.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function cj(i,s,o,a,_){var $=Zf(o)?Xf:H.current;return $=Yf(s,$),ch(s,_),o=Nh(i,s,o,a,$,_),a=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,Zi(i,s,_)):(I&&a&&vg(s),s.flags|=1,Xi(i,s,o,_),s.child)}function hj(i,s,o,a,_){if(Zf(o)){var $=!0;cg(s)}else $=!1;if(ch(s,_),s.stateNode===null)ij(i,s),Gi(s,o,a),Ii(s,o,a,_),a=!0;else if(i===null){var nt=s.stateNode,tt=s.memoizedProps;nt.props=tt;var ot=nt.context,pt=o.contextType;typeof pt=="object"&&pt!==null?pt=eh(pt):(pt=Zf(o)?Xf:H.current,pt=Yf(s,pt));var ut=o.getDerivedStateFromProps,mt=typeof ut=="function"||typeof nt.getSnapshotBeforeUpdate=="function";mt||typeof nt.UNSAFE_componentWillReceiveProps!="function"&&typeof nt.componentWillReceiveProps!="function"||(tt!==a||ot!==pt)&&Hi(s,nt,a,pt),jh=!1;var vt=s.memoizedState;nt.state=vt,qh(s,a,nt,_),ot=s.memoizedState,tt!==a||vt!==ot||Wf.current||jh?(typeof ut=="function"&&(Di(s,o,ut,a),ot=s.memoizedState),(tt=jh||Fi(s,o,tt,a,vt,ot,pt))?(mt||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount()),typeof nt.componentDidMount=="function"&&(s.flags|=4194308)):(typeof nt.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=ot),nt.props=a,nt.state=ot,nt.context=pt,a=tt):(typeof nt.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{nt=s.stateNode,lh(i,s),tt=s.memoizedProps,pt=s.type===s.elementType?tt:Ci(s.type,tt),nt.props=pt,mt=s.pendingProps,vt=nt.context,ot=o.contextType,typeof ot=="object"&&ot!==null?ot=eh(ot):(ot=Zf(o)?Xf:H.current,ot=Yf(s,ot));var ht=o.getDerivedStateFromProps;(ut=typeof ht=="function"||typeof nt.getSnapshotBeforeUpdate=="function")||typeof nt.UNSAFE_componentWillReceiveProps!="function"&&typeof nt.componentWillReceiveProps!="function"||(tt!==mt||vt!==ot)&&Hi(s,nt,a,ot),jh=!1,vt=s.memoizedState,nt.state=vt,qh(s,a,nt,_);var gt=s.memoizedState;tt!==mt||vt!==gt||Wf.current||jh?(typeof ht=="function"&&(Di(s,o,ht,a),gt=s.memoizedState),(pt=jh||Fi(s,o,pt,a,vt,gt,ot)||!1)?(ut||typeof nt.UNSAFE_componentWillUpdate!="function"&&typeof nt.componentWillUpdate!="function"||(typeof nt.componentWillUpdate=="function"&&nt.componentWillUpdate(a,gt,ot),typeof nt.UNSAFE_componentWillUpdate=="function"&&nt.UNSAFE_componentWillUpdate(a,gt,ot)),typeof nt.componentDidUpdate=="function"&&(s.flags|=4),typeof nt.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof nt.componentDidUpdate!="function"||tt===i.memoizedProps&&vt===i.memoizedState||(s.flags|=4),typeof nt.getSnapshotBeforeUpdate!="function"||tt===i.memoizedProps&&vt===i.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=gt),nt.props=a,nt.state=gt,nt.context=ot,a=pt):(typeof nt.componentDidUpdate!="function"||tt===i.memoizedProps&&vt===i.memoizedState||(s.flags|=4),typeof nt.getSnapshotBeforeUpdate!="function"||tt===i.memoizedProps&&vt===i.memoizedState||(s.flags|=1024),a=!1)}return jj(i,s,o,a,$,_)}function jj(i,s,o,a,_,$){gj(i,s);var nt=(s.flags&128)!==0;if(!a&&!nt)return _&&dg(s,o,!1),Zi(i,s,$);a=s.stateNode,Wi.current=s;var tt=nt&&typeof o.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,i!==null&&nt?(s.child=Ug(s,i.child,null,$),s.child=Ug(s,null,tt,$)):Xi(i,s,tt,$),s.memoizedState=a.state,_&&dg(s,o,!0),s.child}function kj(i){var s=i.stateNode;s.pendingContext?ag(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(i,s.context,!1),yh(i,s.containerInfo)}function lj(i,s,o,a,_){return Ig(),Jg(_),s.flags|=256,Xi(i,s,o,a),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,s,o){var a=s.pendingProps,_=L.current,$=!1,nt=(s.flags&128)!==0,tt;if((tt=nt)||(tt=i!==null&&i.memoizedState===null?!1:(_&2)!==0),tt?($=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(_|=1),G(L,_&1),i===null)return Eg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(nt=a.children,i=a.fallback,$?(a=s.mode,$=s.child,nt={mode:"hidden",children:nt},!(a&1)&&$!==null?($.childLanes=0,$.pendingProps=nt):$=pj(nt,a,0,null),i=Tg(i,a,o,null),$.return=s,i.return=s,$.sibling=i,s.child=$,s.child.memoizedState=nj(o),s.memoizedState=mj,i):qj(s,nt));if(_=i.memoizedState,_!==null&&(tt=_.dehydrated,tt!==null))return rj(i,s,nt,a,tt,_,o);if($){$=a.fallback,nt=s.mode,_=i.child,tt=_.sibling;var ot={mode:"hidden",children:a.children};return!(nt&1)&&s.child!==_?(a=s.child,a.childLanes=0,a.pendingProps=ot,s.deletions=null):(a=Pg(_,ot),a.subtreeFlags=_.subtreeFlags&14680064),tt!==null?$=Pg(tt,$):($=Tg($,nt,o,null),$.flags|=2),$.return=s,a.return=s,a.sibling=$,s.child=a,a=$,$=s.child,nt=i.child.memoizedState,nt=nt===null?nj(o):{baseLanes:nt.baseLanes|o,cachePool:null,transitions:nt.transitions},$.memoizedState=nt,$.childLanes=i.childLanes&~o,s.memoizedState=mj,a}return $=i.child,i=$.sibling,a=Pg($,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=o),a.return=s,a.sibling=null,i!==null&&(o=s.deletions,o===null?(s.deletions=[i],s.flags|=16):o.push(i)),s.child=a,s.memoizedState=null,a}function qj(i,s){return s=pj({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function sj(i,s,o,a){return a!==null&&Jg(a),Ug(s,i.child,null,o),i=qj(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function rj(i,s,o,a,_,$,nt){if(o)return s.flags&256?(s.flags&=-257,a=Ki(Error(p$2(422))),sj(i,s,nt,a)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):($=a.fallback,_=s.mode,a=pj({mode:"visible",children:a.children},_,0,null),$=Tg($,_,nt,null),$.flags|=2,a.return=s,$.return=s,a.sibling=$,s.child=a,s.mode&1&&Ug(s,i.child,null,nt),s.child.memoizedState=nj(nt),s.memoizedState=mj,$);if(!(s.mode&1))return sj(i,s,nt,null);if(_.data==="$!"){if(a=_.nextSibling&&_.nextSibling.dataset,a)var tt=a.dgst;return a=tt,$=Error(p$2(419)),a=Ki($,a,void 0),sj(i,s,nt,a)}if(tt=(nt&i.childLanes)!==0,dh||tt){if(a=Q,a!==null){switch(nt&-nt){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(a.suspendedLanes|nt)?0:_,_!==0&&_!==$.retryLane&&($.retryLane=_,ih(i,_),gi(a,i,_,-1))}return tj(),a=Ki(Error(p$2(421))),sj(i,s,nt,a)}return _.data==="$?"?(s.flags|=128,s.child=i.child,s=uj.bind(null,i),_._reactRetry=s,null):(i=$.treeContext,yg=Lf(_.nextSibling),xg=s,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=s),s=qj(s,a.children),s.flags|=4096,s)}function vj(i,s,o){i.lanes|=s;var a=i.alternate;a!==null&&(a.lanes|=s),bh(i.return,s,o)}function wj(i,s,o,a,_){var $=i.memoizedState;$===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:_}:($.isBackwards=s,$.rendering=null,$.renderingStartTime=0,$.last=a,$.tail=o,$.tailMode=_)}function xj(i,s,o){var a=s.pendingProps,_=a.revealOrder,$=a.tail;if(Xi(i,s,a.children,o),a=L.current,a&2)a=a&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,o,s);else if(i.tag===19)vj(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}a&=1}if(G(L,a),!(s.mode&1))s.memoizedState=null;else switch(_){case"forwards":for(o=s.child,_=null;o!==null;)i=o.alternate,i!==null&&Ch(i)===null&&(_=o),o=o.sibling;o=_,o===null?(_=s.child,s.child=null):(_=o.sibling,o.sibling=null),wj(s,!1,_,o,$);break;case"backwards":for(o=null,_=s.child,s.child=null;_!==null;){if(i=_.alternate,i!==null&&Ch(i)===null){s.child=_;break}i=_.sibling,_.sibling=o,o=_,_=i}wj(s,!0,o,null,$);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Zi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),rh|=s.lanes,!(o&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(p$2(153));if(s.child!==null){for(i=s.child,o=Pg(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Pg(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function yj(i,s,o){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,_=s.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=_;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):o&s.child.childLanes?oj(i,s,o):(G(L,L.current&1),i=Zi(i,s,o),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(a=(o&s.childLanes)!==0,i.flags&128){if(a)return xj(i,s,o);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return s.lanes=0,dj(i,s,o)}return Zi(i,s,o)}var zj,Aj,Bj,Cj;zj=function(i,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Aj=function(){};Bj=function(i,s,o,a){var _=i.memoizedProps;if(_!==a){i=s.stateNode,xh(uh.current);var $=null;switch(o){case"input":_=Ya(i,_),a=Ya(i,a),$=[];break;case"select":_=A$1({},_,{value:void 0}),a=A$1({},a,{value:void 0}),$=[];break;case"textarea":_=gb(i,_),a=gb(i,a),$=[];break;default:typeof _.onClick!="function"&&typeof a.onClick=="function"&&(i.onclick=Bf)}ub(o,a);var nt;o=null;for(pt in _)if(!a.hasOwnProperty(pt)&&_.hasOwnProperty(pt)&&_[pt]!=null)if(pt==="style"){var tt=_[pt];for(nt in tt)tt.hasOwnProperty(nt)&&(o||(o={}),o[nt]="")}else pt!=="dangerouslySetInnerHTML"&&pt!=="children"&&pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&pt!=="autoFocus"&&(ea.hasOwnProperty(pt)?$||($=[]):($=$||[]).push(pt,null));for(pt in a){var ot=a[pt];if(tt=_!=null?_[pt]:void 0,a.hasOwnProperty(pt)&&ot!==tt&&(ot!=null||tt!=null))if(pt==="style")if(tt){for(nt in tt)!tt.hasOwnProperty(nt)||ot&&ot.hasOwnProperty(nt)||(o||(o={}),o[nt]="");for(nt in ot)ot.hasOwnProperty(nt)&&tt[nt]!==ot[nt]&&(o||(o={}),o[nt]=ot[nt])}else o||($||($=[]),$.push(pt,o)),o=ot;else pt==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,tt=tt?tt.__html:void 0,ot!=null&&tt!==ot&&($=$||[]).push(pt,ot)):pt==="children"?typeof ot!="string"&&typeof ot!="number"||($=$||[]).push(pt,""+ot):pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(pt)?(ot!=null&&pt==="onScroll"&&D("scroll",i),$||tt===ot||($=[])):($=$||[]).push(pt,ot))}o&&($=$||[]).push("style",o);var pt=$;(s.updateQueue=pt)&&(s.flags|=4)}};Cj=function(i,s,o,a){o!==a&&(s.flags|=4)};function Dj(i,s){if(!I)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:a.sibling=null}}function S(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,a=0;if(s)for(var _=i.child;_!==null;)o|=_.lanes|_.childLanes,a|=_.subtreeFlags&14680064,a|=_.flags&14680064,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)o|=_.lanes|_.childLanes,a|=_.subtreeFlags,a|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=a,i.childLanes=o,s}function Ej(i,s,o){var a=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return a=s.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Gg(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,s),S(s),null;case 5:Bh(s);var _=xh(wh.current);if(o=s.type,i!==null&&s.stateNode!=null)Bj(i,s,o,a,_),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(p$2(166));return S(s),null}if(i=xh(uh.current),Gg(s)){a=s.stateNode,o=s.type;var $=s.memoizedProps;switch(a[Of]=s,a[Pf]=$,i=(s.mode&1)!==0,o){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(_=0;_<lf.length;_++)D(lf[_],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,$),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!$.multiple},D("invalid",a);break;case"textarea":hb(a,$),D("invalid",a)}ub(o,$),_=null;for(var nt in $)if($.hasOwnProperty(nt)){var tt=$[nt];nt==="children"?typeof tt=="string"?a.textContent!==tt&&($.suppressHydrationWarning!==!0&&Af(a.textContent,tt,i),_=["children",tt]):typeof tt=="number"&&a.textContent!==""+tt&&($.suppressHydrationWarning!==!0&&Af(a.textContent,tt,i),_=["children",""+tt]):ea.hasOwnProperty(nt)&&tt!=null&&nt==="onScroll"&&D("scroll",a)}switch(o){case"input":Va(a),db(a,$,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(a.onclick=Bf)}a=_,s.updateQueue=a,a!==null&&(s.flags|=4)}else{nt=_.nodeType===9?_:_.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(o)),i==="http://www.w3.org/1999/xhtml"?o==="script"?(i=nt.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof a.is=="string"?i=nt.createElement(o,{is:a.is}):(i=nt.createElement(o),o==="select"&&(nt=i,a.multiple?nt.multiple=!0:a.size&&(nt.size=a.size))):i=nt.createElementNS(i,o),i[Of]=s,i[Pf]=a,zj(i,s,!1,!1),s.stateNode=i;e:{switch(nt=vb(o,a),o){case"dialog":D("cancel",i),D("close",i),_=a;break;case"iframe":case"object":case"embed":D("load",i),_=a;break;case"video":case"audio":for(_=0;_<lf.length;_++)D(lf[_],i);_=a;break;case"source":D("error",i),_=a;break;case"img":case"image":case"link":D("error",i),D("load",i),_=a;break;case"details":D("toggle",i),_=a;break;case"input":Za(i,a),_=Ya(i,a),D("invalid",i);break;case"option":_=a;break;case"select":i._wrapperState={wasMultiple:!!a.multiple},_=A$1({},a,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,a),_=gb(i,a),D("invalid",i);break;default:_=a}ub(o,_),tt=_;for($ in tt)if(tt.hasOwnProperty($)){var ot=tt[$];$==="style"?sb(i,ot):$==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb(i,ot)):$==="children"?typeof ot=="string"?(o!=="textarea"||ot!=="")&&ob(i,ot):typeof ot=="number"&&ob(i,""+ot):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(ea.hasOwnProperty($)?ot!=null&&$==="onScroll"&&D("scroll",i):ot!=null&&ta(i,$,ot,nt))}switch(o){case"input":Va(i),db(i,a,!1);break;case"textarea":Va(i),jb(i);break;case"option":a.value!=null&&i.setAttribute("value",""+Sa(a.value));break;case"select":i.multiple=!!a.multiple,$=a.value,$!=null?fb(i,!!a.multiple,$,!1):a.defaultValue!=null&&fb(i,!!a.multiple,a.defaultValue,!0);break;default:typeof _.onClick=="function"&&(i.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(i&&s.stateNode!=null)Cj(i,s,i.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(p$2(166));if(o=xh(wh.current),xh(uh.current),Gg(s)){if(a=s.stateNode,o=s.memoizedProps,a[Of]=s,($=a.nodeValue!==o)&&(i=xg,i!==null))switch(i.tag){case 3:Af(a.nodeValue,o,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,o,(i.mode&1)!==0)}$&&(s.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Of]=s,s.stateNode=a}return S(s),null;case 13:if(E(L),a=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,$=!1;else if($=Gg(s),a!==null&&a.dehydrated!==null){if(i===null){if(!$)throw Error(p$2(318));if($=s.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$2(317));$[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),$=!1}else zg!==null&&(Fj(zg),zg=null),$=!0;if(!$)return s.flags&65536?s:null}return s.flags&128?(s.lanes=o,s):(a=a!==null,a!==(i!==null&&i.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(i,s),i===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),$=s.memoizedState,$===null)return S(s),null;if(a=(s.flags&128)!==0,nt=$.rendering,nt===null)if(a)Dj($,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(nt=Ch(i),nt!==null){for(s.flags|=128,Dj($,!1),a=nt.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=o,o=s.child;o!==null;)$=o,i=a,$.flags&=14680066,nt=$.alternate,nt===null?($.childLanes=0,$.lanes=i,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=nt.childLanes,$.lanes=nt.lanes,$.child=nt.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=nt.memoizedProps,$.memoizedState=nt.memoizedState,$.updateQueue=nt.updateQueue,$.type=nt.type,i=nt.dependencies,$.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o=o.sibling;return G(L,L.current&1|2),s.child}i=i.sibling}$.tail!==null&&B()>Gj&&(s.flags|=128,a=!0,Dj($,!1),s.lanes=4194304)}else{if(!a)if(i=Ch(nt),i!==null){if(s.flags|=128,a=!0,o=i.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Dj($,!0),$.tail===null&&$.tailMode==="hidden"&&!nt.alternate&&!I)return S(s),null}else 2*B()-$.renderingStartTime>Gj&&o!==1073741824&&(s.flags|=128,a=!0,Dj($,!1),s.lanes=4194304);$.isBackwards?(nt.sibling=s.child,s.child=nt):(o=$.last,o!==null?o.sibling=nt:s.child=nt,$.last=nt)}return $.tail!==null?(s=$.tail,$.rendering=s,$.tail=s.sibling,$.renderingStartTime=B(),s.sibling=null,o=L.current,G(L,a?o&1|2:o&1),s):(S(s),null);case 22:case 23:return Hj(),a=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p$2(156,s.tag))}function Ij(i,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(p$2(340));Ig()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,s){var o=i.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){W(i,s,a)}else o.current=null}function Mj(i,s,o){try{o()}catch(a){W(i,s,a)}}var Nj=!1;function Oj(i,s){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var _=a.anchorOffset,$=a.focusNode;a=a.focusOffset;try{o.nodeType,$.nodeType}catch{o=null;break e}var nt=0,tt=-1,ot=-1,pt=0,ut=0,mt=i,vt=null;t:for(;;){for(var ht;mt!==o||_!==0&&mt.nodeType!==3||(tt=nt+_),mt!==$||a!==0&&mt.nodeType!==3||(ot=nt+a),mt.nodeType===3&&(nt+=mt.nodeValue.length),(ht=mt.firstChild)!==null;)vt=mt,mt=ht;for(;;){if(mt===i)break t;if(vt===o&&++pt===_&&(tt=nt),vt===$&&++ut===a&&(ot=nt),(ht=mt.nextSibling)!==null)break;mt=vt,vt=mt.parentNode}mt=ht}o=tt===-1||ot===-1?null:{start:tt,end:ot}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:i,selectionRange:o},dd=!1,V=s;V!==null;)if(s=V,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,V=i;else for(;V!==null;){s=V;try{var gt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(gt!==null){var rt=gt.memoizedProps,j=gt.memoizedState,_e=s.stateNode,it=_e.getSnapshotBeforeUpdate(s.elementType===s.type?rt:Ci(s.type,rt),j);_e.__reactInternalSnapshotBeforeUpdate=it}break;case 3:var st=s.stateNode.containerInfo;st.nodeType===1?st.textContent="":st.nodeType===9&&st.documentElement&&st.removeChild(st.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(lt){W(s,s.return,lt)}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}return gt=Nj,Nj=!1,gt}function Pj(i,s,o){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var _=a=a.next;do{if((_.tag&i)===i){var $=_.destroy;_.destroy=void 0,$!==void 0&&Mj(s,o,$)}_=_.next}while(_!==a)}}function Qj(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&i)===i){var a=o.create;o.destroy=a()}o=o.next}while(o!==s)}}function Rj(i){var s=i.ref;if(s!==null){var o=i.stateNode;switch(i.tag){case 5:i=o;break;default:i=o}typeof s=="function"?s(i):s.current=i}}function Sj(i){var s=i.alternate;s!==null&&(i.alternate=null,Sj(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Bf));else if(a!==4&&(i=i.child,i!==null))for(Vj(i,s,o),i=i.sibling;i!==null;)Vj(i,s,o),i=i.sibling}function Wj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(a!==4&&(i=i.child,i!==null))for(Wj(i,s,o),i=i.sibling;i!==null;)Wj(i,s,o),i=i.sibling}var X=null,Xj=!1;function Yj(i,s,o){for(o=o.child;o!==null;)Zj(i,s,o),o=o.sibling}function Zj(i,s,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U||Lj(o,s);case 6:var a=X,_=Xj;X=null,Yj(i,s,o),X=a,Xj=_,X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?i.parentNode.removeChild(o):i.removeChild(o)):X.removeChild(o.stateNode));break;case 18:X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?Kf(i.parentNode,o):i.nodeType===1&&Kf(i,o),bd(i)):Kf(X,o.stateNode));break;case 4:a=X,_=Xj,X=o.stateNode.containerInfo,Xj=!0,Yj(i,s,o),X=a,Xj=_;break;case 0:case 11:case 14:case 15:if(!U&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){_=a=a.next;do{var $=_,nt=$.destroy;$=$.tag,nt!==void 0&&($&2||$&4)&&Mj(o,s,nt),_=_.next}while(_!==a)}Yj(i,s,o);break;case 1:if(!U&&(Lj(o,s),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(tt){W(o,s,tt)}Yj(i,s,o);break;case 21:Yj(i,s,o);break;case 22:o.mode&1?(U=(a=U)||o.memoizedState!==null,Yj(i,s,o),U=a):Yj(i,s,o);break;default:Yj(i,s,o)}}function ak(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var o=i.stateNode;o===null&&(o=i.stateNode=new Kj),s.forEach(function(a){var _=bk.bind(null,i,a);o.has(a)||(o.add(a),a.then(_,_))})}}function ck(i,s){var o=s.deletions;if(o!==null)for(var a=0;a<o.length;a++){var _=o[a];try{var $=i,nt=s,tt=nt;e:for(;tt!==null;){switch(tt.tag){case 5:X=tt.stateNode,Xj=!1;break e;case 3:X=tt.stateNode.containerInfo,Xj=!0;break e;case 4:X=tt.stateNode.containerInfo,Xj=!0;break e}tt=tt.return}if(X===null)throw Error(p$2(160));Zj($,nt,_),X=null,Xj=!1;var ot=_.alternate;ot!==null&&(ot.return=null),_.return=null}catch(pt){W(_,s,pt)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,i),s=s.sibling}function dk(i,s){var o=i.alternate,a=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(s,i),ek(i),a&4){try{Pj(3,i,i.return),Qj(3,i)}catch(rt){W(i,i.return,rt)}try{Pj(5,i,i.return)}catch(rt){W(i,i.return,rt)}}break;case 1:ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return);break;case 5:if(ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return),i.flags&32){var _=i.stateNode;try{ob(_,"")}catch(rt){W(i,i.return,rt)}}if(a&4&&(_=i.stateNode,_!=null)){var $=i.memoizedProps,nt=o!==null?o.memoizedProps:$,tt=i.type,ot=i.updateQueue;if(i.updateQueue=null,ot!==null)try{tt==="input"&&$.type==="radio"&&$.name!=null&&ab(_,$),vb(tt,nt);var pt=vb(tt,$);for(nt=0;nt<ot.length;nt+=2){var ut=ot[nt],mt=ot[nt+1];ut==="style"?sb(_,mt):ut==="dangerouslySetInnerHTML"?nb(_,mt):ut==="children"?ob(_,mt):ta(_,ut,mt,pt)}switch(tt){case"input":bb(_,$);break;case"textarea":ib(_,$);break;case"select":var vt=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!$.multiple;var ht=$.value;ht!=null?fb(_,!!$.multiple,ht,!1):vt!==!!$.multiple&&($.defaultValue!=null?fb(_,!!$.multiple,$.defaultValue,!0):fb(_,!!$.multiple,$.multiple?[]:"",!1))}_[Pf]=$}catch(rt){W(i,i.return,rt)}}break;case 6:if(ck(s,i),ek(i),a&4){if(i.stateNode===null)throw Error(p$2(162));_=i.stateNode,$=i.memoizedProps;try{_.nodeValue=$}catch(rt){W(i,i.return,rt)}}break;case 3:if(ck(s,i),ek(i),a&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(rt){W(i,i.return,rt)}break;case 4:ck(s,i),ek(i);break;case 13:ck(s,i),ek(i),_=i.child,_.flags&8192&&($=_.memoizedState!==null,_.stateNode.isHidden=$,!$||_.alternate!==null&&_.alternate.memoizedState!==null||(fk=B())),a&4&&ak(i);break;case 22:if(ut=o!==null&&o.memoizedState!==null,i.mode&1?(U=(pt=U)||ut,ck(s,i),U=pt):ck(s,i),ek(i),a&8192){if(pt=i.memoizedState!==null,(i.stateNode.isHidden=pt)&&!ut&&i.mode&1)for(V=i,ut=i.child;ut!==null;){for(mt=V=ut;V!==null;){switch(vt=V,ht=vt.child,vt.tag){case 0:case 11:case 14:case 15:Pj(4,vt,vt.return);break;case 1:Lj(vt,vt.return);var gt=vt.stateNode;if(typeof gt.componentWillUnmount=="function"){a=vt,o=vt.return;try{s=a,gt.props=s.memoizedProps,gt.state=s.memoizedState,gt.componentWillUnmount()}catch(rt){W(a,o,rt)}}break;case 5:Lj(vt,vt.return);break;case 22:if(vt.memoizedState!==null){gk(mt);continue}}ht!==null?(ht.return=vt,V=ht):gk(mt)}ut=ut.sibling}e:for(ut=null,mt=i;;){if(mt.tag===5){if(ut===null){ut=mt;try{_=mt.stateNode,pt?($=_.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(tt=mt.stateNode,ot=mt.memoizedProps.style,nt=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,tt.style.display=rb("display",nt))}catch(rt){W(i,i.return,rt)}}}else if(mt.tag===6){if(ut===null)try{mt.stateNode.nodeValue=pt?"":mt.memoizedProps}catch(rt){W(i,i.return,rt)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===i)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===i)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===i)break e;ut===mt&&(ut=null),mt=mt.return}ut===mt&&(ut=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:ck(s,i),ek(i),a&4&&ak(i);break;case 21:break;default:ck(s,i),ek(i)}}function ek(i){var s=i.flags;if(s&2){try{e:{for(var o=i.return;o!==null;){if(Tj(o)){var a=o;break e}o=o.return}throw Error(p$2(160))}switch(a.tag){case 5:var _=a.stateNode;a.flags&32&&(ob(_,""),a.flags&=-33);var $=Uj(i);Wj(i,$,_);break;case 3:case 4:var nt=a.stateNode.containerInfo,tt=Uj(i);Vj(i,tt,nt);break;default:throw Error(p$2(161))}}catch(ot){W(i,i.return,ot)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function hk(i,s,o){V=i,ik(i)}function ik(i,s,o){for(var a=(i.mode&1)!==0;V!==null;){var _=V,$=_.child;if(_.tag===22&&a){var nt=_.memoizedState!==null||Jj;if(!nt){var tt=_.alternate,ot=tt!==null&&tt.memoizedState!==null||U;tt=Jj;var pt=U;if(Jj=nt,(U=ot)&&!pt)for(V=_;V!==null;)nt=V,ot=nt.child,nt.tag===22&&nt.memoizedState!==null?jk(_):ot!==null?(ot.return=nt,V=ot):jk(_);for(;$!==null;)V=$,ik($),$=$.sibling;V=_,Jj=tt,U=pt}kk(i)}else _.subtreeFlags&8772&&$!==null?($.return=_,V=$):kk(i)}}function kk(i){for(;V!==null;){var s=V;if(s.flags&8772){var o=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!U)if(o===null)a.componentDidMount();else{var _=s.elementType===s.type?o.memoizedProps:Ci(s.type,o.memoizedProps);a.componentDidUpdate(_,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var $=s.updateQueue;$!==null&&sh(s,$,a);break;case 3:var nt=s.updateQueue;if(nt!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}sh(s,nt,o)}break;case 5:var tt=s.stateNode;if(o===null&&s.flags&4){o=tt;var ot=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&o.focus();break;case"img":ot.src&&(o.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var pt=s.alternate;if(pt!==null){var ut=pt.memoizedState;if(ut!==null){var mt=ut.dehydrated;mt!==null&&bd(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||s.flags&512&&Rj(s)}catch(vt){W(s,s.return,vt)}}if(s===i){V=null;break}if(o=s.sibling,o!==null){o.return=s.return,V=o;break}V=s.return}}function gk(i){for(;V!==null;){var s=V;if(s===i){V=null;break}var o=s.sibling;if(o!==null){o.return=s.return,V=o;break}V=s.return}}function jk(i){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Qj(4,s)}catch(ot){W(s,o,ot)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var _=s.return;try{a.componentDidMount()}catch(ot){W(s,_,ot)}}var $=s.return;try{Rj(s)}catch(ot){W(s,$,ot)}break;case 5:var nt=s.return;try{Rj(s)}catch(ot){W(s,nt,ot)}}}catch(ot){W(s,s.return,ot)}if(s===i){V=null;break}var tt=s.sibling;if(tt!==null){tt.return=s.return,V=tt;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,s,o,a){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(i,o,a),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=o),T===4&&Ck(i,Z)),Dk(i,a),o===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,s){var o=i.callbackNode;wc(i,s);var a=uc(i,i===Q?Z:0);if(a===0)o!==null&&bc(o),i.callbackNode=null,i.callbackPriority=0;else if(s=a&-a,i.callbackPriority!==s){if(o!=null&&bc(o),s===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),o=null;else{switch(Dc(a)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Fk(o,Gk.bind(null,i))}i.callbackPriority=s,i.callbackNode=o}}function Gk(i,s){if(Ak=-1,Bk=0,K&6)throw Error(p$2(327));var o=i.callbackNode;if(Hk()&&i.callbackNode!==o)return null;var a=uc(i,i===Q?Z:0);if(a===0)return null;if(a&30||a&i.expiredLanes||s)s=Ik(i,a);else{s=a;var _=K;K|=2;var $=Jk();(Q!==i||Z!==s)&&(uk=null,Gj=B()+500,Kk(i,s));do try{Lk();break}catch(tt){Mk(i,tt)}while(!0);$g(),mk.current=$,K=_,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(_=xc(i),_!==0&&(a=_,s=Nk(i,_))),s===1)throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;if(s===6)Ck(i,a);else{if(_=i.current.alternate,!(a&30)&&!Ok(_)&&(s=Ik(i,a),s===2&&($=xc(i),$!==0&&(a=$,s=Nk(i,$))),s===1))throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;switch(i.finishedWork=_,i.finishedLanes=a,s){case 0:case 1:throw Error(p$2(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,a),(a&130023424)===a&&(s=fk+500-B(),10<s)){if(uc(i,0)!==0)break;if(_=i.suspendedLanes,(_&a)!==a){R(),i.pingedLanes|=i.suspendedLanes&_;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),s);break}Pk(i,tk,uk);break;case 4:if(Ck(i,a),(a&4194240)===a)break;for(s=i.eventTimes,_=-1;0<a;){var nt=31-oc(a);$=1<<nt,nt=s[nt],nt>_&&(_=nt),a&=~$}if(a=_,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),a);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(i,B()),i.callbackNode===o?Gk.bind(null,i):null}function Nk(i,s){var o=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,s).flags|=256),i=Ik(i,s),i!==2&&(s=tk,tk=o,s!==null&&Fj(s)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var s=i;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var _=o[a],$=_.getSnapshot;_=_.value;try{if(!He($(),_))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(i,s){for(s&=~rk,s&=~qk,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var o=31-oc(s),a=1<<o;i[o]=-1,s&=~a}}function Ek(i){if(K&6)throw Error(p$2(327));Hk();var s=uc(i,0);if(!(s&1))return Dk(i,B()),null;var o=Ik(i,s);if(i.tag!==0&&o===2){var a=xc(i);a!==0&&(s=a,o=Nk(i,a))}if(o===1)throw o=pk,Kk(i,0),Ck(i,s),Dk(i,B()),o;if(o===6)throw Error(p$2(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,s){var o=K;K|=1;try{return i(s)}finally{K=o,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var o=ok.transition,a=C;try{if(ok.transition=null,C=1,i)return i()}finally{C=a,ok.transition=o,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;if(o!==-1&&(i.timeoutHandle=-1,Gf(o)),Y!==null)for(o=Y.return;o!==null;){var a=o;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}o=o.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(o=fh[s],a=o.interleaved,a!==null){o.interleaved=null;var _=a.next,$=o.pending;if($!==null){var nt=$.next;$.next=_,a.next=nt}o.pending=a}fh=null}return i}function Mk(i,s){do{var o=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var _=a.queue;_!==null&&(_.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,o===null||o.return===null){T=1,pk=s,Y=null;break}e:{var $=i,nt=o.return,tt=o,ot=s;if(s=Z,tt.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var pt=ot,ut=tt,mt=ut.tag;if(!(ut.mode&1)&&(mt===0||mt===11||mt===15)){var vt=ut.alternate;vt?(ut.updateQueue=vt.updateQueue,ut.memoizedState=vt.memoizedState,ut.lanes=vt.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var ht=Ui(nt);if(ht!==null){ht.flags&=-257,Vi(ht,nt,tt,$,s),ht.mode&1&&Si($,pt,s),s=ht,ot=pt;var gt=s.updateQueue;if(gt===null){var rt=new Set;rt.add(ot),s.updateQueue=rt}else gt.add(ot);break e}else{if(!(s&1)){Si($,pt,s),tj();break e}ot=Error(p$2(426))}}else if(I&&tt.mode&1){var j=Ui(nt);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Vi(j,nt,tt,$,s),Jg(Ji(ot,tt));break e}}$=ot=Ji(ot,tt),T!==4&&(T=2),sk===null?sk=[$]:sk.push($),$=nt;do{switch($.tag){case 3:$.flags|=65536,s&=-s,$.lanes|=s;var _e=Ni($,ot,s);ph($,_e);break e;case 1:tt=ot;var it=$.type,st=$.stateNode;if(!($.flags&128)&&(typeof it.getDerivedStateFromError=="function"||st!==null&&typeof st.componentDidCatch=="function"&&(Ri===null||!Ri.has(st)))){$.flags|=65536,s&=-s,$.lanes|=s;var lt=Qi($,tt,s);ph($,lt);break e}}$=$.return}while($!==null)}Sk(o)}catch(et){s=et,Y===o&&o!==null&&(Y=o=o.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,s){var o=K;K|=2;var a=Jk();(Q!==i||Z!==s)&&(uk=null,Kk(i,s));do try{Tk();break}catch(_){Mk(i,_)}while(!0);if($g(),K=o,mk.current=a,Y!==null)throw Error(p$2(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var s=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,s===null?Sk(i):Y=s,nk.current=null}function Sk(i){var s=i;do{var o=s.alternate;if(i=s.return,s.flags&32768){if(o=Ij(o,s),o!==null){o.flags&=32767,Y=o;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(o=Ej(o,s,fj),o!==null){Y=o;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=i}while(s!==null);T===0&&(T=5)}function Pk(i,s,o){var a=C,_=ok.transition;try{ok.transition=null,C=1,Wk(i,s,o,a)}finally{ok.transition=_,C=a}return null}function Wk(i,s,o,a){do Hk();while(wk!==null);if(K&6)throw Error(p$2(327));o=i.finishedWork;var _=i.finishedLanes;if(o===null)return null;if(i.finishedWork=null,i.finishedLanes=0,o===i.current)throw Error(p$2(177));i.callbackNode=null,i.callbackPriority=0;var $=o.lanes|o.childLanes;if(Bc(i,$),i===Q&&(Y=Q=null,Z=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),$=(o.flags&15990)!==0,o.subtreeFlags&15990||$){$=ok.transition,ok.transition=null;var nt=C;C=1;var tt=K;K|=4,nk.current=null,Oj(i,o),dk(o,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=o,hk(o),dc(),K=tt,C=nt,ok.transition=$}else i.current=o;if(vk&&(vk=!1,wk=i,xk=_),$=i.pendingLanes,$===0&&(Ri=null),mc(o.stateNode),Dk(i,B()),s!==null)for(a=i.onRecoverableError,o=0;o<s.length;o++)_=s[o],a(_.value,{componentStack:_.stack,digest:_.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),$=i.pendingLanes,$&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),s=ok.transition,o=C;try{if(ok.transition=null,C=16>i?16:i,wk===null)var a=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p$2(331));var _=K;for(K|=4,V=i.current;V!==null;){var $=V,nt=$.child;if(V.flags&16){var tt=$.deletions;if(tt!==null){for(var ot=0;ot<tt.length;ot++){var pt=tt[ot];for(V=pt;V!==null;){var ut=V;switch(ut.tag){case 0:case 11:case 15:Pj(8,ut,$)}var mt=ut.child;if(mt!==null)mt.return=ut,V=mt;else for(;V!==null;){ut=V;var vt=ut.sibling,ht=ut.return;if(Sj(ut),ut===pt){V=null;break}if(vt!==null){vt.return=ht,V=vt;break}V=ht}}}var gt=$.alternate;if(gt!==null){var rt=gt.child;if(rt!==null){gt.child=null;do{var j=rt.sibling;rt.sibling=null,rt=j}while(rt!==null)}}V=$}}if($.subtreeFlags&2064&&nt!==null)nt.return=$,V=nt;else e:for(;V!==null;){if($=V,$.flags&2048)switch($.tag){case 0:case 11:case 15:Pj(9,$,$.return)}var _e=$.sibling;if(_e!==null){_e.return=$.return,V=_e;break e}V=$.return}}var it=i.current;for(V=it;V!==null;){nt=V;var st=nt.child;if(nt.subtreeFlags&2064&&st!==null)st.return=nt,V=st;else e:for(nt=it;V!==null;){if(tt=V,tt.flags&2048)try{switch(tt.tag){case 0:case 11:case 15:Qj(9,tt)}}catch(et){W(tt,tt.return,et)}if(tt===nt){V=null;break e}var lt=tt.sibling;if(lt!==null){lt.return=tt.return,V=lt;break e}V=tt.return}}if(K=_,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}a=!0}return a}finally{C=o,ok.transition=s}}return!1}function Xk(i,s,o){s=Ji(o,s),s=Ni(i,s,1),i=nh(i,s,1),s=R(),i!==null&&(Ac(i,1,s),Dk(i,s))}function W(i,s,o){if(i.tag===3)Xk(i,i,o);else for(;s!==null;){if(s.tag===3){Xk(s,i,o);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){i=Ji(o,i),i=Qi(s,i,1),s=nh(s,i,1),i=R(),s!==null&&(Ac(s,1,i),Dk(s,i));break}}s=s.return}}function Ti(i,s,o){var a=i.pingCache;a!==null&&a.delete(s),s=R(),i.pingedLanes|=i.suspendedLanes&o,Q===i&&(Z&o)===o&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=o),Dk(i,s)}function Yk(i,s){s===0&&(i.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var o=R();i=ih(i,s),i!==null&&(Ac(i,s,o),Dk(i,o))}function uj(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Yk(i,o)}function bk(i,s){var o=0;switch(i.tag){case 13:var a=i.stateNode,_=i.memoizedState;_!==null&&(o=_.retryLane);break;case 19:a=i.stateNode;break;default:throw Error(p$2(314))}a!==null&&a.delete(s),Yk(i,o)}var Vk;Vk=function(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&o)&&!(s.flags&128))return dh=!1,yj(i,s,o);dh=!!(i.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;ij(i,s),i=s.pendingProps;var _=Yf(s,H.current);ch(s,o),_=Nh(null,s,a,i,_,o);var $=Sh();return s.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(a)?($=!0,cg(s)):$=!1,s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,kh(s),_.updater=Ei,s.stateNode=_,_._reactInternals=s,Ii(s,a,i,o),s=jj(null,s,a,!0,$,o)):(s.tag=0,I&&$&&vg(s),Xi(null,s,_,o),s=s.child),s;case 16:a=s.elementType;e:{switch(ij(i,s),i=s.pendingProps,_=a._init,a=_(a._payload),s.type=a,_=s.tag=Zk(a),i=Ci(a,i),_){case 0:s=cj(null,s,a,i,o);break e;case 1:s=hj(null,s,a,i,o);break e;case 11:s=Yi(null,s,a,i,o);break e;case 14:s=$i(null,s,a,Ci(a.type,i),o);break e}throw Error(p$2(306,a,""))}return s;case 0:return a=s.type,_=s.pendingProps,_=s.elementType===a?_:Ci(a,_),cj(i,s,a,_,o);case 1:return a=s.type,_=s.pendingProps,_=s.elementType===a?_:Ci(a,_),hj(i,s,a,_,o);case 3:e:{if(kj(s),i===null)throw Error(p$2(387));a=s.pendingProps,$=s.memoizedState,_=$.element,lh(i,s),qh(s,a,null,o);var nt=s.memoizedState;if(a=nt.element,$.isDehydrated)if($={element:a,isDehydrated:!1,cache:nt.cache,pendingSuspenseBoundaries:nt.pendingSuspenseBoundaries,transitions:nt.transitions},s.updateQueue.baseState=$,s.memoizedState=$,s.flags&256){_=Ji(Error(p$2(423)),s),s=lj(i,s,a,o,_);break e}else if(a!==_){_=Ji(Error(p$2(424)),s),s=lj(i,s,a,o,_);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,o=Vg(s,null,a,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),a===_){s=Zi(i,s,o);break e}Xi(i,s,a,o)}s=s.child}return s;case 5:return Ah(s),i===null&&Eg(s),a=s.type,_=s.pendingProps,$=i!==null?i.memoizedProps:null,nt=_.children,Ef(a,_)?nt=null:$!==null&&Ef(a,$)&&(s.flags|=32),gj(i,s),Xi(i,s,nt,o),s.child;case 6:return i===null&&Eg(s),null;case 13:return oj(i,s,o);case 4:return yh(s,s.stateNode.containerInfo),a=s.pendingProps,i===null?s.child=Ug(s,null,a,o):Xi(i,s,a,o),s.child;case 11:return a=s.type,_=s.pendingProps,_=s.elementType===a?_:Ci(a,_),Yi(i,s,a,_,o);case 7:return Xi(i,s,s.pendingProps,o),s.child;case 8:return Xi(i,s,s.pendingProps.children,o),s.child;case 12:return Xi(i,s,s.pendingProps.children,o),s.child;case 10:e:{if(a=s.type._context,_=s.pendingProps,$=s.memoizedProps,nt=_.value,G(Wg,a._currentValue),a._currentValue=nt,$!==null)if(He($.value,nt)){if($.children===_.children&&!Wf.current){s=Zi(i,s,o);break e}}else for($=s.child,$!==null&&($.return=s);$!==null;){var tt=$.dependencies;if(tt!==null){nt=$.child;for(var ot=tt.firstContext;ot!==null;){if(ot.context===a){if($.tag===1){ot=mh(-1,o&-o),ot.tag=2;var pt=$.updateQueue;if(pt!==null){pt=pt.shared;var ut=pt.pending;ut===null?ot.next=ot:(ot.next=ut.next,ut.next=ot),pt.pending=ot}}$.lanes|=o,ot=$.alternate,ot!==null&&(ot.lanes|=o),bh($.return,o,s),tt.lanes|=o;break}ot=ot.next}}else if($.tag===10)nt=$.type===s.type?null:$.child;else if($.tag===18){if(nt=$.return,nt===null)throw Error(p$2(341));nt.lanes|=o,tt=nt.alternate,tt!==null&&(tt.lanes|=o),bh(nt,o,s),nt=$.sibling}else nt=$.child;if(nt!==null)nt.return=$;else for(nt=$;nt!==null;){if(nt===s){nt=null;break}if($=nt.sibling,$!==null){$.return=nt.return,nt=$;break}nt=nt.return}$=nt}Xi(i,s,_.children,o),s=s.child}return s;case 9:return _=s.type,a=s.pendingProps.children,ch(s,o),_=eh(_),a=a(_),s.flags|=1,Xi(i,s,a,o),s.child;case 14:return a=s.type,_=Ci(a,s.pendingProps),_=Ci(a.type,_),$i(i,s,a,_,o);case 15:return bj(i,s,s.type,s.pendingProps,o);case 17:return a=s.type,_=s.pendingProps,_=s.elementType===a?_:Ci(a,_),ij(i,s),s.tag=1,Zf(a)?(i=!0,cg(s)):i=!1,ch(s,o),Gi(s,a,_),Ii(s,a,_,o),jj(null,s,a,!0,i,o);case 19:return xj(i,s,o);case 22:return dj(i,s,o)}throw Error(p$2(156,s.tag))};function Fk(i,s){return ac(i,s)}function $k(i,s,o,a){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,s,o,a){return new $k(i,s,o,a)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,s){var o=i.alternate;return o===null?(o=Bg(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&14680064,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o}function Rg(i,s,o,a,_,$){var nt=2;if(a=i,typeof i=="function")aj(i)&&(nt=1);else if(typeof i=="string")nt=5;else e:switch(i){case ya:return Tg(o.children,_,$,s);case za:nt=8,_|=8;break;case Aa:return i=Bg(12,o,s,_|2),i.elementType=Aa,i.lanes=$,i;case Ea:return i=Bg(13,o,s,_),i.elementType=Ea,i.lanes=$,i;case Fa:return i=Bg(19,o,s,_),i.elementType=Fa,i.lanes=$,i;case Ia:return pj(o,_,$,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:nt=10;break e;case Ca:nt=9;break e;case Da:nt=11;break e;case Ga:nt=14;break e;case Ha:nt=16,a=null;break e}throw Error(p$2(130,i==null?i:typeof i,""))}return s=Bg(nt,o,s,_),s.elementType=i,s.type=a,s.lanes=$,s}function Tg(i,s,o,a){return i=Bg(7,i,a,s),i.lanes=o,i}function pj(i,s,o,a){return i=Bg(22,i,a,s),i.elementType=Ia,i.lanes=o,i.stateNode={isHidden:!1},i}function Qg(i,s,o){return i=Bg(6,i,null,s),i.lanes=o,i}function Sg(i,s,o){return s=Bg(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function al(i,s,o,a,_){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function bl(i,s,o,a,_,$,nt,tt,ot){return i=new al(i,s,o,tt,ot),s===1?(s=1,$===!0&&(s|=8)):s=0,$=Bg(3,null,null,s),i.current=$,$.stateNode=i,$.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh($),i}function cl(i,s,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:i,containerInfo:s,implementation:o}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$2(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$2(171))}if(i.tag===1){var o=i.type;if(Zf(o))return bg(i,o,s)}return s}function el(i,s,o,a,_,$,nt,tt,ot){return i=bl(o,a,!0,i,_,$,nt,tt,ot),i.context=dl(null),o=i.current,a=R(),_=yi(o),$=mh(a,_),$.callback=s??null,nh(o,$,_),i.current.lanes=_,Ac(i,_,a),Dk(i,a),i}function fl(i,s,o,a){var _=s.current,$=R(),nt=yi(_);return o=dl(o),s.context===null?s.context=o:s.pendingContext=o,s=mh($,nt),s.payload={element:i},a=a===void 0?null:a,a!==null&&(s.callback=a),i=nh(_,s,nt),i!==null&&(gi(i,_,nt,$),oh(i,_,nt)),nt}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function il(i,s){hl(i,s),(i=i.alternate)&&hl(i,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(p$2(409));fl(i,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Rk(function(){fl(null,i,null,null)}),s[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Qc.length&&s!==0&&s<Qc[o].priority;o++);Qc.splice(o,0,i),o===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,s,o,a,_){if(_){if(typeof a=="function"){var $=a;a=function(){var pt=gl(nt);$.call(pt)}}var nt=el(s,a,i,0,null,!1,!1,"",pl);return i._reactRootContainer=nt,i[uf]=nt.current,sf(i.nodeType===8?i.parentNode:i),Rk(),nt}for(;_=i.lastChild;)i.removeChild(_);if(typeof a=="function"){var tt=a;a=function(){var pt=gl(ot);tt.call(pt)}}var ot=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=ot,i[uf]=ot.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(s,ot,o,a)}),ot}function rl(i,s,o,a,_){var $=o._reactRootContainer;if($){var nt=$;if(typeof _=="function"){var tt=_;_=function(){var ot=gl(nt);tt.call(ot)}}fl(s,nt,i,_)}else nt=ql(o,s,i,_,a);return gl(nt)}Ec=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var o=tc(s.pendingLanes);o!==0&&(Cc(s,o|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(i,1);if(a!==null){var _=R();gi(a,i,1,_)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var s=ih(i,134217728);if(s!==null){var o=R();gi(s,i,134217728,o)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var s=yi(i),o=ih(i,s);if(o!==null){var a=R();gi(o,i,s,a)}il(i,s)}};Hc=function(){return C};Ic=function(i,s){var o=C;try{return C=i,s()}finally{C=o}};yb=function(i,s,o){switch(s){case"input":if(bb(i,o),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var a=o[s];if(a!==i&&a.form===i.form){var _=Db(a);if(!_)throw Error(p$2(90));Wa(a),bb(a,_)}}}break;case"textarea":ib(i,o);break;case"select":s=o.value,s!=null&&fb(i,!!o.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p$2(200));return cl(i,s,null,o)};reactDom_production_min.createRoot=function(i,s){if(!nl(i))throw Error(p$2(299));var o=!1,a="",_=kl;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=bl(i,1,!1,null,null,o,!1,a,_),i[uf]=s.current,sf(i.nodeType===8?i.parentNode:i),new ll(s)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(p$2(188)):(i=Object.keys(i).join(","),Error(p$2(268,i)));return i=Zb(s),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,s,o){if(!ol(s))throw Error(p$2(200));return rl(null,i,s,!0,o)};reactDom_production_min.hydrateRoot=function(i,s,o){if(!nl(i))throw Error(p$2(405));var a=o!=null&&o.hydratedSources||null,_=!1,$="",nt=kl;if(o!=null&&(o.unstable_strictMode===!0&&(_=!0),o.identifierPrefix!==void 0&&($=o.identifierPrefix),o.onRecoverableError!==void 0&&(nt=o.onRecoverableError)),s=el(s,null,i,1,o??null,_,!1,$,nt),i[uf]=s.current,sf(i),a)for(i=0;i<a.length;i++)o=a[i],_=o._getVersion,_=_(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,_]:s.mutableSourceEagerHydrationData.push(o,_);return new ml(s)};reactDom_production_min.render=function(i,s,o){if(!ol(s))throw Error(p$2(200));return rl(null,i,s,!1,o)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p$2(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,s,o,a){if(!ol(o))throw Error(p$2(200));if(i==null||i._reactInternals===void 0)throw Error(p$2(38));return rl(i,s,o,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot,m$2=reactDomExports;createRoot=m$2.createRoot,m$2.hydrateRoot;var _3Dmol={exports:{}};/*!
 * 3dmol v2.4.0
 * JavaScript/TypeScript molecular visualization library
 * Author: David Koes and contributors
 */(function(module,exports){(function(s,o){module.exports=o()})(commonjsGlobal,()=>(()=>{var __webpack_modules__={"./node_modules/iobuffer/lib-esm/IOBuffer.js":(i,s,o)=>{o.r(s),o.d(s,{IOBuffer:()=>tt});var a=o("./node_modules/iobuffer/lib-esm/text.browser.js");const _=1024*8,$=(()=>{const ot=new Uint8Array(4),pt=new Uint32Array(ot.buffer);return!((pt[0]=1)&ot[0])})(),nt={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class tt{constructor(pt=_,ut={}){let mt=!1;typeof pt=="number"?pt=new ArrayBuffer(pt):(mt=!0,this.lastWrittenByte=pt.byteLength);const vt=ut.offset?ut.offset>>>0:0,ht=pt.byteLength-vt;let gt=vt;(ArrayBuffer.isView(pt)||pt instanceof tt)&&(pt.byteLength!==pt.buffer.byteLength&&(gt=pt.byteOffset+vt),pt=pt.buffer),mt?this.lastWrittenByte=ht:this.lastWrittenByte=0,this.buffer=pt,this.length=ht,this.byteLength=ht,this.byteOffset=gt,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,gt,ht),this._mark=0,this._marks=[]}available(pt=1){return this.offset+pt<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(pt=1){return this.offset+=pt,this}back(pt=1){return this.offset-=pt,this}seek(pt){return this.offset=pt,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const pt=this._marks.pop();if(pt===void 0)throw new Error("Mark stack empty");return this.seek(pt),this}rewind(){return this.offset=0,this}ensureAvailable(pt=1){if(!this.available(pt)){const mt=(this.offset+pt)*2,vt=new Uint8Array(mt);vt.set(new Uint8Array(this.buffer)),this.buffer=vt.buffer,this.length=this.byteLength=mt,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(pt=1){return this.readArray(pt,"uint8")}readArray(pt,ut){const mt=nt[ut].BYTES_PER_ELEMENT*pt,vt=this.byteOffset+this.offset,ht=this.buffer.slice(vt,vt+mt);if(this.littleEndian===$&&ut!=="uint8"&&ut!=="int8"){const rt=new Uint8Array(this.buffer.slice(vt,vt+mt));rt.reverse();const j=new nt[ut](rt.buffer);return this.offset+=mt,j.reverse(),j}const gt=new nt[ut](ht);return this.offset+=mt,gt}readInt16(){const pt=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,pt}readUint16(){const pt=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,pt}readInt32(){const pt=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,pt}readUint32(){const pt=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,pt}readFloat32(){const pt=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,pt}readFloat64(){const pt=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,pt}readBigInt64(){const pt=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,pt}readBigUint64(){const pt=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,pt}readChar(){return String.fromCharCode(this.readInt8())}readChars(pt=1){let ut="";for(let mt=0;mt<pt;mt++)ut+=this.readChar();return ut}readUtf8(pt=1){return(0,a.decode)(this.readBytes(pt))}decodeText(pt=1,ut="utf-8"){return(0,a.decode)(this.readBytes(pt),ut)}writeBoolean(pt){return this.writeUint8(pt?255:0),this}writeInt8(pt){return this.ensureAvailable(1),this._data.setInt8(this.offset++,pt),this._updateLastWrittenByte(),this}writeUint8(pt){return this.ensureAvailable(1),this._data.setUint8(this.offset++,pt),this._updateLastWrittenByte(),this}writeByte(pt){return this.writeUint8(pt)}writeBytes(pt){this.ensureAvailable(pt.length);for(let ut=0;ut<pt.length;ut++)this._data.setUint8(this.offset++,pt[ut]);return this._updateLastWrittenByte(),this}writeInt16(pt){return this.ensureAvailable(2),this._data.setInt16(this.offset,pt,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(pt){return this.ensureAvailable(2),this._data.setUint16(this.offset,pt,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(pt){return this.ensureAvailable(4),this._data.setInt32(this.offset,pt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(pt){return this.ensureAvailable(4),this._data.setUint32(this.offset,pt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(pt){return this.ensureAvailable(4),this._data.setFloat32(this.offset,pt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(pt){return this.ensureAvailable(8),this._data.setFloat64(this.offset,pt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(pt){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,pt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(pt){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,pt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(pt){return this.writeUint8(pt.charCodeAt(0))}writeChars(pt){for(let ut=0;ut<pt.length;ut++)this.writeUint8(pt.charCodeAt(ut));return this}writeUtf8(pt){return this.writeBytes((0,a.encode)(pt))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},"./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js":function(){(function(i){if(i.TextEncoder&&i.TextDecoder)return!1;function s(a="utf-8"){if(a!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${a}') is invalid.`)}Object.defineProperty(s.prototype,"encoding",{value:"utf-8"}),s.prototype.encode=function(a,_={stream:!1}){if(_.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let $=0;const nt=a.length;let tt=0,ot=Math.max(32,nt+(nt>>1)+7),pt=new Uint8Array(ot>>3<<3);for(;$<nt;){let ut=a.charCodeAt($++);if(ut>=55296&&ut<=56319){if($<nt){const mt=a.charCodeAt($);(mt&64512)===56320&&(++$,ut=((ut&1023)<<10)+(mt&1023)+65536)}if(ut>=55296&&ut<=56319)continue}if(tt+4>pt.length){ot+=8,ot*=1+$/a.length*2,ot=ot>>3<<3;const mt=new Uint8Array(ot);mt.set(pt),pt=mt}if(ut&4294967168)if(!(ut&4294965248))pt[tt++]=ut>>6&31|192;else if(!(ut&4294901760))pt[tt++]=ut>>12&15|224,pt[tt++]=ut>>6&63|128;else if(!(ut&4292870144))pt[tt++]=ut>>18&7|240,pt[tt++]=ut>>12&63|128,pt[tt++]=ut>>6&63|128;else continue;else{pt[tt++]=ut;continue}pt[tt++]=ut&63|128}return pt.slice(0,tt)};function o(a="utf-8",_={fatal:!1}){if(a!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${a}') is invalid.`);if(_.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(o.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(o.prototype,"fatal",{value:!1}),Object.defineProperty(o.prototype,"ignoreBOM",{value:!1}),o.prototype.decode=function(a,_={stream:!1}){if(_.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const $=new Uint8Array(a);let nt=0;const tt=$.length,ot=[];for(;nt<tt;){const pt=$[nt++];if(pt===0)break;if(!(pt&128))ot.push(pt);else if((pt&224)===192){const ut=$[nt++]&63;ot.push((pt&31)<<6|ut)}else if((pt&240)===224){const ut=$[nt++]&63,mt=$[nt++]&63;ot.push((pt&31)<<12|ut<<6|mt)}else if((pt&248)===240){const ut=$[nt++]&63,mt=$[nt++]&63,vt=$[nt++]&63;let ht=(pt&7)<<18|ut<<12|mt<<6|vt;ht>65535&&(ht-=65536,ot.push(ht>>>10&1023|55296),ht=56320|ht&1023),ot.push(ht)}}return String.fromCharCode.apply(null,ot)},i.TextEncoder=s,i.TextDecoder=o})(typeof window<"u"?window:typeof self<"u"?self:this)},"./node_modules/iobuffer/lib-esm/text.browser.js":(i,s,o)=>{o.r(s),o.d(s,{decode:()=>a,encode:()=>$}),o("./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js");function a(nt,tt="utf8"){return new TextDecoder(tt).decode(nt)}const _=new TextEncoder;function $(nt){return _.encode(nt)}},"./node_modules/netcdfjs/lib-esm/data.js":(i,s,o)=>{o.r(s),o.d(s,{nonRecord:()=>_,record:()=>$});var a=o("./node_modules/netcdfjs/lib-esm/types.js");function _(nt,tt){const ot=(0,a.str2num)(tt.type),pt=tt.size/(0,a.num2bytes)(ot),ut=new Array(pt);for(let mt=0;mt<pt;mt++)ut[mt]=(0,a.readType)(nt,ot,1);return ut}function $(nt,tt,ot){const pt=(0,a.str2num)(tt.type),ut=tt.size?tt.size/(0,a.num2bytes)(pt):1,mt=ot.length,vt=new Array(mt),ht=ot.recordStep;if(ht)for(let gt=0;gt<mt;gt++){const rt=nt.offset;vt[gt]=(0,a.readType)(nt,pt,ut),nt.seek(rt+ht)}else throw new Error("recordDimension.recordStep is undefined");return vt}},"./node_modules/netcdfjs/lib-esm/header.js":(i,s,o)=>{o.r(s),o.d(s,{header:()=>ut});var a=o("./node_modules/netcdfjs/lib-esm/types.js"),_=o("./node_modules/netcdfjs/lib-esm/utils.js");const $=0,nt=10,tt=11,ot=12,pt=0;function ut(gt,rt){const j={version:rt},_e={length:gt.readUint32()},it=mt(gt);Array.isArray(it)||(_e.id=it.recordId,_e.name=it.recordName,j.dimensions=it.dimensions),j.globalAttributes=vt(gt);const st=ht(gt,_e==null?void 0:_e.id,rt);return Array.isArray(st)||(j.variables=st.variables,_e.recordStep=st.recordStep),j.recordDimension=_e,j}function mt(gt){const rt={};let j,_e;const it=gt.readUint32();let st;if(it===$)return(0,_.notNetcdf)(gt.readUint32()!==$,"wrong empty tag for list of dimensions"),[];{(0,_.notNetcdf)(it!==nt,"wrong tag for list of dimensions");const lt=gt.readUint32();st=new Array(lt);for(let et=0;et<lt;et++){const at=(0,_.readName)(gt),ft=gt.readUint32();ft===pt&&(j=et,_e=at),st[et]={name:at,size:ft}}}return j!==void 0&&(rt.recordId=j),_e!==void 0&&(rt.recordName=_e),rt.dimensions=st,rt}function vt(gt){const rt=gt.readUint32();let j;if(rt===$)return(0,_.notNetcdf)(gt.readUint32()!==$,"wrong empty tag for list of attributes"),[];{(0,_.notNetcdf)(rt!==ot,"wrong tag for list of attributes");const _e=gt.readUint32();j=new Array(_e);for(let it=0;it<_e;it++){const st=(0,_.readName)(gt),lt=gt.readUint32();(0,_.notNetcdf)(lt<1||lt>6,`non valid type ${lt}`);const et=gt.readUint32(),at=(0,a.readType)(gt,lt,et);(0,_.padding)(gt),j[it]={name:st,type:(0,a.num2str)(lt),value:at}}}return j}function ht(gt,rt,j){const _e=gt.readUint32();let it=0,st;if(_e===$)return(0,_.notNetcdf)(gt.readUint32()!==$,"wrong empty tag for list of variables"),[];{(0,_.notNetcdf)(_e!==tt,"wrong tag for list of variables");const lt=gt.readUint32();st=new Array(lt);for(let et=0;et<lt;et++){const at=(0,_.readName)(gt),ft=gt.readUint32(),ct=new Array(ft);for(let Mt=0;Mt<ft;Mt++)ct[Mt]=gt.readUint32();const xt=vt(gt),dt=gt.readUint32();(0,_.notNetcdf)(dt<1&&dt>6,`non valid type ${dt}`);const _t=gt.readUint32();let Ct=gt.readUint32();j===2&&((0,_.notNetcdf)(Ct>0,"offsets larger than 4GB not supported"),Ct=gt.readUint32());let Et=!1;typeof rt<"u"&&ct[0]===rt&&(it+=_t,Et=!0),st[et]={name:at,dimensions:ct,attributes:xt,type:(0,a.num2str)(dt),size:_t,offset:Ct,record:Et}}}return{variables:st,recordStep:it}}},"./node_modules/netcdfjs/lib-esm/index.js":(i,s,o)=>{o.r(s),o.d(s,{NetCDFReader:()=>a.NetCDFReader});var a=o("./node_modules/netcdfjs/lib-esm/parser.js")},"./node_modules/netcdfjs/lib-esm/parser.js":(i,s,o)=>{o.r(s),o.d(s,{NetCDFReader:()=>ot});var a=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),_=o("./node_modules/netcdfjs/lib-esm/data.js"),$=o("./node_modules/netcdfjs/lib-esm/header.js"),nt=o("./node_modules/netcdfjs/lib-esm/toString.js"),tt=o("./node_modules/netcdfjs/lib-esm/utils.js");class ot{constructor(ut){this.toString=nt.toString;const mt=new a.IOBuffer(ut);mt.setBigEndian(),(0,tt.notNetcdf)(mt.readChars(3)!=="CDF","should start with CDF");const vt=mt.readByte();(0,tt.notNetcdf)(vt>2,"unknown version"),this.header=(0,$.header)(mt,vt),this.buffer=mt}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(ut){const mt=this.globalAttributes.find(vt=>vt.name===ut);return mt?mt.value:null}getDataVariableAsString(ut){const mt=this.getDataVariable(ut);return mt?mt.join(""):null}get variables(){return this.header.variables}getDataVariable(ut){let mt;if(typeof ut=="string"?mt=this.header.variables.find(vt=>vt.name===ut):mt=ut,mt===void 0)throw new Error("Not a valid NetCDF v3.x file: variable not found");return this.buffer.seek(mt.offset),mt.record?(0,_.record)(this.buffer,mt,this.header.recordDimension):(0,_.nonRecord)(this.buffer,mt)}dataVariableExists(ut){return this.header.variables.find(vt=>vt.name===ut)!==void 0}attributeExists(ut){return this.globalAttributes.find(vt=>vt.name===ut)!==void 0}}},"./node_modules/netcdfjs/lib-esm/toString.js":(i,s,o)=>{o.r(s),o.d(s,{toString:()=>a});function a(){const _=[];_.push("DIMENSIONS");for(const nt of this.dimensions)_.push(`  ${nt.name.padEnd(30)} = size: ${nt.size}`);_.push(""),_.push("GLOBAL ATTRIBUTES");for(const nt of this.globalAttributes)_.push(`  ${nt.name.padEnd(30)} = ${nt.value}`);const $=JSON.parse(JSON.stringify(this.variables));_.push(""),_.push("VARIABLES:");for(const nt of $){nt.value=this.getDataVariable(nt);let tt=JSON.stringify(nt.value);tt.length>50&&(tt=tt.substring(0,50)),isNaN(nt.value.length)||(tt+=` (length: ${nt.value.length})`),_.push(`  ${nt.name.padEnd(30)} = ${tt}`)}return _.join(`
`)}},"./node_modules/netcdfjs/lib-esm/types.js":(i,s,o)=>{o.r(s),o.d(s,{num2bytes:()=>$,num2str:()=>_,readType:()=>ot,str2num:()=>nt});const a={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function _(ut){switch(Number(ut)){case a.BYTE:return"byte";case a.CHAR:return"char";case a.SHORT:return"short";case a.INT:return"int";case a.FLOAT:return"float";case a.DOUBLE:return"double";default:return"undefined"}}function $(ut){switch(Number(ut)){case a.BYTE:return 1;case a.CHAR:return 1;case a.SHORT:return 2;case a.INT:return 4;case a.FLOAT:return 4;case a.DOUBLE:return 8;default:return-1}}function nt(ut){switch(String(ut)){case"byte":return a.BYTE;case"char":return a.CHAR;case"short":return a.SHORT;case"int":return a.INT;case"float":return a.FLOAT;case"double":return a.DOUBLE;default:return-1}}function tt(ut,mt){if(ut!==1){const vt=new Array(ut);for(let ht=0;ht<ut;ht++)vt[ht]=mt();return vt}else return mt()}function ot(ut,mt,vt){switch(mt){case a.BYTE:return Array.from(ut.readBytes(vt));case a.CHAR:return pt(ut.readChars(vt));case a.SHORT:return tt(vt,ut.readInt16.bind(ut));case a.INT:return tt(vt,ut.readInt32.bind(ut));case a.FLOAT:return tt(vt,ut.readFloat32.bind(ut));case a.DOUBLE:return tt(vt,ut.readFloat64.bind(ut));default:throw new Error(`non valid type ${mt}`)}}function pt(ut){return ut.charCodeAt(ut.length-1)===0?ut.substring(0,ut.length-1):ut}},"./node_modules/netcdfjs/lib-esm/utils.js":(i,s,o)=>{o.r(s),o.d(s,{notNetcdf:()=>a,padding:()=>_,readName:()=>$});function a(nt,tt){if(nt)throw new TypeError(`Not a valid NetCDF v3.x file: ${tt}`)}function _(nt){nt.offset%4!==0&&nt.skip(4-nt.offset%4)}function $(nt){const tt=nt.readUint32(),ot=nt.readChars(tt);return _(nt),ot}},"./src/WebGL/shaders/lib/basic/basic.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform mat4 viewMatrix;
uniform float opacity;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
varying vec3 vColor;
//DEFINEFRAGCOLOR
void main() {
    gl_FragColor = vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/basic/basic.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

attribute vec3 position;
attribute vec3 color;

varying vec3 vColor;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;

}`},"./src/WebGL/shaders/lib/blur/blur.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`const float INV_TOTAL_SAMPLES_FACTOR = 1.0 / 9.0;
uniform highp sampler2D inTex;
varying highp vec2 vTexCoords;
    
void main() {
 
 vec2 texelSize = 1.0 / vec2(textureSize(inTex,0));
 float blurred_visibility_factor = 0.0f;
 for (int t = -1; t <= 1; ++t) {
  for (int s = -1; s <= 1; ++s) {
   vec2 offset = vec2(float(s), float(t)) * texelSize;
   blurred_visibility_factor += texture2D(inTex, vTexCoords + offset).r;
  }
 }
    
 gl_FragDepthEXT = blurred_visibility_factor * INV_TOTAL_SAMPLES_FACTOR;
 
}`},"./src/WebGL/shaders/lib/blur/blur.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/instanced/instanced.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
#ifdef SHADED
uniform highp sampler2D shading;
#endif
varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    vColor *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/instanced/instanced.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 offset;
attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/lambert/lambert.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
#ifdef SHADED
uniform highp sampler2D shading;
#endif
varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    vColor *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}`},"./src/WebGL/shaders/lib/lambert/lambert.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`
#ifdef SHADED
uniform highp sampler2D shading;
#endif

uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vLightBack;

varying vec3 vColor;


//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    if ( gl_FrontFacing )
       gl_FragColor.xyz *= vLightFront;
    else
       gl_FragColor.xyz *= vLightBack;
    #endif

    vec3 color = vColor;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( color, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec3 vLightBack;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );
    vLightBack = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;
    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/outline/outline.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
//DEFINEFRAGCOLOR

void main() {
    gl_FragColor = vec4( outlineColor, 1 );

    float depth = gl_FragCoord.z / gl_FragCoord.w;
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );    
}


`},"./src/WebGL/shaders/lib/outline/outline.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float vWidth;
uniform float vHeight;
uniform float outlineMaxPixels;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

void main() {

    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    mvPosition.xy += norm.xy*outlineWidth;
    vec4 outpos = projectionMatrix * mvPosition;

    if(outlineMaxPixels > 0.0) {
        vec4 unadjusted = projectionMatrix*modelViewMatrix * vec4( position, 1.0 );
        float w = outpos.w;
        //normalize homogeneous coords
        unadjusted /= unadjusted.w;
        outpos /= outpos.w;
        vec2 diff = outpos.xy-unadjusted.xy;
        //put into pixels
        diff.x *= vWidth;
        diff.y *= vHeight;
        if ( length(diff) > outlineMaxPixels) {
            vec2 ndiff = normalize(diff)*outlineMaxPixels;
            ndiff.x /= vWidth;
            ndiff.y /= vHeight;
            outpos.xy = unadjusted.xy;
            outpos.xy += ndiff;
        }
        outpos *= w; //if I don't do this things blow up
    }
    gl_Position = outpos;
    mvPosition.z -= outlinePushback; //go backwards in model space
    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..
    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;
}

`},"./src/WebGL/shaders/lib/screen/screen.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = texture2D(colormap, vTexCoords);

   //gl_FragColor.g = gl_FragColor.b =  gl_FragColor.r; //debug shading 
}
        `},"./src/WebGL/shaders/lib/screen/screen.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform highp sampler2D colormap;
varying highp vec2 vTexCoords;


// Basic FXAA implementation based on the code on geeks3d.com 
#define FXAA_REDUCE_MIN (1.0/ 128.0)
#define FXAA_REDUCE_MUL (1.0 / 8.0)
#define FXAA_SPAN_MAX 8.0


vec4 applyFXAA(vec2 fragCoord, highp sampler2D tex)
{
    vec4 color;
    ivec2 dim = textureSize(tex,0);
    vec2 dimensions = vec2(float(dim.x),float(dim.y));
    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec3 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP).xyz;
    vec3 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP).xyz;
    vec3 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP).xyz;
    vec3 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP).xyz;
    vec4 rgbM  = texture2D(tex, fragCoord  * inverseVP);
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM.xyz,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
            dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)).xyz +
        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord  + dir * -0.5).xyz +
        texture2D(tex, fragCoord  + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, rgbM.w);
    else
        color = vec4(rgbB, rgbM.w);
    return color;
}


//DEFINEFRAGCOLOR
void main (void) {
    ivec2 dim = textureSize(colormap,0);

  gl_FragColor = applyFXAA(vTexCoords, colormap);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`
uniform mat4 viewMatrix;
uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float uDepth;
uniform vec3 directionalLightColor[ 1 ];

varying vec3 vColor;
varying vec2 mapping;
varying float rval;
varying vec3 vLight;
varying vec3 center;

#ifdef SHADED
uniform highp sampler2D shading;
#endif

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));
    float dotProduct = dot( norm, vLight );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;
    vec3 color = vLight*vColor;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif    
    gl_FragColor = vec4(color, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );


}

`},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying vec3 vColor;
varying float rval;
varying vec3 vLight;
varying vec3 center;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz );
    mapping = normal.xy;
    rval = abs(normal.x);
    gl_Position = projPosition+adjust;

}
`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform mat4 projectionMatrix;
varying vec2 mapping;
varying float rval;
varying vec3 center;

uniform float outlinePushback;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragColor = vec4(outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float outlineMaxPixels;
uniform float vWidth;
uniform float vHeight;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying float rval;
varying vec3 center;

void main() {

    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);

    vec4 adjust = projectionMatrix* vec4(norm,normal.z,1.0); 
    mapping = norm.xy;
    rval = abs(norm.x);
    gl_Position = projPosition+vec4(adjust.xy,0.0,0.0);

    if(outlineMaxPixels > 0.0) {
        vec4 unadjusted = projectionMatrix*vec4(center.x+normal.x, center.y,center.z,1.0); 
        vec4 ccoord = projectionMatrix*vec4(center.xyz,1.0);
        adjust = projectionMatrix* vec4(center.x+norm.x,center.y,center.z,1.0); 
        //subtract center 
        unadjusted.xyz -= ccoord.xyz;
        adjust.xyz -= ccoord.xyz;
        unadjusted /= unadjusted.w;
        adjust /= adjust.w;
        float diff = abs(adjust.x-unadjusted.x);
        diff *= vWidth;
        if(diff > outlineMaxPixels) {
            
            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth;
            //adjsut reval by ratio of lengths
            rval *= fixlen/abs(adjust.x);
        }

    }
}

`},"./src/WebGL/shaders/lib/sprite/sprite.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform vec3 color;
uniform sampler2D map;
uniform float opacity;

uniform int fogType;
uniform vec3 fogColor;
uniform float fogDensity;
uniform float fogNear;
uniform float fogFar;
uniform float alphaTest;

varying vec2 vUV;
//DEFINEFRAGCOLOR

void main() {

    vec4 texture = texture2D(map, vUV);

    if (texture.a <= alphaTest) discard;

    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);

    if (fogType > 0) {

        float depth = gl_FragCoord.z / gl_FragCoord.w;
        float fogFactor = 0.0;

        if (fogType == 1) {
            fogFactor = smoothstep(fogNear, fogFar, depth);
        }

        else {
            const float LOG2 = 1.442695;
            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);
            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);
        }

        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);

    }
}

`},"./src/WebGL/shaders/lib/sprite/sprite.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform int useScreenCoordinates;
uniform vec3 screenPosition;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float rotation;
uniform vec2 scale;
uniform vec2 alignment;
uniform vec2 uvOffset;
uniform vec2 uvScale;

attribute vec2 position;
attribute vec2 uv;

varying vec2 vUV;

void main() {

    vUV = uvOffset + uv * uvScale;

    vec2 alignedPosition = position + alignment;

    vec2 rotatedPosition;
    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;
    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;

    vec4 finalPosition;

    if(useScreenCoordinates != 0) {
        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);
    }

    else {
        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;
        finalPosition.xy += rotatedPosition; 
    }

    gl_Position = finalPosition;

}

`},"./src/WebGL/shaders/lib/ssao/ssao.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform sampler2D depthmap;
varying highp vec2 vTexCoords;
uniform float vWidth;
uniform float vHeight;
uniform float total_strength;
uniform float radius;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

//code for pseudorandom vector from chatgpt
float hash(vec3 p) {
    p = fract(p * vec3(0.1031, 0.1030, 0.0973));
    p += dot(p, p.yzx + 33.33);
    return fract((p.x + p.y) * p.z);
}

// Generate a pseudorandom vec3 from a seed vec3
vec3 pseudorandomVec3(vec3 seed) {
    vec3 randomVec;
    randomVec.x = hash(seed);
    randomVec.y = hash(seed + vec3(1.0, 0.0, 17.1));
    randomVec.z = hash(seed + vec3(0.0, 13.23, 0.0));
    return randomVec;
}

void main(void)
{   
   const float base = 0.2;
   const float area = 0.75;
   const int cycles = 1;

   const int samples = 64;
   vec3 sample_sphere[64] = vec3[](
      vec3(0.091258,-0.510164,0.000000),
      vec3(-0.204347,-0.872967,0.187199),
      vec3(0.009690,-0.263696,-0.110414),
      vec3(0.175208,-0.563987,0.228527),
      vec3(-0.001824,-0.003113,-0.000323),
      vec3(0.411134,-0.719869,-0.261530),
      vec3(-0.074272,-0.377368,0.276290),
      vec3(-0.147773,-0.381587,-0.284529),
      vec3(0.173317,-0.199635,0.063295),
      vec3(-0.186452,-0.199460,0.076965),
      vec3(0.143985,-0.308160,-0.307687),
      vec3(0.053194,-0.148286,0.169589),
      vec3(-0.547656,-0.486476,-0.317378),
      vec3(0.020804,-0.015092,-0.004574),
      vec3(-0.038006,-0.043165,0.054059),
      vec3(-0.094795,-0.443908,-0.731525),
      vec3(0.547552,-0.396466,0.461477),
      vec3(-0.176886,-0.089989,0.007315),
      vec3(0.074401,-0.048840,-0.074039),
      vec3(-0.008240,-0.075697,0.178197),
      vec3(-0.307880,-0.185053,-0.368943),
      vec3(0.309520,-0.108483,0.041646),
      vec3(-0.773478,-0.292946,0.538166),
      vec3(0.184487,-0.231594,-0.820065),
      vec3(0.207318,-0.100531,0.361797),
      vec3(-0.173306,-0.037737,-0.055289),
      vec3(0.548102,-0.105342,-0.253237),
      vec3(-0.119342,-0.043907,0.285162),
      vec3(-0.270247,-0.087861,-0.751357),
      vec3(0.449312,-0.039777,0.236146),
      vec3(-0.743773,-0.036095,0.196056),
      vec3(0.148819,-0.004300,-0.231448),
      vec3(0.008773,0.000809,0.051047),
      vec3(-0.461467,0.027390,-0.357386),
      vec3(0.169626,0.013338,-0.014053),
      vec3(-0.043786,0.007095,0.047331),
      vec3(0.004821,0.140371,-0.988260),
      vec3(0.092402,0.023994,0.101860),
      vec3(-0.295335,0.061530,-0.027372),
      vec3(0.024903,0.007537,-0.018901),
      vec3(-0.081463,0.125402,0.447794),
      vec3(-0.397119,0.231805,-0.631062),
      vec3(0.163853,0.059014,0.044905),
      vec3(-0.495220,0.214357,0.254139),
      vec3(0.306123,0.373687,-0.825715),
      vec3(0.021665,0.026737,0.053220),
      vec3(-0.208231,0.117129,-0.098685),
      vec3(0.139749,0.080968,-0.043086),
      vec3(-0.153599,0.182814,0.262090),
      vec3(-0.159673,0.496777,-0.743568),
      vec3(0.134797,0.117152,0.095753),
      vec3(-0.155626,0.120533,0.019395),
      vec3(0.042311,0.054462,-0.049709),
      vec3(0.001257,0.031288,0.034468),
      vec3(-0.002271,0.003199,-0.002304),
      vec3(0.662104,0.717307,0.033854),
      vec3(-0.373100,0.576021,0.308274),
      vec3(0.024233,0.231316,-0.173688),
      vec3(0.161311,0.420217,0.234273),
      vec3(-0.045248,0.078031,-0.010411),
      vec3(0.167453,0.376942,-0.094872),
      vec3(-0.056194,0.433247,0.173218),
      vec3(-0.016224,0.123149,-0.035569),
      vec3(0.067127,0.407641,0.028479)
   );

   float depth = texture2D(depthmap, vTexCoords).r;
   if(depth == 1.0) {
      discard;
   }

   vec4 screen_position = vec4(vTexCoords, depth,1.0);
   vec4 pos = projinv*screen_position;
   pos /= pos.w;
   vec3 position = pos.xyz;

   //approximate the normal from the depth map; I find this simpler
   //than trying to recompute the exact normal within every possible object shader

   //pixel offset positions in screen space
   ivec2 dim = textureSize(depthmap,0);
   vec2 offset1 = vec2(0.0,1.0/float(dim.y));
   vec2 offset2 = vec2(1.0/float(dim.x),0.0);
   float depth1 = texture2D(depthmap, vTexCoords + offset1).r;
   float depth2 = texture2D(depthmap, vTexCoords + offset2).r;
   
   vec3 p1 = vec3(screen_position.xy+offset1, depth1 - depth);
   vec3 p2 = vec3(screen_position.xy+offset2, depth2 - depth);

   //convert to model space
   vec4 pos1 = projinv*vec4(p1,1);
   pos1 /= pos1.w;
   vec4 pos2 = projinv*vec4(p2,1);
   pos2 /= pos2.w;

   vec3 normal = normalize(cross(pos1.xyz-position, pos2.xyz-position)); //model normal, important we normalize in model space

   //pseudo random number

   float occlusion = 0.0;
   for(int c = 0; c < cycles; c++) {
   vec3 random = normalize(pseudorandomVec3(position+float(c)));
   for(int i=0; i < samples; i++) {

      vec3 ray = radius * reflect(sample_sphere[i],random);
      vec3 hemi_ray = position + sign(dot(ray,normal)) * ray; //model space
      vec4 hemi_screen = projectionMatrix*vec4(hemi_ray,1.0);
      hemi_screen /= hemi_screen.w;
      
      float occ_depth = texture2D(depthmap, clamp(hemi_screen.xy,0.0,1.0)).r;
      float difference = hemi_screen.z - occ_depth;
      
      occlusion += step(0.0, difference) * (1.0-smoothstep(0.0, area, difference));
   }
   }
   float ao = 1.0 - total_strength * occlusion * (1.0 / float(cycles*samples));
   gl_FragDepthEXT = clamp(ao+base,0.0,1.0);

}`},"./src/WebGL/shaders/lib/ssao/ssao.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`    float dotProduct = dot( norm, vLight );
    vec3 light = vec3( max( dotProduct, 0.0 ) );
    color *= light;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif    
    gl_FragColor = vec4(color, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary
    r = abs(radius);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p1);
         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
         mvPosition.xyz = p1+t*pnorm; 
       } else { //orthographic
         mvPosition.xyz = p1;
       }
    } else {
      if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p2);
         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
         mvPosition.xyz = p2+t*pnorm;
       } else { //orthographic
         mvPosition.xyz = p2;
       } 
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;
    mvPosition.xyz +=  mult*(cr + doublecr).xyz;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..
}

`},"./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLight;
varying vec3 vColor;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

#ifdef SHADED
uniform highp sampler2D shading;
#endif

//DEFINEFRAGCOLOR

//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf
//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl
//with a bit more care (caps) this could be a general cylinder imposter (see also outline)
void main() {
    vec3 color = abs(vColor);
    vec3 pos = cposition;
    vec3 p = pos; //ray point
    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic
    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective
    vec3 pa = p1; //cyl start
    vec3 va = normalize(p2-p1); //cyl norm
    vec3 tmp1 = v-(dot(v,va)*va);
    vec3 deltap = p-pa;
    float A = dot(tmp1,tmp1);
    if(A == 0.0) discard;
    vec3 tmp2 = deltap-(dot(deltap,va)*va);
    float B = 2.0*dot(tmp1, tmp2);
    float C = dot(tmp2,tmp2)-r*r;
//quadratic equation!
    float det = (B*B) - (4.0*A*C);
    if(det < 0.0) discard;
    float sqrtDet = sqrt(det);
    float posT = (-B+sqrtDet)/(2.0*A);
    float negT = (-B-sqrtDet)/(2.0*A);
    float intersectionT = min(posT,negT);
    vec3 qi = p+v*intersectionT;
    float dotp1 = dot(va,qi-p1);
    float dotp2 = dot(va,qi-p2);
    vec3 norm;
    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0
       vec3 cp;
       if( dotp1 < 0.0) {  
//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not
        cp = p1;
       } else {
//          if(vColor.y < 0.0 ) discard;
          cp = p2;
       }
       vec3 diff = p-cp;
       A = dot(v,v);
       B = dot(diff,v)*2.0;
       C = dot(diff,diff)-r*r;
       det = (B*B) - (4.0*C);
       if(det < 0.0) discard;
       sqrtDet = sqrt(det);
       posT = (-B+sqrtDet)/(2.0);
       negT = (-B-sqrtDet)/(2.0);
       float t = min(posT,negT);
       qi = p+v*t; 
       norm = normalize(qi-cp); 
    } else {
       norm = normalize(qi-(dotp1*va + p1));
    }
    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragDepthEXT = depth;`},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];
uniform vec3 outlineColor;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float outlineMaxPixels;
uniform float vWidth;
uniform mat4 projinv;


attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = outlineColor;
    float rad = radius+sign(radius)*outlineWidth;
    r = abs(rad);

    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
//pushback
    float scale = 1.0;
    if(projectionMatrix[3][3] != 0.0) { //orthographic
        to.z -= outlinePushback;
        pt.z -= outlinePushback;
    } else { //perspective
        vec4 midbefore = pt;
        if(length(to.xyz) < length(pt)) {
            midbefore = to;
        }
        vec4 midafter = midbefore;
        midafter.xyz += normalize(midbefore.xyz)*outlinePushback;

        to.xyz += normalize(to.xyz)*outlinePushback;
        pt.xyz += normalize(pt.xyz)*outlinePushback;

        //figure out a scaling factor for radius to account for perspective setback
        vec4 midbeforer = vec4(midbefore.x+rad,midbefore.y, midbefore.z, midbefore.w);
        vec4 midafterr = vec4(midafter.x+rad,midafter.y, midafter.z, midafter.w);

        vec4 mb = projectionMatrix*midbefore;
        vec4 mbr = projectionMatrix*midbeforer;
        vec4 ma = projectionMatrix*midafter;
        vec4 mar = projectionMatrix*midafterr;
        mb /= mb.w;
        mbr /= mbr.w;
        ma /= ma.w;
        mar /= mar.w;
        scale = abs((mbr.x-mb.x)/(mar.x-ma.x));
        rad *= scale;
        r = abs(rad);
    }
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }

    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       vec3 pnorm = normalize(p1);
       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
       mvPosition.xyz = p1+t*pnorm;
    } else {
       vec3 pnorm = normalize(p2);
       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
       mvPosition.xyz = p2+t*pnorm;
       mult *= -1.0;
    }

    if(outlineMaxPixels > 0.0) {
        vec4 cpos = mvPosition;
        vec4 unadjusted = projectionMatrix*vec4(cpos.x+abs(scale*radius), cpos.y,cpos.z,cpos.w); 
        vec4 ccoord = projectionMatrix*cpos;
        vec4 adjust = projectionMatrix*vec4(cpos.x+r,cpos.y,cpos.z,cpos.w); 
        unadjusted /= unadjusted.w;
        adjust /= adjust.w;
        unadjusted.xyz -= ccoord.xyz/ccoord.w;
        adjust.xyz -= ccoord.xyz/ccoord.w;
        float diff = abs(adjust.x-unadjusted.x);
        diff *= vWidth; //this should now be in pixels
        if(diff > outlineMaxPixels) {
            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth; 
            vec4 pcoord = ccoord;
            pcoord.x += fixlen*pcoord.w;
            vec4 altc = projinv*pcoord;
            r= abs(altc.x-cpos.x);
        }
    }

    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;
    mvPosition.xy +=  mult*(cr + doublecr).xy;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vLight = vec3(1.0,1.0,1.0);
}

`},"./src/WebGL/shaders/lib/volumetric/volumetric.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`
uniform highp sampler3D data;
uniform highp sampler2D colormap;
uniform highp sampler2D depthmap;


uniform mat4 textmat;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

uniform float step;
uniform float subsamples;
uniform float maxdepth;
uniform float transfermin;
uniform float transfermax;
in  vec4 mvPosition;
out vec4 color;
void main(void) {

   vec4 pos = mvPosition;
   bool seengood = false;
   float i = 0.0;
   color = vec4(1,1,1,0);
   float increment = 1.0/subsamples;
   float maxsteps = (maxdepth*subsamples/step);
//there's probably a better way to do this..
//calculate farthest possible point in model coordinates
   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);
// convert to projection
   maxpos = projectionMatrix*maxpos;
   vec4 startp = projectionMatrix*pos;
// homogonize
   maxpos /= maxpos.w;
   startp /= startp.w;
//take x,y from start and z from max
   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);
//convert back to model space
   maxpos = projinv*maxpos;
   maxpos /= maxpos.w;
   float incr = step/subsamples;
//get depth from depthmap
//startp is apparently [-1,1]
   vec2 tpos = startp.xy/2.0+0.5;
   float depth = texture(depthmap, tpos).r;
//compute vector between start and end
   vec4 direction = maxpos-pos;
   for( i = 0.0; i <= maxsteps; i++) {
      vec4 pt = (pos+(i/maxsteps)*direction);
      vec4 ppt = projectionMatrix*pt;
      float ptdepth = ppt.z/ppt.w;
      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
      if(ptdepth > depth) break;
      pt = textmat*pt;
//       pt /= pt.w;
      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {
         seengood = true;
      } else if(seengood) {
         break;
      }
      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){
          color.a = 0.0;
          continue;
      }
      else {
         float val = texture(data, pt.zyx).r;
         if(isinf(val)) continue; //masked out
         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range
         vec4 val_color = texture(colormap, vec2(cval,0.5));
         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;
         color.a += (1.0 - color.a) * val_color.a; 
         if(color.a > 0.0) color.rgb /= color.a;
//          color = vec4(pt.x, pt.y, pt.z, 1.0);
      }
//       color = vec4(pt.x, pt.y, pt.z, 0.0)
    }
}

        `},"./src/WebGL/shaders/lib/volumetric/volumetric.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

in vec3 position;
out vec4 mvPosition;
void main() {

    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix*mvPosition;
}
`},"./src/GLDraw.ts":(i,s,o)=>{o.r(s),o.d(s,{CAP:()=>_,GLDraw:()=>$});var a=o("./src/WebGL/math/index.ts"),_;(function(nt){nt[nt.NONE=0]="NONE",nt[nt.FLAT=1]="FLAT",nt[nt.ROUND=2]="ROUND"})(_||(_={}));var $;(function(nt){function tt(rt,j,_e){var it=Math.hypot(rt,j),st,lt,et,at,ft;it<1e-4?(lt=0,et=1):(lt=-rt/it,et=j/it),j=-lt*rt+et*j,st=Math.hypot(j,_e),st<1e-4?(at=0,ft=1):(at=_e/st,ft=j/st);var ct=new Float32Array(9);return ct[0]=et,ct[1]=lt,ct[2]=0,ct[3]=-lt*ft,ct[4]=et*ft,ct[5]=at,ct[6]=lt*at,ct[7]=-et*at,ct[8]=ft,ct}class ot{constructor(){this.cache={};let j=[],_e=4,it=Math.pow(2,_e),st=2,lt=Math.pow(2,st),et=it/lt,at;for(j[0]=new a.Vector3(-1,0,0),j[et]=new a.Vector3(0,0,1),j[et*2]=new a.Vector3(1,0,0),j[et*3]=new a.Vector3(0,0,-1),st=3;st<=_e;st++){for(lt=Math.pow(2,st-1),et=it/lt,at=0;at<lt-1;at++)j[et/2+at*et]=j[at*et].clone().add(j[(at+1)*et]).normalize();at=lt-1,j[et/2+at*et]=j[at*et].clone().add(j[0]).normalize()}this.basisVectors=j}getVerticesForRadius(j,_e,it){if(typeof this.cache<"u"&&this.cache[j]!==void 0&&this.cache[j][_e+it]!==void 0)return this.cache[j][_e+it];for(var st=this.basisVectors.length,lt=[],et=[],at,ft=0;ft<st;ft++)lt.push(this.basisVectors[ft].clone().multiplyScalar(j)),lt.push(this.basisVectors[ft].clone().multiplyScalar(j)),at=this.basisVectors[ft].clone().normalize(),et.push(at),et.push(at);var ct=[],xt=10,dt=st,_t=0,Ct=Math.PI*2,Et=0,Mt=Math.PI,St,Ot,At=!1,wt=!1;for(Ot=0;Ot<=xt;Ot++){At=Ot===0||Ot===xt,wt=Ot===xt/2;var Pt=[],Lt=[];for(St=0;St<=dt;St++){if(wt){var Rt=St<dt?2*St:0;Lt.push(Rt+1),Pt.push(Rt);continue}var Dt=St/dt,$t=Ot/xt;if(!At||St===0)if(St<dt){var jt=new a.Vector3;jt.x=-j*Math.cos(_t+Dt*Ct)*Math.sin(Et+$t*Mt),_e==1?jt.y=0:jt.y=j*Math.cos(Et+$t*Mt),jt.z=j*Math.sin(_t+Dt*Ct)*Math.sin(Et+$t*Mt),Math.abs(jt.x)<1e-5&&(jt.x=0),Math.abs(jt.y)<1e-5&&(jt.y=0),Math.abs(jt.z)<1e-5&&(jt.z=0),_e==_.FLAT?(at=new a.Vector3(0,Math.cos(Et+$t*Mt),0),at.normalize()):(at=new a.Vector3(jt.x,jt.y,jt.z),at.normalize()),lt.push(jt),et.push(at),Pt.push(lt.length-1)}else Pt.push(lt.length-dt);else At&&Pt.push(lt.length-1)}wt&&ct.push(Lt),ct.push(Pt)}var Zt={vertices:lt,normals:et,verticesRows:ct,w:dt,h:xt};return j in this.cache||(this.cache[j]={}),this.cache[j][_e+it]=Zt,Zt}}var pt=new ot;function ut(rt,j,_e,it,st,lt=0,et=0){if(!j||!_e)return;let at=function(hr){if(typeof hr=="string"){let Br=hr;return Br.toLowerCase()=="flat"?_.FLAT:Br.toLowerCase()=="round"?_.ROUND:_.NONE}else return hr};lt=at(lt),et=at(et);var ft=et||lt;st=st||{r:0,g:0,b:0};var ct=tt(_e.x-j.x,_e.y-j.y,_e.z-j.z),xt=pt.getVerticesForRadius(it,et,"to"),dt=xt.w,_t=xt.h,Ct=ft?_t*dt+2:2*dt,Et=rt.updateGeoGroup(Ct),Mt=xt.vertices,St=xt.normals,Ot=xt.verticesRows,At=Ot[_t/2],wt=Ot[_t/2+1],Pt=Et.vertices,Lt,Rt,Dt,$t,jt,Zt,qt=Et.vertexArray,er=Et.normalArray,Yt=Et.colorArray,Qt=Et.faceArray;for(Dt=0;Dt<dt;++Dt){var cr=2*Dt;$t=ct[0]*Mt[cr].x+ct[3]*Mt[cr].y+ct[6]*Mt[cr].z,jt=ct[1]*Mt[cr].x+ct[4]*Mt[cr].y+ct[7]*Mt[cr].z,Zt=ct[5]*Mt[cr].y+ct[8]*Mt[cr].z,Lt=3*(Pt+cr),Rt=Et.faceidx,qt[Lt]=$t+j.x,qt[Lt+1]=jt+j.y,qt[Lt+2]=Zt+j.z,qt[Lt+3]=$t+_e.x,qt[Lt+4]=jt+_e.y,qt[Lt+5]=Zt+_e.z,er[Lt]=$t,er[Lt+3]=$t,er[Lt+1]=jt,er[Lt+4]=jt,er[Lt+2]=Zt,er[Lt+5]=Zt,Yt[Lt]=st.r,Yt[Lt+3]=st.r,Yt[Lt+1]=st.g,Yt[Lt+4]=st.g,Yt[Lt+2]=st.b,Yt[Lt+5]=st.b,Qt[Rt]=wt[Dt]+Pt,Qt[Rt+1]=wt[Dt+1]+Pt,Qt[Rt+2]=At[Dt]+Pt,Qt[Rt+3]=At[Dt]+Pt,Qt[Rt+4]=wt[Dt+1]+Pt,Qt[Rt+5]=At[Dt+1]+Pt,Et.faceidx+=6}if(ft){var lr=et?0:_t/2,gr=lt?_t+1:_t/2+1,rr,Gt,nr,_r,Sr,Ar,Or,Mr,wr,Tr,fr,pr,Lr,Pr,Bt,Ut,Wt,ar,Xt,Er,mr,It,Jt,sr,Cr,tr,vr,kt,br,Dr,Tt,ur;for(jt=lr;jt<gr;jt++)if(jt!==_t/2){var or=jt<=_t/2?_e:j,Ft=pt.getVerticesForRadius(it,et,"to"),Ht=pt.getVerticesForRadius(it,lt,"from");for(or===_e?(Mt=Ft.vertices,St=Ft.normals,Ot=Ft.verticesRows):or==j&&(Mt=Ht.vertices,St=Ht.normals,Ot=Ht.verticesRows),$t=0;$t<dt;$t++)Rt=Et.faceidx,rr=Ot[jt][$t+1],br=(rr+Pt)*3,Gt=Ot[jt][$t],Dr=(Gt+Pt)*3,nr=Ot[jt+1][$t],Tt=(nr+Pt)*3,_r=Ot[jt+1][$t+1],ur=(_r+Pt)*3,Sr=ct[0]*Mt[rr].x+ct[3]*Mt[rr].y+ct[6]*Mt[rr].z,Ar=ct[0]*Mt[Gt].x+ct[3]*Mt[Gt].y+ct[6]*Mt[Gt].z,Or=ct[0]*Mt[nr].x+ct[3]*Mt[nr].y+ct[6]*Mt[nr].z,Mr=ct[0]*Mt[_r].x+ct[3]*Mt[_r].y+ct[6]*Mt[_r].z,wr=ct[1]*Mt[rr].x+ct[4]*Mt[rr].y+ct[7]*Mt[rr].z,Tr=ct[1]*Mt[Gt].x+ct[4]*Mt[Gt].y+ct[7]*Mt[Gt].z,fr=ct[1]*Mt[nr].x+ct[4]*Mt[nr].y+ct[7]*Mt[nr].z,pr=ct[1]*Mt[_r].x+ct[4]*Mt[_r].y+ct[7]*Mt[_r].z,Lr=ct[5]*Mt[rr].y+ct[8]*Mt[rr].z,Pr=ct[5]*Mt[Gt].y+ct[8]*Mt[Gt].z,Bt=ct[5]*Mt[nr].y+ct[8]*Mt[nr].z,Ut=ct[5]*Mt[_r].y+ct[8]*Mt[_r].z,qt[br]=Sr+or.x,qt[Dr]=Ar+or.x,qt[Tt]=Or+or.x,qt[ur]=Mr+or.x,qt[br+1]=wr+or.y,qt[Dr+1]=Tr+or.y,qt[Tt+1]=fr+or.y,qt[ur+1]=pr+or.y,qt[br+2]=Lr+or.z,qt[Dr+2]=Pr+or.z,qt[Tt+2]=Bt+or.z,qt[ur+2]=Ut+or.z,Yt[br]=st.r,Yt[Dr]=st.r,Yt[Tt]=st.r,Yt[ur]=st.r,Yt[br+1]=st.g,Yt[Dr+1]=st.g,Yt[Tt+1]=st.g,Yt[ur+1]=st.g,Yt[br+2]=st.b,Yt[Dr+2]=st.b,Yt[Tt+2]=st.b,Yt[ur+2]=st.b,Wt=ct[0]*St[rr].x+ct[3]*St[rr].y+ct[6]*St[rr].z,ar=ct[0]*St[Gt].x+ct[3]*St[Gt].y+ct[6]*St[Gt].z,Xt=ct[0]*St[nr].x+ct[3]*St[nr].y+ct[6]*St[nr].z,Er=ct[0]*St[_r].x+ct[3]*St[_r].y+ct[6]*St[_r].z,mr=ct[1]*St[rr].x+ct[4]*St[rr].y+ct[7]*St[rr].z,It=ct[1]*St[Gt].x+ct[4]*St[Gt].y+ct[7]*St[Gt].z,Jt=ct[1]*St[nr].x+ct[4]*St[nr].y+ct[7]*St[nr].z,sr=ct[1]*St[_r].x+ct[4]*St[_r].y+ct[7]*St[_r].z,Cr=ct[5]*St[rr].y+ct[8]*St[rr].z,tr=ct[5]*St[Gt].y+ct[8]*St[Gt].z,vr=ct[5]*St[nr].y+ct[8]*St[nr].z,kt=ct[5]*St[_r].y+ct[8]*St[_r].z,jt===0?(er[br]=Wt,er[Tt]=Xt,er[ur]=Er,er[br+1]=mr,er[Tt+1]=Jt,er[ur+1]=sr,er[br+2]=Cr,er[Tt+2]=vr,er[ur+2]=kt,Qt[Rt]=rr+Pt,Qt[Rt+1]=nr+Pt,Qt[Rt+2]=_r+Pt,Et.faceidx+=3):jt===gr-1?(er[br]=Wt,er[Dr]=ar,er[Tt]=Xt,er[br+1]=mr,er[Dr+1]=It,er[Tt+1]=Jt,er[br+2]=Cr,er[Dr+2]=tr,er[Tt+2]=vr,Qt[Rt]=rr+Pt,Qt[Rt+1]=Gt+Pt,Qt[Rt+2]=nr+Pt,Et.faceidx+=3):(er[br]=Wt,er[Dr]=ar,er[ur]=Er,er[br+1]=mr,er[Dr+1]=It,er[ur+1]=sr,er[br+2]=Cr,er[Dr+2]=tr,er[ur+2]=kt,er[Dr]=ar,er[Tt]=Xt,er[ur]=Er,er[Dr+1]=It,er[Tt+1]=Jt,er[ur+1]=sr,er[Dr+2]=tr,er[Tt+2]=vr,er[ur+2]=kt,Qt[Rt]=rr+Pt,Qt[Rt+1]=Gt+Pt,Qt[Rt+2]=_r+Pt,Qt[Rt+3]=Gt+Pt,Qt[Rt+4]=nr+Pt,Qt[Rt+5]=_r+Pt,Et.faceidx+=6)}}Et.vertices+=Ct}nt.drawCylinder=ut;function mt(rt,j,_e,it,st){if(!j||!_e)return;st=st||{r:0,g:0,b:0};let lt=new a.Vector3(_e.x-j.x,_e.y-j.y,_e.z-j.z);var et=tt(lt.x,lt.y,lt.z);lt=lt.normalize();var at=pt.basisVectors.length,ft=pt.basisVectors,ct=at+2,xt=rt.updateGeoGroup(ct),dt=xt.vertices,_t,Ct,Et,Mt,St,Ot,At=xt.vertexArray,wt=xt.normalArray,Pt=xt.colorArray,Lt=xt.faceArray;for(_t=dt*3,At[_t]=j.x,At[_t+1]=j.y,At[_t+2]=j.z,wt[_t]=-lt.x,wt[_t+1]=-lt.y,wt[_t+2]=-lt.z,Pt[_t]=st.r,Pt[_t+1]=st.g,Pt[_t+2]=st.b,At[_t+3]=_e.x,At[_t+4]=_e.y,At[_t+5]=_e.z,wt[_t+3]=lt.x,wt[_t+4]=lt.y,wt[_t+5]=lt.z,Pt[_t+3]=st.r,Pt[_t+4]=st.g,Pt[_t+5]=st.b,_t+=6,Et=0;Et<at;++Et){var Rt=ft[Et].clone();Rt.multiplyScalar(it),Mt=et[0]*Rt.x+et[3]*Rt.y+et[6]*Rt.z,St=et[1]*Rt.x+et[4]*Rt.y+et[7]*Rt.z,Ot=et[5]*Rt.y+et[8]*Rt.z,At[_t]=Mt+j.x,At[_t+1]=St+j.y,At[_t+2]=Ot+j.z,wt[_t]=Mt,wt[_t+1]=St,wt[_t+2]=Ot,Pt[_t]=st.r,Pt[_t+1]=st.g,Pt[_t+2]=st.b,_t+=3}for(xt.vertices+=at+2,Ct=xt.faceidx,Et=0;Et<at;Et++){var Dt=dt+2+Et,$t=dt+2+(Et+1)%at;Lt[Ct]=Dt,Lt[Ct+1]=$t,Lt[Ct+2]=dt,Ct+=3,Lt[Ct]=Dt,Lt[Ct+1]=$t,Lt[Ct+2]=dt+1,Ct+=3}xt.faceidx+=6*at}nt.drawCone=mt;class vt{constructor(){this.cache=new Map}getVerticesForRadius(j,_e){_e=_e||2,this.cache.has(_e)||this.cache.set(_e,new Map);let it=this.cache.get(_e);if(it.has(j))return it.get(j);var st={vertices:[],verticesRows:[],normals:[]},lt=16*_e,et=10*_e;j<1&&(lt=10*_e,et=8*_e);var at=0,ft=Math.PI*2,ct=0,xt=Math.PI,dt,_t;for(_t=0;_t<=et;_t++){let Et=[];for(dt=0;dt<=lt;dt++){let Mt=dt/lt,St=_t/et,Ot=-j*Math.cos(at+Mt*ft)*Math.sin(ct+St*xt),At=j*Math.cos(ct+St*xt),wt=j*Math.sin(at+Mt*ft)*Math.sin(ct+St*xt);var Ct=new a.Vector3(Ot,At,wt);Ct.normalize(),st.vertices.push({x:Ot,y:At,z:wt}),st.normals.push(Ct),Et.push(st.vertices.length-1)}st.verticesRows.push(Et)}return it.set(j,st),st}}var ht=new vt;function gt(rt,j,_e,it,st){var lt=ht.getVerticesForRadius(_e,st),et=lt.vertices,at=lt.normals,ft=rt.updateGeoGroup(et.length),ct=ft.vertices,xt=ft.vertexArray,dt=ft.colorArray,_t=ft.faceArray,Ct=ft.lineArray,Et=ft.normalArray;for(let Ot=0,At=et.length;Ot<At;++Ot){let wt=3*(ct+Ot),Pt=et[Ot];xt[wt]=Pt.x+j.x,xt[wt+1]=Pt.y+j.y,xt[wt+2]=Pt.z+j.z,dt[wt]=it.r,dt[wt+1]=it.g,dt[wt+2]=it.b}ft.vertices+=et.length;let Mt=lt.verticesRows,St=Mt.length-1;for(let Ot=0;Ot<St;Ot++){let At=Mt[Ot].length-1;for(let wt=0;wt<At;wt++){let Pt=ft.faceidx,Lt=ft.lineidx,Rt=Mt[Ot][wt+1]+ct,Dt=Rt*3,$t=Mt[Ot][wt]+ct,jt=$t*3,Zt=Mt[Ot+1][wt]+ct,qt=Zt*3,er=Mt[Ot+1][wt+1]+ct,Yt=er*3,Qt=at[Rt-ct],cr=at[$t-ct],lr=at[Zt-ct],gr=at[er-ct];Math.abs(et[Rt-ct].y)===_e?(Et[Dt]=Qt.x,Et[qt]=lr.x,Et[Yt]=gr.x,Et[Dt+1]=Qt.y,Et[qt+1]=lr.y,Et[Yt+1]=gr.y,Et[Dt+2]=Qt.z,Et[qt+2]=lr.z,Et[Yt+2]=gr.z,_t[Pt]=Rt,_t[Pt+1]=Zt,_t[Pt+2]=er,Ct[Lt]=Rt,Ct[Lt+1]=Zt,Ct[Lt+2]=Rt,Ct[Lt+3]=er,Ct[Lt+4]=Zt,Ct[Lt+5]=er,ft.faceidx+=3,ft.lineidx+=6):Math.abs(et[Zt-ct].y)===_e?(Et[Dt]=Qt.x,Et[jt]=cr.x,Et[qt]=lr.x,Et[Dt+1]=Qt.y,Et[jt+1]=cr.y,Et[qt+1]=lr.y,Et[Dt+2]=Qt.z,Et[jt+2]=cr.z,Et[qt+2]=lr.z,_t[Pt]=Rt,_t[Pt+1]=$t,_t[Pt+2]=Zt,Ct[Lt]=Rt,Ct[Lt+1]=$t,Ct[Lt+2]=Rt,Ct[Lt+3]=Zt,Ct[Lt+4]=$t,Ct[Lt+5]=Zt,ft.faceidx+=3,ft.lineidx+=6):(Et[Dt]=Qt.x,Et[jt]=cr.x,Et[Yt]=gr.x,Et[Dt+1]=Qt.y,Et[jt+1]=cr.y,Et[Yt+1]=gr.y,Et[Dt+2]=Qt.z,Et[jt+2]=cr.z,Et[Yt+2]=gr.z,Et[jt]=cr.x,Et[qt]=lr.x,Et[Yt]=gr.x,Et[jt+1]=cr.y,Et[qt+1]=lr.y,Et[Yt+1]=gr.y,Et[jt+2]=cr.z,Et[qt+2]=lr.z,Et[Yt+2]=gr.z,_t[Pt]=Rt,_t[Pt+1]=$t,_t[Pt+2]=er,_t[Pt+3]=$t,_t[Pt+4]=Zt,_t[Pt+5]=er,Ct[Lt]=Rt,Ct[Lt+1]=$t,Ct[Lt+2]=Rt,Ct[Lt+3]=er,Ct[Lt+4]=$t,Ct[Lt+5]=Zt,Ct[Lt+6]=Zt,Ct[Lt+7]=er,ft.faceidx+=6,ft.lineidx+=8)}}}nt.drawSphere=gt})($||($={}))},"./src/GLModel.ts":(i,s,o)=>{o.r(s),o.d(s,{GLModel:()=>gt});var a=o("./src/WebGL/index.ts"),_=o("./src/WebGL/shapes/index.ts"),$=o("./src/WebGL/math/index.ts"),nt=o("./src/colors.ts"),tt=o("./src/GLDraw.ts"),ot=o("./src/glcartoon.ts"),pt=o("./src/utilities.ts"),ut=o("./src/Gradient.ts"),mt=o("./src/parsers/index.ts"),vt=o("./node_modules/netcdfjs/lib-esm/index.js"),ht=o("./src/parsers/utils/assignBonds.ts");class gt{static sameObj(j,_e){return j&&_e?JSON.stringify(j)==JSON.stringify(_e):j==_e}constructor(j,_e){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new $.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=nt.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=_e||{},this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:nt.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=j}getRadiusFromStyle(j,_e){var it=this.defaultSphereRadius;if(typeof _e.radius<"u")it=_e.radius;else if(gt.vdwRadii[j.elem])it=gt.vdwRadii[j.elem];else if(j.elem.length>1){let st=j.elem;st=st[0].toUpperCase()+st[1].toLowerCase(),gt.vdwRadii[st]&&(it=gt.vdwRadii[st])}return typeof _e.scale<"u"&&(it*=_e.scale),it}drawAtomCross(j,_e){if(j.style.cross){var it=j.style.cross;if(!it.hidden){var st=it.linewidth||gt.defaultlineWidth;_e[st]||(_e[st]=new a.Geometry);var lt=_e[st].updateGeoGroup(6),et=this.getRadiusFromStyle(j,it),at=[[et,0,0],[-et,0,0],[0,et,0],[0,-et,0],[0,0,et],[0,0,-et]],ft=j.clickable||j.hoverable;ft&&j.intersectionShape===void 0&&(j.intersectionShape={sphere:[],cylinder:[],line:[]});for(var ct=(0,pt.getColorFromStyle)(j,it),xt=lt.vertexArray,dt=lt.colorArray,_t=0;_t<6;_t++){var Ct=lt.vertices*3;if(lt.vertices++,xt[Ct]=j.x+at[_t][0],xt[Ct+1]=j.y+at[_t][1],xt[Ct+2]=j.z+at[_t][2],dt[Ct]=ct.r,dt[Ct+1]=ct.g,dt[Ct+2]=ct.b,ft){var Et=new $.Vector3(at[_t][0],at[_t][1],at[_t][2]);Et.multiplyScalar(.1),Et.set(Et.x+j.x,Et.y+j.y,Et.z+j.z),j.intersectionShape.line.push(Et)}}}}}getGoodCross(j,_e,it,st){for(var lt=null,et=-1,at=0,ft=j.bonds.length;at<ft;at++)if(j.bonds[at]!=_e.index){let xt=j.bonds[at],dt=this.atoms[xt],Ct=new $.Vector3(dt.x,dt.y,dt.z).clone();Ct.sub(it);let Et=Ct.clone();Et.cross(st);var ct=Et.lengthSq();if(ct>et&&(et=ct,lt=Et,et>.1))return lt}return lt}getSideBondV(j,_e,it){var st,lt,et,at,ft,ct=new $.Vector3(j.x,j.y,j.z),xt=new $.Vector3(_e.x,_e.y,_e.z),dt=xt.clone(),_t=null;if(dt.sub(ct),j.bonds.length===1)_e.bonds.length===1?(_t=dt.clone(),Math.abs(_t.x)>1e-4?_t.y+=1:_t.x+=1):(st=(it+1)%_e.bonds.length,lt=_e.bonds[st],et=this.atoms[lt],et.index==j.index&&(st=(st+1)%_e.bonds.length,lt=_e.bonds[st],et=this.atoms[lt]),at=new $.Vector3(et.x,et.y,et.z),ft=at.clone(),ft.sub(ct),_t=ft.clone(),_t.cross(dt));else if(_t=this.getGoodCross(j,_e,ct,dt),_t.lengthSq()<.01){var Ct=this.getGoodCross(_e,j,ct,dt);Ct!=null&&(_t=Ct)}return _t.lengthSq()<.01&&(_t=dt.clone(),Math.abs(_t.x)>1e-4?_t.y+=1:_t.x+=1),_t.cross(dt),_t.normalize(),_t}addLine(j,_e,it,st,lt,et){j[it]=st.x,j[it+1]=st.y,j[it+2]=st.z,_e[it]=et.r,_e[it+1]=et.g,_e[it+2]=et.b,j[it+3]=lt.x,j[it+4]=lt.y,j[it+5]=lt.z,_e[it+3]=et.r,_e[it+4]=et.g,_e[it+5]=et.b}drawBondLines(j,_e,it){if(j.style.line){var st=j.style.line;if(!st.hidden){var lt,et,at,ft,ct=st.linewidth||gt.defaultlineWidth;it[ct]||(it[ct]=new a.Geometry);for(var xt=it[ct].updateGeoGroup(6*j.bonds.length),dt=xt.vertexArray,_t=xt.colorArray,Ct=0;Ct<j.bonds.length;Ct++){var Et=j.bonds[Ct],Mt=_e[Et];if(Mt.style.line&&!(j.index>=Mt.index)){var St=new $.Vector3(j.x,j.y,j.z),Ot=new $.Vector3(Mt.x,Mt.y,Mt.z),At=St.clone().add(Ot).multiplyScalar(.5),wt=!1,Pt=j.clickable||j.hoverable,Lt=Mt.clickable||Mt.hoverable;(Pt||Lt)&&(Pt&&(j.intersectionShape===void 0&&(j.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),j.intersectionShape.line.push(St),j.intersectionShape.line.push(At)),Lt&&(Mt.intersectionShape===void 0&&(Mt.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Mt.intersectionShape.line.push(At),Mt.intersectionShape.line.push(Ot)));var Rt=(0,pt.getColorFromStyle)(j,j.style.line),Dt=(0,pt.getColorFromStyle)(Mt,Mt.style.line);if(j.bondStyles&&j.bondStyles[Ct]){var $t=j.bondStyles[Ct];if(!$t.iswire)continue;$t.singleBond&&(wt=!0),typeof $t.color1<"u"&&(Rt=nt.CC.color($t.color1)),typeof $t.color2<"u"&&(Dt=nt.CC.color($t.color2))}var jt=xt.vertices*3,Zt,qt;if(j.bondOrder[Ct]>1&&j.bondOrder[Ct]<4&&!wt){var er=this.getSideBondV(j,Mt,Ct),Yt=Ot.clone();Yt.sub(St),j.bondOrder[Ct]==2?(er.multiplyScalar(.1),lt=St.clone(),lt.add(er),et=St.clone(),et.sub(er),at=lt.clone(),at.add(Yt),ft=et.clone(),ft.add(Yt),Rt==Dt?(xt.vertices+=4,this.addLine(dt,_t,jt,lt,at,Rt),this.addLine(dt,_t,jt+6,et,ft,Rt)):(xt.vertices+=8,Yt.multiplyScalar(.5),Zt=lt.clone(),Zt.add(Yt),qt=et.clone(),qt.add(Yt),this.addLine(dt,_t,jt,lt,Zt,Rt),this.addLine(dt,_t,jt+6,Zt,at,Dt),this.addLine(dt,_t,jt+12,et,qt,Rt),this.addLine(dt,_t,jt+18,qt,ft,Dt))):j.bondOrder[Ct]==3&&(er.multiplyScalar(.1),lt=St.clone(),lt.add(er),et=St.clone(),et.sub(er),at=lt.clone(),at.add(Yt),ft=et.clone(),ft.add(Yt),Rt==Dt?(xt.vertices+=6,this.addLine(dt,_t,jt,St,Ot,Rt),this.addLine(dt,_t,jt+6,lt,at,Rt),this.addLine(dt,_t,jt+12,et,ft,Rt)):(xt.vertices+=12,Yt.multiplyScalar(.5),Zt=lt.clone(),Zt.add(Yt),qt=et.clone(),qt.add(Yt),this.addLine(dt,_t,jt,St,At,Rt),this.addLine(dt,_t,jt+6,At,Ot,Dt),this.addLine(dt,_t,jt+12,lt,Zt,Rt),this.addLine(dt,_t,jt+18,Zt,at,Dt),this.addLine(dt,_t,jt+24,et,qt,Rt),this.addLine(dt,_t,jt+30,qt,ft,Dt)))}else Rt==Dt?(xt.vertices+=2,this.addLine(dt,_t,jt,St,Ot,Rt)):(xt.vertices+=4,this.addLine(dt,_t,jt,St,At,Rt),this.addLine(dt,_t,jt+6,At,Ot,Dt))}}}}}drawAtomSphere(j,_e){if(j.style.sphere){var it=j.style.sphere;if(!it.hidden){var st=(0,pt.getColorFromStyle)(j,it),lt=this.getRadiusFromStyle(j,it);if((j.clickable===!0||j.hoverable)&&j.intersectionShape!==void 0){var et=new $.Vector3(j.x,j.y,j.z);j.intersectionShape.sphere.push(new _.Sphere(et,lt))}tt.GLDraw.drawSphere(_e,j,lt,st)}}}drawAtomClickSphere(j){if(j.style.clicksphere){var _e=j.style.clicksphere;if(!_e.hidden){var it=this.getRadiusFromStyle(j,_e);if((j.clickable===!0||j.hoverable)&&j.intersectionShape!==void 0){var st=new $.Vector3(j.x,j.y,j.z);j.intersectionShape.sphere.push(new _.Sphere(st,it))}}}}drawAtomInstanced(j,_e){if(j.style.sphere){var it=j.style.sphere;if(!it.hidden){var st=this.getRadiusFromStyle(j,it),lt=(0,pt.getColorFromStyle)(j,it),et=_e.updateGeoGroup(1),at=et.vertices,ft=at*3,ct=et.vertexArray,xt=et.colorArray,dt=et.radiusArray;if(ct[ft]=j.x,ct[ft+1]=j.y,ct[ft+2]=j.z,xt[ft]=lt.r,xt[ft+1]=lt.g,xt[ft+2]=lt.b,dt[at]=st,(j.clickable===!0||j.hoverable)&&j.intersectionShape!==void 0){var _t=new $.Vector3(j.x,j.y,j.z);j.intersectionShape.sphere.push(new _.Sphere(_t,st))}et.vertices+=1}}}drawSphereImposter(j,_e,it,st){var lt=j.updateGeoGroup(4),et,at=lt.vertices,ft=at*3,ct=lt.vertexArray,xt=lt.colorArray;for(et=0;et<4;et++)ct[ft+3*et]=_e.x,ct[ft+3*et+1]=_e.y,ct[ft+3*et+2]=_e.z;var dt=lt.normalArray;for(et=0;et<4;et++)xt[ft+3*et]=st.r,xt[ft+3*et+1]=st.g,xt[ft+3*et+2]=st.b;dt[ft+0]=-it,dt[ft+1]=it,dt[ft+2]=0,dt[ft+3]=-it,dt[ft+4]=-it,dt[ft+5]=0,dt[ft+6]=it,dt[ft+7]=-it,dt[ft+8]=0,dt[ft+9]=it,dt[ft+10]=it,dt[ft+11]=0,lt.vertices+=4;var _t=lt.faceArray,Ct=lt.faceidx;_t[Ct+0]=at,_t[Ct+1]=at+1,_t[Ct+2]=at+2,_t[Ct+3]=at+2,_t[Ct+4]=at+3,_t[Ct+5]=at,lt.faceidx+=6}drawAtomImposter(j,_e){if(j.style.sphere){var it=j.style.sphere;if(!it.hidden){var st=this.getRadiusFromStyle(j,it),lt=(0,pt.getColorFromStyle)(j,it);if((j.clickable===!0||j.hoverable)&&j.intersectionShape!==void 0){var et=new $.Vector3(j.x,j.y,j.z);j.intersectionShape.sphere.push(new _.Sphere(et,st))}this.drawSphereImposter(_e,j,st,lt)}}}calculateDashes(j,_e,it,st,lt){var et=Math.sqrt(Math.pow(j.x-_e.x,2)+Math.pow(j.y-_e.y,2)+Math.pow(j.z-_e.z,2));it=Math.max(it,0),lt=Math.max(lt,0)+2*it,st=Math.max(st,.001),st+lt>et&&(st=et,lt=0);var at=Math.floor((et-st)/(st+lt))+1,ft=at*st;lt=(et-ft)/at;for(var ct,xt=new $.Vector3(j.x,j.y,j.z),dt=new $.Vector3((_e.x-j.x)/(et/lt),(_e.y-j.y)/(et/lt),(_e.z-j.z)/(et/lt)),_t=new $.Vector3((_e.x-j.x)/(et/st),(_e.y-j.y)/(et/st),(_e.z-j.z)/(et/st)),Ct=[],Et=0;Et<at;Et++)ct=new $.Vector3(xt.x+_t.x,xt.y+_t.y,xt.z+_t.z),Ct.push({from:xt,to:ct}),xt=new $.Vector3(ct.x+dt.x,ct.y+dt.y,ct.z+dt.z);return Ct}static drawStickImposter(j,_e,it,st,lt,et=0,at=0){for(var ft=j.updateGeoGroup(4),ct=ft.vertices,xt=ct*3,dt=ft.vertexArray,_t=ft.colorArray,Ct=ft.radiusArray,Et=ft.normalArray,Mt=lt.r,St=lt.g,Ot=lt.b,At=function(Dt){var $t=-Dt;return $t==0&&($t=-1e-4),$t},wt=xt,Pt=0;Pt<4;Pt++)dt[wt]=_e.x,Et[wt]=it.x,_t[wt]=Mt,wt++,dt[wt]=_e.y,Et[wt]=it.y,_t[wt]=St,wt++,dt[wt]=_e.z,Et[wt]=it.z,Pt<2?_t[wt]=Ot:_t[wt]=At(Ot),wt++;ft.vertices+=4,Ct[ct]=-st,Ct[ct+1]=st,Ct[ct+2]=-st,Ct[ct+3]=st;var Lt=ft.faceArray,Rt=ft.faceidx;Lt[Rt+0]=ct,Lt[Rt+1]=ct+1,Lt[Rt+2]=ct+2,Lt[Rt+3]=ct+2,Lt[Rt+4]=ct+3,Lt[Rt+5]=ct,ft.faceidx+=6}drawBondSticks(j,_e,it){var st,lt;if(j.style.stick){var et=j.style.stick;if(!et.hidden){var at=et.radius||this.defaultStickRadius,ft=et.doubleBondScaling||.4,ct=et.tripleBondScaling||.25,xt=((st=et.dashedBondConfig)===null||st===void 0?void 0:st.dashLength)||.1,dt=((lt=et.dashedBondConfig)===null||lt===void 0?void 0:lt.gapLength)||.25,_t=at,Ct=et.singleBonds||!1,Et=et.dashedBonds||!1,Mt=0,St=0,Ot,At,wt,Pt,Lt,Rt,Dt,$t,jt,Zt,qt,er=(0,pt.getColorFromStyle)(j,et),Yt,Qt,cr;!j.capDrawn&&j.bonds.length<4&&(Mt=2);var lr=Jt=>{var sr=it.imposter?gt.drawStickImposter:tt.GLDraw.drawCylinder;return!Et&&Jt>=1?sr:(Cr,tr,vr,kt,br,Dr=0,Tt=0,ur=.1,or=.25)=>{var Ft=this.calculateDashes(tr,vr,kt,ur,or);Ft.forEach(Ht=>{sr(Cr,Ht.from,Ht.to,kt,br,Dr,Tt)})}};for(wt=0;wt<j.bonds.length;wt++){var gr=lr(j.bondOrder[wt]),rr=j.bonds[wt],Gt=_e[rr];if(Yt=Qt=cr=null,j.index<Gt.index){var nr=Gt.style;if(!nr.stick||nr.stick.hidden)continue;var _r=(0,pt.getColorFromStyle)(Gt,nr.stick);if(_t=at,Pt=Ct,j.bondStyles&&j.bondStyles[wt]){if(Lt=j.bondStyles[wt],Lt.iswire)continue;Lt.radius&&(_t=Lt.radius),Lt.singleBond&&(Pt=!0),typeof Lt.color1<"u"&&(er=nt.CC.color(Lt.color1)),typeof Lt.color2<"u"&&(_r=nt.CC.color(Lt.color2))}var Sr=new $.Vector3(j.x,j.y,j.z),Ar=new $.Vector3(Gt.x,Gt.y,Gt.z);if(j.bondOrder[wt]<=1||Pt||j.bondOrder[wt]>3){if(j.bondOrder[wt]<1&&(_t*=j.bondOrder[wt]),!Gt.capDrawn&&Gt.bonds.length<4&&(St=2),er!=_r?(Yt=new $.Vector3().addVectors(Sr,Ar).multiplyScalar(.5),gr(it,Sr,Yt,_t,er,Mt,0,xt,dt),gr(it,Yt,Ar,_t,_r,0,St,xt,dt)):gr(it,Sr,Ar,_t,er,Mt,St,xt,dt),Ot=j.clickable||j.hoverable,At=Gt.clickable||Gt.hoverable,Ot||At){if(Yt||(Yt=new $.Vector3().addVectors(Sr,Ar).multiplyScalar(.5)),Ot){var Or=new _.Cylinder(Sr,Yt,_t),Mr=new _.Sphere(Sr,_t);j.intersectionShape.cylinder.push(Or),j.intersectionShape.sphere.push(Mr)}if(At){var wr=new _.Cylinder(Ar,Yt,_t),Tr=new _.Sphere(Ar,_t);Gt.intersectionShape.cylinder.push(wr),Gt.intersectionShape.sphere.push(Tr)}}}else if(j.bondOrder[wt]>1){var fr=0,pr=0;_t!=at&&(fr=2,pr=2);var Lr=Ar.clone(),Pr=null;Lr.sub(Sr);var Bt,Ut,Wt,ar,Xt;Pr=this.getSideBondV(j,Gt,wt),j.bondOrder[wt]==2?(Bt=_t*ft,Pr.multiplyScalar(Bt*1.5),Ut=Sr.clone(),Ut.add(Pr),Wt=Sr.clone(),Wt.sub(Pr),ar=Ut.clone(),ar.add(Lr),Xt=Wt.clone(),Xt.add(Lr),er!=_r?(Yt=new $.Vector3().addVectors(Ut,ar).multiplyScalar(.5),Qt=new $.Vector3().addVectors(Wt,Xt).multiplyScalar(.5),gr(it,Ut,Yt,Bt,er,fr,0),gr(it,Yt,ar,Bt,_r,0,pr),gr(it,Wt,Qt,Bt,er,fr,0),gr(it,Qt,Xt,Bt,_r,0,pr)):(gr(it,Ut,ar,Bt,er,fr,pr),gr(it,Wt,Xt,Bt,er,fr,pr)),Ot=j.clickable||j.hoverable,At=Gt.clickable||Gt.hoverable,(Ot||At)&&(Yt||(Yt=new $.Vector3().addVectors(Ut,ar).multiplyScalar(.5)),Qt||(Qt=new $.Vector3().addVectors(Wt,Xt).multiplyScalar(.5)),Ot&&(Rt=new _.Cylinder(Ut,Yt,Bt),Dt=new _.Cylinder(Wt,Qt,Bt),j.intersectionShape.cylinder.push(Rt),j.intersectionShape.cylinder.push(Dt)),At&&(jt=new _.Cylinder(ar,Yt,Bt),Zt=new _.Cylinder(Xt,Qt,Bt),Gt.intersectionShape.cylinder.push(jt),Gt.intersectionShape.cylinder.push(Zt)))):j.bondOrder[wt]==3&&(Bt=_t*ct,Pr.cross(Lr),Pr.normalize(),Pr.multiplyScalar(Bt*3),Ut=Sr.clone(),Ut.add(Pr),Wt=Sr.clone(),Wt.sub(Pr),ar=Ut.clone(),ar.add(Lr),Xt=Wt.clone(),Xt.add(Lr),er!=_r?(Yt=new $.Vector3().addVectors(Ut,ar).multiplyScalar(.5),Qt=new $.Vector3().addVectors(Wt,Xt).multiplyScalar(.5),cr=new $.Vector3().addVectors(Sr,Ar).multiplyScalar(.5),gr(it,Ut,Yt,Bt,er,fr,0),gr(it,Yt,ar,Bt,_r,0,pr),gr(it,Sr,cr,Bt,er,Mt,0),gr(it,cr,Ar,Bt,_r,0,St),gr(it,Wt,Qt,Bt,er,fr,0),gr(it,Qt,Xt,Bt,_r,0,pr)):(gr(it,Ut,ar,Bt,er,fr,pr),gr(it,Sr,Ar,Bt,er,Mt,St),gr(it,Wt,Xt,Bt,er,fr,pr)),Ot=j.clickable||j.hoverable,At=Gt.clickable||Gt.hoverable,(Ot||At)&&(Yt||(Yt=new $.Vector3().addVectors(Ut,ar).multiplyScalar(.5)),Qt||(Qt=new $.Vector3().addVectors(Wt,Xt).multiplyScalar(.5)),cr||(cr=new $.Vector3().addVectors(Sr,Ar).multiplyScalar(.5)),Ot&&(Rt=new _.Cylinder(Ut.clone(),Yt.clone(),Bt),Dt=new _.Cylinder(Wt.clone(),Qt.clone(),Bt),$t=new _.Cylinder(Sr.clone(),cr.clone(),Bt),j.intersectionShape.cylinder.push(Rt),j.intersectionShape.cylinder.push(Dt),j.intersectionShape.cylinder.push($t)),At&&(jt=new _.Cylinder(ar.clone(),Yt.clone(),Bt),Zt=new _.Cylinder(Xt.clone(),Qt.clone(),Bt),qt=new _.Cylinder(Ar.clone(),cr.clone(),Bt),Gt.intersectionShape.cylinder.push(jt),Gt.intersectionShape.cylinder.push(Zt),Gt.intersectionShape.cylinder.push(qt))))}}}var Er=!1,mr=0,It=!1;for(wt=0;wt<j.bonds.length;wt++)Pt=Ct,j.bondStyles&&j.bondStyles[wt]&&(Lt=j.bondStyles[wt],Lt.singleBond&&(Pt=!0),Lt.radius&&Lt.radius!=at&&(It=!0)),(Pt||j.bondOrder[wt]==1)&&mr++;It?mr>0&&(Er=!0):mr==0&&(j.bonds.length>0||et.showNonBonded)&&(Er=!0),Er&&(_t=at,it.imposter?this.drawSphereImposter(it.sphereGeometry,j,_t,er):tt.GLDraw.drawSphere(it,j,_t,er))}}}createMolObj(j,_e){_e=_e||{};var it=new a.Object3D,st=[],lt={},et={},at=this.drawAtomSphere,ft=null,ct=null;_e.supportsImposters?(at=this.drawAtomImposter,ft=new a.Geometry(!0),ft.imposter=!0,ct=new a.Geometry(!0,!0),ct.imposter=!0,ct.sphereGeometry=new a.Geometry(!0),ct.sphereGeometry.imposter=!0,ct.drawnCaps={}):_e.supportsAIA?(at=this.drawAtomInstanced,ft=new a.Geometry(!1,!0,!0),ft.instanced=!0,ct=new a.Geometry(!0)):(ft=new a.Geometry(!0),ct=new a.Geometry(!0));var xt,dt,_t,Ct,Et={},Mt=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(xt=0,_t=j.length;xt<_t;xt++){var St=j[xt];if(St&&St.style){(St.clickable||St.hoverable)&&St.intersectionShape===void 0&&(St.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Ct={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(dt in Ct)St.style[dt]?St.style[dt].opacity?Ct[dt]=parseFloat(St.style[dt].opacity):Ct[dt]=1:Ct[dt]=void 0,Et[dt]?Ct[dt]!=null&&Et[dt]!=Ct[dt]&&(console.log("Warning: "+dt+" opacity is ambiguous"),Et[dt]=1):Et[dt]=Ct[dt];at.call(this,St,ft),this.drawAtomClickSphere(St),this.drawAtomCross(St,et),this.drawBondLines(St,j,lt),this.drawBondSticks(St,j,ct),typeof St.style.cartoon<"u"&&!St.style.cartoon.hidden&&(St.style.cartoon.color==="spectrum"&&typeof St.resi=="number"&&!St.hetflag&&(St.resi<Mt[0]&&(Mt[0]=St.resi),St.resi>Mt[1]&&(Mt[1]=St.resi)),st.push(St))}}if(st.length>0&&(0,ot.drawCartoon)(it,st,Mt,this.defaultCartoonQuality),ft&&ft.vertices>0){ft.initTypedArrays();var Ot=null,At=null;ft.imposter?Ot=new a.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):ft.instanced?(At=new a.Geometry(!0),tt.GLDraw.drawSphere(At,{x:0,y:0,z:0},1,new nt.Color(.5,.5,.5)),At.initTypedArrays(),Ot=new a.InstancedMaterial({sphereMaterial:new a.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:At})):Ot=new a.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),Et.sphere<1&&Et.sphere>=0&&(Ot.transparent=!0,Ot.opacity=Et.sphere),At=new a.Mesh(ft,Ot),it.add(At)}if(ct.vertices>0){var wt=null,Pt=null,Lt=ct.sphereGeometry;(!Lt||typeof Lt.vertices>"u"||Lt.vertices==0)&&(Lt=null),ct.initTypedArrays(),Lt&&Lt.initTypedArrays();var Rt={ambient:0,vertexColors:!0,reflectivity:0};ct.imposter?(wt=new a.StickImposterMaterial(Rt),Pt=new a.SphereImposterMaterial(Rt)):(wt=new a.MeshLambertMaterial(Rt),Pt=new a.MeshLambertMaterial(Rt),wt.wireframe&&(ct.setUpWireframe(),Lt&&Lt.setUpWireframe())),Et.stick<1&&Et.stick>=0&&(wt.transparent=!0,wt.opacity=Et.stick,Pt.transparent=!0,Pt.opacity=Et.stick);var Dt=new a.Mesh(ct,wt);if(it.add(Dt),Lt){var $t=new a.Mesh(Lt,Pt);it.add($t)}}var jt;for(xt in lt)if(lt.hasOwnProperty(xt)){jt=xt;var Zt=new a.LineBasicMaterial({linewidth:jt,vertexColors:!0});Et.line<1&&Et.line>=0&&(Zt.transparent=!0,Zt.opacity=Et.line),lt[xt].initTypedArrays();var qt=new a.Line(lt[xt],Zt,a.LineStyle.LinePieces);it.add(qt)}for(xt in et)if(et.hasOwnProperty(xt)){jt=xt;var er=new a.LineBasicMaterial({linewidth:jt,vertexColors:!0});Et.cross<1&&Et.cross>=0&&(er.transparent=!0,er.opacity=Et.cross),et[xt].initTypedArrays();var Yt=new a.Line(et[xt],er,a.LineStyle.LinePieces);it.add(Yt)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var Qt=new a.Object3D,cr;for(cr=0;cr<this.modelData.symmetries.length;cr++){var lr=new a.Object3D;lr=it.clone(),lr.matrix.copy(this.modelData.symmetries[cr]),lr.matrixAutoUpdate=!1,Qt.add(lr)}return Qt}return it}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState(j){this.atoms=j.atoms,this.frames=j.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){const j=this.modelData.cryst;this.modelData.cryst.matrix=(0,$.conversionMatrix3)(j.a,j.b,j.c,j.alpha,j.beta,j.gamma)}return this.modelData.cryst}else return null}setCrystData(j,_e,it,st,lt,et){j=j||1,_e=_e||1,it=it||1,st=st||90,lt=lt||90,et=et||90;const at=(0,$.conversionMatrix3)(j,_e,it,st,lt,et);this.modelData.cryst={a:j,b:_e,c:it,alpha:st,beta:lt,gamma:et,matrix:at}}setCrystMatrix(j){j=j||new $.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:j}}getSymmetries(){return typeof this.modelData.symmetries>"u"&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries(j){typeof j>"u"?this.modelData.symmetries=[this.idMatrix]:this.modelData.symmetries=j}getID(){return this.id}getNumFrames(){return this.frames.numFrames!=null?this.frames.numFrames:this.frames.length}adjustCoord(j,_e,it,st){var lt=_e-j;return lt<-it?_e+st:lt>it?_e-st:_e}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var j=this.box[0],_e=this.box[1],it=this.box[2],st=j*.9,lt=_e*.9,et=it*.9,at=0;at<this.atomdfs.length;at++)for(var ft=this.atomdfs[at],ct=1;ct<ft.length;ct++){var xt=this.atoms[ft[ct][0]],dt=this.atoms[ft[ct][1]];xt.x=this.adjustCoord(dt.x,xt.x,st,j),xt.y=this.adjustCoord(dt.y,xt.y,lt,_e),xt.z=this.adjustCoord(dt.z,xt.z,et,it)}}setFrame(j,_e){var it=this.getNumFrames();let st=this;return new Promise(function(lt,et){if(it==0&&lt(),(j<0||j>=it)&&(j=it-1),st.frames.url!=null){var at=st.frames.url;(0,pt.getbin)(at+"/traj/frame/"+j+"/"+st.frames.path,void 0,"POST",void 0).then(function(ft){for(var ct=new Float32Array(ft,44),xt=0,dt=0;dt<st.atoms.length;dt++)st.atoms[dt].x=ct[xt++],st.atoms[dt].y=ct[xt++],st.atoms[dt].z=ct[xt++];st.box&&st.atomdfs&&st.adjustCoordinatesToBox(),lt()}).catch(et)}else st.atoms=st.frames[j],lt();st.molObj=null,st.modelDatas&&j<st.modelDatas.length&&(st.modelData=st.modelDatas[j],st.unitCellObjects&&_e&&(_e.removeUnitCell(st),_e.addUnitCell(st)))})}addFrame(j){this.frames.push(j)}vibrate(j=10,_e=1,it=!1,st,lt){var et=0,at=j;it&&(et=-j,at=j),this.frames!==void 0&&this.frames.origIndex!==void 0?this.setFrame(this.frames.origIndex):this.setFrame(0),et<at&&(this.frames=[]),it&&(this.frames.origIndex=j);for(var ft=et;ft<at;ft++){var ct=[],xt=this.frames.length;if(ft==0&&!lt){this.frames.push(this.atoms);continue}for(var dt=0;dt<this.atoms.length;dt++){var _t=(0,pt.getAtomProperty)(this.atoms[dt],"dx"),Ct=(0,pt.getAtomProperty)(this.atoms[dt],"dy"),Et=(0,pt.getAtomProperty)(this.atoms[dt],"dz"),Mt=new $.Vector3(_t,Ct,Et),St=new $.Vector3(this.atoms[dt].x,this.atoms[dt].y,this.atoms[dt].z),Ot=ft*_e/j;Mt.multiplyScalar(Ot),St.add(Mt);var At={};for(var wt in this.atoms[dt])At[wt]=this.atoms[dt][wt];if(At.x=St.x,At.y=St.y,At.z=St.z,ct.push(At),st&&lt){var Pt=(0,pt.extend)({},lt),Lt=new $.Vector3(_t,Ct,Et);if(Lt.multiplyScalar(_e),Lt.add(St),Pt.start=St,Pt.end=Lt,Pt.frame=xt,!Pt.color){var Rt=At.style.sphere;Rt||(Rt=At.style.stick),Rt||(Rt=At.style.line),Pt.color=(0,pt.getColorFromStyle)(At,Rt)}st.addArrow(Pt)}}this.frames.push(ct)}}setAtomDefaults(j){for(let _e=0;_e<j.length;_e++){let it=j[_e];it&&(it.style=it.style||(0,pt.deepCopy)(gt.defaultAtomStyle),it.color=it.color||this.ElementColors[it.elem]||this.defaultColor,it.model=this.id,(it.clickable||it.hoverable)&&(it.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData(j,_e,it={}){var st=gt.parseMolData(j,_e,it);this.dontDuplicateAtoms=!it.duplicateAssemblyAtoms;var lt=st.modelData;if(lt&&(Array.isArray(lt)?(this.modelData=lt[0],it.frames&&(this.modelDatas=lt)):this.modelData=lt),st.box?this.box=st.box:this.box=null,this.frames.length==0){for(let at=0;at<st.length;at++)st[at].length!=0&&this.frames.push(st[at]);this.frames[0]&&(this.atoms=this.frames[0])}else if(it.frames)for(let at=0;at<st.length;at++)this.frames.push(st[at]);else for(var et=0;et<st.length;et++)this.addAtoms(st[et]);for(let at=0;at<this.frames.length;at++)this.setAtomDefaults(this.frames[at]);it.vibrate&&it.vibrate.frames&&it.vibrate.amplitude&&this.vibrate(it.vibrate.frames,it.vibrate.amplitude),it.style&&this.setStyle({},it.style)}setDontDuplicateAtoms(j){this.dontDuplicateAtoms=j}setModelData(j){this.modelData=j}propertyMatches(j,_e){if(j==_e)return!0;if(typeof _e=="string"&&typeof j=="number"){var it=_e.match(/(-?\d+)\s*-\s*(-?\d+)/);if(it){var st=parseInt(it[1]),lt=parseInt(it[2]);if(it&&j>=st&&j<=lt)return!0}}return!1}static deepCopyAndCache(j,_e){if(typeof j!="object"||j==null||j.__cache_created)return j;const it={};for(const st in j){const lt=j[st];if(Array.isArray(lt)){it[st]=[];for(let et=0;et<lt.length;et++)it[st].push(gt.deepCopyAndCache(lt[et],_e))}else typeof lt=="object"&&st!="properties"&&st!="model"?it[st]=gt.deepCopyAndCache(lt,_e):it[st]=lt;if(st=="and"||st=="or"){const et=[];for(const at of it[st]){const ft=new Set;for(const ct of _e.selectedAtoms(at))ft.add(ct.index);et.push(ft)}if(st=="and"){const at=function(ct,xt){const dt=new Set;for(const _t of xt)ct.has(_t)&&dt.add(_t);return dt};let ft=new Set(et[0]);for(const ct of et.splice(1))ft=at(ft,ct);it[st].__cached_results=ft}else if(st=="or"){const at=new Set;for(const ft of et)for(const ct of ft)at.add(ct);it[st].__cached_results=at}}}return it.__cache_created=!0,it}atomIsSelected(j,_e){if(typeof _e>"u")return!0;var it=!!_e.invert,st=!0;for(var lt in _e)if(lt=="and"||lt=="or"||lt=="not"){if(lt=="not"){if(this.atomIsSelected(j,_e[lt])){st=!1;break}}else if(_e[lt].__cached_results===void 0&&(_e=gt.deepCopyAndCache(_e,this)),st=_e[lt].__cached_results.has(j.index),!st)break}else if(lt==="predicate"){if(!_e.predicate(j)){st=!1;break}}else if(lt=="properties"&&j[lt]){for(var et in _e.properties)if(!et.startsWith("__cache")){if(typeof j.properties[et]>"u"){st=!1;break}if(j.properties[et]!=_e.properties[et]){st=!1;break}}}else if(_e.hasOwnProperty(lt)&&!gt.ignoredKeys.has(lt)&&!lt.startsWith("__cache")){if(typeof j[lt]>"u"){st=!1;break}var at=!1;if(lt==="bonds"){var ft=_e[lt];if(ft!=j.bonds.length){st=!1;break}}else if(Array.isArray(_e[lt])){var ct=_e[lt],xt=j[lt];for(let dt=0;dt<ct.length;dt++)if(this.propertyMatches(xt,ct[dt])){at=!0;break}if(!at){st=!1;break}}else{let dt=_e[lt];if(!this.propertyMatches(j[lt],dt)){st=!1;break}}}return it?!st:st}static squaredDistance(j,_e){var it=_e.x-j.x,st=_e.y-j.y,lt=_e.z-j.z;return it*it+st*st+lt*lt}expandAtomList(j,_e){if(_e<=0)return j;for(var it=(0,pt.getExtent)(j,void 0),st=[[],[],[]],lt=0;lt<3;lt++)st[0][lt]=it[0][lt]-_e,st[1][lt]=it[1][lt]+_e,st[2][lt]=it[2][lt];var et=[];for(let xt=0;xt<this.atoms.length;xt++){var at=this.atoms[xt].x,ft=this.atoms[xt].y,ct=this.atoms[xt].z;at>=st[0][0]&&at<=st[1][0]&&ft>=st[0][1]&&ft<=st[1][1]&&ct>=st[0][2]&&ct<=st[1][2]&&(at>=it[0][0]&&at<=it[1][0]&&ft>=it[0][1]&&ft<=it[1][1]&&ct>=it[0][2]&&ct<=it[1][2]||et.push(this.atoms[xt]))}return et}static getFloat(j){return typeof j=="number"?j:parseFloat(j)}selectedAtoms(j,_e){var it=[];j=gt.deepCopyAndCache(j||{},this),_e||(_e=this.atoms);for(var st=_e.length,lt=0;lt<st;lt++){var et=_e[lt];et&&this.atomIsSelected(et,j)&&it.push(et)}if(j.hasOwnProperty("expand")){const At=gt.getFloat(j.expand);let wt=this.expandAtomList(it,At),Pt=it.length;const Lt=At*At;for(let Rt=0;Rt<wt.length;Rt++)for(let Dt=0;Dt<Pt;Dt++){var at=gt.squaredDistance(wt[Rt],it[Dt]);at<Lt&&at>0&&it.push(wt[Rt])}}if(j.hasOwnProperty("within")&&j.within.hasOwnProperty("sel")&&j.within.hasOwnProperty("distance")){var ft=this.selectedAtoms(j.within.sel,this.atoms),ct={};const At=gt.getFloat(j.within.distance),wt=At*At;for(let Pt=0;Pt<ft.length;Pt++)for(let Lt=0;Lt<it.length;Lt++){let Rt=gt.squaredDistance(ft[Pt],it[Lt]);Rt<wt&&Rt>0&&(ct[Lt]=1)}var xt=[];if(j.within.invert)for(let Pt=0;Pt<it.length;Pt++)ct[Pt]||xt.push(it[Pt]);else for(let Pt in ct)xt.push(it[Pt]);it=xt}if(j.hasOwnProperty("byres")){var dt={},_t=[],Ct=[];for(let At=0;At<it.length;At++){let wt=it[At];var Et=wt.chain,Mt=wt.resi;if(dt[Et]===void 0&&(dt[Et]={}),wt.hasOwnProperty("resi")&&dt[Et][Mt]===void 0){for(dt[Et][Mt]=!0,Ct.push(wt);Ct.length>0;)if(wt=Ct.pop(),Et=wt.chain,Mt=wt.resi,_t[wt.index]===void 0){_t[wt.index]=!0;for(var St=0;St<wt.bonds.length;St++){var Ot=this.atoms[wt.bonds[St]];_t[Ot.index]===void 0&&Ot.hasOwnProperty("resi")&&Ot.chain==Et&&Ot.resi==Mt&&(Ct.push(Ot),it.push(Ot))}}}}}return it}addAtoms(j){this.molObj=null;var _e=this.atoms.length,it=[],st;for(st=0;st<j.length;st++)typeof j[st].index>"u"&&(j[st].index=st),typeof j[st].serial>"u"&&(j[st].serial=st),it[j[st].index]=_e+st;for(st=0;st<j.length;st++){var lt=j[st],et=it[lt.index],at=(0,pt.extend)({},lt);at.index=et,at.bonds=[],at.bondOrder=[],at.model=this.id,at.style=at.style||(0,pt.deepCopy)(gt.defaultAtomStyle),typeof at.color>"u"&&(at.color=this.ElementColors[at.elem]||this.defaultColor);for(var ft=lt.bonds?lt.bonds.length:0,ct=0;ct<ft;ct++){var xt=it[lt.bonds[ct]];typeof xt<"u"&&(at.bonds.push(xt),at.bondOrder.push(lt.bondOrder?lt.bondOrder[ct]:1))}this.atoms.push(at)}}assignBonds(){(0,ht.assignBonds)(this.atoms,{assignBonds:!0})}removeAtoms(j){this.molObj=null;var _e=[],it;for(it=0;it<j.length;it++)_e[j[it].index]=!0;var st=[];for(it=0;it<this.atoms.length;it++){var lt=this.atoms[it];_e[lt.index]||st.push(lt)}this.atoms=[],this.addAtoms(st)}setStyle(j,_e,it){typeof _e>"u"&&typeof it>"u"&&(_e=j,j={}),j=j,typeof _e=="string"&&(_e=(0,pt.specStringToObject)(_e));var st=!1,lt=this,et=function(ft){var ct=lt.selectedAtoms(j,ft);for(let xt=0;xt<ft.length;xt++)ft[xt]&&(ft[xt].capDrawn=!1);for(let xt=0;xt<ct.length;xt++){st=!0,(ct[xt].clickable||ct[xt].hoverable)&&(ct[xt].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),it||(ct[xt].style={});for(let dt in _e)_e.hasOwnProperty(dt)&&(ct[xt].style[dt]=ct[xt].style[dt]||{},Object.assign(ct[xt].style[dt],_e[dt]))}};if(j.frame!==void 0&&j.frame<this.frames.length){let ft=j.frame;ft<0&&(ft=this.frames.length+ft),et(this.frames[ft])}else{et(this.atoms);for(var at=0;at<this.frames.length;at++)this.frames[at]!==this.atoms&&et(this.frames[at])}st&&(this.molObj=null)}setClickable(j,_e,it){if(_e=!!_e,it=(0,pt.makeFunction)(it),it===null){console.log("Callback is not a function");return}var st=this.selectedAtoms(j,this.atoms),lt=st.length;for(let et=0;et<lt;et++)st[et].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},st[et].clickable=_e,it&&(st[et].callback=it);lt>0&&(this.molObj=null)}setHoverable(j,_e,it,st){if(_e=!!_e,it=(0,pt.makeFunction)(it),st=(0,pt.makeFunction)(st),it===null){console.log("Hover_callback is not a function");return}if(st===null){console.log("Unhover_callback is not a function");return}var lt=this.selectedAtoms(j,this.atoms),et=lt.length;for(let at=0;at<et;at++)lt[at].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},lt[at].hoverable=_e,it&&(lt[at].hover_callback=it),st&&(lt[at].unhover_callback=st);et>0&&(this.molObj=null)}enableContextMenu(j,_e){_e=!!_e;var it,st=this.selectedAtoms(j,this.atoms),lt=st.length;for(it=0;it<lt;it++)st[it].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},st[it].contextMenuEnabled=_e;lt>0&&(this.molObj=null)}setColorByElement(j,_e){if(!(this.molObj!==null&&gt.sameObj(_e,this.lastColors))){this.lastColors=_e;var it=this.selectedAtoms(j,it);it.length>0&&(this.molObj=null);for(var st=0;st<it.length;st++){var lt=it[st];typeof _e[lt.elem]<"u"&&(lt.color=_e[lt.elem])}}}setColorByProperty(j,_e,it,st){var lt,et,at=this.selectedAtoms(j,at);for(this.lastColors=null,at.length>0&&(this.molObj=null),typeof it=="string"&&typeof ut.Gradient.builtinGradients[it]<"u"&&(it=new ut.Gradient.builtinGradients[it]),it=it,st||(st=it.range()),st||(st=(0,pt.getPropertyRange)(at,_e)),lt=0;lt<at.length;lt++){et=at[lt];var ft=(0,pt.getAtomProperty)(et,_e);ft!=null&&(et.color=it.valueToHex(parseFloat(et.properties[_e]),st))}}setColorByFunction(j,_e){var it=this.selectedAtoms(j,it);if(typeof _e=="function"){this.lastColors=null,it.length>0&&(this.molObj=null);for(let st=0;st<it.length;st++){let lt=it[st];lt.color=_e(lt)}}}toCDObject(j=!1){var _e={a:[],b:[]};j&&(_e.s=[]);for(let st=0;st<this.atoms.length;st++){let lt={},et=this.atoms[st];if(lt.x=et.x,lt.y=et.y,lt.z=et.z,et.elem!="C"&&(lt.l=et.elem),j){for(var it=0;it<_e.s.length&&JSON.stringify(et.style)!==JSON.stringify(_e.s[it]);)it++;it===_e.s.length&&_e.s.push(et.style),it!==0&&(lt.s=it)}_e.a.push(lt);for(let at=0;at<et.bonds.length;at++){let ft=st,ct=et.bonds[at];if(ft>=ct)continue;let xt={b:ft,e:ct},dt=et.bondOrder[at];dt!=1&&(xt.o=dt),_e.b.push(xt)}}return _e}globj(j,_e){(this.molObj===null||_e.regen)&&(this.molObj=this.createMolObj(this.atoms,_e),this.renderedMolObj&&(j.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),j.add(this.renderedMolObj))}exportVRML(){var j=this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1});return j.vrml()}removegl(j){this.renderedMolObj&&(this.renderedMolObj.geometry!==void 0&&this.renderedMolObj.geometry.dispose(),this.renderedMolObj.material!==void 0&&this.renderedMolObj.material.dispose(),j.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels(j,_e,it,st){for(var lt=this.selectedAtoms(_e,lt),et=(0,pt.deepCopy)(st),at=0;at<lt.length;at++){var ft=lt[at],ct=null;typeof ft[j]<"u"?ct=String(ft[j]):typeof ft.properties[j]<"u"&&(ct=String(ft.properties[j])),ct!=null&&(et.position=ft,it.addLabel(ct,et))}}addResLabels(j,_e,it,st=!1){var lt=[],et=function(ft,ct){for(var xt=ft.selectedAtoms(j,xt),dt={},_t=0;_t<xt.length;_t++){var Ct=xt[_t],Et=Ct.chain,Mt=Ct.resn,St=Ct.resi,Ot=Mt+""+St;dt[Et]||(dt[Et]={}),dt[Et][Ot]||(dt[Et][Ot]=[]),dt[Et][Ot].push(Ct)}var At=(0,pt.deepCopy)(it);for(let Pt in dt)if(dt.hasOwnProperty(Pt)){var wt=dt[Pt];for(let Lt in wt)if(wt.hasOwnProperty(Lt)){let Rt=wt[Lt],Dt=new $.Vector3(0,0,0);for(let jt=0;jt<Rt.length;jt++){let Zt=Rt[jt];Dt.x+=Zt.x,Dt.y+=Zt.y,Dt.z+=Zt.z}Dt.divideScalar(Rt.length),At.position=Dt,At.frame=ct;let $t=_e.addLabel(Lt,At,void 0,!0);lt.push($t)}}};if(st){var at=this.getNumFrames();let ft=this.atoms;for(let ct=0;ct<at;ct++)this.frames[ct]&&(this.atoms=this.frames[ct],et(this,ct));this.atoms=ft}else et(this);return lt}setupDFS(){this.atomdfs=[];var j=this,_e=new Int8Array(this.atoms.length);_e.fill(0);for(var it=function(at,ft,ct){ct.push([at,ft]);var xt=j.atoms[at];_e[at]=1;for(var dt=0;dt<xt.bonds.length;dt++){var _t=xt.bonds[dt];j.atoms[_t]&&!_e[_t]&&it(_t,at,ct)}},st=0;st<this.atoms.length;st++){var lt=this.atoms[st];if(lt&&!_e[st]){var et=[];it(st,-1,et),this.atomdfs.push(et)}}}setCoordinatesFromURL(j,_e){this.frames=[];var it=this;return this.box&&this.setupDFS(),j.startsWith("http")||(j="http://"+j),(0,pt.get)(j+"/traj/numframes/"+_e,function(st){if(!isNaN(parseInt(st)))return it.frames.push(it.atoms),it.frames.numFrames=st,it.frames.url=j,it.frames.path=_e,it.setFrame(0)})}setCoordinates(j,_e){if(_e=_e||"",!j)return[];if(/\.gz$/.test(_e)){_e=_e.replace(/\.gz$/,"");try{j=(0,pt.inflateString)(j)}catch(dt){console.log(dt)}}var it={mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""};if(it.hasOwnProperty(_e)){this.frames=[];for(var st=this.atoms.length,lt=gt.parseCrd(j,_e),et=0;et<lt.length;){for(var at=[],ft=0;ft<st;ft++){var ct={};for(var xt in this.atoms[ft])ct[xt]=this.atoms[ft][xt];at[ft]=ct,at[ft].x=lt[et++],at[ft].y=lt[et++],at[ft].z=lt[et++]}this.frames.push(at)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs(j){}static parseCrd(j,_e){var it=[],st=0;if(_e=="pdb")for(var lt=j.indexOf(`
ATOM`);lt!=-1;){for(;j.slice(lt,lt+5)==`
ATOM`||j.slice(lt,lt+7)==`
HETATM`;)it[st++]=parseFloat(j.slice(lt+31,lt+39)),it[st++]=parseFloat(j.slice(lt+39,lt+47)),it[st++]=parseFloat(j.slice(lt+47,lt+55)),lt=j.indexOf(`
`,lt+54),j.slice(lt,lt+4)==`
TER`&&(lt=j.indexOf(`
`,lt+5));lt=j.indexOf(`
ATOM`,lt)}else if(_e=="netcdf"){var et=new vt.NetCDFReader(j);it=[].concat.apply([],et.getDataVariable("coordinates"))}else{if(_e=="array"||Array.isArray(j))return j.flat(2);{let at=j.indexOf(`
`);_e=="inpcrd"&&(at=j.indexOf(`
`,at+1)),j=j.slice(at+1),it=j.match(/\S+/g).map(parseFloat)}}return it}static parseMolData(j,_e="",it){if(!j)return[];if(/\.gz$/.test(_e)){_e=_e.replace(/\.gz$/,"");try{_e.match(/bcif/i)?j=(0,pt.inflateString)(j,!1):j=(0,pt.inflateString)(j)}catch(et){console.log(et)}}typeof mt.Parsers[_e]>"u"&&(_e=_e.split(".").pop(),typeof mt.Parsers[_e]>"u"&&(console.log("Unknown format: "+_e),j instanceof Uint8Array?_e="bcif":j.match(/^@<TRIPOS>MOLECULE/gm)?_e="mol2":j.match(/^data_/gm)&&j.match(/^loop_/gm)?_e="cif":j.match(/^HETATM/gm)||j.match(/^ATOM/gm)?_e="pdb":j.match(/ITEM: TIMESTEP/gm)?_e="lammpstrj":j.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?_e="sdf":j.match(/^%VERSION\s+VERSION_STAMP/gm)?_e="prmtop":_e="xyz",console.log("Best guess: "+_e)));var st=mt.Parsers[_e],lt=st(j,it);return lt}}gt.defaultAtomStyle={line:{}},gt.defaultlineWidth=1,gt.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86},gt.ignoredKeys=new Set(["props","invert","model","frame","byres","expand","within","and","or","not"])},"./src/GLShape.ts":(i,s,o)=>{o.r(s),o.d(s,{GLShape:()=>vt,splitMesh:()=>ht});var a=o("./src/WebGL/index.ts"),_=o("./src/WebGL/shapes/index.ts"),$=o("./src/WebGL/math/index.ts"),nt=o("./src/colors.ts"),tt=o("./src/ProteinSurface4.ts"),ot=o("./src/VolumeData.ts"),pt=o("./src/GLDraw.ts"),ut=o("./src/glcartoon.ts"),mt=o("./src/utilities.ts");class vt{static finalizeGeo(rt){var j=rt.updateGeoGroup(0);j.vertices>0&&j.truncateArrayBuffers(!0,!0)}static updateColor(rt,j){j=j||nt.CC.color(j),rt.colorsNeedUpdate=!0;var _e,it,st;j.constructor!==Array&&(_e=j.r,it=j.g,st=j.b);for(let lt in rt.geometryGroups){let et=rt.geometryGroups[lt],at=et.colorArray;for(let ft=0,ct=et.vertices;ft<ct;++ft){if(j.constructor===Array){let xt=j[ft];_e=xt.r,it=xt.g,st=xt.b}at[ft*3]=_e,at[ft*3+1]=it,at[ft*3+2]=st}}}static drawArrow(rt,j,_e){var it=_e.start,st=_e.end,lt=_e.radius,et=_e.radiusRatio,at=_e.mid,ft=_e.midpos;if(!(it&&st))return;var ct=j.updateGeoGroup(51),xt=new $.Vector3(st.x,st.y,st.z).sub(it);if(ft){let tr=xt.length();ft>0?at=ft/tr:at=(tr+ft)/tr}xt.multiplyScalar(at);var dt=new $.Vector3(it.x,it.y,it.z).add(xt),_t=xt.clone().negate();let Ct=new $.Vector3(it.x,it.y,it.z);rt.intersectionShape.cylinder.push(new _.Cylinder(Ct,dt.clone(),lt)),rt.intersectionShape.sphere.push(new _.Sphere(Ct,lt));var Et=[];Et[0]=xt.clone(),Math.abs(Et[0].x)>1e-4?Et[0].y+=1:Et[0].x+=1,Et[0].cross(xt),Et[0].normalize(),Et[4]=Et[0].clone(),Et[4].crossVectors(Et[0],xt),Et[4].normalize(),Et[8]=Et[0].clone().negate(),Et[12]=Et[4].clone().negate(),Et[2]=Et[0].clone().add(Et[4]).normalize(),Et[6]=Et[4].clone().add(Et[8]).normalize(),Et[10]=Et[8].clone().add(Et[12]).normalize(),Et[14]=Et[12].clone().add(Et[0]).normalize(),Et[1]=Et[0].clone().add(Et[2]).normalize(),Et[3]=Et[2].clone().add(Et[4]).normalize(),Et[5]=Et[4].clone().add(Et[6]).normalize(),Et[7]=Et[6].clone().add(Et[8]).normalize(),Et[9]=Et[8].clone().add(Et[10]).normalize(),Et[11]=Et[10].clone().add(Et[12]).normalize(),Et[13]=Et[12].clone().add(Et[14]).normalize(),Et[15]=Et[14].clone().add(Et[0]).normalize();var Mt=ct.vertices,St=ct.vertexArray,Ot=ct.faceArray,At=ct.normalArray,wt=ct.lineArray,Pt,Lt,Rt;for(Lt=0,Rt=Et.length;Lt<Rt;++Lt){Pt=3*(Mt+3*Lt);var Dt=Et[Lt].clone().multiplyScalar(lt).add(it),$t=Et[Lt].clone().multiplyScalar(lt).add(dt),jt=Et[Lt].clone().multiplyScalar(lt*et).add(dt);if(St[Pt]=Dt.x,St[Pt+1]=Dt.y,St[Pt+2]=Dt.z,St[Pt+3]=$t.x,St[Pt+4]=$t.y,St[Pt+5]=$t.z,St[Pt+6]=jt.x,St[Pt+7]=jt.y,St[Pt+8]=jt.z,Lt>0){var Zt=St[Pt-3],qt=St[Pt-2],er=St[Pt-1],Yt=new $.Vector3(Zt,qt,er),Qt=new $.Vector3(st.x,st.y,st.z),cr=dt.clone(),lr=new $.Vector3(jt.x,jt.y,jt.z);rt.intersectionShape.triangle.push(new _.Triangle(lr,Qt,Yt)),rt.intersectionShape.triangle.push(new _.Triangle(Yt.clone(),cr,lr.clone()))}}ct.vertices+=48,Pt=ct.vertices*3,St[Pt]=it.x,St[Pt+1]=it.y,St[Pt+2]=it.z,St[Pt+3]=dt.x,St[Pt+4]=dt.y,St[Pt+5]=dt.z,St[Pt+6]=st.x,St[Pt+7]=st.y,St[Pt+8]=st.z,ct.vertices+=3;var gr,rr,Gt,nr,_r,Sr,Ar,Or,Mr,wr,Tr,fr,pr,Lr,Pr,Bt,Ut,Wt,ar,Xt=ct.vertices-3,Er=ct.vertices-2,mr=ct.vertices-1,It=Xt*3,Jt=Er*3,sr=mr*3;for(Lt=0,Rt=Et.length-1;Lt<Rt;++Lt){var Cr=Mt+3*Lt;Pt=Cr*3,rr=ct.faceidx,Gt=ct.lineidx,nr=Cr,wr=nr*3,_r=Cr+1,Tr=_r*3,Sr=Cr+2,fr=Sr*3,Ar=Cr+4,pr=Ar*3,Or=Cr+5,Lr=Or*3,Mr=Cr+3,Pr=Mr*3,Bt=Ut=Et[Lt],Wt=ar=Et[Lt+1],At[wr]=Bt.x,At[Tr]=Ut.x,At[Pr]=ar.x,At[wr+1]=Bt.y,At[Tr+1]=Ut.y,At[Pr+1]=ar.y,At[wr+2]=Bt.z,At[Tr+2]=Ut.z,At[Pr+2]=ar.z,At[Tr]=Ut.x,At[pr]=Wt.x,At[Pr]=ar.x,At[Tr+1]=Ut.y,At[pr+1]=Wt.y,At[Pr+1]=ar.y,At[Tr+2]=Ut.z,At[pr+2]=Wt.z,At[Pr+2]=ar.z,At[fr]=Ut.x,At[Lr]=Wt.x,At[fr+1]=Ut.y,At[Lr+1]=Wt.y,At[fr+2]=Ut.z,At[Lr+2]=Wt.z,Ot[rr]=nr,Ot[rr+1]=_r,Ot[rr+2]=Mr,Ot[rr+3]=_r,Ot[rr+4]=Ar,Ot[rr+5]=Mr,Ot[rr+6]=nr,Ot[rr+7]=Mr,Ot[rr+8]=Xt,Ot[rr+9]=Sr,Ot[rr+10]=Er,Ot[rr+11]=Or,Ot[rr+12]=Sr,Ot[rr+13]=mr,Ot[rr+14]=Or,wt[Gt]=nr,wt[Gt+1]=_r,wt[Gt+2]=nr,wt[Gt+3]=Mr,wt[Gt+4]=Ar,wt[Gt+5]=Mr,wt[Gt+6]=nr,wt[Gt+7]=Mr,wt[Gt+8]=Sr,wt[Gt+9]=_r,wt[Gt+10]=Sr,wt[Gt+11]=Or,wt[Gt+12]=Ar,wt[Gt+13]=Or,wt[Gt+14]=Sr,wt[Gt+15]=mr,wt[Gt+16]=Sr,wt[Gt+17]=Or,wt[Gt+18]=mr,wt[Gt+19]=Or,ct.faceidx+=15,ct.lineidx+=20}gr=[Mt+45,Mt+46,Mt+1,Mt,Mt+47,Mt+2],rr=ct.faceidx,Gt=ct.lineidx,nr=gr[0],wr=nr*3,_r=gr[1],Tr=_r*3,Sr=gr[4],fr=Sr*3,Ar=gr[2],pr=Ar*3,Or=gr[5],Lr=Or*3,Mr=gr[3],Pr=Mr*3,Bt=Ut=Et[15],Wt=ar=Et[0],At[wr]=Bt.x,At[Tr]=Ut.x,At[Pr]=ar.x,At[wr+1]=Bt.y,At[Tr+1]=Ut.y,At[Pr+1]=ar.y,At[wr+2]=Bt.z,At[Tr+2]=Ut.z,At[Pr+2]=ar.z,At[Tr]=Ut.x,At[pr]=Wt.x,At[Pr]=ar.x,At[Tr+1]=Ut.y,At[pr+1]=Wt.y,At[Pr+1]=ar.y,At[Tr+2]=Ut.z,At[pr+2]=Wt.z,At[Pr+2]=ar.z,At[fr]=Ut.x,At[Lr]=Wt.x,At[fr+1]=Ut.y,At[Lr+1]=Wt.y,At[fr+2]=Ut.z,At[Lr+2]=Wt.z,xt.normalize(),_t.normalize(),At[It]=_t.x,At[Jt]=At[sr]=xt.x,At[It+1]=_t.y,At[Jt+1]=At[sr+1]=xt.y,At[It+2]=_t.z,At[Jt+2]=At[sr+2]=xt.z,Ot[rr]=nr,Ot[rr+1]=_r,Ot[rr+2]=Mr,Ot[rr+3]=_r,Ot[rr+4]=Ar,Ot[rr+5]=Mr,Ot[rr+6]=nr,Ot[rr+7]=Mr,Ot[rr+8]=Xt,Ot[rr+9]=Sr,Ot[rr+10]=Er,Ot[rr+11]=Or,Ot[rr+12]=Sr,Ot[rr+13]=mr,Ot[rr+14]=Or,wt[Gt]=nr,wt[Gt+1]=_r,wt[Gt+2]=nr,wt[Gt+3]=Mr,wt[Gt+4]=Ar,wt[Gt+5]=Mr,wt[Gt+6]=nr,wt[Gt+7]=Mr,wt[Gt+8]=Sr,wt[Gt+9]=_r,wt[Gt+10]=Sr,wt[Gt+11]=Or,wt[Gt+12]=Ar,wt[Gt+13]=Or,wt[Gt+14]=Sr,wt[Gt+15]=mr,wt[Gt+16]=Sr,wt[Gt+17]=Or,wt[Gt+18]=mr,wt[Gt+19]=Or,ct.faceidx+=15,ct.lineidx+=20}static updateBoundingFromPoints(rt,j,_e,it){rt.center.set(0,0,0);let st=1/0,lt=1/0,et=1/0,at=-1/0,ft=-1/0,ct=-1/0;rt.box&&(st=rt.box.min.x,at=rt.box.max.x,lt=rt.box.min.y,ft=rt.box.max.y,et=rt.box.min.z,ct=rt.box.max.z);for(let Ct=0,Et=it;Ct<Et;Ct++){var xt=_e[Ct*3],dt=_e[Ct*3+1],_t=_e[Ct*3+2];xt<st&&(st=xt),dt<lt&&(lt=dt),_t<et&&(et=_t),xt>at&&(at=xt),dt>ft&&(ft=dt),_t>ct&&(ct=_t)}rt.center.set((at+st)/2,(ft+lt)/2,(ct+et)/2),rt.radius=rt.center.distanceTo({x:at,y:ft,z:ct}),rt.box={min:{x:st,y:lt,z:et},max:{x:at,y:ft,z:ct}}}static addCustomGeo(rt,j,_e,it,st){var lt=j.addGeoGroup(),et=_e.vertexArr,at=_e.normalArr,ft=_e.faceArr;lt.vertices=et.length,lt.faceidx=ft.length;var ct,xt,dt,_t,Ct,Et,Mt,St,Ot,At=lt.vertexArray,wt=lt.colorArray;for(it.constructor!==Array&&(St=it.r,Ot=it.g,_t=it.b),Et=0,Mt=lt.vertices;Et<Mt;++Et)ct=Et*3,xt=et[Et],At[ct]=xt.x,At[ct+1]=xt.y,At[ct+2]=xt.z,it.constructor===Array&&(Ct=it[Et],St=Ct.r,Ot=Ct.g,_t=Ct.b),wt[ct]=St,wt[ct+1]=Ot,wt[ct+2]=_t;if(st)for(Et=0,Mt=lt.faceidx/3;Et<Mt;++Et){ct=Et*3,dt=ft[ct],_t=ft[ct+1],Ct=ft[ct+2];var Pt=new $.Vector3,Lt=new $.Vector3,Rt=new $.Vector3;rt.intersectionShape.triangle.push(new _.Triangle(Pt.copy(et[dt]),Lt.copy(et[_t]),Rt.copy(et[Ct])))}if(st){var Dt=new $.Vector3(0,0,0),$t=0;for(let qt=0;qt<j.geometryGroups.length;qt++)Dt.add(j.geometryGroups[qt].getCentroid()),$t++;Dt.divideScalar($t),vt.updateBoundingFromPoints(rt.boundingSphere,{centroid:Dt},At,lt.vertices)}if(lt.faceArray=new Uint16Array(ft),lt.truncateArrayBuffers(!0,!0),at.length<lt.vertices)lt.setNormals();else{var jt=lt.normalArray=new Float32Array(lt.vertices*3),Zt;for(Et=0,Mt=lt.vertices;Et<Mt;++Et)ct=Et*3,Zt=at[Et],jt[ct]=Zt.x,jt[ct+1]=Zt.y,jt[ct+2]=Zt.z}lt.setLineIndices(),lt.lineidx=lt.lineArray.length}static updateFromStyle(rt,j){typeof j.color<"u"?(rt.color=j.color||new nt.Color,j.color instanceof nt.Color||(rt.color=nt.CC.color(j.color))):rt.color=nt.CC.color(0),rt.wireframe=!!j.wireframe,rt.opacity=j.alpha?(0,$.clamp)(j.alpha,0,1):1,typeof j.opacity<"u"&&(rt.opacity=(0,$.clamp)(j.opacity,0,1)),rt.side=j.side!==void 0?j.side:a.DoubleSide,rt.linewidth=typeof j.linewidth>"u"?1:j.linewidth,rt.clickable=!!j.clickable,rt.callback=(0,mt.makeFunction)(j.callback),rt.hoverable=!!j.hoverable,rt.hover_callback=(0,mt.makeFunction)(j.hover_callback),rt.unhover_callback=(0,mt.makeFunction)(j.unhover_callback),rt.contextMenuEnabled=!!j.contextMenuEnabled,rt.hidden=j.hidden,rt.frame=j.frame}constructor(rt){this.color=16777215,this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.contextMenuEnabled=!1,this.side=a.DoubleSide,this.stylespec=rt||{},this.boundingSphere=new _.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},vt.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new a.Geometry(!0),this.linegeo=new a.Geometry(!0)}updateStyle(rt){for(var j in rt)this.stylespec[j]=rt[j];if(vt.updateFromStyle(this,this.stylespec),rt.voldata&&rt.volscheme){(0,mt.adjustVolumeStyle)(rt);const _e=rt.volscheme,it=rt.voldata,st=nt.CC,lt=_e.range()||[-1,1];this.geo.setColors(function(et,at,ft){let ct=it.getVal(et,at,ft);return st.color(_e.valueToHex(ct,lt))}),delete this.color}}addCustom(rt){rt.vertexArr=rt.vertexArr||[],rt.faceArr=rt.faceArr||[],rt.normalArr=rt.normalArr||[],vt.drawCustom(this,this.geo,rt)}addSphere(rt){rt.center||(rt.center=new $.Vector3(0,0,0)),rt.radius=rt.radius?(0,$.clamp)(rt.radius,0,1/0):1.5,rt.color=nt.CC.color(rt.color),this.intersectionShape.sphere.push(new _.Sphere(rt.center,rt.radius)),pt.GLDraw.drawSphere(this.geo,rt.center,rt.radius,rt.color,rt.quality),this.components.push({centroid:new $.Vector3(rt.center.x,rt.center.y,rt.center.z)});var j=this.geo.updateGeoGroup(0);vt.updateBoundingFromPoints(this.boundingSphere,this.components,j.vertexArray,j.vertices)}addBox(rt){var j=rt.dimensions||{w:1,h:1,d:1},_e;typeof j.w=="number"?_e={x:j.w,y:0,z:0}:_e=j.w;var it;typeof j.h=="number"?it={x:0,y:j.h,z:0}:it=j.h;var st;typeof j.d=="number"?st={x:0,y:0,z:j.d}:st=j.d;var lt=rt.corner;lt==null&&(rt.center!==void 0?lt={x:rt.center.x-.5*(_e.x+it.x+st.x),y:rt.center.y-.5*(_e.y+it.y+st.y),z:rt.center.z-.5*(_e.z+it.z+st.z)}:lt={x:0,y:0,z:0});var et=[{x:lt.x,y:lt.y,z:lt.z},{x:lt.x+_e.x,y:lt.y+_e.y,z:lt.z+_e.z},{x:lt.x+it.x,y:lt.y+it.y,z:lt.z+it.z},{x:lt.x+_e.x+it.x,y:lt.y+_e.y+it.y,z:lt.z+_e.z+it.z},{x:lt.x+st.x,y:lt.y+st.y,z:lt.z+st.z},{x:lt.x+_e.x+st.x,y:lt.y+_e.y+st.y,z:lt.z+_e.z+st.z},{x:lt.x+it.x+st.x,y:lt.y+it.y+st.y,z:lt.z+it.z+st.z},{x:lt.x+_e.x+it.x+st.x,y:lt.y+_e.y+it.y+st.y,z:lt.z+_e.z+it.z+st.z}],at=[],ft=[];at.splice(at.length,0,et[0],et[1],et[2],et[3]),ft.splice(ft.length,0,0,2,1,1,2,3);var ct=4;at.splice(at.length,0,et[2],et[3],et[6],et[7]),ft.splice(ft.length,0,ct+0,ct+2,ct+1,ct+1,ct+2,ct+3),ct+=4,at.splice(at.length,0,et[4],et[5],et[0],et[1]),ft.splice(ft.length,0,ct+0,ct+2,ct+1,ct+1,ct+2,ct+3),ct+=4,at.splice(at.length,0,et[6],et[7],et[4],et[5]),ft.splice(ft.length,0,ct+0,ct+2,ct+1,ct+1,ct+2,ct+3),ct+=4,at.splice(at.length,0,et[3],et[1],et[7],et[5]),ft.splice(ft.length,0,ct+0,ct+2,ct+1,ct+1,ct+2,ct+3),ct+=4,at.splice(at.length,0,et[2],et[6],et[0],et[4]),ft.splice(ft.length,0,ct+0,ct+2,ct+1,ct+1,ct+2,ct+3),ct+=4;var xt=(0,mt.extend)({},rt);xt.vertexArr=at,xt.faceArr=ft,xt.normalArr=[],vt.drawCustom(this,this.geo,xt);var dt=new $.Vector3;this.components.push({centroid:dt.addVectors(et[0],et[7]).multiplyScalar(.5)});var _t=this.geo.updateGeoGroup(0);vt.updateBoundingFromPoints(this.boundingSphere,this.components,_t.vertexArray,_t.vertices)}addCylinder(rt){var j,_e;rt.start?j=new $.Vector3(rt.start.x||0,rt.start.y||0,rt.start.z||0):j=new $.Vector3(0,0,0),rt.end?(_e=new $.Vector3(rt.end.x,rt.end.y||0,rt.end.z||0),typeof _e.x>"u"&&(_e.x=3)):_e=new $.Vector3(0,0,0);var it=rt.radius||.1,st=nt.CC.color(rt.color);this.intersectionShape.cylinder.push(new _.Cylinder(j,_e,it)),pt.GLDraw.drawCylinder(this.geo,j,_e,it,st,rt.fromCap,rt.toCap);var lt=new $.Vector3;this.components.push({centroid:lt.addVectors(j,_e).multiplyScalar(.5)});var et=this.geo.updateGeoGroup(0);vt.updateBoundingFromPoints(this.boundingSphere,this.components,et.vertexArray,et.vertices)}addDashedCylinder(rt){rt.dashLength=rt.dashLength||.25,rt.gapLength=rt.gapLength||.25;var j;rt.start?j=new $.Vector3(rt.start.x||0,rt.start.y||0,rt.start.z||0):j=new $.Vector3(0,0,0);var _e;rt.end?(_e=new $.Vector3(rt.end.x,rt.end.y||0,rt.end.z||0),typeof _e.x>"u"&&(_e.x=3)):_e=new $.Vector3(3,0,0);for(var it=rt.radius||.1,st=nt.CC.color(rt.color),lt=Math.sqrt(Math.pow(j.x-_e.x,2)+Math.pow(j.y-_e.y,2)+Math.pow(j.z-_e.z,2)),et=lt/(rt.gapLength+rt.dashLength),at=new $.Vector3(rt.start.x||0,rt.start.y||0,rt.start.z||0),ft=new $.Vector3(rt.end.x,rt.end.y||0,rt.end.z||0),ct=new $.Vector3((_e.x-j.x)/(lt/rt.gapLength),(_e.y-j.y)/(lt/rt.gapLength),(_e.z-j.z)/(lt/rt.gapLength)),xt=new $.Vector3((_e.x-j.x)/(lt/rt.dashLength),(_e.y-j.y)/(lt/rt.dashLength),(_e.z-j.z)/(lt/rt.dashLength)),dt=0;dt<et;dt++)ft=new $.Vector3(at.x+xt.x,at.y+xt.y,at.z+xt.z),this.intersectionShape.cylinder.push(new _.Cylinder(at,ft,it)),pt.GLDraw.drawCylinder(this.geo,at,ft,it,st,rt.fromCap,rt.toCap),at=new $.Vector3(ft.x+ct.x,ft.y+ct.y,ft.z+ct.z);var _t=new $.Vector3;this.components.push({centroid:_t.addVectors(j,_e).multiplyScalar(.5)});var Ct=this.geo.updateGeoGroup(0);vt.updateBoundingFromPoints(this.boundingSphere,this.components,Ct.vertexArray,Ct.vertices)}addCurve(rt){rt.points=rt.points||[],rt.smooth=rt.smooth||10,typeof rt.fromCap>"u"&&(rt.fromCap=2),typeof rt.toCap>"u"&&(rt.toCap=2);var j=(0,ut.subdivide_spline)(rt.points,rt.smooth);if(j.length<3){console.log("Too few points in addCurve");return}var _e=rt.radius||.1,it=nt.CC.color(rt.color),st=0,lt=j.length-1,et=j[0].distanceTo(j[1]),at=Math.ceil(2*_e/et);if(rt.toArrow){lt-=at;let dt={start:j[lt],end:j[j.length-1],radius:_e,color:it,mid:1e-4};this.addArrow(dt)}if(rt.fromArrow){st+=at;let dt={start:j[st],end:j[0],radius:_e,color:it,mid:1e-4};this.addArrow(dt)}for(var ft=Math.ceil(j.length/2),ct={radius:_e,color:it,fromCap:2,toCap:2},xt=st;xt<lt;xt++)ct.start=j[xt],ct.end=j[xt+1],ct.fromCap=2,ct.toCap=2,xt<ft?(ct.fromCap=2,ct.toCap=0):xt>ft?(ct.fromCap=0,ct.toCap=2):(ct.fromCap=2,ct.toCap=2),this.addCylinder(ct)}addLine(rt){var j,_e;rt.start?j=new $.Vector3(rt.start.x||0,rt.start.y||0,rt.start.z||0):j=new $.Vector3(0,0,0),rt.end?(_e=new $.Vector3(rt.end.x,rt.end.y||0,rt.end.z||0),typeof _e.x>"u"&&(_e.x=3)):_e=new $.Vector3(3,0,0);var it=this.geo.updateGeoGroup(2),st=it.vertices,lt=st*3,et=it.vertexArray;et[lt]=j.x,et[lt+1]=j.y,et[lt+2]=j.z,et[lt+3]=_e.x,et[lt+4]=_e.y,et[lt+5]=_e.z,it.vertices+=2;var at=it.lineArray,ft=it.lineidx;at[ft]=st,at[ft+1]=st+1,it.lineidx+=2;var ct=new $.Vector3;this.components.push({centroid:ct.addVectors(j,_e).multiplyScalar(.5)}),it=this.geo.updateGeoGroup(0),vt.updateBoundingFromPoints(this.boundingSphere,this.components,it.vertexArray,it.vertices)}addArrow(rt){if(rt.start?rt.start=new $.Vector3(rt.start.x||0,rt.start.y||0,rt.start.z||0):rt.start=new $.Vector3(0,0,0),rt.dir instanceof $.Vector3&&typeof rt.length=="number"){var j=rt.dir.clone().multiplyScalar(rt.length).add(rt.start);rt.end=j}else rt.end?(rt.end=new $.Vector3(rt.end.x,rt.end.y||0,rt.end.z||0),typeof rt.end.x>"u"&&(rt.end.x=3)):rt.end=new $.Vector3(3,0,0);rt.radius=rt.radius||.1,rt.radiusRatio=rt.radiusRatio||1.618034,rt.mid=0<rt.mid&&rt.mid<1?rt.mid:.618034,vt.drawArrow(this,this.geo,rt);var _e=new $.Vector3;this.components.push({centroid:_e.addVectors(rt.start,rt.end).multiplyScalar(.5)});var it=this.geo.updateGeoGroup(0);vt.updateBoundingFromPoints(this.boundingSphere,this.components,it.vertexArray,it.vertices)}static distance_from(rt,j){return Math.sqrt(Math.pow(rt.x-j.x,2)+Math.pow(rt.y-j.y,2)+Math.pow(rt.z-j.z,2))}static inSelectedRegion(rt,j,_e){for(var it=0;it<j.length;it++)if(vt.distance_from(j[it],rt)<=_e)return!0;return!1}addIsosurface(rt,j,_e,it){var st=j.isoval!==void 0&&typeof j.isoval=="number"?j.isoval:0,lt=!!j.voxel,et=j.smoothness===void 0?1:j.smoothness,at=rt.size.x,ft=rt.size.y,ct=rt.size.z,xt=new Int16Array(at*ft*ct),dt=rt.data,_t,Ct;for(_t=0,Ct=xt.length;_t<Ct;++_t)xt[_t]=-1;var Et=new Uint8Array(at*ft*ct);for(_t=0,Ct=dt.length;_t<Ct;++_t){var Mt=st>=0?dt[_t]-st:st-dt[_t];Mt>0&&(Et[_t]|=vt.ISDONE)}var St=[],Ot=[];tt.MarchingCube.march(Et,St,Ot,{fulltable:!0,voxel:lt,unitCube:rt.unit,origin:rt.origin,matrix:rt.matrix,nX:at,nY:ft,nZ:ct}),!lt&&et>0&&tt.MarchingCube.laplacianSmooth(et,St,Ot);var At=[],wt=[],Pt=[];if(j.selectedRegion&&j.coords===void 0&&(j.coords=j.selectedRegion),j.coords===void 0&&j.selection!==void 0&&(it?j.coords=it.selectedAtoms(j.selection):console.log("addIsosurface needs viewer is selection provided.")),j.coords!==void 0){var Lt=j.coords[0].x,Rt=j.coords[0].y,Dt=j.coords[0].z,$t=j.coords[0].x,jt=j.coords[0].y,Zt=j.coords[0].z;for(let Gt=0;Gt<j.coords.length;Gt++)j.coords[Gt].x>Lt?Lt=j.coords[Gt].x:j.coords[Gt].x<$t&&($t=j.coords[Gt].x),j.coords[Gt].y>Rt?Rt=j.coords[Gt].y:j.coords[Gt].y<jt&&(jt=j.coords[Gt].y),j.coords[Gt].z>Dt?Dt=j.coords[Gt].z:j.coords[Gt].z<Zt&&(Zt=j.coords[Gt].z);var qt=2;j.radius!==void 0&&(qt=j.radius),j.selectedOffset!==void 0&&(qt=j.selectedOffset),j.seldist!==void 0&&(qt=j.seldist),$t-=qt,Lt+=qt,jt-=qt,Rt+=qt,Zt-=qt,Dt+=qt;for(let Gt=0;Gt<St.length;Gt++)St[Gt].x>$t&&St[Gt].x<Lt&&St[Gt].y>jt&&St[Gt].y<Rt&&St[Gt].z>Zt&&St[Gt].z<Dt&&vt.inSelectedRegion(St[Gt],j.coords,qt)?(At.push(wt.length),wt.push(St[Gt])):At.push(-1);for(let Gt=0;Gt+2<Ot.length;Gt+=3)At[Ot[Gt]]!==-1&&At[Ot[Gt+1]]!==-1&&At[Ot[Gt+2]]!==-1&&(Pt.push(Ot[Gt]-(Ot[Gt]-At[Ot[Gt]])),Pt.push(Ot[Gt+1]-(Ot[Gt+1]-At[Ot[Gt+1]])),Pt.push(Ot[Gt+2]-(Ot[Gt+2]-At[Ot[Gt+2]])));St=wt,Ot=Pt}vt.drawCustom(this,this.geo,{vertexArr:St,faceArr:Ot,normalArr:[],clickable:j.clickable,hoverable:j.hoverable}),this.updateStyle(j);var er=new $.Vector3(rt.origin.x,rt.origin.y,rt.origin.z),Yt=new $.Vector3(rt.size.x*rt.unit.x,rt.size.y*rt.unit.y,rt.size.z*rt.unit.z),Qt=new $.Vector3(0,0,0),cr=er.clone(),lr=er.clone().add(Yt);for(let Gt=0;Gt<St.length;Gt++)Qt.add(St[Gt]),cr.max(St[Gt]),lr.min(St[Gt]);Qt.divideScalar(St.length);var gr=Qt.distanceTo(lr),rr=Qt.distanceTo(cr);this.boundingSphere.center=Qt,this.boundingSphere.radius=Math.max(gr,rr),typeof _e=="function"&&_e()}addVolumetricData(rt,j,_e){rt=new ot.VolumeData(rt,j),this.addIsosurface(rt,_e)}finalize(){return vt.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(rt){if(this.renderedShapeObj&&(rt.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){vt.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),typeof this.color<"u"&&vt.updateColor(this.geo,this.color),this.shapeObj=new a.Object3D;var j=null;this.side==a.DoubleSide?j=new a.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:a.Coloring.VertexColors}):j=new a.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:a.Coloring.VertexColors});var _e=new a.Mesh(this.geo,j);if(this.shapeObj.add(_e),this.linegeo&&this.linegeo.vertices>0){var it=new a.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),st=new a.Line(this.linegeo,it,a.LineStyle.LinePieces);this.shapeObj.add(st)}this.renderedShapeObj=this.shapeObj.clone(),rt.add(this.renderedShapeObj)}}removegl(rt){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),rt.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}vt.ISDONE=2,vt.drawCustom=function(gt,rt,j){var _e=j,it=_e.vertexArr,st=_e.faceArr;(it.length===0||st.length===0)&&console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var lt=j.color;typeof lt>"u"&&(lt=gt.color),lt=nt.CC.color(lt);for(var et=ht(_e),at=0,ft=et.length;at<ft;at++)vt.addCustomGeo(gt,rt,et[at],et[at].colorArr?et[at].colorArr:lt,j.clickable)};function ht(gt){var rt=64e3;if(gt.vertexArr.length<rt)return[gt];var j=[{vertexArr:[],normalArr:[],faceArr:[]}];gt.colorArr&&(j.colorArr=[]);var _e=[],it=[],st=0,lt=gt.faceArr;for(let at=0,ft=lt.length;at<ft;at+=3){let ct=j[st];for(let xt=0;xt<3;xt++){var et=lt[at+xt];_e[et]!==st&&(_e[et]=st,it[et]=ct.vertexArr.length,ct.vertexArr.push(gt.vertexArr[et]),gt.normalArr&&gt.normalArr[et]&&ct.normalArr.push(gt.normalArr[et]),gt.colorArr&&gt.colorArr[et]&&ct.colorArr.push(gt.colorArr[et])),ct.faceArr.push(it[et])}ct.vertexArr.length>=rt&&(j.push({vertexArr:[],normalArr:[],faceArr:[]}),gt.colorArr&&(j.colorArr=[]),st++)}return j}},"./src/GLViewer.ts":(i,s,o)=>{o.r(s),o.d(s,{CONTEXTS_PER_VIEWPORT:()=>rt,GLViewer:()=>j,createStereoViewer:()=>st,createViewer:()=>_e,createViewerGrid:()=>it});var a=o("./src/WebGL/index.ts"),_=o("./src/WebGL/math/index.ts"),$=o("./src/colors.ts"),nt=o("./src/utilities.ts"),tt=o("./src/Gradient.ts"),ot=o("./src/GLModel.ts"),pt=o("./src/Label.ts"),ut=o("./src/GLShape.ts"),mt=o("./src/VolumeData.ts"),vt=o("./src/ProteinSurface4.ts"),ht=o("./src/VolumetricRender.ts"),gt=o("./node_modules/upng-js/UPNG.js");const rt=16;class j{getWidth(){let et=this.container,at=et.offsetWidth;if(at==0&&et.style.display==="none"){let ft=et.style.position,ct=et.style.visibility;et.style.display="block",et.style.visibility="hidden",et.style.position="absolute",at=et.offsetWidth,et.style.display="none",et.style.visibility=ct,et.style.position=ft}return at}getHeight(){let et=this.container,at=et.offsetHeight;if(at==0&&et.style.display==="none"){let ft=et.style.position,ct=et.style.visibility;et.style.display="block",et.style.visibility="hidden",et.style.position="absolute",at=et.offsetHeight,et.style.display="none",et.style.visibility=ct,et.style.position=ft}return at}setupRenderer(){this.renderer=new a.Renderer({antialias:this.config.antialias,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:this.config.id,row:this.config.row,col:this.config.col,rows:this.config.rows,cols:this.config.cols,canvas:this.config.canvas,containerWidth:this.WIDTH,containerHeight:this.HEIGHT,ambientOcclusion:this.config.ambientOcclusion,outline:this.config.outline}),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new a.Scene,this.scene.fog=new a.Fog(this.bgColor,100,200),this.modelGroup=new a.Object3D,this.rotationGroup=new a.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new _.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var et=new a.Light(16777215);et.position=new _.Vector3(.2,.2,1).normalize(),et.intensity=1,this.scene.add(et)}_handleLostContext(et){const at=function(ft){const ct=ft.getBoundingClientRect();return!(ct.right<0||ct.bottom<0||ct.top>(window.innerHeight||document.documentElement.clientHeight)||ct.left>(window.innerWidth||document.documentElement.clientWidth))};if(at(this.container)){let ft=0;for(let ct of document.getElementsByTagName("canvas"))if(at(ct)&&ct._3dmol_viewer!=null&&(ct._3dmol_viewer.resize(),ft+=1,ft>=rt))break}}initContainer(et){this.container=et,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.glDOM._3dmol_viewer=this,this.glDOM.addEventListener("webglcontextlost",this._handleLostContext.bind(this)),this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var et=0;for(let ft in this.surfaces)if(this.surfaces.hasOwnProperty(ft)){var at=parseInt(ft);isNaN(at)||at>et&&(et=at)}return et+1}setSlabAndFog(){let et=this.camera.position.z-this.rotationGroup.position.z;et<1&&(et=1),this.camera.near=et+this.slabNear,this.camera.near<1&&(this.camera.near=1),this.camera.far=et+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=et*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.far,this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(et){if(this.renderer.setViewport(),!!this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!et&&this.linkedViewers.length>0))for(var at=this._viewer.getView(),ft=0;ft<this.linkedViewers.length;ft++){var ct=this.linkedViewers[ft];ct.setView(at,!0)}}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledObjects.splice(0,this.contextMenuEnabledObjects.length);for(let et=0,at=this.models.length;et<at;et++){let ft=this.models[et];if(ft){let ct=ft.selectedAtoms({clickable:!0}),xt=ft.selectedAtoms({hoverable:!0}),dt=ft.selectedAtoms({contextMenuEnabled:!0});for(let _t=0;_t<xt.length;_t++)this.hoverables.push(xt[_t]);for(let _t=0;_t<ct.length;_t++)this.clickables.push(ct[_t]);for(let _t=0;_t<dt.length;_t++)this.contextMenuEnabledObjects.push(dt[_t])}}for(let et=0,at=this.shapes.length;et<at;et++){let ft=this.shapes[et];ft&&ft.clickable&&this.clickables.push(ft),ft&&ft.hoverable&&this.hoverables.push(ft),ft&&ft.contextMenuEnabled&&this.contextMenuEnabledObjects.push(ft)}}handleClickSelection(et,at,ft){let ct=this.targetedObjects(et,at,this.clickables);if(ct.length){var xt=ct[0].clickable;xt.callback!==void 0&&(typeof xt.callback!="function"&&(xt.callback=(0,nt.makeFunction)(xt.callback)),typeof xt.callback=="function"&&(this.mouseButton===3&&this.contextMenuEnabledObjects.includes(xt)&&this.userContextMenuHandler||xt.callback(xt,this._viewer,ft,this.container,ct)))}}canvasOffset(){let et=this.glDOM,at=et.getBoundingClientRect(),ft=et.ownerDocument,ct=ft.documentElement,xt=ft.defaultView;return{top:at.top+xt.pageYOffset-ct.clientTop,left:at.left+xt.pageXOffset-ct.clientLeft}}setHover(et,at,ft){this.current_hover!=et&&(this.current_hover&&(typeof this.current_hover.unhover_callback!="function"&&(this.current_hover.unhover_callback=(0,nt.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,at,this.container,ft)),this.current_hover=et,et&&et.hover_callback!==void 0&&(typeof et.hover_callback!="function"&&(et.hover_callback=(0,nt.makeFunction)(et.hover_callback)),typeof et.hover_callback=="function"&&et.hover_callback(et,this._viewer,at,this.container,ft)))}handleHoverSelection(et,at,ft){if(this.hoverables.length==0)return;let ct=this.targetedObjects(et,at,this.hoverables);if(ct.length){var xt=ct[0].clickable;this.setHover(xt,ft,ct),this.current_hover=xt}else this.setHover(null)}handleHoverContinue(et,at){let ft=this.targetedObjects(et,at,this.hoverables);(ft.length==0||ft[0]===void 0)&&this.setHover(null),ft[0]!==void 0&&ft[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(et,{allowTolerance:at=et.targetTouches,tolerance:ft=5}={}){const ct=this.getX(et),xt=this.getY(et);if(at){const dt=Math.abs(ct-this.mouseStartX),_t=Math.abs(xt-this.mouseStartY);return dt<=ft&&_t<=ft}else return ct===this.mouseStartX&&xt===this.mouseStartY}calcTouchDistance(et){var at=et.targetTouches[0].pageX-et.targetTouches[1].pageX,ft=et.targetTouches[0].pageY-et.targetTouches[1].pageY;return Math.hypot(at,ft)}getX(et){var at=et.pageX;return at==null&&(at=et.pageX),et.targetTouches&&et.targetTouches[0]?at=et.targetTouches[0].pageX:et.changedTouches&&et.changedTouches[0]&&(at=et.changedTouches[0].pageX),at}getY(et){var at=et.pageY;return at==null&&(at=et.pageY),et.targetTouches&&et.targetTouches[0]?at=et.targetTouches[0].pageY:et.changedTouches&&et.changedTouches[0]&&(at=et.changedTouches[0].pageY),at}isInViewer(et,at){if(this.viewers!=null){var ft=this.WIDTH/this.cols,ct=this.HEIGHT/this.rows,xt=this.canvasOffset(),dt=et-xt.left,_t=at-xt.top,Ct=this.rows-Math.floor(_t/ct)-1,Et=Math.floor(dt/ft);if(Ct!=this.row||Et!=this.col)return!1}return!0}adjustZoomToLimits(et){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let at=this.CAMERA_Z-this.config.lowerZoomLimit;et>at&&(et=at)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let at=this.CAMERA_Z-this.config.upperZoomLimit;et<at&&(et=at)}return et>this.CAMERA_Z-1&&(et=this.CAMERA_Z-1),et}static slerp(et,at,ft){if(ft==1)return at.clone();if(ft==0)return et.clone();let ct=et.x*at.x+et.y*at.y+et.z*at.z+et.w*at.w;if(ct>.9995){let St=new _.Quaternion(et.x+ft*(at.x-et.x),et.y+ft*(at.y-et.y),et.z+ft*(at.z-et.z),et.w+ft*(at.w-et.w));return St.normalize(),St}ct<0&&(at=at.clone().multiplyScalar(-1),ct=-ct),ct>1?ct=1:ct<-1&&(ct=-1);var xt=Math.acos(ct),dt=xt*ft,_t=at.clone();_t.sub(et.clone().multiplyScalar(ct)),_t.normalize();var Ct=Math.cos(dt),Et=Math.sin(dt),Mt=new _.Quaternion(et.x*Ct+_t.x*Et,et.y*Ct+_t.y*Et,et.z*Ct+_t.z*Et,et.w*Ct+_t.w*Et);return Mt.normalize(),Mt}constructor(et,at={}){if(this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledObjects=[],this.current_hover=null,this.hoverDuration=500,this.longTouchDuration=1e3,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.slabNear=-50,this.slabFar=50,this.cq=new _.Quaternion(0,0,0,1),this.dq=new _.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=at,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=$.elementColors.defaultColors),this.nomouse=!!this.config.nomouse,this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",typeof this.config.backgroundColor<"u"&&(this.bgColor=$.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=this.config.backgroundAlpha==null?1:this.config.backgroundAlpha,this.camerax=0,typeof this.config.camerax<"u"&&(this.camerax=typeof this.config.camerax=="string"?parseFloat(this.config.camerax):this.config.camerax),this._viewer=this,this.container=et,this.config.hoverDuration!=null&&(this.hoverDuration=this.config.hoverDuration),this.config.antialias===void 0&&(this.config.antialias=!0),this.config.cartoonQuality===void 0&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=this.config.row==null?0:this.config.row,this.col=this.config.col==null?0:this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new a.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new _.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new _.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new a.Raycaster(new _.Vector3(0,0,0),new _.Vector3(0,0,0)),this.projector=new a.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=$.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),typeof window.ResizeObserver<"u"&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container)),typeof window.IntersectionObserver<"u"){let ft=(ct,xt)=>{ct.forEach(dt=>{dt.isIntersecting&&this.resize()})};this.intwatcher=new window.IntersectionObserver(ft),this.intwatcher.observe(this.container)}try{typeof this.callback=="function"&&this.callback(this)}catch(ft){console.log("error with glviewer callback: "+ft)}}targetedObjects(et,at,ft){var ct={x:et,y:at,z:-1};return Array.isArray(ft)||(ft=this.selectedAtoms(ft)),ft.length==0?[]:(this.raycaster.setFromCamera(ct,this.camera),this.raycaster.intersectObjects(this.modelGroup,ft))}modelToScreen(et){let at=!1;Array.isArray(et)||(et=[et],at=!0);let ft=this.renderer.getXRatio(),ct=this.renderer.getYRatio(),xt=this.col,dt=this.row,_t=xt*(this.WIDTH/ft),Ct=(ct-dt-1)*(this.HEIGHT/ct),Et=[],Mt=this.canvasOffset();return et.forEach(St=>{let Ot=new _.Vector3(St.x,St.y,St.z);Ot.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(Ot,this.camera);let At=this.WIDTH/ft*(Ot.x+1)/2+Mt.left+_t,wt=-(this.HEIGHT/ct)*(Ot.y-1)/2+Mt.top+Ct;Et.push({x:At,y:wt})}),at&&(Et=Et[0]),Et}screenOffsetToModel(et,at,ft){var ct=et/this.WIDTH,xt=at/this.HEIGHT,dt=ft===void 0?this.rotationGroup.position.z:ft,_t=this.rotationGroup.quaternion,Ct=new _.Vector3(0,0,dt);return this.projector.projectVector(Ct,this.camera),Ct.x+=ct*2,Ct.y-=xt*2,this.projector.unprojectVector(Ct,this.camera),Ct.z=0,Ct.applyQuaternion(_t),Ct}screenToModelDistance(et,at){let ft=this.canvasOffset(),ct=new _.Vector3(at.x,at.y,at.z);ct.applyMatrix4(this.modelGroup.matrixWorld);let xt=ct.clone();this.projector.projectVector(ct,this.camera);let dt=new _.Vector3((et.x-ft.left)*2/this.WIDTH-1,(et.y-ft.top)*2/-this.HEIGHT+1,ct.z);return this.projector.unprojectVector(dt,this.camera),dt.distanceTo(xt)}setViewChangeCallback(et){(typeof et=="function"||et==null)&&(this.viewChangeCallback=et)}setStateChangeCallback(et){(typeof et=="function"||et==null)&&(this.stateChangeCallback=et)}getConfig(){return this.config}setConfig(et){this.config=et,et.ambientOcclusion&&this.renderer.enableAmbientOcclusion(et.ambientOcclusion)}getInternalState(){var et={models:[],surfaces:[],shapes:[],labels:[]};for(let at=0;at<this.models.length;at++)this.models[at]&&(et.models[at]=this.models[at].getInternalState());return et}setInternalState(et){this.clear();var at=et.models;for(let ft=0;ft<at.length;ft++)at[ft]&&(this.models[ft]=new ot.GLModel(ft),this.models[ft].setInternalState(at[ft]));this.render()}setZoomLimits(et,at){typeof et<"u"&&(this.config.lowerZoomLimit=et),at&&(this.config.upperZoomLimit=at),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(et){et.fov!==void 0&&(this.fov=et.fov,this.camera.fov=this.fov),et.z!==void 0&&(this.CAMERA_Z=et.z,this.camera.z=this.CAMERA_Z),et.orthographic!==void 0&&(this.camera.ortho=et.orthographic)}_handleMouseDown(et){if(et.preventDefault(),!this.scene)return;var at=this.getX(et),ft=this.getY(et);if(at===void 0)return;this.isDragging=!0,this.mouseButton=et.which,this.mouseStartX=at,this.mouseStartY=ft,this.touchHold=!0,this.touchDistanceStart=0,et.targetTouches&&et.targetTouches.length==2&&(this.touchDistanceStart=this.calcTouchDistance(et)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let ct=this;et.targetTouches&&et.targetTouches.length===1&&(this.longTouchTimeout=setTimeout(function(){if(ct.touchHold==!0){ct.glDOM=ct.renderer.domElement;const xt=et.targetTouches[0],dt=new PointerEvent("contextmenu",Object.assign(Object.assign({},et),{pageX:xt.pageX,pageY:xt.pageY,screenX:xt.screenX,screenY:xt.screenY,clientX:xt.clientX,clientY:xt.clientY}));ct.glDOM.dispatchEvent(dt)}},this.longTouchDuration))}_handleMouseUp(et){if(this.touchHold=!1,this.isDragging&&this.scene){var at=this.getX(et),ft=this.getY(et);if(this.closeEnoughForClick(et)&&this.isInViewer(at,ft)){let ct=this.mouseXY(at,ft);this.handleClickSelection(ct.x,ct.y,et)}}this.isDragging=!1}_handleMouseScroll(et){if(et.preventDefault(),!!this.scene){var at=this.getX(et),ft=this.getY(et);if(at!==void 0&&!(!this.control_all&&!this.isInViewer(at,ft))){var ct=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,xt=1;if(et.ctrlKey&&(xt=-1),et.detail)this.rotationGroup.position.z+=xt*ct*et.detail/10;else if(et.wheelDelta){let dt=et.wheelDelta*600/(et.wheelDelta+600);this.rotationGroup.position.z-=xt*ct*dt/400}this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(et){let at=this;return et=et||1,new Promise(function(ft){let ct=0,xt=at.viewChangeCallback,dt=[],_t=[],Ct=Date.now();at.viewChangeCallback=function(){_t.push(Date.now()-Ct),Ct=Date.now(),dt.push(new Promise(Et=>{at.getCanvas().toBlob(function(Mt){Mt.arrayBuffer().then(Et)},"image/png")})),ct+=1,ct==et&&(at.viewChangeCallback=xt,Promise.all(dt).then(Et=>{let Mt=[];for(let Lt=0;Lt<Et.length;Lt++){let Rt=(0,gt.decode)(Et[Lt]);Mt.push((0,gt.toRGBA8)(Rt)[0])}let St=at.getCanvas().width,Ot=at.getCanvas().height,At=(0,gt.encode)(Mt,St,Ot,0,_t),wt=new Blob([At],{type:"image/png"}),Pt=new FileReader;Pt.onload=function(Lt){ft(Lt.target.result)},Pt.readAsDataURL(wt)}))}})}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(et){this.hoverDuration=et}mouseXY(et,at){let ft=this.canvasOffset(),ct=this.renderer.getXRatio(),xt=this.renderer.getYRatio(),dt=this.col,_t=this.row,Ct=dt*(this.WIDTH/ct),Et=(xt-_t-1)*(this.HEIGHT/xt),Mt=(et-ft.left-Ct)/(this.WIDTH/ct)*2-1,St=-((at-ft.top-Et)/(this.HEIGHT/xt))*2+1;return{x:Mt,y:St}}_handleMouseMove(et){clearTimeout(this.hoverTimeout),et.preventDefault();let at=this.getX(et),ft=this.getY(et);if(at===void 0)return;let ct=this.renderer.getXRatio(),xt=this.renderer.getYRatio(),dt=this.mouseXY(at,ft),_t=this;this.current_hover!==null&&this.handleHoverContinue(dt.x,dt.y);var Ct=0;if(!(!this.control_all&&!this.isInViewer(at,ft))&&this.scene&&(this.hoverables.length>0&&(this.hoverTimeout=setTimeout(function(){_t.handleHoverSelection(dt.x,dt.y,et)},this.hoverDuration)),!!this.isDragging)){et.targetTouches&&(et.targetTouches.length>1||et.targetTouches.length===1&&!this.closeEnoughForClick(et))&&clearTimeout(this.longTouchTimeout);var Et=(at-this.mouseStartX)/this.WIDTH,Mt=(ft-this.mouseStartY)/this.HEIGHT;if(this.touchDistanceStart!=0&&et.targetTouches&&et.targetTouches.length==2){var St=this.calcTouchDistance(et);Ct=2,Mt=(St-this.touchDistanceStart)*2/(this.WIDTH+this.HEIGHT)}else et.targetTouches&&et.targetTouches.length==3&&(Ct=1);Et*=ct,Mt*=xt;var Ot=Math.hypot(Et,Mt),At;if(Ct==3||this.mouseButton==3&&et.ctrlKey)this.slabNear=this.cslabNear+Et*100,this.slabFar=this.cslabFar-Mt*100;else if(Ct==2||this.mouseButton==3||et.shiftKey)At=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,At<80&&(At=80),this.rotationGroup.position.z=this.cz+Mt*At,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(Ct==1||this.mouseButton==2||et.ctrlKey){var wt=this.screenOffsetToModel(ct*(at-this.mouseStartX),xt*(ft-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,wt)}else if((Ct===0||this.mouseButton==1)&&Ot!==0){var Pt=Math.sin(Ot*Math.PI)/Ot;this.dq.x=Math.cos(Ot*Math.PI),this.dq.y=0,this.dq.z=Pt*Et,this.dq.w=-Pt*Mt,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}_handleContextMenu(et){if(et.preventDefault(),this.closeEnoughForClick(et)){var ct=this.mouseStartX,xt=this.mouseStartY,ft=this.canvasOffset();let dt=this.mouseXY(ct,xt),_t=dt.x,Ct=dt.y,Et=this.targetedObjects(_t,Ct,this.contextMenuEnabledObjects);var at=null;Et.length&&(at=Et[0].clickable);var ft=this.canvasOffset(),ct=this.mouseStartX-ft.left,xt=this.mouseStartY-ft.top;this.userContextMenuHandler&&(this.userContextMenuHandler(at,ct,xt,Et,et),this.isDragging=!1)}}setContainer(et){let at=(0,nt.getElement)(et)||this.container;return this.initContainer(at),this}setBackgroundColor(et,at){(typeof at>"u"||at<0||at>1)&&(at=1);var ft=$.CC.color(et);return this.scene.fog.color=ft,this.bgColor=ft.getHex(),this.renderer.setClearColorHex(ft.getHex(),at),this.show(),this}setProjection(et){this.camera.ortho=et==="orthographic",this.setSlabAndFog()}setViewStyle(et){if(et=et||{},et.style=et.style||"",et.style.includes("outline")?this.renderer.enableOutline(et):this.renderer.disableOutline(),et.style.includes("ambientOcclusion")){var at={};et.strength&&(at.strength=et.strength),et.radius&&(at.radius=et.radius),this.renderer.enableAmbientOcclusion(at)}else this.renderer.disableAmbientOcclusion();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(et){return this.WIDTH=et||this.WIDTH,this.updateSize(),this}setHeight(et){return this.HEIGHT=et||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let et=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0){let at=!1,ft=this.container.querySelector("canvas");ft&&ft!=this.renderer.getCanvas()?this.config.canvas=ft:(ft.remove(),this.config&&this.config.canvas!=null&&(delete this.config.canvas,at=!0)),this.setupRenderer(),this.initContainer(this.container),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),et=!0,at&&(this.config.canvas=this.renderer.getCanvas())}if(this.WIDTH==0||this.HEIGHT==0?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),et){let at=this.renderer.supportedExtensions();if(at.regen=!0,this.viewers)for(let ft=0,ct=this.viewers.length;ft<ct;ft++)for(let xt=0,dt=this.viewers[ft].length;xt<dt;xt++)this.viewers[ft][xt].render(null,at);this._viewer.render(null,at)}else this.show();return this}getModel(et){return et===void 0?this.models.length==0?null:this.models[this.models.length-1]:et instanceof ot.GLModel?et:et in this.models?this.models[et]:this.models.length==0?null:this.models[this.models.length-1]}spin(et,at=1){if(clearInterval(this.spinInterval),typeof et>"u"&&(et="y"),typeof et=="boolean")if(et)et="y";else return;Array.isArray(et)&&(et={x:et[0],y:et[1],z:et[2]});var ft=this;this.spinInterval=setInterval(function(){!ft.getCanvas().isConnected&&ft.renderer.isLost()&&clearInterval(ft.spinInterval),ft.rotate(1*at,et)},25)}animateMotion(et,at,ft,ct,xt,dt){var _t=20,Ct=Math.ceil(et/_t);Ct<1&&(Ct=1),this.incAnim();var Et={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(at){let Ot=new Array(Ct);for(let Lt=0;Lt<Ct;Lt++){let Rt=(Lt+1)/Ct,Dt={mpos:Et.mpos,rz:Et.rz,rot:Et.rot};Dt.mpos=ft.clone().sub(Et.mpos).multiplyScalar(Rt).add(Et.mpos),Dt.rz=Et.rz+Rt*(ct-Et.rz),Dt.rot=j.slerp(Et.rot,xt,Rt),Dt.cam=dt.clone().sub(Et.cam).multiplyScalar(Rt).add(Et.cam),Ot[Lt]=Dt}let At=0,wt=this,Pt=function(){var Lt=Ot[At];At+=1,wt.modelGroup.position=Lt.mpos,wt.rotationGroup.position.z=Lt.rz,wt.rotationGroup.quaternion=Lt.rot,wt.camera.lookAt(Lt.cam),At<Ot.length?setTimeout(Pt,_t):wt.decAnim(),wt.show()};setTimeout(Pt,_t)}else{var Mt={};let Ot=1/Ct;if(ft&&(Mt.mpos=ft.clone().sub(Et.mpos).multiplyScalar(Ot)),typeof ct<"u"&&ct!=null&&(Mt.rz=Ot*(ct-Et.rz)),xt){var St=j.slerp(Et.rot,xt,Ot);Mt.rot=Et.rot.clone().inverse().multiply(St)}dt&&(Mt.cam=dt.clone().sub(Et.cam).multiplyScalar(Ot));let At=0,wt=this,Pt=function(){At+=1,Mt.mpos&&wt.modelGroup.position.add(Mt.mpos),Mt.rz&&(wt.rotationGroup.position.z+=Mt.rz),Mt.rot&&wt.rotationGroup.quaternion.multiply(Mt.rot),Mt.cam&&(wt.lookingAt.add(Mt.cam),wt.camera.lookAt(wt.lookingAt)),At<Ct?setTimeout(Pt,_t):wt.decAnim(),wt.show()};setTimeout(Pt,_t)}}rotate(et,at="y",ft=0,ct=!1){if(at=="x"?at={x:1,y:0,z:0}:at=="y"?at={x:0,y:1,z:0}:at=="z"&&(at={x:0,y:0,z:1}),at=="vx"?at={vx:1,vy:0,vz:0}:at=="vy"?at={vx:0,vy:1,vz:0}:at=="vz"&&(at={vx:0,vy:0,vz:1}),typeof at.vx<"u"){var xt=new _.Vector3(at.vx,at.vy,at.vz);xt.applyQuaternion(this.rotationGroup.quaternion),at={x:xt.x,y:xt.y,z:xt.z}}var dt=function(Mt){var St=Math.sin(Mt/2),Ot=Math.cos(Mt/2),At=0,wt=0,Pt=0;return At=at.x*St,wt=at.y*St,Pt=at.z*St,new _.Quaternion(At,wt,Pt,Ot).normalize()},_t=Math.PI*et/180,Ct=dt(_t);if(ft){var Et=new _.Quaternion().copy(this.rotationGroup.quaternion).multiply(Ct);this.animateMotion(ft,ct,this.modelGroup.position,this.rotationGroup.position.z,Et,this.lookingAt)}else this.rotationGroup.quaternion.multiply(Ct),this.show();return this}surfacesFinished(){for(var et in this.surfaces)if(!this.surfaces[et][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var et=this.modelGroup.position,at=this.rotationGroup.quaternion;return[et.x,et.y,et.z,this.rotationGroup.position.z,at.x,at.y,at.z,at.w]}setView(et,at){return et===void 0||!(et instanceof Array||et.length!==8)?this:!this.modelGroup||!this.rotationGroup?this:(this.modelGroup.position.x=et[0],this.modelGroup.position.y=et[1],this.modelGroup.position.z=et[2],this.rotationGroup.position.z=et[3],this.rotationGroup.quaternion.x=et[4],this.rotationGroup.quaternion.y=et[5],this.rotationGroup.quaternion.z=et[6],this.rotationGroup.quaternion.w=et[7],typeof et[8]<"u"&&(this.rotationGroup.position.x=et[8],this.rotationGroup.position.y=et[9]),this.show(at),this)}render(et,at){this.renderer.setViewport(),this.updateClickables();var ft=this.getView();this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState());var ct,xt;for(at||(at=this.renderer.supportedExtensions()),ct=0;ct<this.models.length;ct++)this.models[ct]&&this.models[ct].globj(this.modelGroup,at);for(ct=0;ct<this.shapes.length;ct++)this.shapes[ct]&&(typeof this.shapes[ct].frame>"u"||this.viewer_frame<0||this.shapes[ct].frame<0||this.shapes[ct].frame==this.viewer_frame?this.shapes[ct].globj(this.modelGroup,at):this.shapes[ct].removegl(this.modelGroup));for(ct=0;ct<this.labels.length;ct++)at.regen&&(this.labels[ct].dispose(),this.modelGroup.remove(this.labels[ct].sprite),this.labels[ct].setContext(),this.modelGroup.add(this.labels[ct].sprite)),this.labels[ct]&&typeof this.labels[ct].frame<"u"&&this.labels[ct].frame>=0&&(this.modelGroup.remove(this.labels[ct].sprite),(this.viewer_frame<0||this.labels[ct].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[ct].sprite));for(ct in this.surfaces)if(this.surfaces.hasOwnProperty(ct)){var dt=this.surfaces[ct];for(xt=0;xt<dt.length;xt++)if(dt.hasOwnProperty(xt)){var _t=dt[xt].geo;if(!dt[xt].finished||at.regen){_t.verticesNeedUpdate=!0,_t.elementsNeedUpdate=!0,_t.normalsNeedUpdate=!0,_t.colorsNeedUpdate=!0,_t.buffersNeedUpdate=!0,dt[xt].mat.needsUpdate=!0,dt[xt].done&&(dt[xt].finished=!0),dt[xt].lastGL&&this.modelGroup.remove(dt[xt].lastGL);var Ct=null;if(dt[xt].mat instanceof a.LineBasicMaterial?Ct=new a.Line(_t,dt[xt].mat):Ct=new a.Mesh(_t,dt[xt].mat),dt[xt].mat.transparent&&dt[xt].mat.opacity==0?Ct.visible=!1:Ct.visible=!0,dt[xt].symmetries.length>1||dt[xt].symmetries.length==1&&!dt[xt].symmetries[xt].isIdentity()){var Et,Mt=new a.Object3D;for(Et=0;Et<dt[xt].symmetries.length;Et++){var St=Ct.clone();St.matrix=dt[xt].symmetries[Et],St.matrixAutoUpdate=!1,Mt.add(St)}dt[xt].lastGL=Mt,this.modelGroup.add(Mt)}else dt[xt].lastGL=Ct,this.modelGroup.add(Ct)}}}return this.setView(ft),typeof et=="function"&&et(this),this}getModelList(et){let at=[];if(typeof et>"u"||typeof et.model>"u")for(let ct=0;ct<this.models.length;ct++)this.models[ct]&&at.push(this.models[ct]);else{let ct=et.model;Array.isArray(ct)||(ct=[ct]);for(let xt=0;xt<ct.length;xt++)if(typeof ct[xt]=="number"){var ft=ct[xt];ft<0&&(ft+=this.models.length),at.push(this.models[ft])}else at.push(ct[xt])}return at}getAtomsFromSel(et){var at=[];typeof et>"u"&&(et={});var ft=this.getModelList(et);for(let ct=0;ct<ft.length;ct++)at=at.concat(ft[ct].selectedAtoms(et));return at}atomIsSelected(et,at){typeof at>"u"&&(at={});for(var ft=this.getModelList(at),ct=0;ct<ft.length;ct++)if(ft[ct].atomIsSelected(et,at))return!0;return!1}selectedAtoms(et){return this.getAtomsFromSel(et)}getUniqueValues(et,at){typeof at>"u"&&(at={});var ft=this.getAtomsFromSel(at),ct={};for(var xt in ft)if(ft[xt].hasOwnProperty(et)){var dt=ft[xt][et];ct[dt]=!0}return Object.keys(ct)}pdbData(et){for(var at=this.getAtomsFromSel(et),ft="",ct=0,xt=at.length;ct<xt;++ct)ft+=at[ct].pdbline+`
`;return ft}zoom(et=2,at=0,ft=!1){var ct=(this.CAMERA_Z-this.rotationGroup.position.z)/et,xt=this.CAMERA_Z-ct;return at>0?this.animateMotion(at,ft,this.modelGroup.position,this.adjustZoomToLimits(xt),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(xt),this.show()),this}translate(et,at,ft=0,ct=!1){var xt=et/this.WIDTH,dt=at/this.HEIGHT,_t=new _.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(_t,this.camera),_t.x-=xt,_t.y-=dt,this.projector.unprojectVector(_t,this.camera),_t.z=0;var Ct=this.lookingAt.clone().add(_t);return ft>0?this.animateMotion(ft,ct,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,Ct):(this.lookingAt=Ct,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(et,at,ft=0,ct=!1){var xt=this.screenOffsetToModel(et,at),dt=this.modelGroup.position.clone().add(xt);return ft>0?this.animateMotion(ft,ct,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=dt,this.show()),this}fitSlab(et){et=et||{};var at=this.getAtomsFromSel(et),ft=(0,nt.getExtent)(at),ct=ft[1][0]-ft[0][0],xt=ft[1][1]-ft[0][1],dt=ft[1][2]-ft[0][2],_t=Math.hypot(ct,xt,dt);return _t<5&&(_t=5),this.slabNear=-_t/1.9,this.slabFar=_t/2,this}center(et={},at=0,ft=!1){var ct,xt,dt=this.getAtomsFromSel(et),_t=(0,nt.getExtent)(dt);(0,nt.isEmptyObject)(et)?(this.shapes.forEach(Rt=>{if(Rt&&Rt.boundingSphere&&Rt.boundingSphere.center){var Dt=Rt.boundingSphere.center,$t=Rt.boundingSphere.radius;$t>0?(dt.push(new _.Vector3(Dt.x+$t,Dt.y,Dt.z)),dt.push(new _.Vector3(Dt.x-$t,Dt.y,Dt.z)),dt.push(new _.Vector3(Dt.x,Dt.y+$t,Dt.z)),dt.push(new _.Vector3(Dt.x,Dt.y-$t,Dt.z)),dt.push(new _.Vector3(Dt.x,Dt.y,Dt.z+$t)),dt.push(new _.Vector3(Dt.x,Dt.y,Dt.z-$t))):dt.push(Dt)}}),_t=(0,nt.getExtent)(dt),ct=dt,xt=_t):(ct=this.getAtomsFromSel({}),xt=(0,nt.getExtent)(ct));var Ct=new _.Vector3(_t[2][0],_t[2][1],_t[2][2]),Et=xt[1][0]-xt[0][0],Mt=xt[1][1]-xt[0][1],St=xt[1][2]-xt[0][2],Ot=Math.hypot(Et,Mt,St);Ot<5&&(Ot=5),this.slabNear=-Ot/1.9,this.slabFar=Ot/2,Et=_t[1][0]-_t[0][0],Mt=_t[1][1]-_t[0][1],St=_t[1][2]-_t[0][2],Ot=Math.hypot(Et,Mt,St),Ot<5&&(Ot=5);for(var At=25,wt=0;wt<dt.length;wt++)if(dt[wt]){var Pt=Ct.distanceToSquared(dt[wt]);Pt>At&&(At=Pt)}Ot=Math.sqrt(At)*2;var Lt=Ct.clone().multiplyScalar(-1);return at>0?this.animateMotion(at,ft,Lt,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Lt,this.show()),this}zoomTo(et={},at=0,ft=!1){let ct=this.getAtomsFromSel(et),xt=(0,nt.getExtent)(ct),dt=xt;if((0,nt.isEmptyObject)(et)){let Dt=ct&&ct.length;if(this.shapes.forEach($t=>{if($t&&$t.boundingSphere){if($t.boundingSphere.box){let qt=$t.boundingSphere.box;ct.push(new _.Vector3(qt.min.x,qt.min.y,qt.min.z)),ct.push(new _.Vector3(qt.max.x,qt.max.y,qt.max.z))}else if($t.boundingSphere.center){var jt=$t.boundingSphere.center,Zt=$t.boundingSphere.radius;Zt>0?(ct.push(new _.Vector3(jt.x+Zt,jt.y,jt.z)),ct.push(new _.Vector3(jt.x-Zt,jt.y,jt.z)),ct.push(new _.Vector3(jt.x,jt.y+Zt,jt.z)),ct.push(new _.Vector3(jt.x,jt.y-Zt,jt.z)),ct.push(new _.Vector3(jt.x,jt.y,jt.z+Zt)),ct.push(new _.Vector3(jt.x,jt.y,jt.z-Zt))):ct.push(jt)}}}),dt=(0,nt.getExtent)(ct),!Dt)for(let $t=0;$t<3;$t++)xt[2][$t]=(dt[0][$t]+dt[1][$t])/2}else{let Dt=this.getAtomsFromSel({});dt=(0,nt.getExtent)(Dt)}var _t=new _.Vector3(xt[2][0],xt[2][1],xt[2][2]),Ct=dt[1][0]-dt[0][0],Et=dt[1][1]-dt[0][1],Mt=dt[1][2]-dt[0][2],St=Math.hypot(Ct,Et,Mt);St<5&&(St=5),this.slabNear=-St/1.9,this.slabFar=St/2,Object.keys(et).length===0&&(this.slabNear=Math.min(-St*2,-50),this.slabFar=Math.max(St*2,50));var Ot=this.config.minimumZoomToDistance||5;Ct=xt[1][0]-xt[0][0],Et=xt[1][1]-xt[0][1],Mt=xt[1][2]-xt[0][2],St=Math.hypot(Ct,Et,Mt),St<Ot&&(St=Ot);for(var At=Ot*Ot,wt=0;wt<ct.length;wt++)if(ct[wt]){var Pt=_t.distanceToSquared(ct[wt]);Pt>At&&(At=Pt)}St=Math.sqrt(At)*2;var Lt=_t.clone().multiplyScalar(-1),Rt=-(St*.5/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return Rt=this.adjustZoomToLimits(Rt),at>0?this.animateMotion(at,ft,Lt,Rt,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Lt,this.rotationGroup.position.z=Rt,this.show()),this}setSlab(et,at){this.slabNear=et,this.slabFar=at}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(et,at={},ft,ct=!1){if(ft){var xt=(0,nt.getExtent)(this.getAtomsFromSel(ft));at.position={x:xt[2][0],y:xt[2][1],z:xt[2][2]}}var dt=new pt.Label(et,at);return dt.setContext(),this.modelGroup.add(dt.sprite),this.labels.push(dt),ct||this.show(),dt}addResLabels(et,at,ft=!1){let ct=this.labels.length;return this.applyToModels("addResLabels",et,this,at,ft),this.show(),this.labels.slice(ct)}addPropertyLabels(et,at,ft){return this.applyToModels("addPropertyLabels",et,at,this,ft),this.show(),this}removeLabel(et){for(var at=0;at<this.labels.length;at++)if(this.labels[at]==et){this.labels.splice(at,1),et.dispose(),this.modelGroup.remove(et.sprite);break}return this.show(),this}removeAllLabels(){for(var et=0;et<this.labels.length;et++)this.labels[et]&&this.labels[et].sprite&&this.modelGroup.remove(this.labels[et].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}setLabelStyle(et,at){return this.modelGroup.remove(et.sprite),et.dispose(),et.stylespec=at,et.setContext(),this.modelGroup.add(et.sprite),this.show(),et}setLabelText(et,at){return this.modelGroup.remove(et.sprite),et.dispose(),et.text=at,et.setContext(),this.modelGroup.add(et.sprite),this.show(),et}addShape(et){et=et||{};var at=new ut.GLShape(et);return at.shapePosition=this.shapes.length,this.shapes.push(at),at}removeShape(et){if(!et)return this;for(et.removegl(this.modelGroup),delete this.shapes[et.shapePosition];this.shapes.length>0&&typeof this.shapes[this.shapes.length-1]>"u";)this.shapes.pop();return this}removeAllShapes(){for(var et=0;et<this.shapes.length;et++){var at=this.shapes[et];at&&at.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(et){if(et.hasOwnProperty("x")&&et.hasOwnProperty("y")&&et.hasOwnProperty("z"))return et;var at=this.getAtomsFromSel(et);if(at.length==0)return{x:0,y:0,z:0};var ft=(0,nt.getExtent)(at);return{x:ft[0][0]+(ft[1][0]-ft[0][0])/2,y:ft[0][1]+(ft[1][1]-ft[0][1])/2,z:ft[0][2]+(ft[1][2]-ft[0][2])/2}}addSphere(et){et=et||{},et.center=this.getSelectionCenter(et.center);var at=new ut.GLShape(et);return at.shapePosition=this.shapes.length,at.addSphere(et),this.shapes.push(at),at.finalize(),at}addBox(et={}){et.corner!=null&&(et.corner=this.getSelectionCenter(et.corner)),et.center!=null&&(et.center=this.getSelectionCenter(et.center));var at=new ut.GLShape(et);return at.shapePosition=this.shapes.length,at.addBox(et),this.shapes.push(at),at.finalize(),at}addArrow(et={}){et.start=this.getSelectionCenter(et.start),et.end=this.getSelectionCenter(et.end);var at=new ut.GLShape(et);return at.shapePosition=this.shapes.length,at.addArrow(et),this.shapes.push(at),at.finalize(),at}addCylinder(et={}){et.start=this.getSelectionCenter(et.start),et.end=this.getSelectionCenter(et.end);var at=new ut.GLShape(et);return at.shapePosition=this.shapes.length,et.dashed?at.addDashedCylinder(et):at.addCylinder(et),this.shapes.push(at),at.finalize(),at}addCurve(et={}){var at=new ut.GLShape(et);return at.shapePosition=this.shapes.length,at.addCurve(et),this.shapes.push(at),at.finalize(),at}addLine(et={}){et.start=this.getSelectionCenter(et.start),et.end=this.getSelectionCenter(et.end),et.wireframe=!0;var at=new ut.GLShape(et);return at.shapePosition=this.shapes.length,et.dashed?at=this.addLineDashed(et,at):at.addLine(et),this.shapes.push(at),at.finalize(),at}addUnitCell(et,at){et=this.getModel(et),at=at||{alabel:"a",blabel:"b",clabel:"c"},at.box=at.box||{},at.astyle=at.astyle||{color:"red",radius:.1,midpos:-1},at.bstyle=at.bstyle||{color:"green",radius:.1,midpos:-1},at.cstyle=at.cstyle||{color:"blue",radius:.1,midpos:-1},at.alabelstyle=at.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},at.blabelstyle=at.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},at.clabelstyle=at.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},et.unitCellObjects&&this.removeUnitCell(et),et.unitCellObjects={shapes:[],labels:[]};var ft=et.getCrystData(),ct=null;if(ft){if(ft.matrix)ct=ft.matrix;else{var xt=ft.a,dt=ft.b,_t=ft.c,Ct=ft.alpha,Et=ft.beta,Mt=ft.gamma;Ct=Ct*Math.PI/180,Et=Et*Math.PI/180,Mt=Mt*Math.PI/180;var St,Ot,At;St=Math.cos(Et),Ot=(Math.cos(Ct)-Math.cos(Et)*Math.cos(Mt))/Math.sin(Mt),At=Math.sqrt(Math.max(0,1-St*St-Ot*Ot)),ct=new _.Matrix3(xt,dt*Math.cos(Mt),_t*St,0,dt*Math.sin(Mt),_t*Ot,0,0,_t*At)}var wt=[new _.Vector3(0,0,0),new _.Vector3(1,0,0),new _.Vector3(0,1,0),new _.Vector3(0,0,1),new _.Vector3(1,1,0),new _.Vector3(0,1,1),new _.Vector3(1,0,1),new _.Vector3(1,1,1)];if(ft.matrix4)for(let Lt=0;Lt<wt.length;Lt++)ft.size&&wt[Lt].multiplyVectors(wt[Lt],ft.size),wt[Lt]=wt[Lt].applyMatrix4(ft.matrix4);else for(let Lt=0;Lt<wt.length;Lt++)wt[Lt]=wt[Lt].applyMatrix3(ct);if(at.box&&!at.box.hidden){at.box.wireframe=!0;var Pt=new ut.GLShape(at.box);Pt.shapePosition=this.shapes.length,Pt.addLine({start:wt[0],end:wt[1]}),Pt.addLine({start:wt[0],end:wt[2]}),Pt.addLine({start:wt[1],end:wt[4]}),Pt.addLine({start:wt[2],end:wt[4]}),Pt.addLine({start:wt[0],end:wt[3]}),Pt.addLine({start:wt[3],end:wt[5]}),Pt.addLine({start:wt[2],end:wt[5]}),Pt.addLine({start:wt[1],end:wt[6]}),Pt.addLine({start:wt[4],end:wt[7]}),Pt.addLine({start:wt[6],end:wt[7]}),Pt.addLine({start:wt[3],end:wt[6]}),Pt.addLine({start:wt[5],end:wt[7]}),this.shapes.push(Pt),et.unitCellObjects.shapes.push(Pt),Pt.finalize()}if(!at.astyle.hidden){at.astyle.start=wt[0],at.astyle.end=wt[1];let Lt=this.addArrow(at.astyle);et.unitCellObjects.shapes.push(Lt)}if(!at.bstyle.hidden){at.bstyle.start=wt[0],at.bstyle.end=wt[2];let Lt=this.addArrow(at.bstyle);et.unitCellObjects.shapes.push(Lt)}if(!at.cstyle.hidden){at.cstyle.start=wt[0],at.cstyle.end=wt[3];let Lt=this.addArrow(at.cstyle);et.unitCellObjects.shapes.push(Lt)}if(at.alabel){at.alabelstyle.position=wt[1];let Lt=this.addLabel(at.alabel,at.alabelstyle);et.unitCellObjects.labels.push(Lt)}if(at.blabel){at.blabelstyle.position=wt[2];let Lt=this.addLabel(at.blabel,at.blabelstyle);et.unitCellObjects.labels.push(Lt)}if(at.clabel){at.clabelstyle.position=wt[3];let Lt=this.addLabel(at.clabel,at.clabelstyle);et.unitCellObjects.labels.push(Lt)}}}removeUnitCell(et){if(et=this.getModel(et),et.unitCellObjects){let at=this;et.unitCellObjects.shapes.forEach(function(ft){at.removeShape(ft)}),et.unitCellObjects.labels.forEach(function(ft){at.removeLabel(ft)})}delete et.unitCellObjects}replicateUnitCell(et=3,at=et,ft=at,ct,xt,dt){ct=this.getModel(ct);let _t=ct.getCrystData();if(_t){const Ct=ct.selectedAtoms({}),Et=_t.matrix;let Mt=function(Ot){return Ot%2==0?-Ot/2:Math.ceil(Ot/2)};et<=1&&at<=1&&ft<=1&&(dt=!0,et=at=ft=3);let St=function(Ot,At,wt){return!1};if(dt){const Ot=new _.Matrix3().getInverse3(Et);St=function(At,wt,Pt){let Lt=new _.Vector3(At,wt,Pt).applyMatrix3(Ot);return!(Lt.x>-1e-4&&Lt.x<1.0001&&Lt.y>-1e-4&&Lt.y<1.0001&&Lt.z>-1e-4&&Lt.z<1.0001)}}for(let Ot=0;Ot<et;Ot++)for(let At=0;At<at;At++)for(let wt=0;wt<ft;wt++){if(Ot==0&&At==0&&wt==0)continue;let Pt=new _.Vector3(Mt(Ot),Mt(At),Mt(wt));Pt.applyMatrix3(Et);let Lt=[];for(let Rt=0;Rt<Ct.length;Rt++){let Dt=Ct[Rt].x+Pt.x,$t=Ct[Rt].y+Pt.y,jt=Ct[Rt].z+Pt.z;if(St(Dt,$t,jt))continue;let Zt={};for(let qt in Ct[Rt])Zt[qt]=Ct[Rt][qt];Zt.x=Dt,Zt.y=$t,Zt.z=jt,Lt.push(Zt)}ct.addAtoms(Lt)}xt&&ct.assignBonds()}}addLineDashed(et,at){et.dashLength=et.dashLength||.5,et.gapLength=et.gapLength||.5;var ft;et.start?ft=new _.Vector3(et.start.x||0,et.start.y||0,et.start.z||0):ft=new _.Vector3(0,0,0);var ct;et.end?ct=new _.Vector3(et.end.x,et.end.y||0,et.end.z||0):ct=new _.Vector3(0,0,0);var xt=new _.Vector3,dt=new _.Vector3,_t=new _.Vector3,Ct,Et,Mt,St=ft.clone(),Ot=0;for(xt.subVectors(ct,ft),Ct=xt.length(),xt.normalize(),dt=xt.clone(),_t=xt.clone(),dt.multiplyScalar(et.dashLength),_t.multiplyScalar(et.gapLength),Et=dt.length(),Mt=_t.length();Ot<Ct;){if(Ot+Et>Ct){et.start=ft,et.end=ct,at.addLine(et);break}St.addVectors(ft,dt),et.start=ft,et.end=St,at.addLine(et),ft=St.clone(),Ot+=Et,St.addVectors(ft,_t),ft=St.clone(),Ot+=Mt}return at.finalize(),at}addCustom(et){et=et||{};var at=new ut.GLShape(et);return at.shapePosition=this.shapes.length,at.addCustom(et),this.shapes.push(at),at.finalize(),at}addVolumetricData(et,at,ft={}){var ct=new mt.VolumeData(et,at);return ft.hasOwnProperty("transferfn")?this.addVolumetricRender(ct,ft):this.addIsosurface(ct,ft)}addIsosurface(et,at={},ft){var ct=new ut.GLShape(at);return ct.shapePosition=this.shapes.length,ct.addIsosurface(et,at,ft,this),this.shapes.push(ct),ct}addVolumetricRender(et,at){at=at||{};var ft=new ht.GLVolumetricRender(et,at,this);return ft.shapePosition=this.shapes.length,this.shapes.push(ft),ft}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(et){et?this.scene.fog=new a.Fog(this.bgColor,100,200):(this.config.disableFog=!0,this.show())}setFrame(et){this.viewer_frame=et;let at=this;return new Promise(function(ft){var ct=at.models.map(function(xt){return xt.setFrame(et,at)});Promise.all(ct).then(function(){ft()})})}getFrame(){return this.viewer_frame}getNumFrames(){var et=0;for(let at=0;at<this.models.length;at++)this.models[at].getNumFrames()>et&&(et=this.models[at].getNumFrames());for(let at=0;at<this.shapes.length;at++)this.shapes[at].frame&&this.shapes[at].frame>=et&&(et=this.shapes[at].frame+1);for(let at=0;at<this.labels.length;at++)this.labels[at].frame&&this.labels[at].frame>=et&&(et=this.labels[at].frame+1);return et}animate(et){this.incAnim();var at=100,ft="forward",ct=1/0;et=et||{},et.interval&&(at=et.interval),et.loop&&(ft=et.loop),et.reps&&(ct=et.reps);var xt=this.getNumFrames(),dt=this,_t=0;et.startFrame&&(_t=et.startFrame%xt);var Ct=1;et.step&&(Ct=et.step,ct/=Ct);var Et=0,Mt=xt*ct,St=new Date,Ot,At,wt=function(Pt){St=new Date,Pt=="forward"?dt.setFrame(_t).then(function(){_t=(_t+Ct)%xt,Ot()}):Pt=="backward"?dt.setFrame(xt-1-_t).then(function(){_t=(_t+Ct)%xt,Ot()}):dt.setFrame(_t).then(function(){_t+=Ct,Ct*=_t%(xt-1)==0?-1:1,Ot()})};return Ot=function(){if(dt.render(),!dt.getCanvas().isConnected)dt.stopAnimate();else if(++Et>=Mt||!dt.isAnimated())At.cancel(),dt.animationTimers.delete(At),dt.decAnim();else{var Pt=at-(new Date().getTime()-St.getTime());Pt=Pt>0?Pt:0,dt.animationTimers.delete(At),At=new nt.PausableTimer(wt,Pt,ft),dt.animationTimers.add(At)}},At=new nt.PausableTimer(wt,0,ft),this.animationTimers.add(At),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach(function(et){et.cancel()}),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach(function(et){et.pause()}),this}resumeAnimate(){return this.animationTimers.forEach(function(et){et.resume()}),this}isAnimated(){return this.animated>0}getModelOpt(et){return et&&!et.defaultcolors?(et.defaultcolors=this.defaultcolors,et.cartoonQuality=et.cartoonQuality||this.config.cartoonQuality):typeof et>"u"&&(et={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality}),et}addModel(et,at="",ft){ft=this.getModelOpt(ft);var ct=new ot.GLModel(this.models.length,ft);return ct.addMolData(et,at,ft),this.models.push(ct),ct}addModels(et,at,ft){ft=this.getModelOpt(ft),ft.multimodel=!0,ft.frames=!0;for(var ct=ot.GLModel.parseMolData(et,at,ft),xt=0;xt<ct.length;xt++){var dt=new ot.GLModel(this.models.length,ft);dt.setAtomDefaults(ct[xt]),dt.addFrame(ct[xt]),dt.setFrame(0),ct.modelData&&dt.setModelData(ct.modelData[xt]),dt.setDontDuplicateAtoms(!ft.duplicateAssemblyAtoms),this.models.push(dt)}return this.models}addModelsAsFrames(et,at,ft){ft=this.getModelOpt(ft),ft.multimodel=!0,ft.frames=!0;var ct=new ot.GLModel(this.models.length,ft);return ct.addMolData(et,at,ft),this.models.push(ct),ct}addAsOneMolecule(et,at,ft){ft=this.getModelOpt(ft),ft.multimodel=!0,ft.onemol=!0;var ct=new ot.GLModel(this.models.length,ft);return ct.addMolData(et,at,ft),this.models.push(ct),ct}removeModel(et){if(et=this.getModel(et),!!et){for(et.removegl(this.modelGroup),delete this.models[et.getID()];this.models.length>0&&typeof this.models[this.models.length-1]>"u";)this.models.pop();return this}}removeAllModels(){for(var et=0;et<this.models.length;et++){var at=this.models[et];at&&at.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(et,at){var ft={};return at===void 0?ft.m=this.models.map(function(ct){return ct.toCDObject(et)}):ft.m=[this.models[at].toCDObject()],JSON.stringify(ft)}exportVRML(){var et=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new a.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var at=`#VRML V2.0 utf8
`+this.modelGroup.vrml()+`
`;return this.applyToModels("removegl",this.modelGroup),this.modelGroup=et,at}createModelFrom(et,at=!1){for(var ft=new ot.GLModel(this.models.length,this.defaultcolors),ct=0;ct<this.models.length;ct++)if(this.models[ct]){var xt=this.models[ct].selectedAtoms(et);ft.addAtoms(xt),at&&this.models[ct].removeAtoms(xt)}return this.models.push(ft),ft}applyToModels(et,at,ft,ct,xt,dt,_t){for(var Ct=this.getModelList(at),Et=0;Et<Ct.length;Et++)Ct[Et][et](at,ft,ct,xt,dt,_t)}setStyle(et,at){return typeof at>"u"&&(at=et,et={}),this.applyToModels("setStyle",et,at,!1),this}addStyle(et,at){return typeof at>"u"&&(at=et,et={}),this.applyToModels("setStyle",et,at,!0),this}setClickable(et,at,ft){return this.applyToModels("setClickable",et,at,ft),this}setHoverable(et,at,ft,ct){return this.applyToModels("setHoverable",et,at,ft,ct),this}enableContextMenu(et,at){return this.applyToModels("enableContextMenu",et,at),this}vibrate(et,at,ft,ct){return this.applyToModels("vibrate",et,at,ft,this,ct),this}setColorByProperty(et,at,ft,ct){return this.applyToModels("setColorByProperty",et,at,ft,ct),this}setColorByElement(et,at){return this.applyToModels("setColorByElement",et,at),this}static getAtomsWithin(et,at){var ft=[];for(let xt=0;xt<et.length;xt++){var ct=et[xt];typeof ct>"u"||ct.x<at[0][0]||ct.x>at[1][0]||ct.y<at[0][1]||ct.y>at[1][1]||ct.z<at[0][2]||ct.z>at[1][2]||ft.push(ct)}return ft}static volume(et){var at=et[1][0]-et[0][0],ft=et[1][1]-et[0][1],ct=et[1][2]-et[0][2];return at*ft*ct}carveUpExtent(et,at,ft){let ct=[],xt={};for(let St=0,Ot=at.length;St<Ot;St++)xt[at[St].index]=St;let dt=function(St){let Ot=[];for(let At=0,wt=St.length;At<wt;At++)St[At].index in xt&&Ot.push(xt[St[At].index]);return Ot},_t=function(St){let Ot=[];return Ot[0]=[St[0][0],St[0][1],St[0][2]],Ot[1]=[St[1][0],St[1][1],St[1][2]],Ot},Ct=function(St){if(j.volume(St)<j.maxVolume)return[St];var Ot=St[1][0]-St[0][0],At=St[1][1]-St[0][1],wt=St[1][2]-St[0][2],Pt;Ot>At&&Ot>wt?Pt=0:At>Ot&&At>wt?Pt=1:Pt=2;var Lt=_t(St),Rt=_t(St),Dt=(St[1][Pt]-St[0][Pt])/2+St[0][Pt];Lt[1][Pt]=Dt,Rt[0][Pt]=Dt;var $t=Ct(Lt),jt=Ct(Rt);return $t.concat(jt)},Et=Ct(et),Mt=6;for(let St=0,Ot=Et.length;St<Ot;St++){let At=_t(Et[St]);At[0][0]-=Mt,At[0][1]-=Mt,At[0][2]-=Mt,At[1][0]+=Mt,At[1][1]+=Mt,At[1][2]+=Mt;let wt=j.getAtomsWithin(at,At),Pt=j.getAtomsWithin(ft,Et[St]);ct.push({extent:Et[St],atoms:dt(wt),toshow:dt(Pt)})}return ct}static generateSurfaceMesh(et,at,ft){var ct=new a.Geometry(!0),xt=ct.updateGeoGroup(0),dt=[];for(let rr=0,Gt=et.length;rr<Gt;rr++){var _t=et[rr];_t&&(typeof _t.surfaceColor<"u"?dt[rr]=_t.surfaceColor:_t.color&&(dt[rr]=$.CC.color(_t.color)))}var Ct=xt.vertexArray,Et=at.vertices;for(let rr=0,Gt=Et.length;rr<Gt;rr++){let nr=xt.vertices*3;Ct[nr]=Et[rr].x,Ct[nr+1]=Et[rr].y,Ct[nr+2]=Et[rr].z,xt.vertices++}var Mt=xt.colorArray;let St=xt.atomArray;if(ft.voldata&&ft.volscheme){var Ot=ft.volscheme,At=ft.voldata,wt=Ot.range()||[-1,1];for(let rr=0,Gt=Et.length;rr<Gt;rr++){let nr=Et[rr].atomid,_r=At.getVal(Et[rr].x,Et[rr].y,Et[rr].z),Sr=$.CC.color(Ot.valueToHex(_r,wt)),Ar=rr*3;Mt[Ar]=Sr.r,Mt[Ar+1]=Sr.g,Mt[Ar+2]=Sr.b,St[rr]=et[nr]}}else if(dt.length>0)for(let rr=0,Gt=Et.length;rr<Gt;rr++){let nr=Et[rr].atomid,_r=rr*3;Mt[_r]=dt[nr].r,Mt[_r+1]=dt[nr].g,Mt[_r+2]=dt[nr].b,St[rr]=et[nr]}var Pt=at.faces;xt.faceidx=Pt.length,ct.initTypedArrays();var Lt=xt.vertexArray,Rt=xt.normalArray,Dt,$t,jt,Zt;for(let rr=0,Gt=Pt.length;rr<Gt;rr+=3){var qt=Pt[rr],er=Pt[rr+1],Yt=Pt[rr+2],Qt=qt*3,cr=er*3,lr=Yt*3;Dt=new _.Vector3(Lt[Qt],Lt[Qt+1],Lt[Qt+2]),$t=new _.Vector3(Lt[cr],Lt[cr+1],Lt[cr+2]),jt=new _.Vector3(Lt[lr],Lt[lr+1],Lt[lr+2]),jt.subVectors(jt,$t),Dt.subVectors(Dt,$t),jt.cross(Dt),Zt=jt,Zt.normalize(),Rt[Qt]+=Zt.x,Rt[cr]+=Zt.x,Rt[lr]+=Zt.x,Rt[Qt+1]+=Zt.y,Rt[cr+1]+=Zt.y,Rt[lr+1]+=Zt.y,Rt[Qt+2]+=Zt.z,Rt[cr+2]+=Zt.z,Rt[lr+2]+=Zt.z}xt.faceArray=new Uint16Array(Pt);var gr=new a.Mesh(ct,ft);return gr}static generateMeshSyncHelper(et,at,ft,ct,xt,dt){var _t=new vt.ProteinSurface;return _t.initparm(at,et!==1,dt),_t.fillvoxels(xt,ft),_t.buildboundary(),(et==vt.SurfaceType.SES||et==vt.SurfaceType.MS)&&(_t.fastdistancemap(),_t.boundingatom(!1),_t.fillvoxelswaals(xt,ft)),_t.marchingcube(et),_t.getFacesAndVertices(ct)}static getMatWithStyle(et){let at=null;et.onesided?at=new a.MeshLambertMaterial:at=new a.MeshDoubleLambertMaterial,at.vertexColors=a.Coloring.VertexColors;for(var ft in et)ft==="color"||ft==="map"||et.hasOwnProperty(ft)&&(at[ft]=et[ft]);return et.opacity!==void 0&&(et.opacity===1?at.transparent=!1:at.transparent=!0),at}addMesh(et){var at={geo:et.geometry,mat:et.material,done:!0,finished:!1},ft=this.nextSurfID();return this.surfaces[ft]=[at],ft}static shallowCopy(et){var at=[];let ft=et.length;for(let ct=0;ct<ft;ct++)at[ct]=(0,nt.extend)({},et[ct]);return at}addSurface(et,at={},ft={},ct,xt,dt){let _t=this.nextSurfID(),Ct=null,Et=this,Mt=vt.SurfaceType.VDW;typeof et=="string"?j.surfaceTypeMap[et.toUpperCase()]!==void 0?Mt=j.surfaceTypeMap[et]:console.log("Surface type : "+et+" is not recognized"):typeof et=="number"&&(Mt=et);var St=null,Ot=null,At=j.shallowCopy(this.getAtomsFromSel(ft));ct?St=j.shallowCopy(this.getAtomsFromSel(ct)):St=At,(0,nt.adjustVolumeStyle)(at);var wt=!1,Pt;for(Pt=0;Pt<this.models.length;Pt++)if(this.models[Pt]){var Lt=this.models[Pt].getSymmetries();if(Lt.length>1||Lt.length==1&&!Lt[0].isIdentity()){wt=!0;break}}var Rt=function(Yt,Qt,cr){xt?Ot=j.shallowCopy(Et.getAtomsFromSel(xt)):Ot=cr;var lr,gr=(0,nt.getExtent)(cr,!0);if(at.map&&at.map.prop){var rr=at.map.prop;let pr=(0,tt.getGradient)(at.map.scheme||at.map.gradient||new tt.Gradient.RWB),Lr=pr.range();Lr||(Lr=(0,nt.getPropertyRange)(cr,rr)),at.colorscheme={prop:rr,gradient:pr}}for(let pr=0,Lr=Qt.length;pr<Lr;pr++)lr=Qt[pr],lr.surfaceColor=(0,nt.getColorFromStyle)(lr,at);var Gt=j.volume(gr),nr=Et.carveUpExtent(gr,Qt,cr);if(Ot&&Ot.length&&Ot.length>0){var _r=(0,nt.getExtent)(Ot,!0),Sr=function(pr,Lr){var Pr=function(Wt,ar){var Xt=Wt.extent,Er=Xt[1][0]-Xt[0][0],mr=Xt[1][1]-Xt[0][1],It=Xt[1][2]-Xt[0][2],Jt=Er-ar[2][0];Jt*=Jt;var sr=mr-ar[2][1];sr*=sr;var Cr=It-ar[2][2];return Cr*=Cr,Jt+sr+Cr},Bt=Pr(pr,_r),Ut=Pr(Lr,_r);return Bt-Ut};nr.sort(Sr)}var Ar=[];for(let pr=0,Lr=Qt.length;pr<Lr;pr++)lr=Qt[pr],Ar[pr]={x:lr.x,y:lr.y,z:lr.z,serial:pr,elem:lr.elem};var Or=!!vt.syncSurface;if(Or){var Mr=function(Lr){return new Promise(function(Pr){for(var Bt=j.generateMeshSyncHelper(Mt,nr[Lr].extent,nr[Lr].atoms,nr[Lr].toshow,Ar,Gt),Ut=(0,ut.splitMesh)({vertexArr:Bt.vertices,faceArr:Bt.faces}),Wt=0,ar=Ut.length;Wt<ar;Wt++){Bt={vertices:Ut[Wt].vertexArr,faces:Ut[Wt].faceArr};var Xt=j.generateSurfaceMesh(Qt,Bt,Ct);(0,nt.mergeGeos)(Yt.geo,Xt)}Et.render(),Pr()})},wr=[];for(let pr=0;pr<nr.length;pr++)wr.push(Mr(pr));return Promise.all(wr).then(function(){return Yt.done=!0,Promise.resolve(_t)})}else{var Tr=[];Mt<0&&(Mt=0);for(let pr=0,Lr=j.numWorkers;pr<Lr;pr++){var fr=new Worker($3Dmol.SurfaceWorker);Tr.push(fr),fr.postMessage({type:-1,atoms:Ar,volume:Gt})}return new Promise(function(pr,Lr){var Pr=0,Bt=function(){!Tr||!Tr.length||Tr.forEach(function(Xt){Xt&&Xt.terminate&&Xt.terminate()})},Ut=function(Xt){for(var Er=(0,ut.splitMesh)({vertexArr:Xt.data.vertices,faceArr:Xt.data.faces}),mr=0,It=Er.length;mr<It;mr++){var Jt={vertices:Er[mr].vertexArr,faces:Er[mr].faceArr},sr=j.generateSurfaceMesh(Qt,Jt,Ct);(0,nt.mergeGeos)(Yt.geo,sr)}Et.render(),Pr++,Pr==nr.length&&(Yt.done=!0,Bt(),pr(_t))},Wt=function(Xt){Bt(),console.log(Xt.message+" ("+Xt.filename+":"+Xt.lineno+")"),Lr(Xt)};for(let Xt=0;Xt<nr.length;Xt++){var ar=Tr[Xt%Tr.length];ar.onmessage=Ut,ar.onerror=Wt,ar.postMessage({type:Mt,expandedExtent:nr[Xt].extent,extendedAtoms:nr[Xt].atoms,atomsToShow:nr[Xt].toshow})}})}};at=at||{},Ct=j.getMatWithStyle(at);var Dt=[];Dt.style=at,Dt.atomsel=ft,Dt.allsel=ct,Dt.focus=xt;var $t=null;if(wt){var jt={},Zt={};for(Pt=0;Pt<this.models.length;Pt++)jt[Pt]=[],Zt[Pt]=[];for(Pt=0;Pt<St.length;Pt++)jt[St[Pt].model].push(St[Pt]);for(Pt=0;Pt<At.length;Pt++)Zt[At[Pt].model].push(At[Pt]);var qt=[];for(Pt=0;Pt<this.models.length;Pt++)Zt[Pt].length>0&&(Dt.push({geo:new a.Geometry(!0),mat:Ct,done:!1,finished:!1,symmetries:this.models[Pt].getSymmetries()}),qt.push(Rt(Dt[Dt.length-1],jt[Pt],Zt[Pt])));$t=Promise.all(qt)}else Dt.push({geo:new a.Geometry(!0),mat:Ct,done:!1,finished:!1,symmetries:[new _.Matrix4]}),$t=Rt(Dt[Dt.length-1],St,At);return this.surfaces[_t]=Dt,$t.surfid=_t,dt&&typeof dt=="function"?($t.then(function(er){dt(er)}),_t):$t}setSurfaceMaterialStyle(et,at){if((0,nt.adjustVolumeStyle)(at),this.surfaces[et]){var ft=this.surfaces[et];for(let xt=0;xt<ft.length;xt++){var ct=ft[xt].mat=j.getMatWithStyle(at);if(ft[xt].mat.side=a.FrontSide,at.color){ft[xt].mat.color=$.CC.color(at.color),ft[xt].geo.colorsNeedUpdate=!0;const dt=$.CC.color(at.color);ft[xt].geo.setColor(dt)}else if(ct.voldata&&ct.volscheme){const dt=ct.volscheme,_t=ct.voldata,Ct=$.CC,Et=dt.range()||[-1,1];ft[xt].geo.setColors(function(Mt,St,Ot){let At=_t.getVal(Mt,St,Ot);return Ct.color(dt.valueToHex(At,Et))})}else{ft[xt].geo.colorsNeedUpdate=!0;for(let dt of ft[xt].geo.geometryGroups)for(let _t=0;_t<dt.vertices;_t++){let Ct=(0,nt.getColorFromStyle)(dt.atomArray[_t],at),Et=3*_t;dt.colorArray[Et]=Ct.r,dt.colorArray[Et+1]=Ct.g,dt.colorArray[Et+2]=Ct.b}}ft[xt].finished=!1}}return this}getSurface(et){return this.surfaces[et]}removeSurface(et){for(var at=this.surfaces[et],ft=0;ft<at.length;ft++)at[ft]&&at[ft].lastGL&&(at[ft].geo!==void 0&&at[ft].geo.dispose(),at[ft].mat!==void 0&&at[ft].mat.dispose(),this.modelGroup.remove(at[ft].lastGL));return delete this.surfaces[et],this.show(),this}removeAllSurfaces(){for(var et in this.surfaces)if(this.surfaces.hasOwnProperty(et)){for(var at=this.surfaces[et],ft=0;ft<at.length;ft++)at[ft]&&at[ft].lastGL&&(at[ft].geo!==void 0&&at[ft].geo.dispose(),at[ft].mat!==void 0&&at[ft].mat.dispose(),this.modelGroup.remove(at[ft].lastGL));delete this.surfaces[et]}return this.show(),this}jmolMoveTo(){var et=this.modelGroup.position,at="center { "+-et.x+" "+-et.y+" "+-et.z+" }; ",ft=this.rotationGroup.quaternion;return at+="moveto .5 quaternion { "+ft.x+" "+ft.y+" "+ft.z+" "+ft.w+" };",at}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(et,at){at=at||{};var ft=this.getAtomsFromSel(at);if(typeof et=="function")for(let dt=0,_t=ft.length;dt<_t;dt++){let Ct=ft[dt];et(Ct)}else for(let dt=0,_t=ft.length;dt<_t;dt++){var ct=ft[dt];for(let Ct=0,Et=et.length;Ct<Et;Ct++){let Mt=et[Ct];if(Mt.props)for(var xt in Mt.props)Mt.props.hasOwnProperty(xt)&&this.atomIsSelected(ct,Mt)&&(ct.properties||(ct.properties={}),ct.properties[xt]=Mt.props[xt])}}return this}linkViewer(et){return this.linkedViewers.push(et),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(et){this.rotationGroup.position.z=this.CAMERA_Z-et}setAutoEyeSeparation(et,at){var ft=this.getPerceivedDistance();return at||(at=5),et||this.camera.position.x>0?this.camera.position.x=ft*Math.tan(Math.PI/180*at):this.camera.position.x=-ft*Math.tan(Math.PI/180*at),this.camera.lookAt(new _.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(et){this.config.cartoonQuality=et}}j.numWorkers=4,j.maxVolume=64e3,j.surfaceTypeMap={VDW:vt.SurfaceType.VDW,MS:vt.SurfaceType.MS,SAS:vt.SurfaceType.SAS,SES:vt.SurfaceType.SES};function _e(lt,et){if(lt=(0,nt.getElement)(lt),!!lt){et=et||{};try{var at=new j(lt,et);return at}catch(ft){throw"error creating viewer: "+ft}}}function it(lt,et={},at={}){if(lt=(0,nt.getElement)(lt),!!lt){var ft=[],ct=document.createElement("canvas");at.rows=et.rows,at.cols=et.cols,at.control_all=et.control_all!=null?et.control_all:!1,lt.appendChild(ct);try{for(var xt=0;xt<et.rows;xt++){for(var dt=[],_t=0;_t<et.cols;_t++){at.row=xt,at.col=_t,at.canvas=ct,at.viewers=ft,at.control_all=et.control_all;var Ct=_e(lt,(0,nt.extend)({},at));dt.push(Ct)}ft.unshift(dt)}}catch(Et){throw"error creating viewer grid: "+Et}return ft}}function st(lt){var et=this;if(lt=(0,nt.getElement)(lt),!!lt){var at=it(lt,{rows:1,cols:2,control_all:!0});this.glviewer1=at[0][0],this.glviewer2=at[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var ft=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter(function(xt){return typeof et.glviewer1[xt]=="function"}),ct=0;ct<ft.length;ct++)this[ft[ct]]=function(xt){return function(){var dt=this.glviewer1[xt].apply(this.glviewer1,arguments),_t=this.glviewer2[xt].apply(this.glviewer2,arguments);return[dt,_t]}}(ft[ct]);this.setCoordinates=function(xt,dt,_t){for(var Ct=0;Ct<xt.length;Ct++)xt[Ct].setCoordinates(dt,_t)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(xt){this.glviewer1.render(),this.glviewer2.render(),xt&&xt(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}},"./src/Gradient.ts":(i,s,o)=>{o.r(s),o.d(s,{CustomLinear:()=>ut,Gradient:()=>vt,GradientType:()=>_,ROYGB:()=>ot,RWB:()=>tt,Sinebow:()=>pt,builtinGradients:()=>mt,getGradient:()=>nt,normalizeValue:()=>$});var a=o("./src/colors.ts");class _{}function $(ht,gt,rt){return gt>=ht?(rt<ht&&(rt=ht),rt>gt&&(rt=gt),{lo:ht,hi:gt,val:rt}):(rt>ht&&(rt=ht),rt<gt&&(rt=gt),rt=ht-rt+gt,{lo:gt,hi:ht,val:rt})}function nt(ht){if(ht instanceof _)return ht;if(ht.gradient!==void 0&&mt[ht.gradient]){let gt=ht.min===void 0?-1:ht.min,rt=ht.max===void 0?1:ht.max;return ht.mid===void 0?ht.colors===void 0?new mt[ht.gradient](gt,rt):new mt[ht.gradient](gt,rt,ht.colors):new mt[ht.gradient](gt,rt,ht.mid)}else if(typeof ht.gradient=="string"&&ht.gradient.startsWith("linear_")){let gt=ht.gradient.split("_");gt.shift();let rt=ht.min===void 0?-1:ht.min,j=ht.max===void 0?1:ht.max;return new ut(rt,j,gt)}return ht}class tt extends _{constructor(gt,rt,j){super(),this.gradient="RWB",this.mult=1,this.mid=j,this.min=gt,this.max=rt,typeof rt>"u"&&Array.isArray(gt)&&gt.length>=2?(this.max=gt[1],this.min=gt[0]):gt&&rt&&!Array.isArray(gt)&&(this.min=gt,this.max=rt)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(gt,rt){var j,_e;if(gt=this.mult*gt,rt?(j=rt[0],_e=rt[1]):(j=this.min,_e=this.max),gt===void 0)return 16777215;var it=$(j,_e,gt);j=it.lo,_e=it.hi,gt=it.val;var st=(_e+j)/2;rt&&typeof rt[2]<"u"?st=rt[2]:typeof this.mid<"u"?st=this.mid:st=(j+_e)/2;var lt,et;return gt<st?(lt=Math.floor(255*Math.sqrt((gt-j)/(st-j))),et=16711680+256*lt+lt,et):gt>st?(lt=Math.floor(255*Math.sqrt(1-(gt-st)/(_e-st))),et=65536*lt+256*lt+255,et):16777215}}class ot extends _{constructor(gt,rt){super(),this.gradient="ROYGB",this.mult=1,this.min=gt,this.max=rt,typeof rt>"u"&&Array.isArray(gt)&&gt.length>=2?(this.max=gt[1],this.min=gt[0]):gt&&rt&&!Array.isArray(gt)&&(this.min=gt,this.max=rt)}valueToHex(gt,rt){var j,_e;if(gt=this.mult*gt,rt?(j=rt[0],_e=rt[1]):(j=this.min,_e=this.max),typeof gt>"u")return 16777215;var it=$(j,_e,gt);j=it.lo,_e=it.hi,gt=it.val;var st=(j+_e)/2,lt=(j+st)/2,et=(st+_e)/2,at,ft;return gt<lt?(at=Math.floor(255*Math.sqrt((gt-j)/(lt-j))),ft=16711680+256*at+0,ft):gt<st?(at=Math.floor(255*Math.sqrt(1-(gt-lt)/(st-lt))),ft=65536*at+65280+0,ft):gt<et?(at=Math.floor(255*Math.sqrt((gt-st)/(et-st))),ft=65280+1*at,ft):(at=Math.floor(255*Math.sqrt(1-(gt-et)/(_e-et))),ft=0+256*at+255,ft)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class pt extends _{constructor(gt,rt){super(),this.gradient="Sinebow",this.mult=1,this.min=gt,this.max=rt,typeof rt>"u"&&Array.isArray(gt)&&gt.length>=2&&(this.max=gt[1],this.min=gt[0]),rt<gt&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(gt,rt){var j,_e;if(gt=this.mult*gt,rt?(j=rt[0],_e=rt[1]):(j=this.min,_e=this.max),typeof gt>"u")return 16777215;var it=vt.normalizeValue(j,_e,gt);j=it.lo,_e=it.hi,gt=it.val;var st=(gt-j)/(_e-j),lt=5*st/6+.5,et=Math.sin(Math.PI*lt);et*=et*255;var at=Math.sin(Math.PI*(lt+1/3));at*=at*255;var ft=Math.sin(Math.PI*(lt+2/3));return ft*=ft*255,65536*Math.floor(et)+256*Math.floor(ft)+1*Math.floor(at)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class ut extends _{constructor(gt,rt,j){super(),this.gradient="linear",this.colors=new Array;var _e;if(Array.isArray(gt)&&gt.length>=2?(this.max=gt[1],this.min=gt[0],_e=rt):(this.min=gt,this.max=rt,_e=j),_e)for(let it of _e)this.colors.push(a.CC.color(it));else this.colors.push(a.CC.color(0))}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(gt,rt){var j,_e;if(rt?(j=rt[0],_e=rt[1]):(j=this.min,_e=this.max),gt===void 0)return 16777215;var it=$(j,_e,gt);j=it.lo,_e=it.hi,gt=it.val;let st=this.colors.length,lt=(_e-j)/st,et=Math.min(Math.floor((gt-j)/lt),st-1),at=Math.min(et+1,st-1),ft=(gt-j-et*lt)/lt,ct=this.colors[et],xt=this.colors[at];return new a.Color(ct.r+ft*(xt.r-ct.r),ct.g+ft*(xt.g-ct.g),ct.b+ft*(xt.b-ct.b)).getHex()}}const mt={rwb:tt,RWB:tt,roygb:ot,ROYGB:ot,sinebow:pt,linear:ut};class vt extends _{valueToHex(gt,rt){return 0}range(){return null}}vt.RWB=tt,vt.ROYGB=ot,vt.Sinebow=pt,vt.CustomLinear=ut,vt.builtinGradients=mt,vt.normalizeValue=$,vt.getGradient=nt},"./src/Label.ts":(i,s,o)=>{o.r(s),o.d(s,{Label:()=>pt,LabelCount:()=>nt});var a=o("./src/WebGL/index.ts"),_=o("./src/Gradient.ts"),$=o("./src/colors.ts");let nt=0;function tt(ut,mt,vt,ht,gt,rt,j){ut.beginPath(),ut.moveTo(mt+rt,vt),ut.lineTo(mt+ht-rt,vt),ut.quadraticCurveTo(mt+ht,vt,mt+ht,vt+rt),ut.lineTo(mt+ht,vt+gt-rt),ut.quadraticCurveTo(mt+ht,vt+gt,mt+ht-rt,vt+gt),ut.lineTo(mt+rt,vt+gt),ut.quadraticCurveTo(mt,vt+gt,mt,vt+gt-rt),ut.lineTo(mt,vt+rt),ut.quadraticCurveTo(mt,vt,mt+rt,vt),ut.closePath(),ut.fill(),j&&ut.stroke()}function ot(ut,mt,vt){var ht=vt;return typeof ut<"u"&&(ut instanceof $.Color?ht=ut.scaled():(ht=$.CC.color(ut),typeof ht.scaled<"u"&&(ht=ht.scaled()))),typeof mt<"u"&&(ht.a=parseFloat(mt)),ht}class pt{constructor(mt,vt){this.id=nt++,this.stylespec=vt||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new a.Sprite,this.text=mt,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}hide(){this.sprite.visible=!1}show(){this.sprite.visible=!0}setContext(){var mt=this.stylespec,vt=typeof mt.useScreen>"u"?!1:mt.useScreen,ht=mt.showBackground;(ht==="0"||ht==="false")&&(ht=!1),typeof ht>"u"&&(ht=!0);var gt=mt.font?mt.font:"sans-serif",rt=parseInt(mt.fontSize)?parseInt(mt.fontSize):18,j=ot(mt.fontColor,mt.fontOpacity,{r:255,g:255,b:255,a:1}),_e=mt.padding?mt.padding:4,it=mt.borderThickness?mt.borderThickness:0,st=ot(mt.backgroundColor,mt.backgroundOpacity,{r:0,g:0,b:0,a:1}),lt=ot(mt.borderColor,mt.borderOpacity,st),et=mt.position?mt.position:{x:-10,y:1,z:1},at=mt.inFront!==void 0?mt.inFront:!0;(at==="false"||at==="0")&&(at=!1);var ft=mt.alignment||a.SpriteAlignment.topLeft;typeof ft=="string"&&ft in a.SpriteAlignment&&(ft=a.SpriteAlignment[ft]);var ct="";mt.bold&&(ct="bold "),this.context.font=ct+rt+"px  "+gt;var xt=this.context.measureText(this.text),dt=xt.width;ht||(it=0);var _t=dt+2.5*it+2*_e,Ct=rt*1.25+2*it+2*_e;if(mt.backgroundImage){var Et=mt.backgroundImage,Mt=mt.backgroundWidth?mt.backgroundWidth:Et.width,St=mt.backgroundHeight?mt.backgroundHeight:Et.height;Mt>_t&&(_t=Mt),St>Ct&&(Ct=St)}if(this.canvas.width=_t,this.canvas.height=Ct,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),ct="",mt.bold&&(ct="bold "),this.context.font=ct+rt+"px  "+gt,this.context.fillStyle="rgba("+st.r+","+st.g+","+st.b+","+st.a+")",this.context.strokeStyle="rgba("+lt.r+","+lt.g+","+lt.b+","+lt.a+")",mt.backgroundGradient){let At=this.context.createLinearGradient(0,Ct/2,_t,Ct/2),wt=_.Gradient.getGradient(mt.backgroundGradient),Pt=wt.range(),Lt=-1,Rt=1;Pt&&(Lt=Pt[0],Rt=Pt[1]);let Dt=Rt-Lt;for(let $t=0;$t<1.01;$t+=.1){let jt=ot(wt.valueToHex(Lt+Dt*$t)),Zt="rgba("+jt.r+","+jt.g+","+jt.b+","+jt.a+")";At.addColorStop($t,Zt)}this.context.fillStyle=At}this.context.lineWidth=it,ht&&tt(this.context,it,it,_t-2*it,Ct-2*it,6,it>0),mt.backgroundImage&&this.context.drawImage(Et,0,0,_t,Ct),this.context.fillStyle="rgba("+j.r+","+j.g+","+j.b+","+j.a+")",this.context.fillText(this.text,it+_e,rt+it+_e,dt);var Ot=new a.Texture(this.canvas);Ot.needsUpdate=!0,this.sprite.material=new a.SpriteMaterial({map:Ot,useScreenCoordinates:vt,alignment:ft,depthTest:!at,screenOffset:mt.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(et.x,et.y,et.z)}dispose(){this.sprite.material.map!==void 0&&this.sprite.material.map.dispose(),this.sprite.material!==void 0&&this.sprite.material.dispose()}}},"./src/ProteinSurface4.ts":(i,s,o)=>{o.r(s),o.d(s,{MarchingCube:()=>ot,MarchingCubeInitializer:()=>tt,PointGrid:()=>pt,ProteinSurface:()=>ut,SurfaceType:()=>_,setSyncSurface:()=>nt,syncSurface:()=>$});var a=o("./src/WebGL/math/index.ts"),_;(function(mt){mt[mt.VDW=1]="VDW",mt[mt.MS=2]="MS",mt[mt.SAS=3]="SAS",mt[mt.SES=4]="SES"})(_||(_={}));var $=!1;function nt(mt){$=mt}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&($=!0);class tt{constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(vt,ht,gt,rt){let j=!!rt.fulltable,_e=rt.hasOwnProperty("origin")&&rt.origin.hasOwnProperty("x")?rt.origin:{x:0,y:0,z:0},it=!!rt.voxel,st=rt.matrix,lt=rt.nX||0,et=rt.nY||0,at=rt.nZ||0,ft=rt.scale||1,ct=null;rt.unitCube?ct=rt.unitCube:ct={x:ft,y:ft,z:ft};let xt=new Int32Array(lt*et*at),dt,_t;for(dt=0,_t=xt.length;dt<_t;++dt)xt[dt]=-1;let Ct=function(Ot,At,wt,Pt,Lt,Rt){let Dt={x:0,y:0,z:0},$t=!!(Pt&1<<Lt),jt=!!(Pt&1<<Rt),Zt=Lt;if(!$t&&jt&&(Zt=Rt),Zt&1&&wt++,Zt&2&&At++,Zt&4&&Ot++,st){let er=new a.Vector3(Ot,At,wt);er=er.applyMatrix4(st),Dt={x:er.x,y:er.y,z:er.z}}else Dt.x=_e.x+ct.x*Ot,Dt.y=_e.y+ct.y*At,Dt.z=_e.z+ct.z*wt;let qt=(et*Ot+At)*at+wt;return it?(ht.push(Dt),ht.length-1):(xt[qt]<0&&(xt[qt]=ht.length,ht.push(Dt)),xt[qt])},Et=new Int32Array(12),Mt=j?this.edgeTable2:this.edgeTable,St=j?this.triTable2:this.triTable;for(dt=0;dt<lt-1;++dt)for(let Ot=0;Ot<et-1;++Ot)for(let At=0;At<at-1;++At){let wt=0;for(let Rt=0;Rt<8;++Rt){let Dt=(et*(dt+((Rt&4)>>2))+Ot+((Rt&2)>>1))*at+At+(Rt&1),$t=!!(vt[Dt]&this.ISDONE);wt|=$t<<Rt}if(wt===0||wt===255)continue;let Pt=Mt[wt];if(Pt===0)continue;let Lt=St[wt];Pt&1&&(Et[0]=Ct(dt,Ot,At,wt,0,1)),Pt&2&&(Et[1]=Ct(dt,Ot,At,wt,1,3)),Pt&4&&(Et[2]=Ct(dt,Ot,At,wt,3,2)),Pt&8&&(Et[3]=Ct(dt,Ot,At,wt,2,0)),Pt&16&&(Et[4]=Ct(dt,Ot,At,wt,4,5)),Pt&32&&(Et[5]=Ct(dt,Ot,At,wt,5,7)),Pt&64&&(Et[6]=Ct(dt,Ot,At,wt,7,6)),Pt&128&&(Et[7]=Ct(dt,Ot,At,wt,6,4)),Pt&256&&(Et[8]=Ct(dt,Ot,At,wt,0,4)),Pt&512&&(Et[9]=Ct(dt,Ot,At,wt,1,5)),Pt&1024&&(Et[10]=Ct(dt,Ot,At,wt,3,7)),Pt&2048&&(Et[11]=Ct(dt,Ot,At,wt,2,6));for(let Rt=0;Rt<Lt.length;Rt+=3){let Dt=Et[Lt[Rt]],$t=Et[Lt[Rt+1]],jt=Et[Lt[Rt+2]];it&&Rt>=3&&(ht.push(ht[Dt]),Dt=ht.length-1,ht.push(ht[$t]),$t=ht.length-1,ht.push(ht[jt]),jt=ht.length-1),gt.push(Dt),gt.push($t),gt.push(jt)}}}laplacianSmooth(vt,ht,gt){let rt=new Array(ht.length),j,_e,it,st,lt;for(j=0,_e=ht.length;j<_e;j++)rt[j]={x:0,y:0,z:0};let et=new Array(20),at;for(j=0;j<20;j++)et[j]=new Array(ht.length);for(j=0,_e=ht.length;j<_e;j++)et[0][j]=0;for(j=0,_e=gt.length/3;j<_e;j++){let xt=j*3,dt=j*3+1,_t=j*3+2;for(at=!0,it=0,st=et[0][gt[xt]];it<st;it++)if(gt[dt]==et[it+1][gt[xt]]){at=!1;break}for(at&&(et[0][gt[xt]]++,et[et[0][gt[xt]]][gt[xt]]=gt[dt]),at=!0,it=0,st=et[0][gt[xt]];it<st;it++)if(gt[_t]==et[it+1][gt[xt]]){at=!1;break}for(at&&(et[0][gt[xt]]++,et[et[0][gt[xt]]][gt[xt]]=gt[_t]),at=!0,it=0,st=et[0][gt[dt]];it<st;it++)if(gt[xt]==et[it+1][gt[dt]]){at=!1;break}for(at&&(et[0][gt[dt]]++,et[et[0][gt[dt]]][gt[dt]]=gt[xt]),at=!0,it=0,st=et[0][gt[dt]];it<st;it++)if(gt[_t]==et[it+1][gt[dt]]){at=!1;break}for(at&&(et[0][gt[dt]]++,et[et[0][gt[dt]]][gt[dt]]=gt[_t]),at=!0,it=0;it<et[0][gt[_t]];it++)if(gt[xt]==et[it+1][gt[_t]]){at=!1;break}for(at&&(et[0][gt[_t]]++,et[et[0][gt[_t]]][gt[_t]]=gt[xt]),at=!0,it=0,st=et[0][gt[_t]];it<st;it++)if(gt[dt]==et[it+1][gt[_t]]){at=!1;break}at&&(et[0][gt[_t]]++,et[et[0][gt[_t]]][gt[_t]]=gt[dt])}let ft=1,ct=.5;for(lt=0;lt<vt;lt++){for(j=0,_e=ht.length;j<_e;j++)if(et[0][j]<3)rt[j].x=ht[j].x,rt[j].y=ht[j].y,rt[j].z=ht[j].z;else if(et[0][j]==3||et[0][j]==4){for(rt[j].x=0,rt[j].y=0,rt[j].z=0,it=0,st=et[0][j];it<st;it++)rt[j].x+=ht[et[it+1][j]].x,rt[j].y+=ht[et[it+1][j]].y,rt[j].z+=ht[et[it+1][j]].z;rt[j].x+=ct*ht[j].x,rt[j].y+=ct*ht[j].y,rt[j].z+=ct*ht[j].z,rt[j].x/=ct+et[0][j],rt[j].y/=ct+et[0][j],rt[j].z/=ct+et[0][j]}else{for(rt[j].x=0,rt[j].y=0,rt[j].z=0,it=0,st=et[0][j];it<st;it++)rt[j].x+=ht[et[it+1][j]].x,rt[j].y+=ht[et[it+1][j]].y,rt[j].z+=ht[et[it+1][j]].z;rt[j].x+=ft*ht[j].x,rt[j].y+=ft*ht[j].y,rt[j].z+=ft*ht[j].z,rt[j].x/=ft+et[0][j],rt[j].y/=ft+et[0][j],rt[j].z/=ft+et[0][j]}for(j=0,_e=ht.length;j<_e;j++)ht[j].x=rt[j].x,ht[j].y=rt[j].y,ht[j].z=rt[j].z}}}let ot=new tt;class pt{constructor(vt,ht,gt){this.data=new Int32Array(vt*ht*gt*3),this.width=ht,this.height=gt}set(vt,ht,gt,rt){let j=((vt*this.width+ht)*this.height+gt)*3;this.data[j]=rt.ix,this.data[j+1]=rt.iy,this.data[j+2]=rt.iz}get(vt,ht,gt){let rt=((vt*this.width+ht)*this.height+gt)*3;return{ix:this.data[rt],iy:this.data[rt+1],iz:this.data[rt+2]}}}class ut{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])],ut.MarchingCube||(ut.MarchingCube=new tt)}getVDWIndex(vt){return!vt.elem||typeof this.vdwRadii[vt.elem]>"u"?"X":vt.elem}getFacesAndVertices(vt){let ht={};for(let j=0,_e=vt.length;j<_e;j++)ht[vt[j]]=!0;let gt=this.verts;for(let j=0,_e=gt.length;j<_e;j++)gt[j].x=gt[j].x/this.scaleFactor-this.ptranx,gt[j].y=gt[j].y/this.scaleFactor-this.ptrany,gt[j].z=gt[j].z/this.scaleFactor-this.ptranz;let rt=[];for(let j=0,_e=this.faces.length;j<_e;j+=3){let it=this.faces[j],st=this.faces[j+1],lt=this.faces[j+2],et=gt[it].atomid,at=gt[st].atomid,ft=gt[lt].atomid,ct=et;at<ct&&(ct=at),ft<ct&&(ct=ft),ht[ct]&&it!==st&&st!==lt&&it!==lt&&(rt.push(it),rt.push(st),rt.push(lt))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:gt,faces:rt}}initparm(vt,ht,gt){gt>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let rt=1/this.scaleFactor*5.5;this.pminx=vt[0][0],this.pmaxx=vt[1][0],this.pminy=vt[0][1],this.pmaxy=vt[1][1],this.pminz=vt[0][2],this.pmaxz=vt[1][2],ht?(this.pminx-=this.probeRadius+rt,this.pminy-=this.probeRadius+rt,this.pminz-=this.probeRadius+rt,this.pmaxx+=this.probeRadius+rt,this.pmaxy+=this.probeRadius+rt,this.pmaxz+=this.probeRadius+rt):(this.pminx-=rt,this.pminy-=rt,this.pminz-=rt,this.pmaxx+=rt,this.pmaxy+=rt,this.pmaxz+=rt),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(ht),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(vt){let ht={};for(const gt in this.vdwRadii){let rt=this.vdwRadii[gt];vt?ht[gt]=(rt+this.probeRadius)*this.scaleFactor+.5:ht[gt]=rt*this.scaleFactor+.5;let j=ht[gt]*ht[gt];this.widxz[gt]=Math.floor(ht[gt])+1,this.depty[gt]=new Int32Array(this.widxz[gt]*this.widxz[gt]);let _e=0;for(let it=0;it<this.widxz[gt];it++)for(let st=0;st<this.widxz[gt];st++){let lt=it*it+st*st;if(lt>j)this.depty[gt][_e]=-1;else{let et=Math.sqrt(j-lt);this.depty[gt][_e]=Math.floor(et)}_e++}}}fillvoxels(vt,ht){for(let gt=0,rt=this.vpBits.length;gt<rt;gt++)this.vpBits[gt]=0,this.vpDistance[gt]=-1,this.vpAtomID[gt]=-1;for(let gt in ht){let rt=vt[ht[gt]];rt!==void 0&&this.fillAtom(rt,vt)}for(let gt=0,rt=this.vpBits.length;gt<rt;gt++)this.vpBits[gt]&this.INOUT&&(this.vpBits[gt]|=this.ISDONE)}fillAtom(vt,ht){let gt=Math.floor(.5+this.scaleFactor*(vt.x+this.ptranx)),rt=Math.floor(.5+this.scaleFactor*(vt.y+this.ptrany)),j=Math.floor(.5+this.scaleFactor*(vt.z+this.ptranz)),_e=this.getVDWIndex(vt),it=0,st=this.pWidth*this.pHeight;for(let lt=0,et=this.widxz[_e];lt<et;lt++)for(let at=0;at<et;at++){if(this.depty[_e][it]!=-1){for(let ft=-1;ft<2;ft++)for(let ct=-1;ct<2;ct++)for(let xt=-1;xt<2;xt++)if(ft!==0&&ct!==0&&xt!==0){let dt=ft*lt,_t=xt*at;for(let Ct=0;Ct<=this.depty[_e][it];Ct++){let Et=Ct*ct,Mt=gt+dt,St=rt+Et,Ot=j+_t;if(Mt<0||St<0||Ot<0||Mt>=this.pLength||St>=this.pWidth||Ot>=this.pHeight)continue;let At=Mt*st+St*this.pHeight+Ot;if(!(this.vpBits[At]&this.INOUT))this.vpBits[At]|=this.INOUT,this.vpAtomID[At]=vt.serial;else{let wt=ht[this.vpAtomID[At]];if(wt.serial!=vt.serial){let Pt=gt+dt-Math.floor(.5+this.scaleFactor*(wt.x+this.ptranx)),Lt=rt+Et-Math.floor(.5+this.scaleFactor*(wt.y+this.ptrany)),Rt=j+_t-Math.floor(.5+this.scaleFactor*(wt.z+this.ptranz));dt*dt+Et*Et+_t*_t<Pt*Pt+Lt*Lt+Rt*Rt&&(this.vpAtomID[At]=vt.serial)}}}}}it++}}fillvoxelswaals(vt,ht){for(let gt=0,rt=this.vpBits.length;gt<rt;gt++)this.vpBits[gt]&=~this.ISDONE;for(let gt in ht){let rt=vt[ht[gt]];rt!==void 0&&this.fillAtomWaals(rt,vt)}}fillAtomWaals(vt,ht){let gt=0,rt=Math.floor(.5+this.scaleFactor*(vt.x+this.ptranx)),j=Math.floor(.5+this.scaleFactor*(vt.y+this.ptrany)),_e=Math.floor(.5+this.scaleFactor*(vt.z+this.ptranz)),it=this.getVDWIndex(vt),st=this.pWidth*this.pHeight;for(let lt=0,et=this.widxz[it];lt<et;lt++)for(let at=0;at<et;at++){if(this.depty[it][gt]!=-1){for(let ft=-1;ft<2;ft++)for(let ct=-1;ct<2;ct++)for(let xt=-1;xt<2;xt++)if(ft!==0&&ct!==0&&xt!==0){let dt=ft*lt,_t=xt*at;for(let Ct=0;Ct<=this.depty[it][gt];Ct++){let Et=Ct*ct,Mt=rt+dt,St=j+Et,Ot=_e+_t;if(Mt<0||St<0||Ot<0||Mt>=this.pLength||St>=this.pWidth||Ot>=this.pHeight)continue;let At=Mt*st+St*this.pHeight+Ot;if(!(this.vpBits[At]&this.ISDONE))this.vpBits[At]|=this.ISDONE,this.vpAtomID[At]=vt.serial;else{let wt=ht[this.vpAtomID[At]];if(wt.serial!=vt.serial){let Pt=rt+dt-Math.floor(.5+this.scaleFactor*(wt.x+this.ptranx)),Lt=j+Et-Math.floor(.5+this.scaleFactor*(wt.y+this.ptrany)),Rt=_e+_t-Math.floor(.5+this.scaleFactor*(wt.z+this.ptranz));dt*dt+Et*Et+_t*_t<Pt*Pt+Lt*Lt+Rt*Rt&&(this.vpAtomID[At]=vt.serial)}}}}}gt++}}buildboundary(){let vt=this.pWidth*this.pHeight;for(let ht=0;ht<this.pLength;ht++)for(let gt=0;gt<this.pHeight;gt++)for(let rt=0;rt<this.pWidth;rt++){let j=ht*vt+rt*this.pHeight+gt;if(this.vpBits[j]&this.INOUT){let _e=0;for(;_e<26;){let it=ht+this.nb[_e][0],st=gt+this.nb[_e][2],lt=rt+this.nb[_e][1];if(it>-1&&it<this.pLength&&lt>-1&&lt<this.pWidth&&st>-1&&st<this.pHeight&&!(this.vpBits[it*vt+lt*this.pHeight+st]&this.INOUT)){this.vpBits[j]|=this.ISBOUND;break}else _e++}}}}fastdistancemap(){let vt=new pt(this.pLength,this.pWidth,this.pHeight),ht=this.pWidth*this.pHeight,gt=this.cutRadius*this.cutRadius,rt=[],j=[],_e;for(let lt=0;lt<this.pLength;lt++)for(let et=0;et<this.pWidth;et++)for(let at=0;at<this.pHeight;at++)if(_e=lt*ht+et*this.pHeight+at,this.vpBits[_e]&=~this.ISDONE,this.vpBits[_e]&this.INOUT&&this.vpBits[_e]&this.ISBOUND){let ft={ix:lt,iy:et,iz:at};vt.set(lt,et,at,ft),rt.push(ft),this.vpDistance[_e]=0,this.vpBits[_e]|=this.ISDONE,this.vpBits[_e]&=~this.ISBOUND}do{j=this.fastoneshell(rt,vt),rt=[];for(let lt=0,et=j.length;lt<et;lt++)_e=ht*j[lt].ix+this.pHeight*j[lt].iy+j[lt].iz,this.vpBits[_e]&=~this.ISBOUND,this.vpDistance[_e]<=1.0404*gt&&rt.push({ix:j[lt].ix,iy:j[lt].iy,iz:j[lt].iz})}while(rt.length!==0);rt=[],j=[],vt=null;let it=this.scaleFactor-.5;it<0&&(it=0);let st=gt-.5/(.1+it);for(let lt=0;lt<this.pLength;lt++)for(let et=0;et<this.pWidth;et++)for(let at=0;at<this.pHeight;at++)_e=lt*ht+et*this.pHeight+at,this.vpBits[_e]&=~this.ISBOUND,this.vpBits[_e]&this.INOUT&&(!(this.vpBits[_e]&this.ISDONE)||this.vpBits[_e]&this.ISDONE&&this.vpDistance[_e]>=st)&&(this.vpBits[_e]|=this.ISBOUND)}fastoneshell(vt,ht){let gt,rt,j,_e,it,st,lt,et,at,ft=[];if(vt.length===0)return ft;let ct={ix:-1,iy:-1,iz:-1},xt=this.pWidth*this.pHeight;for(let dt=0,_t=vt.length;dt<_t;dt++){gt=vt[dt].ix,rt=vt[dt].iy,j=vt[dt].iz,et=ht.get(gt,rt,j);for(let Ct=0;Ct<6;Ct++)ct.ix=gt+this.nb[Ct][0],ct.iy=rt+this.nb[Ct][1],ct.iz=j+this.nb[Ct][2],ct.ix<this.pLength&&ct.ix>-1&&ct.iy<this.pWidth&&ct.iy>-1&&ct.iz<this.pHeight&&ct.iz>-1&&(at=ct.ix*xt+this.pHeight*ct.iy+ct.iz,this.vpBits[at]&this.INOUT&&!(this.vpBits[at]&this.ISDONE)?(ht.set(ct.ix,ct.iy,j+this.nb[Ct][2],et),_e=ct.ix-et.ix,it=ct.iy-et.iy,st=ct.iz-et.iz,lt=_e*_e+it*it+st*st,this.vpDistance[at]=lt,this.vpBits[at]|=this.ISDONE,this.vpBits[at]|=this.ISBOUND,ft.push({ix:ct.ix,iy:ct.iy,iz:ct.iz})):this.vpBits[at]&this.INOUT&&this.vpBits[at]&this.ISDONE&&(_e=ct.ix-et.ix,it=ct.iy-et.iy,st=ct.iz-et.iz,lt=_e*_e+it*it+st*st,lt<this.vpDistance[at]&&(ht.set(ct.ix,ct.iy,ct.iz,et),this.vpDistance[at]=lt,this.vpBits[at]&this.ISBOUND||(this.vpBits[at]|=this.ISBOUND,ft.push({ix:ct.ix,iy:ct.iy,iz:ct.iz})))))}for(let dt=0,_t=vt.length;dt<_t;dt++){gt=vt[dt].ix,rt=vt[dt].iy,j=vt[dt].iz,et=ht.get(gt,rt,j);for(let Ct=6;Ct<18;Ct++)ct.ix=gt+this.nb[Ct][0],ct.iy=rt+this.nb[Ct][1],ct.iz=j+this.nb[Ct][2],ct.ix<this.pLength&&ct.ix>-1&&ct.iy<this.pWidth&&ct.iy>-1&&ct.iz<this.pHeight&&ct.iz>-1&&(at=ct.ix*xt+this.pHeight*ct.iy+ct.iz,this.vpBits[at]&this.INOUT&&!(this.vpBits[at]&this.ISDONE)?(ht.set(ct.ix,ct.iy,j+this.nb[Ct][2],et),_e=ct.ix-et.ix,it=ct.iy-et.iy,st=ct.iz-et.iz,lt=_e*_e+it*it+st*st,this.vpDistance[at]=lt,this.vpBits[at]|=this.ISDONE,this.vpBits[at]|=this.ISBOUND,ft.push({ix:ct.ix,iy:ct.iy,iz:ct.iz})):this.vpBits[at]&this.INOUT&&this.vpBits[at]&this.ISDONE&&(_e=ct.ix-et.ix,it=ct.iy-et.iy,st=ct.iz-et.iz,lt=_e*_e+it*it+st*st,lt<this.vpDistance[at]&&(ht.set(ct.ix,ct.iy,ct.iz,et),this.vpDistance[at]=lt,this.vpBits[at]&this.ISBOUND||(this.vpBits[at]|=this.ISBOUND,ft.push({ix:ct.ix,iy:ct.iy,iz:ct.iz})))))}for(let dt=0,_t=vt.length;dt<_t;dt++){gt=vt[dt].ix,rt=vt[dt].iy,j=vt[dt].iz,et=ht.get(gt,rt,j);for(let Ct=18;Ct<26;Ct++)ct.ix=gt+this.nb[Ct][0],ct.iy=rt+this.nb[Ct][1],ct.iz=j+this.nb[Ct][2],ct.ix<this.pLength&&ct.ix>-1&&ct.iy<this.pWidth&&ct.iy>-1&&ct.iz<this.pHeight&&ct.iz>-1&&(at=ct.ix*xt+this.pHeight*ct.iy+ct.iz,this.vpBits[at]&this.INOUT&&!(this.vpBits[at]&this.ISDONE)?(ht.set(ct.ix,ct.iy,j+this.nb[Ct][2],et),_e=ct.ix-et.ix,it=ct.iy-et.iy,st=ct.iz-et.iz,lt=_e*_e+it*it+st*st,this.vpDistance[at]=lt,this.vpBits[at]|=this.ISDONE,this.vpBits[at]|=this.ISBOUND,ft.push({ix:ct.ix,iy:ct.iy,iz:ct.iz})):this.vpBits[at]&this.INOUT&&this.vpBits[at]&this.ISDONE&&(_e=ct.ix-et.ix,it=ct.iy-et.iy,st=ct.iz-et.iz,lt=_e*_e+it*it+st*st,lt<this.vpDistance[at]&&(ht.set(ct.ix,ct.iy,ct.iz,et),this.vpDistance[at]=lt,this.vpBits[at]&this.ISBOUND||(this.vpBits[at]|=this.ISBOUND,ft.push({ix:ct.ix,iy:ct.iy,iz:ct.iz})))))}return ft}marchingcubeinit(vt){for(let ht=0,gt=this.vpBits.length;ht<gt;ht++)vt==1?this.vpBits[ht]&=~this.ISBOUND:vt==4?(this.vpBits[ht]&=~this.ISDONE,this.vpBits[ht]&this.ISBOUND&&(this.vpBits[ht]|=this.ISDONE),this.vpBits[ht]&=~this.ISBOUND):vt==2?this.vpBits[ht]&this.ISBOUND&&this.vpBits[ht]&this.ISDONE?this.vpBits[ht]&=~this.ISBOUND:this.vpBits[ht]&this.ISBOUND&&!(this.vpBits[ht]&this.ISDONE)&&(this.vpBits[ht]|=this.ISDONE):vt==3&&(this.vpBits[ht]&=~this.ISBOUND)}marchingcube(vt){this.marchingcubeinit(vt),this.verts=[],this.faces=[],ut.MarchingCube.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let ht=this.pWidth*this.pHeight;for(let gt=0,rt=this.verts.length;gt<rt;gt++)this.verts[gt].atomid=this.vpAtomID[this.verts[gt].x*ht+this.pHeight*this.verts[gt].y+this.verts[gt].z];ut.MarchingCube.laplacianSmooth(1,this.verts,this.faces)}}ut.MarchingCube=new tt},"./src/VolumeData.ts":(i,s,o)=>{o.r(s),o.d(s,{VolumeData:()=>ot});var a=o("./src/utilities.ts"),_=o("./src/WebGL/math/index.ts"),$=o("./src/parsers/VASP.ts"),nt=o("./src/parsers/CUBE.ts"),tt=o("./node_modules/pako/dist/pako.esm.mjs");class ot{constructor(ut,mt,vt){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(_e){var it=_e/(this.size.y*this.size.z),st=_e%(this.size.y*this.size.z),lt=_e%this.size.z;return it*=this.unit.x,st*=this.unit.y,lt*=this.unit.z,it+=this.origin.x,st+=this.origin.y,lt+=this.origin.z,{x:it,y:st,z:lt}},this.vasp=function(_e){var it=_e.replace(/^\s+/,"").split(/[\n\r]/),st=(0,$.VASP)(_e)[0],lt=st.length;if(lt==0){console.warn("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];return}var et=1.889725992,at=.036749309,ft=parseFloat(it[1]),ct;ct=it[2].replace(/^\s+/,"").split(/\s+/);var xt=new _.Vector3(parseFloat(ct[0]),parseFloat(ct[1]),parseFloat(ct[2])).multiplyScalar(ft*et);ct=it[3].replace(/^\s+/,"").split(/\s+/);var dt=new _.Vector3(parseFloat(ct[0]),parseFloat(ct[1]),parseFloat(ct[2])).multiplyScalar(ft*et);ct=it[4].replace(/^\s+/,"").split(/\s+/);var _t=new _.Vector3(parseFloat(ct[0]),parseFloat(ct[1]),parseFloat(ct[2])).multiplyScalar(ft*et),Ct=xt.x*(dt.y*_t.z-_t.y*dt.z)-dt.x*(xt.y*_t.z-_t.y*xt.z)+_t.x*(xt.y*dt.z-dt.y*xt.z);Ct=Math.abs(Ct)/Math.pow(et,3);var Et=1/Ct;it.splice(0,8+lt+1);var Mt=it[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),St=Math.abs(parseFloat(Mt[0])),Ot=Math.abs(parseFloat(Mt[1])),At=Math.abs(parseFloat(Mt[2])),wt=this.origin=new _.Vector3(0,0,0);this.size={x:St,y:Ot,z:At},this.unit=new _.Vector3(xt.x,dt.y,_t.z),xt=xt.multiplyScalar(1/(et*St)),dt=dt.multiplyScalar(1/(et*Ot)),_t=_t.multiplyScalar(1/(et*At)),(xt.y!=0||xt.z!=0||dt.x!=0||dt.z!=0||_t.x!=0||_t.y!=0)&&(this.matrix=new _.Matrix4(xt.x,dt.x,_t.x,0,xt.y,dt.y,_t.y,0,xt.z,dt.z,_t.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new _.Matrix4().makeTranslation(wt.x,wt.y,wt.z)),this.origin=new _.Vector3(0,0,0),this.unit=new _.Vector3(1,1,1)),it.splice(0,1);var Pt=it.join(" ");Pt=Pt.replace(/^\s+/,"");var Lt=Pt.split(/[\s\r]+/);Lt.splice(St*Ot*At+1);for(var Rt=Float32Array.from(Lt,parseFloat),Dt=0;Dt<Rt.length;Dt++)Rt[Dt]=Rt[Dt]*Et*at;this.data=Rt},this.dx=function(_e){var it=_e.split(/[\n\r]+/),st,lt=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,et=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,at=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,ft=/data follows/,ct=0;for(ct=0;ct<it.length;ct++){var xt=it[ct];if(st=lt.exec(xt)){var dt=parseInt(st[1]),_t=parseInt(st[2]),Ct=parseInt(st[3]);this.size={x:dt,y:_t,z:Ct}}else if(st=at.exec(xt)){var Et=parseFloat(st[1]);if((parseFloat(st[2])!=0||parseFloat(st[3])!=0)&&console.warn("Non-orthogonal delta matrix not currently supported in dx format"),ct+=1,xt=it[ct],st=at.exec(xt),st==null){console.error("Parse error in dx delta matrix");return}var Mt=parseFloat(st[2]);if((parseFloat(st[1])!=0||parseFloat(st[3])!=0)&&console.warn("Non-orthogonal delta matrix not currently supported in dx format"),ct+=1,xt=it[ct],st=at.exec(xt),st==null){console.error("Parse error in dx delta matrix");return}var St=parseFloat(st[3]);(parseFloat(st[1])!=0||parseFloat(st[2])!=0)&&console.warn("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new _.Vector3(Et,Mt,St)}else if(st=et.exec(xt)){var Ot=parseFloat(st[1]),At=parseFloat(st[2]),wt=parseFloat(st[3]);this.origin=new _.Vector3(Ot,At,wt)}else if(st=ft.exec(xt))break}if(ct+=1,!this.size||!this.origin||!this.unit||!this.size){console.error("Error parsing dx format");return}var Pt=it.splice(ct).join(" "),Lt=Pt.split(/[\s\r]+/);this.data=Float32Array.from(Lt,parseFloat)},mt=mt.toLowerCase(),/\.gz$/.test(mt)){mt=mt.replace(/\.gz$/,"");try{this[mt]&&this.isbinary.has(mt)?(typeof ut=="string"&&(ut=(0,a.base64ToArray)(ut)),ut=(0,tt.inflate)(ut)):ut=new TextDecoder("utf-8").decode((0,tt.inflate)(ut))}catch(_e){console.error(_e)}}if(this[mt]&&(this.isbinary.has(mt)&&typeof ut=="string"&&(ut=(0,a.base64ToArray)(ut)),this[mt](ut)),vt){if(vt.negate)for(let _e=0,it=this.data.length;_e<it;_e++)this.data[_e]=-this.data[_e];if(vt.normalize){var ht=0;for(let _e=0,it=this.data.length;_e<it;_e++)ht+=this.data[_e];var gt=ht/this.data.length;ht=0;for(let _e=0,it=this.data.length;_e<it;_e++){var rt=this.data[_e]-gt;ht+=rt*rt}var j=ht/this.data.length;for(let _e=0,it=this.data.length;_e<it;_e++)this.data[_e]=(this.data[_e]-gt)/j}}}getIndex(ut,mt,vt){if(this.matrix){this.inversematrix==null&&(this.inversematrix=new _.Matrix4().getInverse(this.matrix));var ht=new _.Vector3(ut,mt,vt);ht=ht.applyMatrix4(this.inversematrix),ut=ht.x,mt=ht.y,vt=ht.z}else ut-=this.origin.x,mt-=this.origin.y,vt-=this.origin.z,ut/=this.unit.x,mt/=this.unit.y,vt/=this.unit.z;return ut=Math.round(ut),mt=Math.round(mt),vt=Math.round(vt),ut<0||ut>=this.size.x||mt<0||mt>=this.size.y||vt<0||vt>=this.size.z?-1:ut*this.size.y*this.size.z+mt*this.size.z+vt}getVal(ut,mt,vt){let ht=this.getIndex(ut,mt,vt);return ht<0?0:this.data[ht]}cube(ut){var mt=ut.split(/\r?\n/);if(!(mt.length<6)){var vt=(0,nt.CUBE)(ut,{}).modelData[0].cryst,ht=mt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),gt=parseFloat(ht[0]),rt=Math.abs(gt);this.origin=vt.origin,this.size=vt.size,this.unit=vt.unit,this.matrix=vt.matrix4;var j=6;gt<0&&j++;var _e=mt.splice(rt+j).join(" ");_e=_e.replace(/^\s+/,"");var it=_e.split(/[\s\r]+/);this.data=Float32Array.from(it,parseFloat)}}ccp4(ut){var mt={};ut=new Int8Array(ut);var vt=new Int32Array(ut.buffer,0,56),ht=new Float32Array(ut.buffer,0,56),gt=new DataView(ut.buffer);if(mt.MAP=String.fromCharCode(gt.getUint8(208),gt.getUint8(209),gt.getUint8(210),gt.getUint8(211)),mt.MACHST=[gt.getUint8(212),gt.getUint8(213)],mt.MACHST[0]===17&&mt.MACHST[1]===17)for(var rt=ut.byteLength,j=0;j<rt;j+=4)gt.setFloat32(j,gt.getFloat32(j),!0);mt.NX=vt[0],mt.NY=vt[1],mt.NZ=vt[2],mt.MODE=vt[3],mt.NXSTART=vt[4],mt.NYSTART=vt[5],mt.NZSTART=vt[6],mt.MX=vt[7],mt.MY=vt[8],mt.MZ=vt[9],mt.xlen=ht[10],mt.ylen=ht[11],mt.zlen=ht[12],mt.alpha=ht[13],mt.beta=ht[14],mt.gamma=ht[15],mt.MAPC=vt[16],mt.MAPR=vt[17],mt.MAPS=vt[18],mt.DMIN=ht[19],mt.DMAX=ht[20],mt.DMEAN=ht[21],mt.ISPG=vt[22],mt.NSYMBT=vt[23],mt.LSKFLG=vt[24],mt.originX=ht[49],mt.originY=ht[50],mt.originZ=ht[51],mt.ARMS=ht[54];var _e=mt,it=[_e.xlen,0,0],st=[_e.ylen*Math.cos(Math.PI/180*_e.gamma),_e.ylen*Math.sin(Math.PI/180*_e.gamma),0],lt=[_e.zlen*Math.cos(Math.PI/180*_e.beta),_e.zlen*(Math.cos(Math.PI/180*_e.alpha)-Math.cos(Math.PI/180*_e.gamma)*Math.cos(Math.PI/180*_e.beta))/Math.sin(Math.PI/180*_e.gamma),0];lt[2]=Math.sqrt(_e.zlen*_e.zlen*Math.sin(Math.PI/180*_e.beta)*Math.sin(Math.PI/180*_e.beta)-lt[1]*lt[1]);var et=[0,it,st,lt],at=[0,_e.MX,_e.MY,_e.MZ],ft=[0,_e.MAPC,_e.MAPR,_e.MAPS];this.matrix=new _.Matrix4,this.matrix.set(et[ft[1]][0]/at[ft[1]],et[ft[2]][0]/at[ft[2]],et[ft[3]][0]/at[ft[3]],0,et[ft[1]][1]/at[ft[1]],et[ft[2]][1]/at[ft[2]],et[ft[3]][1]/at[ft[3]],0,et[ft[1]][2]/at[ft[1]],et[ft[2]][2]/at[ft[2]],et[ft[3]][2]/at[ft[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new _.Matrix4().makeTranslation(_e.NXSTART+_e.originX,_e.NYSTART+_e.originY,_e.NZSTART+_e.originZ)),this.origin=new _.Vector3(0,0,0),this.unit=new _.Vector3(1,1,1),this.size={x:mt.NX,y:mt.NY,z:mt.NZ},this.dimensionorder=[mt.MAPC,mt.MAPR,mt.MAPS];var ct=new Float32Array(ut.buffer,1024+mt.NSYMBT),xt=mt.NX,dt=mt.NY,_t=mt.NZ;this.data=new Float32Array(xt*dt*_t);for(let Ct=0;Ct<xt;Ct++)for(let Et=0;Et<dt;Et++)for(let Mt=0;Mt<_t;Mt++)this.data[(Ct*dt+Et)*_t+Mt]=ct[(Mt*dt+Et)*xt+Ct]}}},"./src/VolumetricRender.ts":(i,s,o)=>{o.r(s),o.d(s,{GLVolumetricRender:()=>ot});var a=o("./src/WebGL/shapes/index.ts"),_=o("./src/WebGL/math/index.ts"),$=o("./src/WebGL/index.ts"),nt=o("./src/colors.ts"),tt=o("./src/GLShape.ts");class ot{static interpolateArray(ut,mt){function vt(lt,et,at){return lt+(et-lt)*at}var ht=[],gt=(ut.length-1)/(mt-1);ht[0]=ut[0];for(var rt=1;rt<mt-1;rt++){var j=rt*gt,_e=Math.floor(j),it=Math.ceil(j),st=j-_e;ht[rt]=vt(ut[_e],ut[it],st)}return ht[mt-1]=ut[ut.length-1],ht}constructor(ut,mt,vt){this.hidden=!1,this.boundingSphere=new a.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,mt=mt||{};var ht=Object.assign([],mt.transferfn);this.subsamples=mt.subsamples||5;let gt=256;ht.forEach(function(dt){dt.value=parseFloat(dt.value)}),ht.sort(function(dt,_t){return dt.value-_t.value}),this.min=ht[0].value,ht.length==0&&ht.push(ht[0]),this.max=ht[ht.length-1].value;var rt,j,_e,it,st,lt,et,at,ft,ct;for(let dt=0;dt<ht.length-1;dt++)if(_e=nt.CC.color(ht[dt].color),it=nt.CC.color(ht[dt+1].color),ft=ht[dt].opacity,ct=ht[dt+1].opacity,rt=Math.floor((ht[dt].value-this.min)*gt/(this.max-this.min)),j=Math.floor((ht[dt+1].value-this.min)*gt/(this.max-this.min)),rt!=j){st=ot.interpolateArray([_e.r*255,it.r*255],j-rt),lt=ot.interpolateArray([_e.g*255,it.g*255],j-rt),et=ot.interpolateArray([_e.b*255,it.b*255],j-rt),at=ot.interpolateArray([ft*255,ct*255],j-rt);for(let _t=0;_t<st.length;_t++)this.transferfunctionbuffer.push(st[_t]),this.transferfunctionbuffer.push(lt[_t]),this.transferfunctionbuffer.push(et[_t]),this.transferfunctionbuffer.push(at[_t])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),ut.matrix){let dt=new _.Vector3(0,0,0),_t=new _.Vector3(ut.size.x,ut.size.y,ut.size.z),Ct=new _.Vector3(1,1,1);dt.applyMatrix4(ut.matrix),_t.applyMatrix4(ut.matrix),Ct.applyMatrix4(ut.matrix).sub(dt),this.extent=[[dt.x,dt.y,dt.z],[_t.x,_t.y,_t.z]];for(let Ot=1;Ot<7;Ot++)_t.x=Ot&1?ut.size.x:0,_t.y=Ot&2?ut.size.y:0,_t.z=Ot&4?ut.size.z:0,_t.applyMatrix4(ut.matrix),this.extent[0][0]=Math.min(this.extent[0][0],_t.x),this.extent[0][1]=Math.min(this.extent[0][1],_t.y),this.extent[0][2]=Math.min(this.extent[0][2],_t.z),this.extent[1][0]=Math.max(this.extent[1][0],_t.x),this.extent[1][1]=Math.max(this.extent[1][1],_t.y),this.extent[1][2]=Math.max(this.extent[1][2],_t.z);let Et=_t.x-dt.x,Mt=_t.y-dt.y,St=_t.z-dt.z;this.maxdepth=Math.sqrt(Et*Et+Mt*Mt+St*St),this.minunit=Math.min(Math.min(Ct.x,Ct.y),Ct.z),this.texmatrix=new _.Matrix4().identity().scale({x:ut.size.x,y:ut.size.y,z:ut.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(ut.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=new _.Matrix4().identity();let dt=ut.unit.x*ut.size.x,_t=ut.unit.y*ut.size.y,Ct=ut.unit.z*ut.size.z;this.texmatrix.makeTranslation(-ut.origin.x/dt,-ut.origin.y/_t,-ut.origin.z/Ct),this.texmatrix.scale({x:1/dt,y:1/_t,z:1/Ct}),this.minunit=Math.min(Math.min(ut.unit.x,ut.unit.y),ut.unit.z),this.extent=[[ut.origin.x,ut.origin.y,ut.origin.z],[ut.origin.x+dt,ut.origin.y+_t,ut.origin.z+Ct]],this.maxdepth=Math.sqrt(dt*dt+_t*_t+Ct*Ct)}var xt=new tt.GLShape({});if(xt.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=xt.finalize(),this.boundingSphere.center=new _.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,mt.coords===void 0&&mt.selection!==void 0&&(vt?mt.coords=vt.selectedAtoms(mt.selection):console.log("Need to provide viewer to volumetric renderer if selection specified.")),mt.coords!==void 0&&mt.seldist!==void 0){let dt=new Uint8Array(ut.data.length),_t=mt.seldist,Ct=_t*_t;for(let Et=0,Mt=mt.coords.length;Et<Mt;Et++){let St=mt.coords[Et],Ot=St.x-_t,At=St.y-_t,wt=St.z-_t,Pt=St.x+_t,Lt=St.y+_t,Rt=St.z+_t;if(ut.getIndex(Ot,At,wt)>=0||ut.getIndex(Pt,Lt,Rt)>=0)for(let Dt=Ot;Dt<Pt;Dt+=this.minunit)for(let $t=At;$t<Lt;$t+=this.minunit)for(let jt=wt;jt<Rt;jt+=this.minunit){let Zt=ut.getIndex(Dt,$t,jt);Zt>=0&&!dt[Zt]&&(Dt-St.x)*(Dt-St.x)+($t-St.y)*($t-St.y)+(jt-St.z)*(jt-St.z)<Ct&&(dt[Zt]=1)}}for(let Et=0,Mt=ut.data.length;Et<Mt;Et++)dt[Et]==0&&(ut.data[Et]=1/0)}this.data=ut}globj(ut){if(this.renderedShapeObj&&(ut.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new $.Object3D;var mt=null,vt=new $.Texture(this.data,!0),ht=new $.Texture(this.transferfunctionbuffer,!1);vt.needsUpdate=!0,ht.needsUpdate=!0,ht.flipY=!1,mt=new $.VolumetricMaterial({transferfn:ht,transfermin:this.min,transfermax:this.max,map:vt,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var gt=new $.Mesh(this.geo,mt);this.shapeObj.add(gt),this.renderedShapeObj=this.shapeObj.clone(),ut.add(this.renderedShapeObj)}}removegl(ut){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),ut.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}},"./src/WebGL/Camera.ts":(i,s,o)=>{o.r(s),o.d(s,{Camera:()=>$});var a=o("./src/WebGL/core/index.ts"),_=o("./src/WebGL/math/index.ts");class $ extends a.Object3D{constructor(tt=50,ot=1,pt=.1,ut=2e3,mt=!1){super(),this.projectionMatrix=new _.Matrix4,this.projectionMatrixInverse=new _.Matrix4,this.matrixWorldInverse=new _.Matrix4,this.fov=tt,this.aspect=ot,this.near=pt,this.far=ut;var vt=this.position.z;this.right=vt*Math.tan(Math.PI/180*tt),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!mt,this.updateProjectionMatrix()}lookAt(tt){this.matrix.lookAt(this.position,tt,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1&&this.rotation instanceof _.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}},"./src/WebGL/Fog.ts":(i,s,o)=>{o.r(s),o.d(s,{Fog:()=>_});var a=o("./src/colors.ts");class _{constructor(nt,tt=1,ot=1e3){this.name="",this.color=new a.Color(nt),this.near=tt,this.far=ot}clone(){return new _(this.color.getHex(),this.near,this.far)}}},"./src/WebGL/Renderer.ts":(i,s,o)=>{o.r(s),o.d(s,{Renderer:()=>rt});var a=o("./src/WebGL/Camera.ts"),_=o("./src/WebGL/constants/Sides.ts"),$=o("./src/WebGL/constants/TextureConstants.ts"),nt=o("./src/WebGL/core/index.ts"),tt=o("./src/colors.ts"),ot=o("./src/WebGL/materials/index.ts"),pt=o("./src/WebGL/math/index.ts"),ut=o("./src/WebGL/objects/index.ts"),mt=o("./src/WebGL/shaders/index.ts"),vt=o("./src/WebGL/SpritePlugin.ts"),ht=null,gt=null;class rt{constructor(_e){this.context=null,this.devicePixelRatio=1,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._offscreen=null,this._bitmap=null,this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._vector3=new pt.Vector3,this._worldInverse=new pt.Matrix4,this._projInverse=new pt.Matrix4,this._textureMatrix=new pt.Matrix4,this._fullProjModelMatrix=new pt.Matrix4,this._fullProjModelMatrixInv=new pt.Matrix4,this._direction=new pt.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new vt.SpritePlugin,this._screenshader=null,this._AOshader=null,this._blurshader=null,this._vertexattribpos=null,this._aovertexattribpos=null,this._blurvertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,this._shadingTexture=null,this._scratchTexture=null,this._AOstrength=1,this._AOradius=5,this.SHADE_TEXTURE=3,_e=_e||{},this.row=_e.row,this.col=_e.col,this.rows=_e.rows,this.cols=_e.cols,this._canvas=_e.canvas!==void 0?_e.canvas:document.createElement("canvas"),this._precision=_e.precision!==void 0?_e.precision:"highp",this._alpha=_e.alpha!==void 0?_e.alpha:!0,this._premultipliedAlpha=_e.premultipliedAlpha!==void 0?_e.premultipliedAlpha:!0,this._antialias=_e.antialias!==void 0?_e.antialias:!1,this._preserveDrawingBuffer=_e.preserveDrawingBuffer!==void 0?_e.preserveDrawingBuffer:!1,this._clearColor=_e.clearColor!==void 0?new tt.Color(_e.clearColor):new tt.Color(0),this._clearAlpha=_e.clearAlpha!==void 0?_e.clearAlpha:0,this._outlineMaterial=new ot.MeshOutlineMaterial(_e.outline),this._outlineSphereImposterMaterial=new ot.SphereImposterOutlineMaterial(_e.outline),this._outlineStickImposterMaterial=new ot.StickImposterOutlineMaterial(_e.outline),this._outlineEnabled=!!_e.outline,this._AOEnabled=!!_e.ambientOcclusion,_e.ambientOcclusion&&typeof _e.ambientOcclusion.strength<"u"&&(this._AOstrength=parseFloat(_e.ambientOcclusion.strength)),this._AOstrength==0&&(this._AOEnabled=!1),_e.ambientOcclusion&&typeof _e.ambientOcclusion.radius<"u"&&(this._AOradius=parseFloat(_e.ambientOcclusion.radius)),this.domElement=this._canvas,this._canvas.id=_e.id,!(_e.containerWidth==0||_e.containerHeight==0)&&(this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this))}supportedExtensions(){return{supportsAIA:!!this._extInstanced,supportsImposters:!!this._extFragDepth||!this.isWebGL1(),regen:!1}}getContext(){return this._gl}getCanvas(){return this._canvas}isLost(){return this._gl==null||this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(_e,it){this._clearColor.setHex(_e),this._clearAlpha=it,this.isLost()||this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(_e){this._outlineMaterial=new ot.MeshOutlineMaterial(_e),this._outlineSphereImposterMaterial=new ot.SphereImposterOutlineMaterial(_e),this._outlineStickImposterMaterial=new ot.StickImposterOutlineMaterial(_e),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}enableAmbientOcclusion(_e){_e&&(_e.strength&&(this._AOstrength=_e.strength),_e.scale&&(this._AOradius=_e.scale)),this._AOEnabled=this._AOstrength>0}disableAmbientOcclusion(){this._AOEnabled=!1}setViewport(){if(this._offscreen&&(this._offscreen.width=this._canvas.width,this._offscreen.height=this._canvas.height),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var _e=this._canvas.width/this.cols,it=this._canvas.height/this.rows;this._viewportWidth=_e,this._viewportHeight=it,this.isLost()||(this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(_e*this.col,it*this.row,_e,it),this._gl.viewport(_e*this.col,it*this.row,_e,it))}}setSize(_e,it){if(this.devicePixelRatio=window.devicePixelRatio!==void 0?window.devicePixelRatio:1,this._antialias&&this.devicePixelRatio<2&&(this.devicePixelRatio*=2),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var st=_e/this.cols,lt=it/this.rows;this._canvas.width=_e*this.devicePixelRatio,this._canvas.height=it*this.devicePixelRatio,this._viewportWidth=st*this.devicePixelRatio,this._viewportHeight=lt*this.devicePixelRatio,this._canvas.style.width=_e+"px",this._canvas.style.height=it+"px",this.setViewport()}else this._viewportWidth=this._canvas.width=_e*this.devicePixelRatio,this._viewportHeight=this._canvas.height=it*this.devicePixelRatio,this._canvas.style.width=_e+"px",this._canvas.style.height=it+"px",this.isLost()||this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight);this.initFrameBuffer()}clear(_e,it,st){var lt=0;(_e===void 0||_e)&&(lt|=this._gl.COLOR_BUFFER_BIT),(it===void 0||it)&&(lt|=this._gl.DEPTH_BUFFER_BIT),(st===void 0||st)&&(lt|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(lt)}setMaterialFaces(_e,it){var st=_e.side===_.DoubleSide,lt=_e.side===_.BackSide;_e.imposter||(lt=it?!lt:lt),this._oldDoubleSided!==st&&(st?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=st),this._oldFlipSided!==lt&&(lt?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=lt),this._gl.cullFace(this._gl.BACK)}setDepthTest(_e){this._oldDepthTest!==_e&&(_e?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=_e)}setDepthWrite(_e){this._oldDepthWrite!==_e&&(this._gl.depthMask(_e),this._oldDepthWrite=_e)}setBlending(_e){_e?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND)}initMaterial(_e,it,st,lt){_e.addEventListener("dispose",this.onMaterialDispose.bind(this));var et,at;if(at=_e.shaderID,at){var ft=mt.ShaderLib[at];_e.vertexShader=ft.vertexShader,_e.fragmentShader=ft.fragmentShader,_e.uniforms=mt.ShaderUtils.clone(ft.uniforms),_e.shaded&&_e.makeShaded(this.SHADE_TEXTURE)}et={wireframe:_e.wireframe,fragdepth:_e.imposter,volumetric:_e.volumetric,shaded:_e.shaded},_e.program=this.buildProgram(_e.fragmentShader,_e.vertexShader,_e.uniforms,et)}renderBuffer(_e,it,st,lt,et,at){if(lt.visible){var ft,ct;if(ft=this.setProgram(_e,it,st,lt,at,this),!!ft){ct=ft.attributes;var xt=!1,dt=lt.wireframe?1:0,_t=et.id*16777215+ft.id*2+dt;_t!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=_t,xt=!0),xt&&(this.disableAttributes(),ct.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglVertexBuffer),this.enableAttribute(ct.position),this._gl.vertexAttribPointer(ct.position,3,this._gl.FLOAT,!1,0,0)),ct.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglColorBuffer),this.enableAttribute(ct.color),this._gl.vertexAttribPointer(ct.color,3,this._gl.FLOAT,!1,0,0)),ct.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglNormalBuffer),this.enableAttribute(ct.normal),this._gl.vertexAttribPointer(ct.normal,3,this._gl.FLOAT,!1,0,0)),ct.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglOffsetBuffer),this.enableAttribute(ct.offset),this._gl.vertexAttribPointer(ct.offset,3,this._gl.FLOAT,!1,0,0)),ct.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglRadiusBuffer),this.enableAttribute(ct.radius),this._gl.vertexAttribPointer(ct.radius,1,this._gl.FLOAT,!1,0,0)));var Ct,Et;if(at instanceof ut.Mesh){if(lt.shaderID==="instanced"){var Mt=lt.sphere.geometryGroups[0];xt&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Mt.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Mt.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,et.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,Mt.faceArray,this._gl.STATIC_DRAW)),Ct=Mt.faceidx,this._extInstanced.vertexAttribDivisorANGLE(ct.offset,1),this._extInstanced.vertexAttribDivisorANGLE(ct.radius,1),this._extInstanced.vertexAttribDivisorANGLE(ct.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,Ct,this._gl.UNSIGNED_SHORT,0,et.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(ct.offset,0),this._extInstanced.vertexAttribDivisorANGLE(ct.radius,0),this._extInstanced.vertexAttribDivisorANGLE(ct.color,0)}else lt.wireframe?(Et=et.lineidx,this.setLineWidth(lt.wireframeLinewidth),xt&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,et.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,Et,this._gl.UNSIGNED_SHORT,0)):(Ct=et.faceidx,xt&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,et.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,Ct,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=Ct,this.info.render.faces+=Ct/3}else at instanceof ut.Line&&(Et=et.vertices,this.setLineWidth(lt.linewidth),this._gl.drawArrays(this._gl.LINES,0,Et),this.info.render.calls++)}}}clearShading(){this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}setShading(_e,it,st){let lt=_e.__lights,et=_e.fog,at=[];for(let xt=0,dt=_e.__webglObjects.length;xt<dt;xt++){let _t=_e.__webglObjects[xt];_t.render&&_t[st]&&at.push(_t)}if(at.length==0)return;this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,null,0),this.renderObjects(_e.__webglObjects,!0,st+"Depth",it,lt,et,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._scratchTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._AOshader),this._currentProgram=this._AOshader,this.setDepthTest(-1),this.setDepthWrite(-1);let ft=this._AOshader.uniforms;this._gl.uniform1f(ft.total_strength,this._AOstrength),this._gl.uniform1f(ft.radius,this._AOradius),this._fullProjModelMatrix=new pt.Matrix4,this._fullProjModelMatrixInv=new pt.Matrix4;let ct=at[0].object;this._fullProjModelMatrix.multiplyMatrices(it.projectionMatrix,ct._modelViewMatrix),this._fullProjModelMatrixInv.getInverse(this._fullProjModelMatrix),this._gl.uniformMatrix4fv(ft.projectionMatrix,!1,this._fullProjModelMatrix.elements),this._gl.uniformMatrix4fv(ft.projinv,!1,this._fullProjModelMatrixInv.elements),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._aovertexattribpos),this._gl.vertexAttribPointer(this._aovertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._blurshader),this._currentProgram=this._blurshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._blurvertexattribpos),this._gl.vertexAttribPointer(this._blurvertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}render(_e,it){if(!(it instanceof a.Camera)){console.error("Renderer.render: camera is not an instance of Camera.");return}var st,lt,et,at,ft,ct=_e.__lights,xt=_e.fog;if(this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&_e.updateMatrixWorld(),it.parent===void 0&&it.updateMatrixWorld(),it.matrixWorldInverse.getInverse(it.matrixWorld),this.isLost())return;this.autoUpdateObjects&&this.initWebGLObjects(_e),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(!0,!0,!0),ft=_e.__webglObjects;let dt=!1,_t=this._AOEnabled;for(st=0,lt=ft.length;st<lt;st++)et=ft[st],at=et.object,et.render=!1,at.visible&&(this.setupMatrices(at,it),this.unrollBufferMaterial(et),et.render=!0,et.volumetric&&(dt=!0),et.hasAO&&(_t=!0));if(this.setBlending(!1),_t&&this.setShading(_e,it,"opaque"),this.renderObjects(_e.__webglObjects,!0,"opaque",it,ct,xt,!1),_t&&this.clearShading(),this.renderSprites(_e,it,!1),this.renderObjects(_e.__webglObjects,!0,"transparentDepth",it,ct,xt,!0),this.renderObjects(_e.__webglObjects,!1,"transparent",it,ct,xt,!0),dt&&this._fb&&(this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,null,0),this.renderObjects(_e.__webglObjects,!1,"volumetric",it,ct,xt,!0)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(_e,it,!0),this._bitmap){const Ct=this._offscreen.transferToImageBitmap();this._bitmap.transferFromImageBitmap(Ct)}}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let _e=this._viewportWidth,it=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,_e,it),this._gl.viewport(0,0,_e,it),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,_e,it,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,_e,it,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._shadingTexture&&(this._gl.deleteTexture(this._shadingTexture),this._shadingTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,_e,it,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.deleteTexture(this._scratchTexture),this._scratchTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,_e,it,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE)),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.clearDepth(1),this._gl.clear(this._gl.DEPTH_BUFFER_BIT),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let _e=this._viewportWidth,it=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,_e,it),this._gl.viewport(0,0,_e,it),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._shadingTexture=this._gl.createTexture(),this._scratchTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var st=this._antialias?mt.ShaderLib.screenaa:mt.ShaderLib.screen;this._screenshader=this.buildProgram(st.fragmentShader,st.vertexShader,st.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition");var lt=[1,1,-1,1,-1,-1,-1,-1,1,-1,1,1];this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(lt),this._gl.STATIC_DRAW);let et=mt.ShaderLib.ssao;this._AOshader=this.buildProgram(et.fragmentShader,et.vertexShader,et.uniforms,{}),this._aovertexattribpos=this._gl.getAttribLocation(this._AOshader,"vertexPosition");let at=mt.ShaderLib.blur;this._blurshader=this.buildProgram(at.fragmentShader,at.vertexShader,at.uniforms,{}),this._blurvertexattribpos=this._gl.getAttribLocation(this._blurshader,"vertexPosition")}renderFrameBuffertoScreen(){this.isWebGL1()||this._fb===null||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(_e){if(_e.__webglObjects||(_e.__webglObjects=[],_e.__webglObjectsImmediate=[],_e.__webglSprites=[],_e.__webglFlares=[]),_e.__objectsAdded.length){for(;_e.__objectsAdded.length;)this.addObject(_e.__objectsAdded[0],_e),_e.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;_e.__objectsRemoved.length;)this.removeObject(_e.__objectsRemoved[0],_e),_e.__objectsRemoved.splice(0,1);for(var it=0,st=_e.__webglObjects.length;it<st;it++)this.updateObject(_e.__webglObjects[it].object)}getYRatio(){return this.rows!==void 0&&this.row!==void 0?this.rows:1}getXRatio(){return this.cols!==void 0&&this.col!==void 0?this.cols:1}getAspect(_e,it){(_e==null||it==null)&&(_e=this._canvas.width,it=this._canvas.height);var st=_e/it;if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var lt=_e/this.cols,et=it/this.rows;st=lt/et}return st}setTexture(_e,it,st){if(_e.needsUpdate){_e.__webglInit||(_e.__webglInit=!0,_e.addEventListener("dispose",this.onTextureDispose.bind(this)),_e.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+it);var lt=st?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(lt,_e.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,_e.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,_e.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,_e.unpackAlignment);var et=this.paramToGL(_e.format),at=this.paramToGL(_e.type);if(st)this.setTextureParameters(this._gl.TEXTURE_3D,_e),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,_e.image.size.z,_e.image.size.y,_e.image.size.x,0,this._gl.RED,this._gl.FLOAT,_e.image.data);else{var ft=_e.image,ct=ft.width,xt=ft.height;typeof ct>"u"&&(ct=ft.length,et==this._gl.RGBA&&(ct/=4),xt=1),this.setTextureParameters(this._gl.TEXTURE_2D,_e),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,et,et,at,_e.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,et,ct,xt,0,et,at,_e.image)}_e.needsUpdate=!1,_e.onUpdate&&_e.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+it),st?this._gl.bindTexture(this._gl.TEXTURE_3D,_e.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,_e.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(_e){this._enabledAttributes[_e]||(this._gl.enableVertexAttribArray(_e),this._enabledAttributes[_e]=!0)}disableAttributes(){for(let _e in this._enabledAttributes)this._enabledAttributes[_e]&&(this._gl.disableVertexAttribArray(_e),this._enabledAttributes[_e]=!1)}setPolygonOffset(_e,it,st){this._oldPolygonOffset!==_e&&(_e?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(_e){_e!==this._oldLineWidth&&(this._gl.lineWidth(_e),this._oldLineWidth=_e)}deallocateGeometry(_e){if(_e.__webglInit=void 0,_e.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(_e.__webglVertexBuffer),_e.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(_e.__webglColorBuffer),_e.geometryGroups!==void 0)for(var it=0,st=_e.groups;it<st;it++){var lt=_e.geometryGroups[it];lt.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(lt.__webglVertexBuffer),lt.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(lt.__webglColorBuffer),lt.__webglNormalBuffer!==void 0&&this._gl.deleteBuffer(lt.__webglNormalBuffer),lt.__webglFaceBuffer!==void 0&&this._gl.deleteBuffer(lt.__webglFaceBuffer),lt.__webglLineBuffer!==void 0&&this._gl.deleteBuffer(lt.__webglLineBuffer)}}deallocateMaterial(_e){var it=_e.program;if(it!==void 0){_e.program=void 0;var st,lt,et,at=!1;for(st=0,lt=this._programs.length;st<lt;st++)if(et=this._programs[st],et.program===it){et.usedTimes--,et.usedTimes===0&&(at=!0);break}if(at===!0){var ft=[];for(st=0,lt=this._programs.length;st<lt;st++)et=this._programs[st],et.program!==it&&ft.push(et);this._programs=ft,this._gl.deleteProgram(it),this.info.memory.programs--}}}deallocateTexture(_e){if(_e.image&&_e.image.__webglTextureCube)this._gl.deleteTexture(_e.image.__webglTextureCube);else{if(!_e.__webglInit)return;_e.__webglInit=!1,this._gl.deleteTexture(_e.__webglTexture)}}onGeometryDispose(_e){var it=_e.target;it.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(it),this.info.memory.geometries--}onTextureDispose(_e){var it=_e.target;it.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(it),this.info.memory.textures--}onMaterialDispose(_e){var it=_e.target;it.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(it)}getShader(_e,it){var st;return!this.isWebGL1()&&!it.startsWith("#version")&&(it=it.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),_e=="fragment"?it=it.replace(/varying/g,"in"):it=it.replace(/varying/g,"out"),it=it.replace(/attribute/g,"in"),it=it.replace(/texture2D/g,"texture"),it=it.replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;"),it=it.replace(/gl_FragColor/g,"glFragColor"),it=`#version 300 es
`+it),_e==="fragment"?st=this._gl.createShader(this._gl.FRAGMENT_SHADER):_e==="vertex"&&(st=this._gl.createShader(this._gl.VERTEX_SHADER)),st==null?null:(this._gl.shaderSource(st,it),this._gl.compileShader(st),this._gl.getShaderParameter(st,this._gl.COMPILE_STATUS)?st:(console.error(this._gl.getShaderInfoLog(st)),console.error("could not initialize shader"),null))}buildProgram(_e,it,st,lt){var et,at,ft,ct,xt=[];xt.push(_e),xt.push(it);for(et in lt)xt.push(et),xt.push(lt[et]);for(ct=xt.join(),et=0,at=this._programs.length;et<at;et++){var dt=this._programs[et];if(dt.code===ct)return dt.usedTimes++,dt.program}if(this.isWebGL1()&&lt.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");if(ft=this._gl.createProgram(),ft==null)return null;var _t=this._precision,Ct="precision "+_t+" float;",Et=[lt.volumetric?"#version 300 es":"",Ct].join(`
`),Mt=[lt.volumetric?"#version 300 es":"",lt.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",lt.shaded?"#define SHADED 1":"",lt.wireframe?"#define WIREFRAME 1":"",Ct].join(`
`),St=this.getShader("fragment",Mt+_e),Ot=this.getShader("vertex",Et+it);Ot!=null&&this._gl.attachShader(ft,Ot),St!=null&&this._gl.attachShader(ft,St),this._gl.linkProgram(ft),this._gl.getProgramParameter(ft,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),ft.uniforms={},ft.attributes={};var At,wt,Pt;At=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","vWidth","vHeight"];for(wt in st)At.push(wt);for(Pt=0;Pt<At.length;Pt++){var Lt=At[Pt];ft.uniforms[Lt]=this._gl.getUniformLocation(ft,Lt)}for(At=["position","normal","color","lineDistance","offset","radius"],Pt=0;Pt<At.length;Pt++){var Rt=At[Pt];ft.attributes[Rt]=this._gl.getAttribLocation(ft,Rt)}return ft.id=this._programs_counter++,this._programs.push({program:ft,code:ct,usedTimes:1}),this.info.memory.programs=this._programs.length,ft}setProgram(_e,it,st,lt,et,at){if(lt.needsUpdate&&(lt.program&&this.deallocateMaterial(lt),this.initMaterial(lt,it,st,et),lt.needsUpdate=!1),lt.program==null)return null;var ft=!1,ct=lt.program,xt=ct.uniforms,dt=lt.uniforms;if(ct!=this._currentProgram&&(this._gl.useProgram(ct),this._currentProgram=ct,ft=!0),lt.id!=this._currentMaterialId&&(this._currentMaterialId=lt.id,ft=!0),_e!=this._currentCamera&&(this._currentCamera=_e,ft=!0),xt.projectionMatrix&&this._gl.uniformMatrix4fv(xt.projectionMatrix,!1,_e.projectionMatrix.elements),xt.modelViewMatrix&&this._gl.uniformMatrix4fv(xt.modelViewMatrix,!1,et._modelViewMatrix.elements),xt.normalMatrix&&this._gl.uniformMatrix3fv(xt.normalMatrix,!1,et._normalMatrix.elements),xt.projinv&&(this._projInverse.getInverse(_e.projectionMatrix),this._gl.uniformMatrix4fv(xt.projinv,!1,this._projInverse.elements)),xt.viewMatrix&&this._gl.uniformMatrix4fv(xt.viewMatrix,!1,_e.matrixWorldInverse.elements),xt.vWidth&&this._gl.uniform1f(xt.vWidth,this._viewportWidth),xt.vHeight&&this._gl.uniform1f(xt.vHeight,this._viewportHeight),ft){if(dt.fogColor.value=st.color,dt.fogNear.value=st.near,dt.fogFar.value=st.far,lt.shaderID.startsWith("lambert")||lt.shaderID==="instanced"||lt.shaderID.endsWith("imposter"))this._lightsNeedUpdate&&(this.setupLights(ct,it),this._lightsNeedUpdate=!1),dt.directionalLightColor.value=this._lights.directional.colors,dt.directionalLightDirection.value=this._lights.directional.positions;else if(lt.shaderID.endsWith("outline"))dt.outlineColor.value=lt.outlineColor,dt.outlineWidth.value=lt.outlineWidth,dt.outlinePushback.value=lt.outlinePushback,dt.outlineMaxPixels.value=lt.outlineMaxPixels*this.devicePixelRatio;else if(lt.shaderID==="volumetric"){et._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(et._modelViewMatrix),this._projInverse.getInverse(_e.projectionMatrix),this._textureMatrix.multiplyMatrices(et.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(xt.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(xt.projinv,!1,this._projInverse.elements);let _t=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);dt.step.value=et.material.unit*_t,dt.maxdepth.value=et.material.maxdepth*_t,dt.transfermax.value=et.material.transfermax,dt.transfermin.value=et.material.transfermin,dt.subsamples.value=et.material.subsamples,at.setTexture(et.material.transferfn,4,!1),at.setTexture(et.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}dt.opacity.value=lt.opacity,this.loadMaterialUniforms(xt,dt)}return dt.shading&&(dt.shading.value==3?(this._gl.activeTexture(this._gl.TEXTURE0+this.SHADE_TEXTURE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture)):console.error("Invalid shading textures.")),ct}loadMaterialUniforms(_e,it){var st,lt,et,at;for(st in it)_e[st]&&(lt=it[st].type,et=it[st].value,at=_e[st],lt==="f"?this._gl.uniform1f(at,et):lt==="i"?this._gl.uniform1i(at,et):lt==="fv"?this._gl.uniform3fv(at,et):lt==="c"?this._gl.uniform3f(at,et.r,et.g,et.b):lt==="f4"&&this._gl.uniform4f(at,et[0],et[1],et[2],et[3]))}addObject(_e,it){var st,lt,et,at;if(!_e.__webglInit&&(_e.__webglInit=!0,_e._modelViewMatrix=new pt.Matrix4,_e._normalMatrix=new pt.Matrix3,_e.geometry!==void 0&&_e.geometry.__webglInit===void 0&&(_e.geometry.__webglInit=!0,_e.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),_e instanceof ut.Mesh||_e instanceof ut.Line))for(et=_e.geometry,st=0,lt=et.geometryGroups.length;st<lt;st++)at=et.geometryGroups[st],at.id=this._geometryGroupCounter++,at.__webglVertexBuffer||(_e instanceof ut.Mesh?(this.createMeshBuffers(at),et.elementsNeedUpdate=!0,et.normalsNeedUpdate=!0):_e instanceof ut.Line&&this.createLineBuffers(at),et.verticesNeedUpdate=!0,et.colorsNeedUpdate=!0);if(!_e.__webglActive){if(_e instanceof ut.Mesh||_e instanceof ut.Line)for(et=_e.geometry,st=0,lt=et.geometryGroups.length;st<lt;st++)at=et.geometryGroups[st],this.addBuffer(it.__webglObjects,at,_e);else _e instanceof ut.Sprite&&it.__webglSprites.push(_e);_e.__webglActive=!0}}updateObject(_e){var it=_e.geometry,st;if(_e instanceof ut.Mesh||_e instanceof ut.Line){for(var lt=0,et=it.geometryGroups.length;lt<et;lt++)st=it.geometryGroups[lt],(it.verticesNeedUpdate||it.elementsNeedUpdate||it.colorsNeedUpdate||it.normalsNeedUpdate)&&this.setBuffers(st,this._gl.STATIC_DRAW);it.verticesNeedUpdate=!1,it.elementsNeedUpdate=!1,it.normalsNeedUpdate=!1,it.colorsNeedUpdate=!1,it.buffersNeedUpdate=!1}}removeObject(_e,it){_e instanceof ut.Mesh||_e instanceof ut.Line?this.removeInstances(it.__webglObjects,_e):_e instanceof ut.Sprite&&this.removeInstancesDirect(it.__webglSprites,_e),_e.__webglActive=!1}removeInstances(_e,it){for(var st=_e.length-1;st>=0;--st)_e[st].object===it&&_e.splice(st,1)}removeInstancesDirect(_e,it){for(var st=_e.length-1;st>=0;--st)_e[st]===it&&_e.splice(st,1)}unrollBufferMaterial(_e){var it=_e.object,st=it.material;if(st.volumetric)_e.opaque=null,_e.transparent=null,_e.volumetric=st;else if(st.transparent){if(_e.opaque=null,_e.volumetric=null,_e.transparent=st,!st.wireframe){let lt=st.clone();lt.opacity=0,_e.transparentDepth=lt}}else{if(_e.opaque=st,_e.transparent=null,_e.volumetric=null,!st.wireframe){let lt=st.clone();lt.opacity=0,_e.opaqueDepth=lt}st.hasAO&&(_e.hasAO=!0),(this._AOEnabled||_e.hasAO)&&(_e.opaqueShaded=st.clone(),_e.opaqueShaded.shaded=!0)}}setBuffers(_e,it){var st=_e.vertexArray,lt=_e.colorArray;if(_e.__webglOffsetBuffer!==void 0?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_e.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,st,it)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_e.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,st,it)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_e.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,lt,it),_e.normalArray&&_e.__webglNormalBuffer!==void 0){var et=_e.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_e.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,et,it)}if(_e.radiusArray&&_e.__webglRadiusBuffer!==void 0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_e.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,_e.radiusArray,it)),_e.faceArray&&_e.__webglFaceBuffer!==void 0){var at=_e.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,_e.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,at,it)}if(_e.lineArray&&_e.__webglLineBuffer!==void 0){var ft=_e.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,_e.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,ft,it)}}createMeshBuffers(_e){_e.radiusArray&&(_e.__webglRadiusBuffer=this._gl.createBuffer()),_e.useOffset&&(_e.__webglOffsetBuffer=this._gl.createBuffer()),_e.__webglVertexBuffer=this._gl.createBuffer(),_e.__webglNormalBuffer=this._gl.createBuffer(),_e.__webglColorBuffer=this._gl.createBuffer(),_e.__webglFaceBuffer=this._gl.createBuffer(),_e.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(_e){_e.__webglVertexBuffer=this._gl.createBuffer(),_e.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(_e,it,st){_e.push({buffer:it,object:st,opaque:null,transparent:null})}setupMatrices(_e,it){_e._modelViewMatrix.multiplyMatrices(it.matrixWorldInverse,_e.matrixWorld),_e._normalMatrix.getInverse(_e._modelViewMatrix),_e._normalMatrix.transpose()}filterFallback(_e){return this._gl.LINEAR}setTextureParameters(_e,it){_e==this._gl.TEXTURE_2D?(this._gl.texParameteri(_e,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(_e,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(_e,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(it.magFilter)),this._gl.texParameteri(_e,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(it.minFilter))):(this._gl.texParameteri(_e,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(_e,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(_e,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(_e,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(_e,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(_e,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(_e,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(_e){return _e===$.UnsignedByteType?this._gl.UNSIGNED_BYTE:_e===$.RGBAFormat?this._gl.RGBA:_e===$.NearestFilter?this._gl.NEAREST:0}setupLights(_e,it){var st,lt,et,at=0,ft=0,ct=0,xt,dt,_t=this._lights,Ct=_t.directional.colors,Et=_t.directional.positions,Mt=0,St=0;for(st=0,lt=it.length;st<lt;st++)if(et=it[st],xt=et.color,dt=et.intensity,et instanceof nt.Light){if(this._direction.getPositionFromMatrix(et.matrixWorld),this._vector3.getPositionFromMatrix(et.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),this._direction.x===0&&this._direction.y===0&&this._direction.z===0)continue;Et[St]=this._direction.x,Et[St+1]=this._direction.y,Et[St+2]=this._direction.z,Ct[St]=xt.r*dt,Ct[St+1]=xt.g*dt,Ct[St+2]=xt.b*dt,St+=3,Mt++}_t.ambient[0]=at,_t.ambient[1]=ft,_t.ambient[2]=ct,_t.directional.length=Mt}initGL(){try{if(OffscreenCanvas&&!(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null))(gt==null||gt.isContextLost())&&(ht=new OffscreenCanvas(this._canvas.width,this._canvas.height),gt=ht.getContext("webgl2",{alpha:!0,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})),this._offscreen=ht,this._gl=gt,this._bitmap=this._canvas.getContext("bitmaprenderer",{alpha:!0});else if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context.";var _e=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(_e[6])}catch(it){console.error(it)}}isWebGL1(){return this._webglversion==1}setDefaultGLState(){this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(_e,it,st,lt,et,at,ft){var ct,xt,dt,_t,Ct,Et,Mt;it?(Ct=_e.length-1,Et=-1,Mt=-1):(Ct=0,Et=_e.length,Mt=1);for(var St=Ct;St!==Et;St+=Mt)if(ct=_e[St],ct.render){if(xt=ct.object,dt=ct.buffer,_t=ct[st],(ct.hasAO||this._AOEnabled)&&ct[st+"Shaded"]&&(_t=ct[st+"Shaded"]),!_t)continue;ft&&this.setBlending(!0),this.setDepthTest(_t.depthTest),this.setDepthWrite(_t.depthWrite),this.setPolygonOffset(_t.polygonOffset,_t.polygonOffsetFactor,_t.polygonOffsetUnits);var Ot=xt._modelViewMatrix.isReflected();if(this.setMaterialFaces(_t,Ot),this.renderBuffer(lt,et,at,_t,dt,xt),(this._outlineEnabled||_t.outline)&&!_t.wireframe&&_t.shaderID!=="basic"&&_t.opacity!==0){let At=this._outlineMaterial;_t.shaderID=="sphereimposter"?At=this._outlineSphereImposterMaterial:_t.shaderID=="stickimposter"&&(At=this._outlineStickImposterMaterial),this.renderBuffer(lt,et,at,At,dt,xt)}}}renderSprites(_e,it,st){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(_e,it,this._currentWidth,this._currentHeight,st),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},"./src/WebGL/SpritePlugin.ts":(i,s,o)=>{o.r(s),o.d(s,{SpritePlugin:()=>_});var a=o("./src/WebGL/shaders/index.ts");class _{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init(tt){this.gl=tt.context,this.renderer=tt,this.precision=tt.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var ot=0;this.sprite.vertices[ot++]=-1,this.sprite.vertices[ot++]=-1,this.sprite.vertices[ot++]=0,this.sprite.vertices[ot++]=0,this.sprite.vertices[ot++]=1,this.sprite.vertices[ot++]=-1,this.sprite.vertices[ot++]=1,this.sprite.vertices[ot++]=0,this.sprite.vertices[ot++]=1,this.sprite.vertices[ot++]=1,this.sprite.vertices[ot++]=1,this.sprite.vertices[ot++]=1,this.sprite.vertices[ot++]=-1,this.sprite.vertices[ot++]=1,this.sprite.vertices[ot++]=0,this.sprite.vertices[ot++]=1,ot=0,this.sprite.faces[ot++]=0,this.sprite.faces[ot++]=1,this.sprite.faces[ot++]=2,this.sprite.faces[ot++]=0,this.sprite.faces[ot++]=2,this.sprite.faces[ot++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(a.ShaderLib.sprite,this.precision||1),this.sprite.attributes={};const pt={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),pt.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),pt.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),pt.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),pt.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),pt.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),pt.color=this.gl.getUniformLocation(this.sprite.program,"color"),pt.map=this.gl.getUniformLocation(this.sprite.program,"map"),pt.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),pt.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),pt.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),pt.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),pt.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),pt.fogType=this.gl.getUniformLocation(this.sprite.program,"fogType"),pt.fogDensity=this.gl.getUniformLocation(this.sprite.program,"fogDensity"),pt.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),pt.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),pt.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),pt.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=pt}render(tt,ot,pt,ut,mt){var vt,ht,gt,rt,j,_e,it,st,lt,et;if(!this.gl)throw new Error("WebGLRenderer not initialized");let at=[];(vt=tt==null?void 0:tt.__webglSprites)===null||vt===void 0||vt.forEach($t=>{(mt&&$t.material.depthTest==!1||!mt&&$t.material.depthTest)&&at.push($t)});let ft=at.length;if(!ft)return;const ct=this.sprite.attributes,xt=this.sprite.uniforms;if(!xt)throw new Error("Uniforms not defined");var dt=pt*.5,_t=ut*.5;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(ct.position),this.gl.enableVertexAttribArray(ct.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(ct.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(ct.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(xt.projectionMatrix,!1,ot.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(xt.map,0);var Ct=0,Et=0,Mt=tt.fog;Mt?(this.gl.uniform3f(xt.fogColor,Mt.color.r,Mt.color.g,Mt.color.b),this.gl.uniform1f(xt.fogNear,Mt.near),this.gl.uniform1f(xt.fogFar,Mt.far),this.gl.uniform1i(xt.fogType,1),Ct=1,Et=1):(this.gl.uniform1i(xt.fogType,0),Ct=0,Et=0);var St;let Ot,At,wt,Pt,Lt=[];for(St=0;St<ft;St++)Ot=at[St],At=Ot.material,At&&(At.depthTest==!1&&!mt||!Ot.visible||At.opacity===0||(At.useScreenCoordinates?Ot.z=-Ot.position.z:(Ot._modelViewMatrix.multiplyMatrices(ot.matrixWorldInverse,Ot.matrixWorld),Ot.z=-Ot._modelViewMatrix.elements[14])));for(at.sort($),St=0;St<ft;St++)if(Ot=at[St],At=Ot.material,!!At&&!(!Ot.visible||At.opacity===0)&&At.map&&At.map.image&&At.map.image.width){this.gl.uniform1f((xt==null?void 0:xt.alphaTest)||null,At.alphaTest);var Rt=At.map.image.width,Dt=At.map.image.height;Lt[0]=Rt*this.renderer.devicePixelRatio/pt,Lt[1]=Dt*this.renderer.devicePixelRatio/ut,At.useScreenCoordinates===!0?(this.gl.uniform1i(xt.useScreenCoordinates,1),this.gl.uniform3f(xt.screenPosition,(Ot.position.x*this.renderer.devicePixelRatio-dt)/dt,(_t-Ot.position.y*this.renderer.devicePixelRatio)/_t,Math.max(0,Math.min(1,Ot.position.z)))):(this.gl.uniform1i(xt.useScreenCoordinates,0),this.gl.uniformMatrix4fv(xt.modelViewMatrix,!1,Ot._modelViewMatrix.elements)),tt.fog&&At.fog?Pt=Et:Pt=0,Ct!==Pt&&(this.gl.uniform1i(xt.fogType,Pt),Ct=Pt),wt=1/(At.scaleByViewport?ut:1),Lt[0]*=wt*Ot.scale.x,Lt[1]*=wt*Ot.scale.y;let $t=(ht=At==null?void 0:At.alignment)===null||ht===void 0?void 0:ht.x,jt=(gt=At==null?void 0:At.alignment)===null||gt===void 0?void 0:gt.y;At.screenOffset&&($t=($t||0)+2*At.screenOffset.x/Rt,jt=(jt||0)+2*At.screenOffset.y/Dt),this.gl.uniform2f(xt.uvScale,((rt=At==null?void 0:At.uvScale)===null||rt===void 0?void 0:rt.x)||1,((j=At==null?void 0:At.uvScale)===null||j===void 0?void 0:j.y)||1),this.gl.uniform2f(xt.uvOffset,((_e=At==null?void 0:At.uvOffset)===null||_e===void 0?void 0:_e.x)||0,((it=At==null?void 0:At.uvOffset)===null||it===void 0?void 0:it.y)||0),this.gl.uniform2f(xt.alignment,$t||0,jt||0),this.gl.uniform1f(xt.opacity,At.opacity),this.gl.uniform3f(xt.color,((st=At==null?void 0:At.color)===null||st===void 0?void 0:st.r)||0,((lt=At==null?void 0:At.color)===null||lt===void 0?void 0:lt.g)||0,((et=At==null?void 0:At.color)===null||et===void 0?void 0:et.b)||0),this.gl.uniform1f(xt.rotation,Ot.rotation),this.gl.uniform2fv(xt.scale,Lt),this.renderer.setDepthTest(At.depthTest),this.renderer.setDepthWrite(At.depthWrite),this.renderer.setTexture(At.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram(tt,ot){if(!this.gl)throw new Error("WebGL Rendering context not found");var pt=this.gl.createProgram();if(!pt)throw new Error("Error creating webgl program");var ut=this.gl.createShader(this.gl.FRAGMENT_SHADER),mt=this.gl.createShader(this.gl.VERTEX_SHADER);if(!ut)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!mt)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var vt="precision "+ot+` float;
`;if(this.gl.shaderSource(ut,vt+tt.fragmentShader),this.gl.shaderSource(mt,vt+tt.vertexShader),this.gl.compileShader(ut),this.gl.compileShader(mt),!this.gl.getShaderParameter(ut,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(mt,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: 
      ${this.gl.getShaderInfoLog(ut)} 
      ${this.gl.getShaderInfoLog(mt)}`);return this.gl.attachShader(pt,ut),this.gl.attachShader(pt,mt),this.gl.linkProgram(pt),this.gl.getProgramParameter(pt,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),pt}}function $(nt,tt){return nt.z!==tt.z?tt.z-nt.z:tt.id-nt.id}},"./src/WebGL/constants/Coloring.ts":(i,s,o)=>{o.r(s),o.d(s,{Coloring:()=>a});var a;(function(_){_[_.NoColors=0]="NoColors",_[_.FaceColors=1]="FaceColors",_[_.VertexColors=2]="VertexColors"})(a||(a={}))},"./src/WebGL/constants/Shading.ts":(i,s,o)=>{o.r(s),o.d(s,{Shading:()=>a});var a;(function(_){_[_.NoShading=0]="NoShading",_[_.FlatShading=1]="FlatShading",_[_.SmoothShading=2]="SmoothShading"})(a||(a={}))},"./src/WebGL/constants/Sides.ts":(i,s,o)=>{o.r(s),o.d(s,{BackSide:()=>_,DoubleSide:()=>$,FrontSide:()=>a});const a=0,_=1,$=2},"./src/WebGL/constants/SpriteAlignment.ts":(i,s,o)=>{o.r(s),o.d(s,{SpriteAlignment:()=>_});var a=o("./src/WebGL/math/index.ts");const _={topLeft:new a.Vector2(1,-1),topCenter:new a.Vector2(0,-1),topRight:new a.Vector2(-1,-1),centerLeft:new a.Vector2(1,0),center:new a.Vector2(0,0),centerRight:new a.Vector2(-1,0),bottomLeft:new a.Vector2(1,1),bottomCenter:new a.Vector2(0,1),bottomRight:new a.Vector2(-1,1)}},"./src/WebGL/constants/TextureConstants.ts":(i,s,o)=>{o.r(s),o.d(s,{ClampToEdgeWrapping:()=>a,FloatType:()=>ot,LinearFilter:()=>_,LinearMipMapLinearFilter:()=>nt,NearestFilter:()=>$,R32Format:()=>mt,RFormat:()=>ut,RGBAFormat:()=>pt,UnsignedByteType:()=>tt});const a=1001,_=1006,$=1007,nt=1008,tt=1009,ot=1010,pt=1021,ut=1022,mt=1023},"./src/WebGL/constants/TextureOperations.ts":(i,s,o)=>{o.r(s),o.d(s,{TextureOperations:()=>a});var a;(function(_){_[_.MultiplyOperation=0]="MultiplyOperation",_[_.MixOperation=1]="MixOperation",_[_.AddOperation=2]="AddOperation"})(a||(a={}))},"./src/WebGL/constants/index.ts":(i,s,o)=>{o.r(s),o.d(s,{BackSide:()=>_.BackSide,ClampToEdgeWrapping:()=>tt.ClampToEdgeWrapping,Coloring:()=>a.Coloring,DoubleSide:()=>_.DoubleSide,FloatType:()=>tt.FloatType,FrontSide:()=>_.FrontSide,LinearFilter:()=>tt.LinearFilter,LinearMipMapLinearFilter:()=>tt.LinearMipMapLinearFilter,NearestFilter:()=>tt.NearestFilter,R32Format:()=>tt.R32Format,RFormat:()=>tt.RFormat,RGBAFormat:()=>tt.RGBAFormat,Shading:()=>$.Shading,SpriteAlignment:()=>nt.SpriteAlignment,TextureOperations:()=>ot.TextureOperations,UnsignedByteType:()=>tt.UnsignedByteType});var a=o("./src/WebGL/constants/Coloring.ts"),_=o("./src/WebGL/constants/Sides.ts"),$=o("./src/WebGL/constants/Shading.ts"),nt=o("./src/WebGL/constants/SpriteAlignment.ts"),tt=o("./src/WebGL/constants/TextureConstants.ts"),ot=o("./src/WebGL/constants/TextureOperations.ts")},"./src/WebGL/core/EventDispatcher.ts":(i,s,o)=>{o.r(s),o.d(s,{EventDispatcher:()=>a});class a{constructor(){this.listeners={}}dispatchEvent($){var nt=this.listeners[$.type];if(nt!==void 0){$.target=this;for(var tt=0,ot=nt.length;tt<ot;tt++)nt[tt].call(this,$)}}removeEventListener($,nt){if(!nt)this.listeners[$]=[];else{var tt=this.listeners[$].indexOf(nt);tt!==-1&&this.listeners[$].splice(tt,1)}}addEventListener($,nt){this.listeners[$]===void 0&&(this.listeners[$]=[]),this.listeners[$].indexOf(nt)===-1&&this.listeners[$].push(nt)}}},"./src/WebGL/core/Geometry.ts":(i,s,o)=>{o.r(s),o.d(s,{Geometry:()=>pt,GeometryGroup:()=>ot,GeometryIDCount:()=>ut});var a=o("./src/WebGL/materials/LineBasicMaterial.ts"),_=o("./src/WebGL/core/EventDispatcher.ts"),$=o("./src/WebGL/math/index.ts"),nt=o("./src/colors.ts");const tt=65535;class ot{constructor(vt=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.atomArray=Array(),this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=vt}setColor(vt){var ht=this.vertexArray,gt=this.colorArray;if(!ht)throw new Error("vertex array not initialized");if(!gt)throw new Error("color array not initialized");let rt=nt.CC.color(vt);for(var j=0;j<ht.length;j+=3)gt[j]=rt.r,gt[j+1]=rt.g,gt[j+2]=rt.b}setColors(vt){var ht=this.vertexArray,gt=this.colorArray;if(!ht)throw new Error("vertex array not initialized");if(!gt)throw new Error("color array not initialized");if(ht.length!=gt.length){console.log("Cannot re-color geometry group due to mismatched lengths.");return}for(var rt=0;rt<ht.length;rt+=3){var j=vt(ht[rt],ht[rt+1],ht[rt+2]);j instanceof nt.Color||(j=nt.CC.color(j)),gt[rt]=j.r,gt[rt+1]=j.g,gt[rt+2]=j.b}}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var vt=new $.Vector3,ht,gt,rt,j,_e=0;_e<this.vertices;++_e)ht=_e*3,gt=this.vertexArray[ht],rt=this.vertexArray[ht+1],j=this.vertexArray[ht+2],vt.x+=gt,vt.y+=rt,vt.z+=j;return vt.divideScalar(this.vertices),vt}setNormals(){var vt=this.faceArray,ht=this.vertexArray,gt=this.normalArray;if(!(!this.vertices||!this.faceidx)){if(!vt)throw new Error("face array not initialized");if(!ht)throw new Error("vertex array not initialized");if(!gt)throw new Error("normal array not initialized");for(var rt,j,_e,it,st,lt,et,at=0;at<vt.length/3;++at)rt=vt[at*3]*3,j=vt[at*3+1]*3,_e=vt[at*3+2]*3,it=new $.Vector3(ht[rt],ht[rt+1],ht[rt+2]),st=new $.Vector3(ht[j],ht[j+1],ht[j+2]),lt=new $.Vector3(ht[_e],ht[_e+1],ht[_e+2]),it.subVectors(it,st),lt.subVectors(lt,st),lt.cross(it),et=lt,et.normalize(),gt[rt]+=et.x,gt[j]+=et.x,gt[_e]+=et.x,gt[rt+1]+=et.y,gt[j+1]+=et.y,gt[_e+1]+=et.y,gt[rt+2]+=et.z,gt[j+2]+=et.z,gt[_e+2]+=et.z}}setLineIndices(){if(this.faceidx&&!(this.lineArray&&this.lineArray.length==this.faceidx*2&&this.lineidx==this.faceidx*2)){var vt=this.faceArray,ht=this.lineArray=new Uint16Array(this.faceidx*2);if(this.lineidx=this.faceidx*2,!vt)throw new Error("face array not initialized");for(var gt=0;gt<this.faceidx/3;++gt){var rt=gt*3,j=rt*2,_e=vt[rt],it=vt[rt+1],st=vt[rt+2];ht[j]=_e,ht[j+1]=it,ht[j+2]=_e,ht[j+3]=st,ht[j+4]=it,ht[j+5]=st}}}vrml(vt,ht){var gt,rt,j,_e,it,st,lt,et,at,ft,ct,xt,dt,_t,Ct,Et,Mt,St,Ot="";if(Ot+=vt+`Shape {
`+vt+` appearance Appearance {
`+vt+`  material Material {
`+vt+"   diffuseColor "+((gt=ht==null?void 0:ht.color)===null||gt===void 0?void 0:gt.r)+" "+((rt=ht==null?void 0:ht.color)===null||rt===void 0?void 0:rt.g)+" "+((j=ht==null?void 0:ht.color)===null||j===void 0?void 0:j.b)+`
`,ht.wireframe&&this.colorArray){let wt=this.colorArray;Ot+=vt+"    emissiveColor "+wt[0]+" "+wt[1]+" "+wt[2]+`
`}ht!=null&&ht.transparent&&(Ot+=vt+"   transparency "+(1-ht.opacity)+`
`),Ot+=vt+`  }
`,Ot+=vt+` }
`;var At=vt;if(vt+=" ",ht instanceof a.LineBasicMaterial||ht.wireframe){Ot+=vt+`geometry IndexedLineSet {
`+vt+` colorPerVertex TRUE
`+vt+` coord Coordinate {
`+vt+`  point [
`;let wt,Pt,Lt;for(let Rt=0;Rt<this.vertices;++Rt){let Dt=Rt*3;wt=(_e=this.vertexArray)===null||_e===void 0?void 0:_e[Dt],Pt=(it=this.vertexArray)===null||it===void 0?void 0:it[Dt+1],Lt=(st=this.vertexArray)===null||st===void 0?void 0:st[Dt+2],Ot+=vt+"   "+wt+" "+Pt+" "+Lt+`,
`}if(Ot+=vt+`  ]
`,Ot+=vt+` }
`,this.colorArray&&!ht.wireframe){Ot+=vt+` color Color {
`+vt+`  color [
`;for(let Rt=0;Rt<this.vertices;++Rt){let Dt=Rt*3;wt=this.colorArray[Dt],Pt=this.colorArray[Dt+1],Lt=this.colorArray[Dt+2],Ot+=vt+"   "+wt+" "+Pt+" "+Lt+`,
`}Ot+=vt+`  ]
`,Ot+=vt+` }
`}if(Ot+=vt+` coordIndex [
`,ht.wireframe&&this.faceArray)for(let Rt=0;Rt<this.faceidx;Rt+=3)wt=(lt=this.faceArray)===null||lt===void 0?void 0:lt[Rt],Pt=(et=this.faceArray)===null||et===void 0?void 0:et[Rt+1],Lt=(at=this.faceArray)===null||at===void 0?void 0:at[Rt+2],Ot+=vt+"  "+wt+", "+Pt+", "+Lt+`, -1,
`;else for(let Rt=0;Rt<this.vertices-1;Rt+=2)Ot+=vt+"  "+Rt+", "+(Rt+1)+`, -1,
`;Ot+=vt+` ]
`,Ot+=vt+`}
`}else{Ot+=vt+`geometry IndexedFaceSet {
`+vt+` colorPerVertex TRUE
`+vt+` normalPerVertex TRUE
`+vt+` solid FALSE
`,Ot+=vt+` coord Coordinate {
`+vt+`  point [
`;let wt,Pt,Lt;for(let Rt=0;Rt<this.vertices;++Rt){let Dt=Rt*3;wt=(ft=this.vertexArray)===null||ft===void 0?void 0:ft[Dt],Pt=(ct=this.vertexArray)===null||ct===void 0?void 0:ct[Dt+1],Lt=(xt=this.vertexArray)===null||xt===void 0?void 0:xt[Dt+2],Ot+=vt+"   "+wt+" "+Pt+" "+Lt+`,
`}Ot+=vt+`  ]
`,Ot+=vt+` }
`,Ot+=vt+` normal Normal {
`+vt+`  vector [
`;for(let Rt=0;Rt<this.vertices;++Rt){let Dt=Rt*3;wt=(dt=this.normalArray)===null||dt===void 0?void 0:dt[Dt],Pt=(_t=this.normalArray)===null||_t===void 0?void 0:_t[Dt+1],Lt=(Ct=this.normalArray)===null||Ct===void 0?void 0:Ct[Dt+2],Ot+=vt+"   "+wt+" "+Pt+" "+Lt+`,
`}if(Ot+=vt+`  ]
`,Ot+=vt+` }
`,this.colorArray){Ot+=vt+` color Color {
`+vt+`  color [
`;for(let Rt=0;Rt<this.vertices;++Rt){let Dt=Rt*3;wt=this.colorArray[Dt],Pt=this.colorArray[Dt+1],Lt=this.colorArray[Dt+2],Ot+=vt+"   "+wt+" "+Pt+" "+Lt+`,
`}Ot+=vt+`  ]
`,Ot+=vt+` }
`}Ot+=vt+` coordIndex [
`;for(let Rt=0;Rt<this.faceidx;Rt+=3)wt=(Et=this.faceArray)===null||Et===void 0?void 0:Et[Rt],Pt=(Mt=this.faceArray)===null||Mt===void 0?void 0:Mt[Rt+1],Lt=(St=this.faceArray)===null||St===void 0?void 0:St[Rt+2],Ot+=vt+"  "+wt+", "+Pt+", "+Lt+`, -1,
`;Ot+=vt+` ]
`,Ot+=vt+`}
`}return Ot+=At+"}",Ot}truncateArrayBuffers(vt=!0,ht=!1){var gt=this.vertexArray,rt=this.colorArray,j=this.normalArray,_e=this.faceArray,it=this.lineArray,st=this.radiusArray;this.vertexArray=(gt==null?void 0:gt.subarray(0,this.vertices*3))||null,this.colorArray=(rt==null?void 0:rt.subarray(0,this.vertices*3))||null,vt?(this.normalArray=(j==null?void 0:j.subarray(0,this.vertices*3))||null,this.faceArray=(_e==null?void 0:_e.subarray(0,this.faceidx))||null,this.lineidx>0?this.lineArray=(it==null?void 0:it.subarray(0,this.lineidx))||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),st&&(this.radiusArray=st.subarray(0,this.vertices)),ht&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class pt extends _.EventDispatcher{constructor(vt=!1,ht=!1,gt=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=ut++,this.mesh=vt,this.radii=ht,this.offset=gt}updateGeoGroup(vt=0){var ht,gt=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!gt||gt.vertices+vt>(((ht=gt==null?void 0:gt.vertexArray)===null||ht===void 0?void 0:ht.length)||0)/3)&&(gt=this.addGeoGroup()),gt}vrml(vt,ht){for(var gt="",rt=this.geometryGroups.length,j=0;j<rt;j++){var _e=this.geometryGroups[j];gt+=_e.vrml(vt,ht)+`,
`}return gt}addGeoGroup(){var vt=new ot(this.geometryGroups.length);return this.geometryGroups.push(vt),this.groups=this.geometryGroups.length,vt.vertexArray=new Float32Array(tt*3),vt.colorArray=new Float32Array(tt*3),this.mesh&&(vt.normalArray=new Float32Array(tt*3),vt.faceArray=new Uint16Array(tt*6),vt.lineArray=new Uint16Array(tt*6)),this.radii&&(vt.radiusArray=new Float32Array(tt)),vt.useOffset=this.offset,vt}setUpNormals(...vt){for(var ht=0;ht<this.groups;ht++){var gt=this.geometryGroups[ht];gt.setNormals(...vt)}}setColors(...vt){for(var ht=this.geometryGroups.length,gt=0;gt<ht;gt++){var rt=this.geometryGroups[gt];rt.setColors(...vt)}}setColor(...vt){for(var ht=this.geometryGroups.length,gt=0;gt<ht;gt++){var rt=this.geometryGroups[gt];rt.setColor(...vt)}}setUpWireframe(...vt){for(var ht=0;ht<this.groups;ht++){var gt=this.geometryGroups[ht];gt.setLineIndices(...vt)}}initTypedArrays(){for(var vt=0;vt<this.groups;vt++){var ht=this.geometryGroups[vt];ht.__inittedArrays!==!0&&ht.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var vt=0,ht=0;ht<this.groups;ht++)vt+=this.geometryGroups[ht].vertices;return vt}}let ut=0},"./src/WebGL/core/Object3D.ts":(i,s,o)=>{o.r(s),o.d(s,{Light:()=>ot,Object3D:()=>nt,Object3DIDCount:()=>$,Scene:()=>tt});var a=o("./src/WebGL/math/index.ts"),_=o("./src/colors.ts");let $=0;class nt{constructor(){this.id=$++,this.name="",this.children=[],this.position=new a.Vector3,this.rotation=new a.Vector3,this.matrix=new a.Matrix4,this.matrixWorld=new a.Matrix4,this.quaternion=new a.Quaternion,this.eulerOrder="XYZ",this.up=new a.Vector3(0,1,0),this.scale=new a.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(ut){this.matrix.lookAt(ut,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?console.error("Unimplemented math operation."):this.rotation instanceof a.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(ut){if(ut===this){console.error("Can't add $3Dmol.Object3D to itself");return}ut.parent=this,this.children.push(ut);for(var mt=this;mt.parent!==void 0;)mt=mt.parent;mt!==void 0&&mt instanceof tt&&mt.__addObject(ut)}remove(ut){var mt=this.children.indexOf(ut);if(mt!==-1){ut.parent=void 0,this.children.splice(mt,1);for(var vt=this;vt.parent!==void 0;)vt=vt.parent;vt!==void 0&&vt instanceof tt&&vt.__removeObject(ut)}}vrml(ut){ut||(ut=" ");var mt=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),vt=0,ht=0,gt=0;if(mt!=0){let _e=Math.sin(mt/2);vt=this.quaternion.x/_e,ht=this.quaternion.y/_e,gt=this.quaternion.z/_e}var rt=ut+`Transform {
`+ut+" center "+this.position.x+" "+this.position.y+" "+this.position.z+`
`+ut+" rotation "+vt+" "+ht+" "+gt+" "+mt+`
`+ut+` children [
`;this.geometry&&(rt+=this.geometry.vrml(ut,this.material));for(var j=0;j<this.children.length;j++)rt+=this.children[j].vrml(ut+" ")+`,
`;return rt+=` ]
`,rt+="}",rt}updateMatrix(){this.matrix.setPosition(this.position),this.useQuaternion===!1&&this.rotation instanceof a.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),(this.scale.x!==1||this.scale.y!==1||this.scale.z!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(ut){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||ut===!0)&&(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var mt=0;mt<this.children.length;mt++)this.children[mt].updateMatrixWorld(!0)}clone(ut){ut===void 0&&(ut=new nt),ut.name=this.name,ut.up.copy(this.up),ut.position.copy(this.position),ut.rotation instanceof a.Vector3&&this.rotation instanceof a.Vector3?ut.rotation.copy(this.rotation):ut.rotation=this.rotation,ut.eulerOrder=this.eulerOrder,ut.scale.copy(this.scale),ut.rotationAutoUpdate=this.rotationAutoUpdate,ut.matrix.copy(this.matrix),ut.matrixWorld.copy(this.matrixWorld),ut.quaternion.copy(this.quaternion),ut.matrixAutoUpdate=this.matrixAutoUpdate,ut.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,ut.useQuaternion=this.useQuaternion,ut.visible=this.visible;for(var mt=0;mt<this.children.length;mt++){var vt=this.children[mt];ut.add(vt.clone())}return ut}setVisible(ut){this.visible=ut;for(var mt=0;mt<this.children.length;mt++){var vt=this.children[mt];vt.setVisible(ut)}}}class tt extends nt{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(ut){if(ut instanceof ot)this.__lights.indexOf(ut)===-1&&this.__lights.push(ut),ut.target&&ut.target.parent===void 0&&this.add(ut.target);else if(this.__objects.indexOf(ut)===-1){this.__objects.push(ut),this.__objectsAdded.push(ut);var mt=this.__objectsRemoved.indexOf(ut);mt!==-1&&this.__objectsRemoved.splice(mt,1)}for(var vt=0;vt<ut.children.length;vt++)this.__addObject(ut.children[vt])}__removeObject(ut){var mt;if(ut instanceof ot)mt=this.__lights.indexOf(ut),mt!==-1&&this.__lights.splice(mt,1);else if(mt=this.__objects.indexOf(ut),mt!==-1){this.__objects.splice(mt,1),this.__objectsRemoved.push(ut);var vt=this.__objectsAdded.indexOf(ut);vt!==-1&&this.__objectsAdded.splice(mt,1)}for(var ht=0;ht<ut.children.length;ht++)this.__removeObject(ut.children[ht])}}class ot extends nt{constructor(ut,mt=1){super(),this.position=new a.Vector3(0,1,0),this.target=new nt,this.castShadow=!1,this.onlyShadow=!1,this.color=new _.Color(ut),this.intensity=mt}}},"./src/WebGL/core/Projector.ts":(i,s,o)=>{o.r(s),o.d(s,{Projector:()=>$});var a=o("./src/WebGL/math/index.ts");const _=new a.Matrix4;class ${static unprojectVector(tt,ot){return ot.projectionMatrixInverse.getInverse(ot.projectionMatrix),_.multiplyMatrices(ot.matrixWorld,ot.projectionMatrixInverse),tt.applyProjection(_)}static projectVector(tt,ot){return ot.matrixWorldInverse.getInverse(ot.matrixWorld),_.multiplyMatrices(ot.projectionMatrix,ot.matrixWorldInverse),tt.applyProjection(_)}projectVector(tt,ot){return $.projectVector(tt,ot)}unprojectVector(tt,ot){return $.unprojectVector(tt,ot)}}},"./src/WebGL/core/Raycaster.ts":(i,s,o)=>{o.r(s),o.d(s,{Raycaster:()=>tt,intersectObject:()=>_e});var a=o("./src/WebGL/math/index.ts"),_=o("./src/WebGL/shapes/index.ts");const $=(it,st)=>it.distance-st.distance,nt=new a.Matrix4;class tt{constructor(st,lt,et,at){this.precision=1e-4,this.linePrecision=.2,this.ray=new a.Ray(st,lt),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=at||0,this.far=et||1/0}set(st,lt){this.ray.set(st,lt)}setFromCamera(st,lt){lt.ortho?(this.ray.origin.set(st.x,st.y,(lt.near+lt.far)/(lt.near-lt.far)).unproject(lt),this.ray.direction.set(0,0,-1).transformDirection(lt.matrixWorld)):(this.ray.origin.setFromMatrixPosition(lt.matrixWorld),this.ray.direction.set(st.x,st.y,st.z),lt.projectionMatrixInverse.getInverse(lt.projectionMatrix),nt.multiplyMatrices(lt.matrixWorld,lt.projectionMatrixInverse),this.ray.direction.applyProjection(nt),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(st,lt){for(var et=[],at=0,ft=lt.length;at<ft;at++)_e(st,lt[at],this,et);return et.sort($),et}}const ot=it=>Math.min(Math.max(it,-1),1);var pt=new _.Sphere,ut=new _.Cylinder,mt=new _.Triangle,vt=new a.Vector3,ht=new a.Vector3,gt=new a.Vector3,rt=new a.Vector3,j=new a.Vector3;function _e(it,st,lt,et){if(j.getPositionFromMatrix(it.matrixWorld),st.intersectionShape===void 0)return et;var at=st.intersectionShape,ft=lt.linePrecision;ft*=it.matrixWorld.getMaxScaleOnAxis();var ct=ft*ft;if(st.boundingSphere!==void 0&&st.boundingSphere instanceof _.Sphere&&(pt.copy(st.boundingSphere),pt.applyMatrix4(it.matrixWorld),!lt.ray.isIntersectionSphere(pt)))return et;var xt,dt,_t,Ct,Et,Mt,St,Ot,At,wt,Pt,Lt,Rt,Dt;for(xt=0,dt=at.triangle.length;xt<dt;xt++)if(at.triangle[xt]instanceof _.Triangle){if(mt.copy(at.triangle[xt]),mt.applyMatrix4(it.matrixWorld),_t=mt.getNormal(),Ct=lt.ray.direction.dot(_t),Ct>=0||(vt.subVectors(mt.a,lt.ray.origin),St=_t.dot(vt)/Ct,St<0))continue;ht.copy(lt.ray.direction).multiplyScalar(St).add(lt.ray.origin),ht.sub(mt.a),gt.copy(mt.b).sub(mt.a),rt.copy(mt.c).sub(mt.a);var $t=gt.dot(rt),jt=gt.lengthSq(),Zt=rt.lengthSq();if(Lt=(jt*ht.dot(rt)-$t*ht.dot(gt))/(jt*Zt-$t*$t),Lt<0||Lt>1||(Pt=(ht.dot(gt)-Lt*$t)/jt,Pt<0||Pt>1||Pt+Lt>1))continue;et.push({clickable:st,distance:St})}for(xt=0,dt=at.cylinder.length;xt<dt;xt++)if(at.cylinder[xt]instanceof _.Cylinder){if(ut.copy(at.cylinder[xt]),ut.applyMatrix4(it.matrixWorld),vt.subVectors(ut.c1,lt.ray.origin),Et=vt.dot(ut.direction),Mt=vt.dot(lt.ray.direction),Ct=ot(lt.ray.direction.dot(ut.direction)),At=1-Ct*Ct,At===0)continue;Rt=(Ct*Mt-Et)/At,Dt=(Mt-Ct*Et)/At,ht.copy(ut.direction).multiplyScalar(Rt).add(ut.c1),gt.copy(lt.ray.direction).multiplyScalar(Dt).add(lt.ray.origin),Ot=rt.subVectors(ht,gt).lengthSq();var qt=ut.radius*ut.radius;if(Ot<=qt){if(wt=(Ct*Et-Mt)*(Ct*Et-Mt)-At*(vt.lengthSq()-Et*Et-qt),wt<=0?Lt=St=Math.sqrt(Ot):Lt=St=(Mt-Ct*Et-Math.sqrt(wt))/At,Pt=Ct*Lt-Et,Pt<0||Pt*Pt>ut.lengthSq()||Lt<0)continue;et.push({clickable:st,distance:St})}}for(xt=0,dt=at.line.length;xt<dt;xt+=2){ht.copy(at.line[xt]),ht.applyMatrix4(it.matrixWorld),gt.copy(at.line[xt+1]),gt.applyMatrix4(it.matrixWorld),rt.subVectors(gt,ht);var er=rt.lengthSq();rt.normalize(),vt.subVectors(ht,lt.ray.origin);var Yt=vt.dot(rt);Mt=vt.dot(lt.ray.direction),Ct=ot(lt.ray.direction.dot(rt)),At=1-Ct*Ct,At!==0&&(Rt=(Ct*Mt-Yt)/At,Dt=(Mt-Ct*Yt)/At,ht.add(rt.multiplyScalar(Rt)),gt.copy(lt.ray.direction).multiplyScalar(Dt).add(lt.ray.origin),Ot=rt.subVectors(gt,ht).lengthSq(),Ot<ct&&Rt*Rt<er&&et.push({clickable:st,distance:Dt}))}for(xt=0,dt=at.sphere.length;xt<dt;xt++)if(at.sphere[xt]instanceof _.Sphere&&(pt.copy(at.sphere[xt]),pt.applyMatrix4(it.matrixWorld),lt.ray.isIntersectionSphere(pt))){ht.subVectors(pt.center,lt.ray.origin);var Qt=ht.dot(lt.ray.direction);if(wt=Qt*Qt-(ht.lengthSq()-pt.radius*pt.radius),Qt<0)return et;wt<=0?St=Qt:St=Qt-Math.sqrt(wt),et.push({clickable:st,distance:St})}return et}},"./src/WebGL/core/Texture.ts":(i,s,o)=>{o.r(s),o.d(s,{Texture:()=>tt,TextureIdCount:()=>ot});var a=o("./src/WebGL/constants/TextureConstants.ts"),_=o("./src/WebGL/math/index.ts"),$=o("./src/WebGL/core/EventDispatcher.ts"),nt=o("./src/WebGL/core/UVMapping.ts");class tt extends $.EventDispatcher{constructor(ut,mt){super(),this.id=ot++,this.name="",this.image=ut,this.mapping=new nt.UVMapping,this.wrapS=a.ClampToEdgeWrapping,this.wrapT=a.ClampToEdgeWrapping,this.anisotropy=1,mt?(this.format=a.RFormat,this.type=a.FloatType,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=a.NearestFilter,this.minFilter=a.NearestFilter):(this.format=a.RGBAFormat,this.type=a.UnsignedByteType,this.offset=new _.Vector2(0,0),this.repeat=new _.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=a.LinearFilter,this.minFilter=a.LinearMipMapLinearFilter),this.needsUpdate=!1,this.onUpdate=null}clone(ut=new tt){return ut.image=this.image,ut.mapping=this.mapping,ut.wrapS=this.wrapS,ut.wrapT=this.wrapT,ut.magFilter=this.magFilter,ut.minFilter=this.minFilter,ut.anisotropy=this.anisotropy,ut.format=this.format,ut.type=this.type,ut.offset.copy(this.offset),ut.repeat.copy(this.repeat),ut.premultiplyAlpha=this.premultiplyAlpha,ut.flipY=this.flipY,ut.unpackAlignment=this.unpackAlignment,ut}dispose(){this.dispatchEvent({type:"dispose"})}}let ot=0},"./src/WebGL/core/UVMapping.ts":(i,s,o)=>{o.r(s),o.d(s,{UVMapping:()=>a});class a{}},"./src/WebGL/core/index.ts":(i,s,o)=>{o.r(s),o.d(s,{EventDispatcher:()=>a.EventDispatcher,Geometry:()=>_.Geometry,GeometryGroup:()=>_.GeometryGroup,GeometryIDCount:()=>_.GeometryIDCount,Light:()=>$.Light,Object3D:()=>$.Object3D,Object3DIDCount:()=>$.Object3DIDCount,Projector:()=>nt.Projector,Raycaster:()=>tt.Raycaster,Scene:()=>$.Scene,Texture:()=>ot.Texture,TextureIdCount:()=>ot.TextureIdCount,UVMapping:()=>pt.UVMapping,intersectObject:()=>tt.intersectObject});var a=o("./src/WebGL/core/EventDispatcher.ts"),_=o("./src/WebGL/core/Geometry.ts"),$=o("./src/WebGL/core/Object3D.ts"),nt=o("./src/WebGL/core/Projector.ts"),tt=o("./src/WebGL/core/Raycaster.ts"),ot=o("./src/WebGL/core/Texture.ts"),pt=o("./src/WebGL/core/UVMapping.ts")},"./src/WebGL/index.ts":(i,s,o)=>{o.r(s),o.d(s,{BackSide:()=>a.BackSide,Camera:()=>ut.Camera,ClampToEdgeWrapping:()=>a.ClampToEdgeWrapping,Coloring:()=>a.Coloring,Cylinder:()=>pt.Cylinder,DoubleSide:()=>a.DoubleSide,EventDispatcher:()=>_.EventDispatcher,FloatType:()=>a.FloatType,Fog:()=>mt.Fog,FrontSide:()=>a.FrontSide,Geometry:()=>_.Geometry,GeometryGroup:()=>_.GeometryGroup,GeometryIDCount:()=>_.GeometryIDCount,ImposterMaterial:()=>$.ImposterMaterial,InstancedMaterial:()=>$.InstancedMaterial,Light:()=>_.Light,Line:()=>tt.Line,LineBasicMaterial:()=>$.LineBasicMaterial,LineStyle:()=>tt.LineStyle,LinearFilter:()=>a.LinearFilter,LinearMipMapLinearFilter:()=>a.LinearMipMapLinearFilter,Material:()=>$.Material,MaterialIdCount:()=>$.MaterialIdCount,Matrix3:()=>nt.Matrix3,Matrix4:()=>nt.Matrix4,Mesh:()=>tt.Mesh,MeshDoubleLambertMaterial:()=>$.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>$.MeshLambertMaterial,MeshOutlineMaterial:()=>$.MeshOutlineMaterial,NearestFilter:()=>a.NearestFilter,Object3D:()=>_.Object3D,Object3DIDCount:()=>_.Object3DIDCount,Projector:()=>_.Projector,Quaternion:()=>nt.Quaternion,R32Format:()=>a.R32Format,RFormat:()=>a.RFormat,RGBAFormat:()=>a.RGBAFormat,Ray:()=>nt.Ray,Raycaster:()=>_.Raycaster,Renderer:()=>vt.Renderer,Scene:()=>_.Scene,ShaderLib:()=>ot.ShaderLib,ShaderUtils:()=>ot.ShaderUtils,Shading:()=>a.Shading,Sphere:()=>pt.Sphere,SphereImposterMaterial:()=>$.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>$.SphereImposterOutlineMaterial,Sprite:()=>tt.Sprite,SpriteAlignment:()=>a.SpriteAlignment,SpriteMaterial:()=>$.SpriteMaterial,SpritePlugin:()=>ht.SpritePlugin,StickImposterMaterial:()=>$.StickImposterMaterial,StickImposterOutlineMaterial:()=>$.StickImposterOutlineMaterial,Texture:()=>_.Texture,TextureIdCount:()=>_.TextureIdCount,TextureOperations:()=>a.TextureOperations,Triangle:()=>pt.Triangle,UVMapping:()=>_.UVMapping,UnsignedByteType:()=>a.UnsignedByteType,Vector2:()=>nt.Vector2,Vector3:()=>nt.Vector3,VolumetricMaterial:()=>$.VolumetricMaterial,basic:()=>ot.basic,clamp:()=>nt.clamp,clone:()=>ot.clone,conversionMatrix3:()=>nt.conversionMatrix3,degToRad:()=>nt.degToRad,instanced:()=>ot.instanced,intersectObject:()=>_.intersectObject,lambert:()=>ot.lambert,lambertdouble:()=>ot.lambertdouble,outline:()=>ot.outline,screen:()=>ot.screen,screenaa:()=>ot.screenaa,sphereimposter:()=>ot.sphereimposter,sphereimposteroutline:()=>ot.sphereimposteroutline,sprite:()=>ot.sprite,stickimposter:()=>ot.stickimposter,stickimposteroutline:()=>ot.stickimposteroutline,volumetric:()=>ot.volumetric});var a=o("./src/WebGL/constants/index.ts"),_=o("./src/WebGL/core/index.ts"),$=o("./src/WebGL/materials/index.ts"),nt=o("./src/WebGL/math/index.ts"),tt=o("./src/WebGL/objects/index.ts"),ot=o("./src/WebGL/shaders/index.ts"),pt=o("./src/WebGL/shapes/index.ts"),ut=o("./src/WebGL/Camera.ts"),mt=o("./src/WebGL/Fog.ts"),vt=o("./src/WebGL/Renderer.ts"),ht=o("./src/WebGL/SpritePlugin.ts")},"./src/WebGL/materials/ImposterMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{ImposterMaterial:()=>ot});var a=o("./src/WebGL/constants/Coloring.ts"),_=o("./src/WebGL/constants/Shading.ts"),$=o("./src/colors.ts"),nt=o("./src/WebGL/math/index.ts"),tt=o("./src/WebGL/materials/Material.ts");class ot extends tt.Material{constructor(ut){super(),this.color=new $.Color(16777215),this.ambient=new $.Color(1048575),this.emissive=new $.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new nt.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=_.Shading.SmoothShading,this.shaderID=null,this.vertexColors=a.Coloring.NoColors,this.skinning=!1,this.setValues(ut)}clone(ut=new ot){return super.clone.call(this,ut),ut.color.copy(this.color),ut.ambient.copy(this.ambient),ut.emissive.copy(this.emissive),ut.wrapAround=this.wrapAround,ut.wrapRGB.copy(this.wrapRGB),ut.map=this.map,ut.lightMap=this.lightMap,ut.specularMap=this.specularMap,ut.envMap=this.envMap,ut.combine=this.combine,ut.reflectivity=this.reflectivity,ut.refractionRatio=this.refractionRatio,ut.fog=this.fog,ut.shading=this.shading,ut.shaderID=this.shaderID,ut.vertexColors=this.vertexColors,ut.skinning=this.skinning,ut.morphTargets=this.morphTargets,ut.morphNormals=this.morphNormals,ut}}},"./src/WebGL/materials/InstancedMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{InstancedMaterial:()=>ot});var a=o("./src/WebGL/constants/Coloring.ts"),_=o("./src/WebGL/constants/Shading.ts"),$=o("./src/colors.ts"),nt=o("./src/WebGL/math/index.ts"),tt=o("./src/WebGL/materials/Material.ts");class ot extends tt.Material{constructor(ut){super(),this.color=new $.Color(16777215),this.ambient=new $.Color(1048575),this.emissive=new $.Color(0),this.wrapAround=!1,this.wrapRGB=new nt.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=_.Shading.SmoothShading,this.shaderID="instanced",this.vertexColors=a.Coloring.NoColors,this.skinning=!1,this.sphere=null,this.setValues(ut)}clone(ut=new ot){return super.clone.call(this,ut),ut.color.copy(this.color),ut.ambient.copy(this.ambient),ut.emissive.copy(this.emissive),ut.wrapAround=this.wrapAround,ut.wrapRGB.copy(this.wrapRGB),ut.map=this.map,ut.lightMap=this.lightMap,ut.specularMap=this.specularMap,ut.envMap=this.envMap,ut.combine=this.combine,ut.reflectivity=this.reflectivity,ut.refractionRatio=this.refractionRatio,ut.fog=this.fog,ut.shading=this.shading,ut.shaderID=this.shaderID,ut.vertexColors=this.vertexColors,ut.skinning=this.skinning,ut.morphTargets=this.morphTargets,ut.morphNormals=this.morphNormals,ut.sphere=this.sphere,ut}}},"./src/WebGL/materials/LineBasicMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{LineBasicMaterial:()=>$});var a=o("./src/colors.ts"),_=o("./src/WebGL/materials/Material.ts");class $ extends _.Material{constructor(tt){super(),this.color=new a.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(tt)}clone(tt=new $){return super.clone.call(this,tt),tt.color.copy(this.color),tt}}},"./src/WebGL/materials/Material.ts":(i,s,o)=>{o.r(s),o.d(s,{Material:()=>tt,MaterialIdCount:()=>ot});var a=o("./src/WebGL/constants/Sides.ts"),_=o("./src/WebGL/core/index.ts"),$=o("./src/WebGL/math/index.ts"),nt=o("./src/colors.ts");class tt extends _.EventDispatcher{constructor(){super(...arguments),this.id=ot++,this.name="",this.side=a.FrontSide,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1,this.wireframe=!1,this.shaded=!1}setValues(ut={}){if(ut!==void 0)for(var mt in ut){var vt=ut[mt];if(vt===void 0){console.warn("$3Dmol.Material: '"+mt+"' parameter is undefined.");continue}if(mt in this){var ht=this[mt];ht instanceof nt.Color&&vt instanceof nt.Color?ht.copy(vt):ht instanceof nt.Color?ht.set(vt):ht instanceof $.Vector3&&vt instanceof $.Vector3?ht.copy(vt):this[mt]=vt}}}clone(ut=new tt){return ut.name=this.name,ut.side=this.side,ut.opacity=this.opacity,ut.transparent=this.transparent,ut.depthTest=this.depthTest,ut.depthWrite=this.depthWrite,ut.polygonOffset=this.polygonOffset,ut.polygonOffsetFactor=this.polygonOffsetFactor,ut.polygonOffsetUnits=this.polygonOffsetUnits,ut.alphaTest=this.alphaTest,ut.overdraw=this.overdraw,ut.visible=this.visible,ut}makeShaded(ut){this.shaded=!0,this.uniforms&&(this.uniforms.shading={type:"i",value:ut},this.uniforms.vWidth={type:"f",value:1},this.uniforms.vHeight={type:"f",value:1})}dispose(){this.dispatchEvent({type:"dispose"})}}let ot=0},"./src/WebGL/materials/MeshDoubleLambertMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{MeshDoubleLambertMaterial:()=>$});var a=o("./src/WebGL/constants/Sides.ts"),_=o("./src/WebGL/materials/MeshLambertMaterial.ts");class $ extends _.MeshLambertMaterial{constructor(tt){super(tt),this.shaderID="lambertdouble",this.side=a.DoubleSide,this.outline=!1}clone(tt=new $){return super.clone.call(this,tt),tt}}},"./src/WebGL/materials/MeshLambertMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{MeshLambertMaterial:()=>ot});var a=o("./src/WebGL/constants/Coloring.ts"),_=o("./src/WebGL/constants/Shading.ts"),$=o("./src/WebGL/materials/Material.ts"),nt=o("./src/colors.ts"),tt=o("./src/WebGL/math/index.ts");class ot extends $.Material{constructor(ut){super(),this.color=new nt.Color(16777215),this.ambient=new nt.Color(1048575),this.emissive=new nt.Color(0),this.wrapAround=!1,this.wrapRGB=new tt.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=_.Shading.SmoothShading,this.shaderID="lambert",this.vertexColors=a.Coloring.NoColors,this.skinning=!1,this.setValues(ut)}clone(ut=new ot){return super.clone.call(this,ut),ut.color.copy(this.color),ut.ambient.copy(this.ambient),ut.emissive.copy(this.emissive),ut.wrapAround=this.wrapAround,ut.wrapRGB.copy(this.wrapRGB),ut.map=this.map,ut.lightMap=this.lightMap,ut.specularMap=this.specularMap,ut.envMap=this.envMap,ut.combine=this.combine,ut.reflectivity=this.reflectivity,ut.refractionRatio=this.refractionRatio,ut.fog=this.fog,ut.shading=this.shading,ut.shaderID=this.shaderID,ut.vertexColors=this.vertexColors,ut.skinning=this.skinning,ut.morphTargets=this.morphTargets,ut.morphNormals=this.morphNormals,ut}}},"./src/WebGL/materials/MeshOutlineMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{MeshOutlineMaterial:()=>$});var a=o("./src/colors.ts"),_=o("./src/WebGL/materials/Material.ts");class $ extends _.Material{constructor(tt){super(),tt=tt||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=a.CC.color(tt.color||new a.Color(0,0,0)),this.outlineWidth=tt.width||.1,this.outlinePushback=tt.pushback||1,this.outlineMaxPixels=tt.maxpixels||0}clone(tt=new $){return super.clone.call(this,tt),tt.fog=this.fog,tt.shaderID=this.shaderID,tt.wireframe=this.wireframe,tt.outlineColor=this.outlineColor,tt.outlineWidth=this.outlineWidth,tt.outlinePushback=this.outlinePushback,tt.outlineMaxPixels=this.outlineMaxPixels,tt}}},"./src/WebGL/materials/SphereImposterMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{SphereImposterMaterial:()=>_});var a=o("./src/WebGL/materials/ImposterMaterial.ts");class _ extends a.ImposterMaterial{constructor(nt){super(nt),this.shaderID="sphereimposter",this.setValues(nt)}clone(nt=new _){return super.clone.call(this,nt),nt}}},"./src/WebGL/materials/SphereImposterOutlineMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{SphereImposterOutlineMaterial:()=>$});var a=o("./src/colors.ts"),_=o("./src/WebGL/materials/ImposterMaterial.ts");class $ extends _.ImposterMaterial{constructor(tt){super(tt),tt=tt||{},this.shaderID="sphereimposteroutline",this.outlineColor=a.CC.color(tt.color||new a.Color(0,0,0)),this.outlineWidth=tt.width||.1,this.outlinePushback=tt.pushback||1,this.outlineMaxPixels=tt.maxpixels||0,this.setValues(tt)}clone(tt=new $){return super.clone.call(this,tt),tt.outlineColor=this.outlineColor,tt.outlineWidth=this.outlineWidth,tt.outlinePushback=this.outlinePushback,tt.outlineMaxPixels=this.outlineMaxPixels,tt}}},"./src/WebGL/materials/SpriteMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{SpriteMaterial:()=>ot});var a=o("./src/WebGL/constants/SpriteAlignment.ts"),_=o("./src/WebGL/core/Texture.ts"),$=o("./src/colors.ts"),nt=o("./src/WebGL/math/index.ts"),tt=o("./src/WebGL/materials/Material.ts");class ot extends tt.Material{constructor(ut){super(),this.color=new $.Color(16777215),this.map=new _.Texture,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new nt.Vector2(0,0),this.uvScale=new nt.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=a.SpriteAlignment.center.clone(),this.setValues(ut),ut=ut||{},ut.depthTest===void 0&&(this.depthTest=!this.useScreenCoordinates),ut.sizeAttenuation===void 0&&(this.sizeAttenuation=!this.useScreenCoordinates),ut.scaleByViewPort===void 0&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(ut=new ot){return super.clone.call(this,ut),ut.color.copy(this.color),ut.map=this.map,ut.useScreenCoordinates=this.useScreenCoordinates,ut.screenOffset=this.screenOffset,ut.sizeAttenuation=this.sizeAttenuation,ut.scaleByViewport=this.scaleByViewPort,ut.alignment.copy(this.alignment),ut.uvOffset.copy(this.uvOffset),ut}}},"./src/WebGL/materials/StickImposterMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{StickImposterMaterial:()=>_});var a=o("./src/WebGL/materials/ImposterMaterial.ts");class _ extends a.ImposterMaterial{constructor(nt){super(nt),this.shaderID="stickimposter",this.setValues(nt)}clone(nt=new _){return super.clone.call(this,nt),nt}}},"./src/WebGL/materials/StickImposterOutlineMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{StickImposterOutlineMaterial:()=>$});var a=o("./src/colors.ts"),_=o("./src/WebGL/materials/ImposterMaterial.ts");class $ extends _.ImposterMaterial{constructor(tt={}){super(tt),this.shaderID="stickimposteroutline",this.outlineColor=new a.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,this.outlineMaxPixels=0,tt.color&&(this.outlineColor=a.CC.color(tt.color)),tt.width&&(this.outlineWidth=tt.width),tt.pushback&&(this.outlinePushback=tt.pushback),tt.maxpixels&&(this.outlineMaxPixels=tt.maxpixels),this.setValues(tt)}clone(tt=new $){return super.clone.call(this,tt),tt.outlineColor=this.outlineColor,tt.outlineWidth=this.outlineWidth,tt.outlinePushback=this.outlinePushback,tt.outlineMaxPixels=this.outlineMaxPixels,tt}}},"./src/WebGL/materials/VolumetricMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{VolumetricMaterial:()=>nt});var a=o("./src/WebGL/constants/Sides.ts"),_=o("./src/colors.ts"),$=o("./src/WebGL/materials/Material.ts");class nt extends $.Material{constructor(ot){super(),this.transparent=!1,this.volumetric=!0,this.color=new _.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=a.FrontSide,this.setValues(ot)}clone(ot=new nt){return super.clone.call(this,ot),ot.transparent=this.transparent,ot.volumetric=this.volumetric,ot.color=this.color,ot.transferfn=this.transferfn,ot.map=this.map,ot.extent=this.extent,ot.maxdepth=this.maxdepth,ot.unit=this.unit,ot.texmatrix=this.texmatrix,ot.transfermin=this.transfermin,ot.transfermax=this.transfermax,ot.subsamples=this.subsamples,ot.shaderID=this.shaderID,ot.side=this.side,ot}}},"./src/WebGL/materials/index.ts":(i,s,o)=>{o.r(s),o.d(s,{ImposterMaterial:()=>a.ImposterMaterial,InstancedMaterial:()=>_.InstancedMaterial,LineBasicMaterial:()=>$.LineBasicMaterial,Material:()=>nt.Material,MaterialIdCount:()=>nt.MaterialIdCount,MeshDoubleLambertMaterial:()=>tt.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>ot.MeshLambertMaterial,MeshOutlineMaterial:()=>pt.MeshOutlineMaterial,SphereImposterMaterial:()=>ut.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>mt.SphereImposterOutlineMaterial,SpriteMaterial:()=>vt.SpriteMaterial,StickImposterMaterial:()=>ht.StickImposterMaterial,StickImposterOutlineMaterial:()=>gt.StickImposterOutlineMaterial,VolumetricMaterial:()=>rt.VolumetricMaterial});var a=o("./src/WebGL/materials/ImposterMaterial.ts"),_=o("./src/WebGL/materials/InstancedMaterial.ts"),$=o("./src/WebGL/materials/LineBasicMaterial.ts"),nt=o("./src/WebGL/materials/Material.ts"),tt=o("./src/WebGL/materials/MeshDoubleLambertMaterial.ts"),ot=o("./src/WebGL/materials/MeshLambertMaterial.ts"),pt=o("./src/WebGL/materials/MeshOutlineMaterial.ts"),ut=o("./src/WebGL/materials/SphereImposterMaterial.ts"),mt=o("./src/WebGL/materials/SphereImposterOutlineMaterial.ts"),vt=o("./src/WebGL/materials/SpriteMaterial.ts"),ht=o("./src/WebGL/materials/StickImposterMaterial.ts"),gt=o("./src/WebGL/materials/StickImposterOutlineMaterial.ts"),rt=o("./src/WebGL/materials/VolumetricMaterial.ts")},"./src/WebGL/math/Quaternion.ts":(i,s,o)=>{o.r(s),o.d(s,{Quaternion:()=>a});class a{constructor($,nt,tt,ot){this.x=$||0,this.y=nt||0,this.z=tt||0,this.w=ot!==void 0?ot:1}set($,nt,tt,ot){return this.x=$,this.y=nt,this.z=tt,this.w=ot,this}copy($){return this.x=$.x,this.y=$.y,this.z=$.z,this.w=$.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let $=this.length();return $===0?(this.x=0,this.y=0,this.z=0,this.w=1):($=1/$,this.x*=$,this.y*=$,this.z*=$,this.w*=$),this}multiply($){return this.multiplyQuaternions(this,$)}multiplyScalar($){return this.x*=$,this.y*=$,this.z*=$,this.w*=$,this}multiplyQuaternions($,nt){const tt=$.x,ot=$.y,pt=$.z,ut=$.w,mt=nt.x,vt=nt.y,ht=nt.z,gt=nt.w;return this.x=tt*gt+ut*mt+ot*ht-pt*vt,this.y=ot*gt+ut*vt+pt*mt-tt*ht,this.z=pt*gt+ut*ht+tt*vt-ot*mt,this.w=ut*gt-tt*mt-ot*vt-pt*ht,this}sub($){return this.x-=$.x,this.y-=$.y,this.z-=$.z,this.w-=$.w,this}clone(){return new a(this.x,this.y,this.z,this.w)}setFromEuler($){const nt=Math.cos($.x/2),tt=Math.cos($.y/2),ot=Math.cos($.z/2),pt=Math.sin($.x/2),ut=Math.sin($.y/2),mt=Math.sin($.z/2);return this.x=pt*tt*ot+nt*ut*mt,this.y=nt*ut*ot-pt*tt*mt,this.z=nt*tt*mt+pt*ut*ot,this.w=nt*tt*ot-pt*ut*mt,this}}},"./src/WebGL/math/Vector2.ts":(i,s,o)=>{o.r(s),o.d(s,{Vector2:()=>a});class a{constructor($,nt){this.x=$||0,this.y=nt||0}set($,nt){return this.x=$,this.y=nt,this}subVectors($,nt){return this.x=$.x-nt.x,this.y=$.y-nt.y,this}copy($){return this.x=$.x,this.y=$.y,this}clone(){return new a(this.x,this.y)}}},"./src/WebGL/math/index.ts":(i,s,o)=>{o.r(s),o.d(s,{Matrix3:()=>ot.Matrix3,Matrix4:()=>ot.Matrix4,Quaternion:()=>a.Quaternion,Ray:()=>ot.Ray,Vector2:()=>_.Vector2,Vector3:()=>ot.Vector3,clamp:()=>$.clamp,conversionMatrix3:()=>nt.conversionMatrix3,degToRad:()=>tt.degToRad});var a=o("./src/WebGL/math/Quaternion.ts"),_=o("./src/WebGL/math/Vector2.ts"),$=o("./src/WebGL/math/utils/clamp.ts"),nt=o("./src/WebGL/math/utils/conversionMatrix3.ts"),tt=o("./src/WebGL/math/utils/degToRad.ts"),ot=o("./src/WebGL/math/math.ts")},"./src/WebGL/math/math.ts":(i,s,o)=>{o.r(s),o.d(s,{Matrix3:()=>vt,Matrix4:()=>ut,Ray:()=>ht,Vector3:()=>mt});var a=o("./src/WebGL/math/utils/degToRad.ts"),_=o("./src/WebGL/math/utils/clamp.ts"),$,nt,tt,ot,pt;class ut{constructor(rt=1,j=0,_e=0,it=0,st=0,lt=1,et=0,at=0,ft=0,ct=0,xt=1,dt=0,_t=0,Ct=0,Et=0,Mt=1){typeof rt<"u"&&typeof rt!="number"?this.elements=new Float32Array(rt):(this.elements=new Float32Array(16),this.elements[0]=rt,this.elements[4]=j,this.elements[8]=_e,this.elements[12]=it,this.elements[1]=st,this.elements[5]=lt,this.elements[9]=et,this.elements[13]=at,this.elements[2]=ft,this.elements[6]=ct,this.elements[10]=xt,this.elements[14]=dt,this.elements[3]=_t,this.elements[7]=Ct,this.elements[11]=Et,this.elements[15]=Mt)}makeScale(rt,j,_e){throw new Error("Method not implemented.")}set(rt,j,_e,it,st,lt,et,at,ft,ct,xt,dt,_t,Ct,Et,Mt){const St=this.elements;return St[0]=rt,St[4]=j,St[8]=_e,St[12]=it,St[1]=st,St[5]=lt,St[9]=et,St[13]=at,St[2]=ft,St[6]=ct,St[10]=xt,St[14]=dt,St[3]=_t,St[7]=Ct,St[11]=Et,St[15]=Mt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(rt){const j=rt.elements;return this.set(j[0],j[4],j[8],j[12],j[1],j[5],j[9],j[13],j[2],j[6],j[10],j[14],j[3],j[7],j[11],j[15]),this}matrix3FromTopLeft(){const rt=this.elements;return new vt(rt[0],rt[4],rt[8],rt[1],rt[5],rt[9],rt[2],rt[6],rt[10])}setRotationFromEuler(rt,j){const _e=this.elements,{x:it,y:st,z:lt}=rt,et=Math.cos(it),at=Math.sin(it),ft=Math.cos(st),ct=Math.sin(st),xt=Math.cos(lt),dt=Math.sin(lt);if(j===void 0||j==="XYZ"){const _t=et*xt,Ct=et*dt,Et=at*xt,Mt=at*dt;_e[0]=ft*xt,_e[4]=-ft*dt,_e[8]=ct,_e[1]=Ct+Et*ct,_e[5]=_t-Mt*ct,_e[9]=-at*ft,_e[2]=Mt-_t*ct,_e[6]=Et+Ct*ct,_e[10]=et*ft}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${j}`);return this}setRotationFromQuaternion(rt){const j=this.elements,{x:_e,y:it,z:st,w:lt}=rt,et=_e+_e,at=it+it,ft=st+st,ct=_e*et,xt=_e*at,dt=_e*ft,_t=it*at,Ct=it*ft,Et=st*ft,Mt=lt*et,St=lt*at,Ot=lt*ft;return j[0]=1-(_t+Et),j[4]=xt-Ot,j[8]=dt+St,j[1]=xt+Ot,j[5]=1-(ct+Et),j[9]=Ct-Mt,j[2]=dt-St,j[6]=Ct+Mt,j[10]=1-(ct+_t),this}multiplyMatrices(rt,j){const _e=rt.elements,it=j.elements,st=this.elements,lt=_e[0],et=_e[4],at=_e[8],ft=_e[12],ct=_e[1],xt=_e[5],dt=_e[9],_t=_e[13],Ct=_e[2],Et=_e[6],Mt=_e[10],St=_e[14],Ot=_e[3],At=_e[7],wt=_e[11],Pt=_e[15],Lt=it[0],Rt=it[4],Dt=it[8],$t=it[12],jt=it[1],Zt=it[5],qt=it[9],er=it[13],Yt=it[2],Qt=it[6],cr=it[10],lr=it[14],gr=it[3],rr=it[7],Gt=it[11],nr=it[15];return st[0]=lt*Lt+et*jt+at*Yt+ft*gr,st[4]=lt*Rt+et*Zt+at*Qt+ft*rr,st[8]=lt*Dt+et*qt+at*cr+ft*Gt,st[12]=lt*$t+et*er+at*lr+ft*nr,st[1]=ct*Lt+xt*jt+dt*Yt+_t*gr,st[5]=ct*Rt+xt*Zt+dt*Qt+_t*rr,st[9]=ct*Dt+xt*qt+dt*cr+_t*Gt,st[13]=ct*$t+xt*er+dt*lr+_t*nr,st[2]=Ct*Lt+Et*jt+Mt*Yt+St*gr,st[6]=Ct*Rt+Et*Zt+Mt*Qt+St*rr,st[10]=Ct*Dt+Et*qt+Mt*cr+St*Gt,st[14]=Ct*$t+Et*er+Mt*lr+St*nr,st[3]=Ot*Lt+At*jt+wt*Yt+Pt*gr,st[7]=Ot*Rt+At*Zt+wt*Qt+Pt*rr,st[11]=Ot*Dt+At*qt+wt*cr+Pt*Gt,st[15]=Ot*$t+At*er+wt*lr+Pt*nr,this}multiplyScalar(rt){const j=this.elements;return j[0]*=rt,j[4]*=rt,j[8]*=rt,j[12]*=rt,j[1]*=rt,j[5]*=rt,j[9]*=rt,j[13]*=rt,j[2]*=rt,j[6]*=rt,j[10]*=rt,j[14]*=rt,j[3]*=rt,j[7]*=rt,j[11]*=rt,j[15]*=rt,this}makeTranslation(rt,j,_e){return this.set(1,0,0,rt,0,1,0,j,0,0,1,_e,0,0,0,1),this}snap(rt){const j=Math.pow(10,4),_e=this.elements;for(let it=0;it<16;it++){const st=Math.round(_e[it]);st===Math.round(_e[it]*j)/j&&(_e[it]=st)}return this}transpose(){const rt=this.elements;let j;return j=rt[1],rt[1]=rt[4],rt[4]=j,j=rt[2],rt[2]=rt[8],rt[8]=j,j=rt[6],rt[6]=rt[9],rt[9]=j,j=rt[3],rt[3]=rt[12],rt[12]=j,j=rt[7],rt[7]=rt[13],rt[13]=j,j=rt[11],rt[11]=rt[14],rt[14]=j,this}setPosition(rt){const j=this.elements;return j[12]=rt.x,j[13]=rt.y,j[14]=rt.z,this}translate(rt){const j=this.elements;return j[12]+=rt.x,j[13]+=rt.y,j[14]+=rt.z,this}getInverse(rt,j){const _e=this.elements,it=rt.elements,st=it[0],lt=it[4],et=it[8],at=it[12],ft=it[1],ct=it[5],xt=it[9],dt=it[13],_t=it[2],Ct=it[6],Et=it[10],Mt=it[14],St=it[3],Ot=it[7],At=it[11],wt=it[15];_e[0]=xt*Mt*Ot-dt*Et*Ot+dt*Ct*At-ct*Mt*At-xt*Ct*wt+ct*Et*wt,_e[4]=at*Et*Ot-et*Mt*Ot-at*Ct*At+lt*Mt*At+et*Ct*wt-lt*Et*wt,_e[8]=et*dt*Ot-at*xt*Ot+at*ct*At-lt*dt*At-et*ct*wt+lt*xt*wt,_e[12]=at*xt*Ct-et*dt*Ct-at*ct*Et+lt*dt*Et+et*ct*Mt-lt*xt*Mt,_e[1]=dt*Et*St-xt*Mt*St-dt*_t*At+ft*Mt*At+xt*_t*wt-ft*Et*wt,_e[5]=et*Mt*St-at*Et*St+at*_t*At-st*Mt*At-et*_t*wt+st*Et*wt,_e[9]=at*xt*St-et*dt*St-at*ft*At+st*dt*At+et*ft*wt-st*xt*wt,_e[13]=et*dt*_t-at*xt*_t+at*ft*Et-st*dt*Et-et*ft*Mt+st*xt*Mt,_e[2]=ct*Mt*St-dt*Ct*St+dt*_t*Ot-ft*Mt*Ot-ct*_t*wt+ft*Ct*wt,_e[6]=at*Ct*St-lt*Mt*St-at*_t*Ot+st*Mt*Ot+lt*_t*wt-st*Ct*wt,_e[10]=lt*dt*St-at*ct*St+at*ft*Ot-st*dt*Ot-lt*ft*wt+st*ct*wt,_e[14]=at*ct*_t-lt*dt*_t-at*ft*Ct+st*dt*Ct+lt*ft*Mt-st*ct*Mt,_e[3]=xt*Ct*St-ct*Et*St-xt*_t*Ot+ft*Et*Ot+ct*_t*At-ft*Ct*At,_e[7]=lt*Et*St-et*Ct*St+et*_t*Ot-st*Et*Ot-lt*_t*At+st*Ct*At,_e[11]=et*ct*St-lt*xt*St-et*ft*Ot+st*xt*Ot+lt*ft*At-st*ct*At,_e[15]=lt*xt*_t-et*ct*_t+et*ft*Ct-st*xt*Ct-lt*ft*Et+st*ct*Et;const Pt=st*_e[0]+ft*_e[4]+_t*_e[8]+St*_e[12];if(Pt===0){const Lt="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(j)throw new Error(Lt);return console.warn(Lt),this.identity(),this}return this.multiplyScalar(1/Pt),this}isReflected(){const rt=this.elements,j=rt[0],_e=rt[4],it=rt[8],st=rt[1],lt=rt[5],et=rt[9],at=rt[2],ft=rt[6],ct=rt[10];return j*lt*ct+st*ft*it+at*_e*et-at*lt*it-st*_e*ct-j*ft*et<0}scale(rt){const j=this.elements,{x:_e}=rt,{y:it}=rt,{z:st}=rt;return j[0]*=_e,j[4]*=it,j[8]*=st,j[1]*=_e,j[5]*=it,j[9]*=st,j[2]*=_e,j[6]*=it,j[10]*=st,j[3]*=_e,j[7]*=it,j[11]*=st,this}getMaxScaleOnAxis(){const rt=this.elements,j=rt[0]*rt[0]+rt[1]*rt[1]+rt[2]*rt[2],_e=rt[4]*rt[4]+rt[5]*rt[5]+rt[6]*rt[6],it=rt[8]*rt[8]+rt[9]*rt[9]+rt[10]*rt[10];return Math.sqrt(Math.max(j,Math.max(_e,it)))}makeFrustum(rt,j,_e,it,st,lt){const et=this.elements,at=2*st/(j-rt),ft=2*st/(it-_e),ct=(j+rt)/(j-rt),xt=(it+_e)/(it-_e),dt=-(lt+st)/(lt-st),_t=-2*lt*st/(lt-st);return et[0]=at,et[4]=0,et[8]=ct,et[12]=0,et[1]=0,et[5]=ft,et[9]=xt,et[13]=0,et[2]=0,et[6]=0,et[10]=dt,et[14]=_t,et[3]=0,et[7]=0,et[11]=-1,et[15]=0,this}makePerspective(rt,j,_e,it){const st=_e*Math.tan((0,a.degToRad)(rt*.5)),lt=-st,et=lt*j,at=st*j;return this.makeFrustum(et,at,lt,st,_e,it)}makeOrthographic(rt,j,_e,it,st,lt){const et=this.elements,at=1/(j-rt),ft=1/(_e-it),ct=1/(lt-st),xt=(j+rt)*at,dt=(_e+it)*ft,_t=(lt+st)*ct;return et[0]=2*at,et[4]=0,et[8]=0,et[12]=-xt,et[1]=0,et[5]=2*ft,et[9]=0,et[13]=-dt,et[2]=0,et[6]=0,et[10]=-2*ct,et[14]=-_t,et[3]=0,et[7]=0,et[11]=0,et[15]=1,this}isEqual(rt){const j=rt.elements,_e=this.elements;return _e[0]===j[0]&&_e[4]===j[4]&&_e[8]===j[8]&&_e[12]===j[12]&&_e[1]===j[1]&&_e[5]===j[5]&&_e[9]===j[9]&&_e[13]===j[13]&&_e[2]===j[2]&&_e[6]===j[6]&&_e[10]===j[10]&&_e[14]===j[14]&&_e[3]===j[3]&&_e[7]===j[7]&&_e[11]===j[11]&&_e[15]===j[15]}clone(){const rt=this.elements;return new ut(rt[0],rt[4],rt[8],rt[12],rt[1],rt[5],rt[9],rt[13],rt[2],rt[6],rt[10],rt[14],rt[3],rt[7],rt[11],rt[15])}isIdentity(){const rt=this.elements;return rt[0]===1&&rt[4]===0&&rt[8]===0&&rt[12]===0&&rt[1]===0&&rt[5]===1&&rt[9]===0&&rt[13]===0&&rt[2]===0&&rt[6]===0&&rt[10]===1&&rt[14]===0&&rt[3]===0&&rt[7]===0&&rt[11]===0&&rt[15]===1}isNearlyIdentity(rt){return this.clone().snap(rt).isIdentity()}getScale(rt){const j=this.elements;return rt=rt||new mt,tt.set(j[0],j[1],j[2]),ot.set(j[4],j[5],j[6]),pt.set(j[8],j[9],j[10]),rt.x=tt.length(),rt.y=ot.length(),rt.z=pt.length(),rt}lookAt(rt,j,_e){const it=this.elements;return pt.subVectors(rt,j).normalize(),pt.length()===0&&(pt.z=1),tt.crossVectors(_e,pt).normalize(),tt.length()===0&&(pt.x+=1e-4,tt.crossVectors(_e,pt).normalize()),ot.crossVectors(pt,tt),it[0]=tt.x,it[4]=ot.x,it[8]=pt.x,it[1]=tt.y,it[5]=ot.y,it[9]=pt.y,it[2]=tt.z,it[6]=ot.z,it[10]=pt.z,this}compose(rt,j,_e){const it=this.elements;return $.identity(),$.setRotationFromQuaternion(j),nt.makeScale(_e.x,_e.y,_e.z),this.multiplyMatrices($,nt),it[12]=rt.x,it[13]=rt.y,it[14]=rt.z,this}}$=new ut,nt=new ut;class mt{constructor(rt,j,_e){this.x=rt||0,this.y=j||0,this.z=_e||0,this.atomid=void 0}set(rt,j,_e){return this.x=rt,this.y=j,this.z=_e,this}copy(rt){return this.x=rt.x,this.y=rt.y,this.z=rt.z,this}add(rt){return this.x+=rt.x,this.y+=rt.y,this.z+=rt.z,this}addVectors(rt,j){return this.x=rt.x+j.x,this.y=rt.y+j.y,this.z=rt.z+j.z,this}multiplyVectors(rt,j){return this.x=rt.x*j.x,this.y=rt.y*j.y,this.z=rt.z*j.z,this}sub(rt){return this.x-=rt.x,this.y-=rt.y,this.z-=rt.z,this}subVectors(rt,j){return this.x=rt.x-j.x,this.y=rt.y-j.y,this.z=rt.z-j.z,this}multiplyScalar(rt){return this.x*=rt,this.y*=rt,this.z*=rt,this}divideScalar(rt){return rt!==0?(this.x/=rt,this.y/=rt,this.z/=rt):(this.x=0,this.y=0,this.z=0),this}max(rt){return this.x=Math.max(this.x,rt.x),this.y=Math.max(this.y,rt.y),this.z=Math.max(this.z,rt.z),this}min(rt){return this.x=Math.min(this.x,rt.x),this.y=Math.min(this.y,rt.y),this.z=Math.min(this.z,rt.z),this}distanceTo(rt){return Math.sqrt(this.distanceToSquared(rt))}distanceToSquared(rt){const j=this.x-rt.x,_e=this.y-rt.y,it=this.z-rt.z;return j*j+_e*_e+it*it}applyMatrix3(rt){const{x:j}=this,{y:_e}=this,{z:it}=this,st=rt.elements;return this.x=st[0]*j+st[3]*_e+st[6]*it,this.y=st[1]*j+st[4]*_e+st[7]*it,this.z=st[2]*j+st[5]*_e+st[8]*it,this}applyMatrix4(rt){const{x:j}=this,{y:_e}=this,{z:it}=this,st=rt.elements;return this.x=st[0]*j+st[4]*_e+st[8]*it+st[12],this.y=st[1]*j+st[5]*_e+st[9]*it+st[13],this.z=st[2]*j+st[6]*_e+st[10]*it+st[14],this}applyProjection(rt){const{x:j}=this,{y:_e}=this,{z:it}=this,st=rt.elements,lt=st[3]*j+st[7]*_e+st[11]*it+st[15];return this.x=(st[0]*j+st[4]*_e+st[8]*it+st[12])/lt,this.y=(st[1]*j+st[5]*_e+st[9]*it+st[13])/lt,this.z=(st[2]*j+st[6]*_e+st[10]*it+st[14])/lt,this}applyQuaternion(rt){const{x:j}=this,{y:_e}=this,{z:it}=this,st=rt.x,lt=rt.y,et=rt.z,at=rt.w,ft={};ft.x=2*(_e*et-it*lt),ft.y=2*(it*st-j*et),ft.z=2*(j*lt-_e*st);const ct={};return ct.x=ft.y*et-ft.z*lt,ct.y=ft.z*st-ft.x*et,ct.z=ft.x*lt-ft.y*st,this.x=j+at*ft.x+ct.x,this.y=_e+at*ft.y+ct.y,this.z=it+at*ft.z+ct.z,this}negate(){return this.multiplyScalar(-1)}dot(rt){return this.x*rt.x+this.y*rt.y+this.z*rt.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(rt){const{x:j}=this,{y:_e}=this,{z:it}=this;return this.x=_e*rt.z-it*rt.y,this.y=it*rt.x-j*rt.z,this.z=j*rt.y-_e*rt.x,this}crossVectors(rt,j){return this.x=rt.y*j.z-rt.z*j.y,this.y=rt.z*j.x-rt.x*j.z,this.z=rt.x*j.y-rt.y*j.x,this}equals(rt){return this.x==rt.x&&this.y==rt.y&&this.z==rt.z}getPositionFromMatrix(rt){return this.x=rt.elements[12],this.y=rt.elements[13],this.z=rt.elements[14],this}setEulerFromRotationMatrix(rt,j){const _e=rt.elements,it=_e[0],st=_e[4],lt=_e[8],et=_e[5],at=_e[9],ft=_e[6],ct=_e[10];return j===void 0||j==="XYZ"?(this.y=Math.asin((0,_.clamp)(lt,-1,1)),Math.abs(lt)<.99999?(this.x=Math.atan2(-at,ct),this.z=Math.atan2(-st,it)):(this.x=Math.atan2(ft,et),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${j}`),this}rotateAboutVector(rt,j){rt.normalize();const _e=Math.cos(j),it=Math.sin(j),st=this.clone().multiplyScalar(_e),lt=rt.clone().cross(this).multiplyScalar(it),et=rt.clone().multiplyScalar(rt.clone().dot(this)).multiplyScalar(1-_e),at=st.add(lt).add(et);return this.x=at.x,this.y=at.y,this.z=at.z,this}setFromMatrixPosition(rt){const j=rt.elements;return this.x=j[12],this.y=j[13],this.z=j[14],this}transformDirection(rt){const{x:j}=this,{y:_e}=this,{z:it}=this,st=rt.elements;return this.x=st[0]*j+st[4]*_e+st[8]*it,this.y=st[1]*j+st[5]*_e+st[9]*it,this.z=st[2]*j+st[6]*_e+st[10]*it,this.normalize()}clone(){return new mt(this.x,this.y,this.z)}unproject(rt){const j=$;return j.multiplyMatrices(rt.matrixWorld,j.getInverse(rt.projectionMatrix)),this.applyMatrix4(j)}}tt=new mt,ot=new mt,pt=new mt;class vt{constructor(rt=1,j=0,_e=0,it=0,st=1,lt=0,et=0,at=0,ft=1){this.elements=new Float32Array(9),this.set(rt,j,_e,it,st,lt,et,at,ft)}set(rt,j,_e,it,st,lt,et,at,ft){const ct=this.elements;return ct[0]=rt,ct[3]=j,ct[6]=_e,ct[1]=it,ct[4]=st,ct[7]=lt,ct[2]=et,ct[5]=at,ct[8]=ft,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(rt){const j=rt.elements;this.set(j[0],j[3],j[6],j[1],j[4],j[7],j[2],j[5],j[8])}multiplyScalar(rt){const j=this.elements;return j[0]*=rt,j[3]*=rt,j[6]*=rt,j[1]*=rt,j[4]*=rt,j[7]*=rt,j[2]*=rt,j[5]*=rt,j[8]*=rt,this}getInverse3(rt){const j=rt.elements,_e=this.elements;_e[0]=j[4]*j[8]-j[5]*j[7],_e[3]=j[6]*j[5]-j[3]*j[8],_e[6]=j[3]*j[7]-j[6]*j[4],_e[1]=j[7]*j[2]-j[1]*j[8],_e[4]=j[0]*j[8]-j[6]*j[2],_e[7]=j[1]*j[6]-j[0]*j[7],_e[2]=j[1]*j[5]-j[2]*j[4],_e[5]=j[2]*j[3]-j[0]*j[5],_e[8]=j[0]*j[4]-j[1]*j[3];const it=j[0]*_e[0]+j[3]*_e[1]+j[6]*_e[2];return this.multiplyScalar(1/it),this}getInverse(rt,j){const _e=rt.elements,it=this.elements;it[0]=_e[10]*_e[5]-_e[6]*_e[9],it[1]=-_e[10]*_e[1]+_e[2]*_e[9],it[2]=_e[6]*_e[1]-_e[2]*_e[5],it[3]=-_e[10]*_e[4]+_e[6]*_e[8],it[4]=_e[10]*_e[0]-_e[2]*_e[8],it[5]=-_e[6]*_e[0]+_e[2]*_e[4],it[6]=_e[9]*_e[4]-_e[5]*_e[8],it[7]=-_e[9]*_e[0]+_e[1]*_e[8],it[8]=_e[5]*_e[0]-_e[1]*_e[4];const st=_e[0]*it[0]+_e[1]*it[3]+_e[2]*it[6];if(st===0){const lt="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(j)throw new Error(lt);return console.warn(lt),this.identity(),this}return this.multiplyScalar(1/st),this}getDeterminant(){const rt=this.elements;return rt[0]*rt[4]*rt[8]+rt[1]*rt[5]*rt[6]+rt[2]*rt[3]*rt[7]-rt[2]*rt[4]*rt[6]-rt[1]*rt[3]*rt[8]-rt[0]*rt[5]*rt[7]}transpose(){let rt;const j=this.elements;return rt=j[1],j[1]=j[3],j[3]=rt,rt=j[2],j[2]=j[6],j[6]=rt,rt=j[5],j[5]=j[7],j[7]=rt,this}clone(){const rt=this.elements;return new vt(rt[0],rt[3],rt[6],rt[1],rt[4],rt[7],rt[2],rt[5],rt[8])}getMatrix4(){const rt=this.elements;return new ut(rt[0],rt[3],rt[6],0,rt[1],rt[4],rt[7],0,rt[2],rt[5],rt[8],0)}}class ht{constructor(rt,j){this.origin=rt!==void 0?rt:new mt,this.direction=j!==void 0?j:new mt}set(rt,j){return this.origin.copy(rt),this.direction.copy(j),this}copy(rt){return this.origin.copy(rt.origin),this.direction.copy(rt.direction),this}at(rt,j){return(j||new mt).copy(this.direction).multiplyScalar(rt).add(this.origin)}recast(rt){const j=tt;return this.origin.copy(this.at(rt,j)),this}closestPointToPoint(rt,j){const _e=j||new mt;_e.subVectors(rt,this.origin);const it=_e.dot(this.direction);return _e.copy(this.direction).multiplyScalar(it).add(this.origin)}distanceToPoint(rt){const j=tt,_e=j.subVectors(rt,this.origin).dot(this.direction);return j.copy(this.direction).multiplyScalar(_e).add(this.origin),j.distanceTo(rt)}isIntersectionCylinder(){}isIntersectionSphere(rt){return this.distanceToPoint(rt.center)<=rt.radius}isIntersectionPlane(rt){return rt.normal.dot(this.direction)!==0||rt.distanceToPoint(this.origin)===0}distanceToPlane(rt){const j=rt.normal.dot(this.direction);return j===0?rt.distanceToPoint(this.origin)===0?0:void 0:-(this.origin.dot(rt.normal)+rt.constant)/j}intersectPlane(rt,j){const _e=this.distanceToPlane(rt);if(_e!==void 0)return this.at(_e,j)}applyMatrix4(rt){return this.direction.add(this.origin).applyMatrix4(rt),this.origin.applyMatrix4(rt),this.direction.sub(this.origin),this}clone(){return new ht().copy(this)}}},"./src/WebGL/math/utils/clamp.ts":(i,s,o)=>{o.r(s),o.d(s,{clamp:()=>a});function a(_,$,nt){return Math.min(Math.max(_,$),nt)}},"./src/WebGL/math/utils/conversionMatrix3.ts":(i,s,o)=>{o.r(s),o.d(s,{conversionMatrix3:()=>_});var a=o("./src/WebGL/math/math.ts");function _($,nt,tt,ot,pt,ut){ot=ot*Math.PI/180,pt=pt*Math.PI/180,ut=ut*Math.PI/180;const mt=_e=>_e*_e,vt=Math.cos(ot),ht=Math.cos(pt),gt=Math.cos(ut),rt=Math.sin(ut);return new a.Matrix3($,nt*gt,tt*ht,0,nt*rt,tt*(vt-ht*gt)/rt,0,0,tt*Math.sqrt(1-mt(vt)-mt(ht)-mt(gt)+2*vt*ht*gt)/rt)}},"./src/WebGL/math/utils/degToRad.ts":(i,s,o)=>{o.r(s),o.d(s,{degToRad:()=>_});const a=Math.PI/180;function _($){return $*a}},"./src/WebGL/objects/Line.ts":(i,s,o)=>{o.r(s),o.d(s,{Line:()=>nt,LineStyle:()=>$});var a=o("./src/WebGL/materials/index.ts"),_=o("./src/WebGL/core/index.ts"),$;(function(tt){tt[tt.LineStrip=0]="LineStrip",tt[tt.LinePieces=1]="LinePieces"})($||($={}));class nt extends _.Object3D{constructor(ot,pt=new a.LineBasicMaterial({color:Math.random()*16777215}),ut=$.LineStrip){super(),this.geometry=ot,this.material=pt,this.type=ut}clone(ot=new nt(this.geometry,this.material,this.type)){return super.clone.call(this,ot),ot}}},"./src/WebGL/objects/Mesh.ts":(i,s,o)=>{o.r(s),o.d(s,{Mesh:()=>_});var a=o("./src/WebGL/core/index.ts");class _ extends a.Object3D{constructor(nt,tt){super(),this.geometry=nt,this.material=tt}clone(nt){return nt===void 0&&(nt=new _(this.geometry,this.material)),super.clone.call(this,nt),nt}}},"./src/WebGL/objects/Sprite.ts":(i,s,o)=>{o.r(s),o.d(s,{Sprite:()=>$});var a=o("./src/WebGL/materials/index.ts"),_=o("./src/WebGL/core/index.ts");class $ extends _.Object3D{constructor(tt=new a.SpriteMaterial){super(),this.material=tt,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),(this.scale.x!==1||this.scale.y!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone(tt=new $(this.material)){return _.Object3D.prototype.clone.call(this,tt),tt}}},"./src/WebGL/objects/index.ts":(i,s,o)=>{o.r(s),o.d(s,{Line:()=>a.Line,LineStyle:()=>a.LineStyle,Mesh:()=>_.Mesh,Sprite:()=>$.Sprite});var a=o("./src/WebGL/objects/Line.ts"),_=o("./src/WebGL/objects/Mesh.ts"),$=o("./src/WebGL/objects/Sprite.ts")},"./src/WebGL/shaders/ShaderType.ts":(i,s,o)=>{o.r(s)},"./src/WebGL/shaders/index.ts":(i,s,o)=>{o.r(s),o.d(s,{ShaderLib:()=>a.ShaderLib,ShaderUtils:()=>_.ShaderUtils,basic:()=>a.basic,clone:()=>_.clone,instanced:()=>a.instanced,lambert:()=>a.lambert,lambertdouble:()=>a.lambertdouble,outline:()=>a.outline,screen:()=>a.screen,screenaa:()=>a.screenaa,sphereimposter:()=>a.sphereimposter,sphereimposteroutline:()=>a.sphereimposteroutline,sprite:()=>a.sprite,stickimposter:()=>a.stickimposter,stickimposteroutline:()=>a.stickimposteroutline,volumetric:()=>a.volumetric});var a=o("./src/WebGL/shaders/lib/index.ts"),_=o("./src/WebGL/shaders/utils/index.ts");o("./src/WebGL/shaders/ShaderType.ts")},"./src/WebGL/shaders/lib/basic/index.ts":(i,s,o)=>{o.r(s),o.d(s,{basic:()=>nt});var a=o("./src/WebGL/shaders/lib/basic/uniforms.ts"),_=o("./src/WebGL/shaders/lib/basic/basic.frag"),$=o("./src/WebGL/shaders/lib/basic/basic.vert");const nt={vertexShader:$.default.replace("#define GLSLIFY 1",""),fragmentShader:_.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/basic/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},"./src/WebGL/shaders/lib/blur/index.ts":(i,s,o)=>{o.r(s),o.d(s,{blur:()=>nt});var a=o("./src/WebGL/shaders/lib/blur/uniforms.ts"),_=o("./src/WebGL/shaders/lib/blur/blur.frag"),$=o("./src/WebGL/shaders/lib/blur/blur.vert");const nt={fragmentShader:_.default,vertexShader:$.default,uniforms:a.uniforms}},"./src/WebGL/shaders/lib/blur/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>a});const a={}},"./src/WebGL/shaders/lib/index.ts":(i,s,o)=>{o.r(s),o.d(s,{ShaderLib:()=>it,basic:()=>a.basic,instanced:()=>_.instanced,lambert:()=>$.lambert,lambertdouble:()=>nt.lambertdouble,outline:()=>tt.outline,screen:()=>ot.screen,screenaa:()=>pt.screenaa,sphereimposter:()=>ut.sphereimposter,sphereimposteroutline:()=>mt.sphereimposteroutline,sprite:()=>vt.sprite,stickimposter:()=>ht.stickimposter,stickimposteroutline:()=>gt.stickimposteroutline,volumetric:()=>rt.volumetric});var a=o("./src/WebGL/shaders/lib/basic/index.ts"),_=o("./src/WebGL/shaders/lib/instanced/index.ts"),$=o("./src/WebGL/shaders/lib/lambert/index.ts"),nt=o("./src/WebGL/shaders/lib/lambertdouble/index.ts"),tt=o("./src/WebGL/shaders/lib/outline/index.ts"),ot=o("./src/WebGL/shaders/lib/screen/index.ts"),pt=o("./src/WebGL/shaders/lib/screenaa/index.ts"),ut=o("./src/WebGL/shaders/lib/sphereimposter/index.ts"),mt=o("./src/WebGL/shaders/lib/sphereimposteroutline/index.ts"),vt=o("./src/WebGL/shaders/lib/sprite/index.ts"),ht=o("./src/WebGL/shaders/lib/stickimposter/index.ts"),gt=o("./src/WebGL/shaders/lib/stickimposteroutline/index.ts"),rt=o("./src/WebGL/shaders/lib/volumetric/index.ts"),j=o("./src/WebGL/shaders/lib/ssao/index.ts"),_e=o("./src/WebGL/shaders/lib/blur/index.ts");const it={basic:a.basic,blur:_e.blur,instanced:_.instanced,lambert:$.lambert,lambertdouble:nt.lambertdouble,outline:tt.outline,screen:ot.screen,screenaa:pt.screenaa,ssao:j.ssao,sphereimposter:ut.sphereimposter,sphereimposteroutline:mt.sphereimposteroutline,sprite:vt.sprite,stickimposter:ht.stickimposter,stickimposteroutline:gt.stickimposteroutline,volumetric:rt.volumetric}},"./src/WebGL/shaders/lib/instanced/index.ts":(i,s,o)=>{o.r(s),o.d(s,{instanced:()=>nt});var a=o("./src/WebGL/shaders/lib/instanced/uniforms.ts"),_=o("./src/WebGL/shaders/lib/instanced/instanced.frag"),$=o("./src/WebGL/shaders/lib/instanced/instanced.vert");const nt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:$.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/instanced/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambert/index.ts":(i,s,o)=>{o.r(s),o.d(s,{lambert:()=>nt});var a=o("./src/WebGL/shaders/lib/lambert/uniforms.ts"),_=o("./src/WebGL/shaders/lib/lambert/lambert.frag"),$=o("./src/WebGL/shaders/lib/lambert/lambert.vert");const nt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:$.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/lambert/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambertdouble/index.ts":(i,s,o)=>{o.r(s),o.d(s,{lambertdouble:()=>nt});var a=o("./src/WebGL/shaders/lib/lambertdouble/uniforms.ts"),_=o("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag"),$=o("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert");const nt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:$.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/lambertdouble/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/outline/index.ts":(i,s,o)=>{o.r(s),o.d(s,{outline:()=>nt});var a=o("./src/WebGL/shaders/lib/outline/uniforms.ts"),_=o("./src/WebGL/shaders/lib/outline/outline.frag"),$=o("./src/WebGL/shaders/lib/outline/outline.vert");const nt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:$.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/outline/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new a.Color(0,0,0)},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}}},"./src/WebGL/shaders/lib/screen/index.ts":(i,s,o)=>{o.r(s),o.d(s,{screen:()=>nt});var a=o("./src/WebGL/shaders/lib/screen/uniforms.ts"),_=o("./src/WebGL/shaders/lib/screen/screen.frag"),$=o("./src/WebGL/shaders/lib/screen/screen.vert");const nt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:$.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/screen/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>a});const a={}},"./src/WebGL/shaders/lib/screenaa/index.ts":(i,s,o)=>{o.r(s),o.d(s,{screenaa:()=>nt});var a=o("./src/WebGL/shaders/lib/screenaa/uniforms.ts"),_=o("./src/WebGL/shaders/lib/screenaa/screenaa.frag"),$=o("./src/WebGL/shaders/lib/screenaa/screenaa.vert");const nt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:$.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/screenaa/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>a});const a={}},"./src/WebGL/shaders/lib/sphereimposter/index.ts":(i,s,o)=>{o.r(s),o.d(s,{sphereimposter:()=>nt});var a=o("./src/WebGL/shaders/lib/sphereimposter/uniforms.ts"),_=o("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag"),$=o("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert");const nt={vertexShader:$.default.replace("#define GLSLIFY 1",""),fragmentShader:_.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/sphereimposter/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/sphereimposteroutline/index.ts":(i,s,o)=>{o.r(s),o.d(s,{sphereimposteroutline:()=>nt});var a=o("./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts"),_=o("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag"),$=o("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert");const nt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:$.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new a.Color(0,0,0)},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}}},"./src/WebGL/shaders/lib/sprite/index.ts":(i,s,o)=>{o.r(s),o.d(s,{sprite:()=>nt});var a=o("./src/WebGL/shaders/lib/sprite/uniforms.ts"),_=o("./src/WebGL/shaders/lib/sprite/sprite.frag"),$=o("./src/WebGL/shaders/lib/sprite/sprite.vert");const nt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:$.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/sprite/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>a});const a={}},"./src/WebGL/shaders/lib/ssao/index.ts":(i,s,o)=>{o.r(s),o.d(s,{ssao:()=>nt});var a=o("./src/WebGL/shaders/lib/ssao/uniforms.ts"),_=o("./src/WebGL/shaders/lib/ssao/ssao.frag"),$=o("./src/WebGL/shaders/lib/ssao/ssao.vert");const nt={fragmentShader:_.default,vertexShader:$.default,uniforms:a.uniforms}},"./src/WebGL/shaders/lib/ssao/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>a});const a={total_strength:{type:"f",value:1},radius:{type:"f",value:5},projinv:{type:"mat4",value:[]}}},"./src/WebGL/shaders/lib/stickimposter/index.ts":(i,s,o)=>{o.r(s),o.d(s,{stickimposter:()=>ot});var a=o("./src/WebGL/shaders/lib/stickimposter/uniforms.ts"),_=o("./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag"),$=o("./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag"),nt=o("./src/WebGL/shaders/lib/stickimposter/stickimposter.vert");const ot={fragmentShader:[_.default,$.default].join(`
`),vertexShader:nt.default,uniforms:a.uniforms}},"./src/WebGL/shaders/lib/stickimposter/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/stickimposteroutline/index.ts":(i,s,o)=>{o.r(s),o.d(s,{stickimposteroutline:()=>tt});var a=o("./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts"),_=o("./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag"),$=o("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert");const tt={fragmentShader:_.default+"gl_FragColor = vec4(color,1.0);}",vertexShader:$.default,uniforms:a.uniforms}},"./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new a.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0},projinv:{type:"mat4",value:[]}}},"./src/WebGL/shaders/lib/volumetric/index.ts":(i,s,o)=>{o.r(s),o.d(s,{volumetric:()=>nt});var a=o("./src/WebGL/shaders/lib/volumetric/uniforms.ts"),_=o("./src/WebGL/shaders/lib/volumetric/volumetric.frag"),$=o("./src/WebGL/shaders/lib/volumetric/volumetric.vert");const nt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:$.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/volumetric/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}}},"./src/WebGL/shaders/utils/clone.ts":(i,s,o)=>{o.r(s),o.d(s,{clone:()=>_});var a=o("./src/colors.ts");function _($){let nt={};for(const ot in $){nt[ot]={},nt[ot].type=$[ot].type;var tt=$[ot].value;tt instanceof a.Color?nt[ot].value=tt.clone():typeof tt=="number"?nt[ot].value=tt:tt instanceof Array?nt[ot].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return nt}},"./src/WebGL/shaders/utils/index.ts":(i,s,o)=>{o.r(s),o.d(s,{ShaderUtils:()=>_,clone:()=>a.clone});var a=o("./src/WebGL/shaders/utils/clone.ts");const _={clone:a.clone}},"./src/WebGL/shapes/Cylinder.ts":(i,s,o)=>{o.r(s),o.d(s,{Cylinder:()=>$});var a=o("./src/WebGL/math/index.ts");let _=new a.Vector3;class ${constructor(tt=new a.Vector3,ot=new a.Vector3,pt=0){this.c1=tt,this.c2=ot,this.radius=pt,this.direction=new a.Vector3().subVectors(this.c2,this.c1).normalize()}copy(tt){return this.c1.copy(tt.c1),this.c2.copy(tt.c2),this.direction.copy(tt.direction),this.radius=tt.radius,this}lengthSq(){return _.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4(tt){return this.direction.add(this.c1).applyMatrix4(tt),this.c1.applyMatrix4(tt),this.c2.applyMatrix4(tt),this.direction.sub(this.c1).normalize(),this.radius=this.radius*tt.getMaxScaleOnAxis(),this}}},"./src/WebGL/shapes/Sphere.ts":(i,s,o)=>{o.r(s),o.d(s,{Sphere:()=>_});var a=o("./src/WebGL/math/index.ts");class _{constructor(nt={x:0,y:0,z:0},tt=0){this.center=new a.Vector3(nt.x,nt.y,nt.z),this.radius=tt}set(nt,tt){return this.center.copy(nt),this.radius=tt,this}copy(nt){return this.center.copy(nt.center),this.radius=nt.radius,this}applyMatrix4(nt){return this.center.applyMatrix4(nt),this.radius=this.radius*nt.getMaxScaleOnAxis(),this}translate(nt){return this.center.add(nt),this}equals(nt){return nt.center.equals(this.center)&&nt.radius===this.radius}clone(){return new _().copy(this)}}},"./src/WebGL/shapes/Triangle.ts":(i,s,o)=>{o.r(s),o.d(s,{Triangle:()=>$});var a=o("./src/WebGL/math/index.ts");const _=new a.Vector3;class ${constructor(tt=new a.Vector3,ot=new a.Vector3,pt=new a.Vector3){this.a=tt,this.b=ot,this.c=pt}copy(tt){return this.a.copy(tt.a),this.b.copy(tt.b),this.c.copy(tt.c),this}applyMatrix4(tt){return this.a.applyMatrix4(tt),this.b.applyMatrix4(tt),this.c.applyMatrix4(tt),this}getNormal(){var tt=this.a.clone();return tt.sub(this.b),_.subVectors(this.c,this.b),tt.cross(_),tt.normalize(),tt}}},"./src/WebGL/shapes/index.ts":(i,s,o)=>{o.r(s),o.d(s,{Cylinder:()=>_.Cylinder,Sphere:()=>a.Sphere,Triangle:()=>$.Triangle});var a=o("./src/WebGL/shapes/Sphere.ts"),_=o("./src/WebGL/shapes/Cylinder.ts"),$=o("./src/WebGL/shapes/Triangle.ts")},"./src/autoload.ts":(i,s,o)=>{o.r(s),o.d(s,{autoinit:()=>tt,autoload:()=>ut,processing_autoinit:()=>ot,viewers:()=>pt});var a=o("./src/GLViewer.ts"),_=o("./src/ProteinSurface4.ts"),$=o("./src/utilities.ts"),nt=o("./src/colors.ts"),tt=!1,ot=!1,pt={};function ut(mt,vt){var ht,gt,rt;if(document.querySelector(".viewer_3Dmoljs")!=null&&(tt=!0),tt){ot=!0,mt=mt??null;var j=0;document.querySelectorAll(".viewer_3Dmoljs").forEach(_e=>{var it=[],st=[],lt="";_e.style.position=="static"&&(_e.style.position="relative");var et=null;if(rt=null,_e.dataset.pdb)it.push("https://files.rcsb.org/view/"+_e.dataset.pdb+".pdb"),st.push("pdb");else if(_e.dataset.cid)st.push("sdf"),it.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+_e.dataset.cid+"/SDF?record_type=3d");else if(_e.dataset.href||_e.dataset.url){if(_e.dataset.href?lt=_e.dataset.href:lt=_e.dataset.url,it.push(lt),rt=lt.substring(lt.lastIndexOf(".")+1),rt=="gz"){let rr=lt.substring(0,lt.lastIndexOf(".")).lastIndexOf(".");rt=lt.substring(rr+1)}st.push(rt);var at=lt.substring(lt.lastIndexOf("/")+1,lt.lastIndexOf("."));at=="/"&&(at=lt.substring(lt.lastIndexOf("/")+1)),_e.dataset[st[st.length-1]]=at}let ft=_e.dataset;for(ht in ft)ht.substring(0,3)==="pdb"&&ht!=="pdb"?(it.push("https://files.rcsb.org/view/"+ft[ht]+".pdb"),st.push("pdb")):ht.substring(0,4)==="href"&&ht!=="href"?(lt=ft[ht],it.push(lt),st.push(lt.substring(lt.lastIndexOf(".")+1))):ht.substring(0,3)==="cid"&&ht!=="cid"&&(it.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+ft[ht]+"/SDF?record_type=3d"),st.push("sdf"));var ct={};_e.dataset.options&&(ct=(0,$.specStringToObject)(_e.dataset.options));var xt=nt.CC.color(_e.dataset.backgroundcolor),dt=_e.dataset.backgroundalpha;dt=dt==null?1:parseFloat(dt);var _t={line:{}};_e.dataset.style&&(_t=(0,$.specStringToObject)(_e.dataset.style));var Ct={};_e.dataset.select&&(Ct=(0,$.specStringToObject)(_e.dataset.select));var Et=[],Mt=[],St=[],Ot={},At=null,wt=_e.dataset,Pt=/style(.+)/,Lt=/surface(.*)/,Rt=/labelres(.*)/,Dt=[];for(gt in wt)Object.prototype.hasOwnProperty.call(wt,gt)&&Dt.push(gt);for(Dt.sort(),ht=0;ht<Dt.length;ht++){gt=Dt[ht];var $t=Pt.exec(gt),jt,Zt,qt;$t&&(jt="select"+$t[1],Zt=(0,$.specStringToObject)(wt[jt]),qt=(0,$.specStringToObject)(wt[gt]),Et.push([Zt,qt])),$t=Lt.exec(gt),$t&&(jt="select"+$t[1],Zt=(0,$.specStringToObject)(wt[jt]),qt=(0,$.specStringToObject)(wt[gt]),Mt.push([Zt,qt])),$t=Rt.exec(gt),$t&&(jt="select"+$t[1],Zt=(0,$.specStringToObject)(wt[jt]),qt=(0,$.specStringToObject)(wt[gt]),St.push([Zt,qt])),gt=="zoomto"&&(Ot=(0,$.specStringToObject)(wt[gt])),gt=="spin"&&(At=(0,$.specStringToObject)(wt[gt]))}var er=function(rr){for(rr.setStyle(Ct,_t),et&&et.createSelectionAndStyle(Ct,_t),ht=0;ht<Et.length;ht++){let Gt=Et[ht][0]||{},nr=Et[ht][1]||{line:{}};rr.setStyle(Gt,nr),et&&et.createSelectionAndStyle(Ct,_t)}for(ht=0;ht<Mt.length;ht++){let Gt=Mt[ht][0]||{},nr=Mt[ht][1]||{};et?rr.addSurface(_.SurfaceType.VDW,nr,Gt,Gt).then(Sr=>{et.loadSurface("VDW",Gt,nr,Sr)}):rr.addSurface(_.SurfaceType.VDW,nr,Gt,Gt)}for(ht=0;ht<St.length;ht++){let Gt=St[ht][0]||{},nr=St[ht][1]||{};rr.addResLabels(Gt,nr)}rr.render(),rr.zoomTo(Ot),At&&rr.spin(At.axis,At.speed)};let Yt=mt;try{var Qt=(0,$.specStringToObject)(_e.dataset.config)||{};Qt.backgroundColor===void 0&&(Qt.backgroundColor=xt),Qt.backgroundAlpha===void 0&&(Qt.backgroundAlpha=dt),Yt==null?Yt=pt[_e.id||j++]=(0,a.createViewer)(_e,Qt):(Yt.setBackgroundColor(xt,dt),Yt.setConfig(Qt),et&&et.initiateUI()),_e.dataset.ui&&$3Dmol.StateManager&&(et=new $3Dmol.StateManager(Yt))}catch(rr){console.log(rr),_e.textContent="WebGL appears to be disabled."}if(it.length!=0){let rr=0,Gt=((nr,_r)=>function(Sr){lt=it[rr];var Ar=nr.dataset.type||nr.dataset.datatype||st[rr];if(_r.addModel(Sr,Ar,ct),et){var Or=nr.dataset[st[rr]];et.setModelTitle(Or)}rr+=1,rr<it.length?(0,$.get)(it[rr]).then(Gt):(er(_r),nr.dataset.callback&&(0,$.makeFunction)(nr.dataset.callback)(_r),ot=!1,vt&&vt(_r))})(_e,Yt);rt&&rt.endsWith("gz")?(0,$.getbin)(it[0]).then(Gt):(0,$.get)(it[0]).then(Gt)}else{if(_e.dataset.element){var cr="#"+_e.dataset.element,lr=document.querySelector(cr),gr=lr?lr.textContent:"";rt=_e.dataset.type||_e.dataset.datatype,Yt.addModel(gr,rt,ct)}er(Yt),_e.dataset.callback&&(0,$.makeFunction)(_e.dataset.callback)(Yt),ot=!1,vt&&vt(Yt)}})}}document.onreadystatechange=()=>{document.readyState==="complete"&&ut()}},"./src/colors.ts":(i,s,o)=>{o.r(s),o.d(s,{CC:()=>_,Color:()=>a,builtinColorSchemes:()=>mt,chains:()=>ut,elementColors:()=>ot,htmlColors:()=>$,residues:()=>pt,ssColors:()=>nt});class a{constructor(ht,gt,rt){return this.r=0,this.g=0,this.b=0,arguments.length>1&&typeof ht=="number"?(this.r=ht||0,this.g=gt||0,this.b=rt||0,this):this.set(ht||0)}set(ht){return ht instanceof a?ht.clone():(typeof ht=="number"?this.setHex(ht):typeof ht=="object"&&(this.r=(ht==null?void 0:ht.r)||0,this.g=(ht==null?void 0:ht.g)||0,this.b=(ht==null?void 0:ht.b)||0),this)}setHex(ht){return ht=Math.floor(ht),this.r=(ht>>16&255)/255,this.g=(ht>>8&255)/255,this.b=(ht&255)/255,this}getHex(){var ht=Math.round(this.r*255),gt=Math.round(this.g*255),rt=Math.round(this.b*255);return ht<<16|gt<<8|rt}clone(){return new a(this.r,this.g,this.b)}copy(ht){return this.r=ht.r,this.g=ht.g,this.b=ht.b,this}scaled(){var ht={};return ht.r=Math.round(this.r*255),ht.g=Math.round(this.g*255),ht.b=Math.round(this.b*255),ht.a=1,ht}}class _{static color(ht){if(!ht)return _.cache[0];if(ht instanceof a)return ht;if(typeof ht=="number"&&typeof _.cache[ht]<"u")return _.cache[ht];if(ht&&Array.isArray(ht))return ht.map(_.color);let gt=_.getHex(ht),rt=new a(gt);return _.cache[gt]=rt,rt}static getHex(ht){var gt;if(Array.isArray(ht))return ht.map(_.getHex);if(typeof ht=="string"){let rt=ht;if(!isNaN(parseInt(rt)))return parseInt(rt);if(rt=rt.trim(),rt.length==4&&rt[0]=="#"&&(rt="#"+rt[1]+rt[1]+rt[2]+rt[2]+rt[3]+rt[3]),rt.length==7&&rt[0]=="#")return parseInt(rt.substring(1),16);let j=_.rgbRegEx.exec(rt);if(j){j[1]!=""&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let _e=0;for(let it=2;it<5;it++){_e*=256;let st=j[it].endsWith("%")?255*parseFloat(j[it])/100:parseFloat(j[it]);_e+=Math.round(st)}return _e}return((gt=window==null?void 0:window.$3Dmol)===null||gt===void 0?void 0:gt.htmlColors[ht.toLowerCase()])||0}return ht}}_.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,_.cache={0:new a(0)};const $={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},nt={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},tt={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},ot={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:tt,defaultColors:Object.assign({},tt),greenCarbon:Object.assign(Object.assign({},tt),{C:65280}),cyanCarbon:Object.assign(Object.assign({},tt),{C:65535}),magentaCarbon:Object.assign(Object.assign({},tt),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},tt),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},tt),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},tt),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},tt),{C:8388736}),blueCarbon:Object.assign(Object.assign({},tt),{C:255})},pt={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},ut={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},mt={ssPyMol:{prop:"ss",map:nt.pyMol},ssJmol:{prop:"ss",map:nt.Jmol},Jmol:{prop:"elem",map:ot.Jmol},amino:{prop:"resn",map:pt.amino},shapely:{prop:"resn",map:pt.shapely},nucleic:{prop:"resn",map:pt.nucleic},chain:{prop:"chain",map:ut.atom},rasmol:{prop:"elem",map:ot.rasmol},default:{prop:"elem",map:ot.defaultColors},greenCarbon:{prop:"elem",map:ot.greenCarbon},chainHetatm:{prop:"chain",map:ut.hetatm},cyanCarbon:{prop:"elem",map:ot.cyanCarbon},magentaCarbon:{prop:"elem",map:ot.magentaCarbon},purpleCarbon:{prop:"elem",map:ot.purpleCarbon},whiteCarbon:{prop:"elem",map:ot.whiteCarbon},orangeCarbon:{prop:"elem",map:ot.orangeCarbon},yellowCarbon:{prop:"elem",map:ot.yellowCarbon},blueCarbon:{prop:"elem",map:ot.blueCarbon}}},"./src/glcartoon.ts":(i,s,o)=>{o.r(s),o.d(s,{drawCartoon:()=>Ct,subdivide_spline:()=>ut});var a=o("./src/WebGL/math/index.ts"),_=o("./src/WebGL/shapes/index.ts"),$=o("./src/WebGL/index.ts"),nt=o("./src/Gradient.ts"),tt=o("./src/colors.ts"),ot=o("./src/GLDraw.ts"),pt=o("./src/utilities.ts");function ut(Et,Mt){var St=[],Ot=Et;Ot=[],Ot.push(Et[0]);var At,wt,Pt,Lt,Rt,Dt,$t,jt,Zt;for(At=1,wt=Et.length-1;At<wt;At++)if(Rt=Et[At],Dt=Et[At+1],Rt.smoothen){var qt=new a.Vector3((Rt.x+Dt.x)/2,(Rt.y+Dt.y)/2,(Rt.z+Dt.z)/2);qt.atom=Rt.atom,Ot.push(qt)}else Ot.push(Rt);for(Ot.push(Et[Et.length-1]),At=-1,Pt=Ot.length;At<=Pt-3;At++)if(Lt=Ot[At===-1?0:At],Rt=Ot[At+1],Dt=Ot[At+2],$t=Ot[At===Pt-3?Pt-1:At+3],jt=new a.Vector3().subVectors(Dt,Lt).multiplyScalar(.5),Zt=new a.Vector3().subVectors($t,Rt).multiplyScalar(.5),!Dt.skip)for(var er=0;er<Mt;er++){var Yt=1/Mt*er,Qt=Rt.x+Yt*jt.x+Yt*Yt*(-3*Rt.x+3*Dt.x-2*jt.x-Zt.x)+Yt*Yt*Yt*(2*Rt.x-2*Dt.x+jt.x+Zt.x),cr=Rt.y+Yt*jt.y+Yt*Yt*(-3*Rt.y+3*Dt.y-2*jt.y-Zt.y)+Yt*Yt*Yt*(2*Rt.y-2*Dt.y+jt.y+Zt.y),lr=Rt.z+Yt*jt.z+Yt*Yt*(-3*Rt.z+3*Dt.z-2*jt.z-Zt.z)+Yt*Yt*Yt*(2*Rt.z-2*Dt.z+jt.z+Zt.z),gr=new a.Vector3(Qt,cr,lr);er<Mt/2?gr.atom=Rt.atom:gr.atom=Dt.atom,St.push(gr)}return St.push(Ot[Ot.length-1]),St}const mt=.5,vt=1.3,ht=.8,gt=.4,rt=.4;function j(Et,Mt,St,Ot){for(var At,wt,Pt,Lt,Rt=0,Dt=Mt.length;Rt<Dt;Rt++){Lt=Math.round(Rt*(Ot.length-1)/Dt),Pt=tt.CC.color(Ot[Lt]);var $t=Et.updateGeoGroup(2),jt=$t.vertexArray,Zt=$t.colorArray,qt=$t.faceArray;At=$t.vertices,wt=At*3,jt[wt]=Mt[Rt].x,jt[wt+1]=Mt[Rt].y,jt[wt+2]=Mt[Rt].z,jt[wt+3]=St[Rt].x,jt[wt+4]=St[Rt].y,jt[wt+5]=St[Rt].z;for(var er=0;er<6;++er)Zt[wt+3*er]=Pt.r,Zt[wt+1+3*er]=Pt.g,Zt[wt+2+3*er]=Pt.b;if(Rt>0){var Yt=[At,At+1,At-1,At-2],Qt=$t.faceidx;qt[Qt]=Yt[0],qt[Qt+1]=Yt[1],qt[Qt+2]=Yt[3],qt[Qt+3]=Yt[1],qt[Qt+4]=Yt[2],qt[Qt+5]=Yt[3],$t.faceidx+=6}$t.vertices+=2}}function _e(Et,Mt,St,Ot,At,wt,Pt){var Lt,Rt,Dt,$t;if(Dt=Mt.length,Dt<2||Mt[0].length<2)return;for(Lt=0;Lt<Dt;Lt++)Mt[Lt]=ut(Mt[Lt],Ot);if($t=Mt[0].length,!At)return j(Et,Mt[0],Mt[Dt-1],St);var jt,Zt,qt,er,Yt,Qt,cr=[],lr=[],gr=[];for(Rt=0;Rt<Dt;Rt++)cr.push(.25+1.5*Math.sqrt((Dt-1)*Rt-Math.pow(Rt,2))/(Dt-1)),lr.push(.5),gr.push(2*(Math.pow(Rt/Dt,2)-Rt/Dt)+.6);var rr=[];for(Rt=0;Rt<Dt*2-1;Rt++)rr[Rt]=[Rt,Rt+1,Rt+1-2*Dt,Rt-2*Dt];rr[Dt*2-1]=[Rt,Rt+1-2*Dt,Rt+1-4*Dt,Rt-2*Dt];var Gt,nr,_r,Sr,Ar,Or,Mr,wr,Tr,fr;let pr=Et.updateGeoGroup();for(Lt=0;Lt<$t;Lt++){let Ut=Et.groups,Wt=!1;pr=Et.updateGeoGroup(2*Dt),Ut!=Et.groups&&Lt>0&&(Lt=Lt-1,Wt=!0),Or=Math.round(Lt*(St.length-1)/$t),Ar=tt.CC.color(St[Or]),Yt=qt,Qt=er,qt=[],er=[],jt=[],Mt[0][Lt].atom!==void 0&&(Sr=Mt[0][Lt].atom,Pt==="oval"?Zt=cr:Pt==="rectangle"?Zt=lr:Pt==="parabola"&&(Zt=gr)),Zt||(Zt=lr);var Lr,Pr;for(Rt=0;Rt<Dt;Rt++)Lt<$t-1?Lr=Mt[Rt][Lt+1].clone().sub(Mt[Rt][Lt]):Lr=Mt[Rt][Lt-1].clone().sub(Mt[Rt][Lt]).negate(),Rt<Dt-1?Pr=Mt[Rt+1][Lt].clone().sub(Mt[Rt][Lt]):Pr=Mt[Rt-1][Lt].clone().sub(Mt[Rt][Lt]).negate(),jt[Rt]=Pr.cross(Lr).normalize().multiplyScalar(At*Zt[Rt]);for(Rt=0;Rt<Dt;Rt++)qt[Rt]=Mt[Rt][Lt].clone().add(jt[Rt].clone().negate());for(Rt=0;Rt<Dt;Rt++)er[Rt]=Mt[Rt][Lt].clone().add(jt[Rt]);for(Mr=pr.vertexArray,wr=pr.colorArray,Tr=pr.faceArray,Gt=pr.vertices,nr=Gt*3,Rt=0;Rt<Dt;Rt++)Mr[nr+3*Rt+0]=qt[Rt].x,Mr[nr+3*Rt+1]=qt[Rt].y,Mr[nr+3*Rt+2]=qt[Rt].z;for(Rt=0;Rt<Dt;Rt++)Mr[nr+3*Rt+0+3*Dt]=er[Dt-1-Rt].x,Mr[nr+3*Rt+1+3*Dt]=er[Dt-1-Rt].y,Mr[nr+3*Rt+2+3*Dt]=er[Dt-1-Rt].z;for(Rt=0;Rt<2*Dt;++Rt)wr[nr+3*Rt+0]=Ar.r,wr[nr+3*Rt+1]=Ar.g,wr[nr+3*Rt+2]=Ar.b;if(Lt>0&&!Wt){for(Rt=0;Rt<Dt*2;Rt++)fr=[Gt+rr[Rt][0],Gt+rr[Rt][1],Gt+rr[Rt][2],Gt+rr[Rt][3]],_r=pr.faceidx,Tr[_r]=fr[0],Tr[_r+1]=fr[1],Tr[_r+2]=fr[3],Tr[_r+3]=fr[1],Tr[_r+4]=fr[2],Tr[_r+5]=fr[3],pr.faceidx+=6;if(Sr.clickable||Sr.hoverable){var Bt=[];Bt.push(new _.Triangle(Yt[0],qt[0],qt[Dt-1])),Bt.push(new _.Triangle(Yt[0],qt[Dt-1],Yt[Dt-1])),Bt.push(new _.Triangle(Yt[Dt-1],qt[Dt-1],er[Dt-1])),Bt.push(new _.Triangle(Yt[Dt-1],er[Dt-1],Qt[Dt-1])),Bt.push(new _.Triangle(er[0],Qt[0],Qt[Dt-1])),Bt.push(new _.Triangle(er[Dt-1],er[0],Qt[Dt-1])),Bt.push(new _.Triangle(qt[0],Yt[0],Qt[0])),Bt.push(new _.Triangle(er[0],qt[0],Qt[0]));for(Rt in Bt)Sr.intersectionShape.triangle.push(Bt[Rt])}}pr.vertices+=2*Dt}for(Mr=pr.vertexArray,wr=pr.colorArray,Tr=pr.faceArray,Gt=pr.vertices,nr=Gt*3,_r=pr.faceidx,Lt=0;Lt<Dt-1;Lt++)fr=[Lt,Lt+1,2*Dt-2-Lt,2*Dt-1-Lt],_r=pr.faceidx,Tr[_r]=fr[0],Tr[_r+1]=fr[1],Tr[_r+2]=fr[3],Tr[_r+3]=fr[1],Tr[_r+4]=fr[2],Tr[_r+5]=fr[3],pr.faceidx+=6;for(Lt=0;Lt<Dt-1;Lt++)fr=[Gt-1-Lt,Gt-2-Lt,Gt-2*Dt+Lt+1,Gt-2*Dt+Lt],_r=pr.faceidx,Tr[_r]=fr[0],Tr[_r+1]=fr[1],Tr[_r+2]=fr[3],Tr[_r+3]=fr[1],Tr[_r+4]=fr[2],Tr[_r+5]=fr[3],pr.faceidx+=6}function it(Et,Mt,St,Ot,At,wt){if(!(Mt.length<2)){var Pt,Lt;if(Pt=Mt[0],Lt=Mt[Mt.length-1],Pt=ut(Pt,Ot),Lt=ut(Lt,Ot),!At)return j(Et,Pt,Lt,St);var Rt=[],Dt,$t,jt,Zt,qt,er=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],Yt,Qt,cr,lr,gr,rr,Gt,nr,_r,Sr,Ar,Or,Mr,wr,Tr,fr,pr;for(nr=0,_r=Pt.length;nr<_r;nr++){if(gr=Math.round(nr*(St.length-1)/_r),lr=tt.CC.color(St[gr]),Rt.push($t=Pt[nr]),Rt.push($t),Rt.push(jt=Lt[nr]),Rt.push(jt),nr<_r-1){var Lr=Pt[nr+1].clone().sub(Pt[nr]),Pr=Lt[nr].clone().sub(Pt[nr]);Dt=Pr.cross(Lr).normalize().multiplyScalar(At)}for(Rt.push(Zt=Pt[nr].clone().add(Dt)),Rt.push(Zt),Rt.push(qt=Lt[nr].clone().add(Dt)),Rt.push(qt),$t.atom!==void 0&&(rr=$t.atom),wr=Et.updateGeoGroup(8),Tr=wr.vertexArray,fr=wr.colorArray,pr=wr.faceArray,Yt=wr.vertices,Qt=Yt*3,Tr[Qt]=$t.x,Tr[Qt+1]=$t.y,Tr[Qt+2]=$t.z,Tr[Qt+3]=$t.x,Tr[Qt+4]=$t.y,Tr[Qt+5]=$t.z,Tr[Qt+6]=jt.x,Tr[Qt+7]=jt.y,Tr[Qt+8]=jt.z,Tr[Qt+9]=jt.x,Tr[Qt+10]=jt.y,Tr[Qt+11]=jt.z,Tr[Qt+12]=Zt.x,Tr[Qt+13]=Zt.y,Tr[Qt+14]=Zt.z,Tr[Qt+15]=Zt.x,Tr[Qt+16]=Zt.y,Tr[Qt+17]=Zt.z,Tr[Qt+18]=qt.x,Tr[Qt+19]=qt.y,Tr[Qt+20]=qt.z,Tr[Qt+21]=qt.x,Tr[Qt+22]=qt.y,Tr[Qt+23]=qt.z,Sr=0;Sr<8;++Sr)fr[Qt+3*Sr]=lr.r,fr[Qt+1+3*Sr]=lr.g,fr[Qt+2+3*Sr]=lr.b;if(nr>0){var Bt=Gt!==void 0&&rr!==void 0&&Gt.serial!==rr.serial;for(Sr=0;Sr<4;Sr++){var Ut=[Yt+er[Sr][0],Yt+er[Sr][1],Yt+er[Sr][2],Yt+er[Sr][3]];if(cr=wr.faceidx,pr[cr]=Ut[0],pr[cr+1]=Ut[1],pr[cr+2]=Ut[3],pr[cr+3]=Ut[1],pr[cr+4]=Ut[2],pr[cr+5]=Ut[3],wr.faceidx+=6,rr.clickable||Gt.clickable||rr.hoverable||Gt.hoverable){var Wt=Rt[Ut[3]].clone(),ar=Rt[Ut[0]].clone(),Xt=Rt[Ut[2]].clone(),Er=Rt[Ut[1]].clone();if(Wt.atom=Rt[Ut[3]].atom||null,Xt.atom=Rt[Ut[2]].atom||null,ar.atom=Rt[Ut[0]].atom||null,Er.atom=Rt[Ut[1]].atom||null,Bt){var mr=Wt.clone().add(ar).multiplyScalar(.5),It=Xt.clone().add(Er).multiplyScalar(.5),Jt=Wt.clone().add(Er).multiplyScalar(.5);Sr%2===0?((Gt.clickable||Gt.hoverable)&&(Ar=new _.Triangle(mr,Jt,Wt),Or=new _.Triangle(It,Xt,Jt),Mr=new _.Triangle(Jt,Xt,Wt),Gt.intersectionShape.triangle.push(Ar),Gt.intersectionShape.triangle.push(Or),Gt.intersectionShape.triangle.push(Mr)),(rr.clickable||rr.hoverable)&&(Ar=new _.Triangle(ar,Er,Jt),Or=new _.Triangle(Er,It,Jt),Mr=new _.Triangle(ar,Jt,mr),rr.intersectionShape.triangle.push(Ar),rr.intersectionShape.triangle.push(Or),rr.intersectionShape.triangle.push(Mr))):((rr.clickable||rr.hoverable)&&(Ar=new _.Triangle(mr,Jt,Wt),Or=new _.Triangle(It,Xt,Jt),Mr=new _.Triangle(Jt,Xt,Wt),rr.intersectionShape.triangle.push(Ar),rr.intersectionShape.triangle.push(Or),rr.intersectionShape.triangle.push(Mr)),(Gt.clickable||Gt.hoverable)&&(Ar=new _.Triangle(ar,Er,Jt),Or=new _.Triangle(Er,It,Jt),Mr=new _.Triangle(ar,Jt,mr),Gt.intersectionShape.triangle.push(Ar),Gt.intersectionShape.triangle.push(Or),Gt.intersectionShape.triangle.push(Mr)))}else(rr.clickable||rr.hoverable)&&(Ar=new _.Triangle(ar,Er,Wt),Or=new _.Triangle(Er,Xt,Wt),rr.intersectionShape.triangle.push(Ar),rr.intersectionShape.triangle.push(Or))}}}wr.vertices+=8,Gt=rr}var sr=Rt.length-8;for(wr=Et.updateGeoGroup(8),Tr=wr.vertexArray,fr=wr.colorArray,pr=wr.faceArray,Yt=wr.vertices,Qt=Yt*3,cr=wr.faceidx,nr=0;nr<4;nr++){Rt.push(Rt[nr*2]),Rt.push(Rt[sr+nr*2]);var Cr=Rt[nr*2],tr=Rt[sr+nr*2];Tr[Qt+6*nr]=Cr.x,Tr[Qt+1+6*nr]=Cr.y,Tr[Qt+2+6*nr]=Cr.z,Tr[Qt+3+6*nr]=tr.x,Tr[Qt+4+6*nr]=tr.y,Tr[Qt+5+6*nr]=tr.z,fr[Qt+6*nr]=lr.r,fr[Qt+1+6*nr]=lr.g,fr[Qt+2+6*nr]=lr.b,fr[Qt+3+6*nr]=lr.r,fr[Qt+4+6*nr]=lr.g,fr[Qt+5+6*nr]=lr.b}sr+=8,Ar=[Yt,Yt+2,Yt+6,Yt+4],Or=[Yt+1,Yt+5,Yt+7,Yt+3],pr[cr]=Ar[0],pr[cr+1]=Ar[1],pr[cr+2]=Ar[3],pr[cr+3]=Ar[1],pr[cr+4]=Ar[2],pr[cr+5]=Ar[3],pr[cr+6]=Or[0],pr[cr+7]=Or[1],pr[cr+8]=Or[3],pr[cr+9]=Or[1],pr[cr+10]=Or[2],pr[cr+11]=Or[3],wr.faceidx+=12,wr.vertices+=8}}function st(Et,Mt,St,Ot,At,wt,Pt){(!Pt||Pt==="default")&&(Pt="rectangle"),Pt==="edged"?it(Et,Mt,St,Ot,At):(Pt==="rectangle"||Pt==="oval"||Pt==="parabola")&&_e(Et,Mt,St,Ot,At,wt,Pt)}function lt(Et){return Et&&Et.elem==="C"&&Et.atom==="CA"}function et(Et,Mt){if(Et&&Mt&&Et.chain===Mt.chain){if(!Et.hetflag&&!Mt.hetflag&&Et.reschain===Mt.reschain&&(Et.resi===Mt.resi||Et.resi===Mt.resi-1))return!0;if(Et.resi<Mt.resi){var St=Et.x-Mt.x,Ot=Et.y-Mt.y,At=Et.z-Mt.z,wt=St*St+Ot*Ot+At*At;if(Et.atom=="CA"&&Mt.atom=="CA"&&wt<16)return!0;if((Et.atom=="P"||Mt.atom=="P")&&wt<64)return!0}}return!1}function at(Et,Mt,St,Ot,At){if(!(Mt==null||Mt.vertices==0)){At&&(Mt.initTypedArrays(),Mt.setUpNormals());var wt=new $.MeshDoubleLambertMaterial;wt.vertexColors=$.Coloring.FaceColors,typeof St=="number"&&St>=0&&St<1&&(wt.transparent=!0,wt.opacity=St),wt.outline=Ot;var Pt=new $.Mesh(Mt,wt);Et.add(Pt)}}function ft(Et,Mt,St,Ot,At,wt,Pt,Lt,Rt){var Dt,$t,jt,Zt,qt,er;if(!(!Ot||!At||!Pt)){var Yt=At.sub(Ot);Yt.normalize();var Qt=Lt[Rt];for($t=Rt+1;$t<Lt.length&&(Qt=Lt[$t],Qt.atom!=Pt.atom);$t++);if(Qt=Qt?new a.Vector3(Qt.x,Qt.y,Qt.z):new a.Vector3(0,0,0),Qt.sub(Ot),Pt.ss==="arrow start"){var cr=Qt.clone().multiplyScalar(.3).cross(At);Ot.add(cr);var lr=Qt.clone().cross(Yt).normalize();Yt.rotateAboutVector(lr,.43)}for(Pt.style.cartoon.ribbon?Dt=Pt.style.cartoon.thickness||gt:Pt.style.cartoon.width?Dt=Pt.style.cartoon.width:Pt.ss==="c"?Pt.atom==="P"?Dt=ht:Dt=mt:Pt.ss==="arrow start"?(Dt=vt,qt=!0):Pt.ss==="arrow end"||Pt.ss==="h"&&Pt.style.cartoon.tubes||Pt.ss==="tube start"?Dt=mt:Dt=vt,wt!=null&&Yt.dot(wt)<0&&Yt.negate(),Yt.multiplyScalar(Dt),$t=0;$t<Mt;$t++)jt=-1+$t*2/(Mt-1),Zt=new a.Vector3(Ot.x+jt*Yt.x,Ot.y+jt*Yt.y,Ot.z+jt*Yt.z),Zt.atom=Pt,Pt.ss==="s"&&(Zt.smoothen=!0),Et[$t].push(Zt);if(qt)for(Yt.multiplyScalar(2),$t=0;$t<Mt;$t++)jt=-1+$t*2/(Mt-1),Zt=new a.Vector3(Ot.x+jt*Yt.x,Ot.y+jt*Yt.y,Ot.z+jt*Yt.z),Zt.atom=Pt,Zt.smoothen=!1,Zt.skip=!0,Et[$t].push(Zt);return er=Pt.style.cartoon.style||"default",Et.style?Et.style!=er&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),Et.style="default"):Et.style=er,(Pt.ss==="arrow start"||Pt.ss==="arrow end")&&(Pt.ss="s"),qt}}const ct={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},xt={DA:!0,DG:!0,A:!0,G:!0},dt={DT:!0,DC:!0,U:!0,C:!0,T:!0},_t={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function Ct(Et,Mt,St,Ot=10){let At=Ot,wt=Ot;var Pt,Lt,Rt,Dt,$t,jt,Zt,qt,er,Yt,Qt,cr,lr,gr,rr,Gt,nr,_r,Sr=new $.Geometry(!0),Ar=new $.Geometry(!0),Or=[],Mr=[],wr=1,Tr=!1,fr={};for(var pr in nt.Gradient.builtinGradients)nt.Gradient.builtinGradients.hasOwnProperty(pr)&&(fr[pr]=new nt.Gradient.builtinGradients[pr](St[1],St[0]));var Lr=function(kt,br){return St&&br.color==="spectrum"?br.colorscheme in fr?fr[br.colorscheme].valueToHex(kt.resi):fr.sinebow.valueToHex(kt.resi):(0,pt.getColorFromStyle)(kt,br).getHex()};for(qt=0;qt<At;qt++)Mr[qt]=[];var Pr=!1,Bt=!1,Ut=[];for(qt in Mt){if(Dt=Mt[qt],Dt.elem==="C"&&Dt.atom==="CA"){var Wt=et(Rt,Dt);Wt&&Dt.ss==="s"?Pr=!0:Pr&&(Rt&&Lt&&Rt.style.cartoon.arrows&&Lt.style.cartoon.arrows&&(Rt.ss="arrow end",Lt.ss="arrow start"),Pr=!1),Wt&&(Rt.ss==="h"||Rt.ss=="tube start")&&Rt.style.cartoon.tubes?!Bt&&Rt.ss!="tube start"&&Dt.style.cartoon.tubes&&(Dt.ss="tube start",Bt=!0):Bt&&(Rt.ss==="tube start"?Rt.ss="tube end":Lt&&Lt.style.cartoon.tubes&&(Lt.ss="tube end"),Bt=!1),Lt=Rt,Rt=Dt}Dt&&Dt.atom in ct&&Ut.push(Dt)}Bt&&Rt.style.cartoon.tubes&&(Rt.ss="tube end",Bt=!1);var ar=function(kt){Mr[0].length>0&&st(Ar,Mr,Or,wt,Zt,wr,Mr.style);var br=[],Dr=null;if(kt){for(qt=0;qt<At;qt++)br[qt]=Mr[qt][Mr[qt].length-1];Dr=Or[Or.length-1]}for(Mr=[],qt=0;qt<At;qt++)Mr[qt]=[];if(Or=[],kt){for(qt=0;qt<At;qt++)Mr[qt].push(br[qt]);Or.push(Dr)}at(Et,Ar,wr,Tr,!0),at(Et,Sr,wr,Tr,!1),Ar=new $.Geometry(!0),Sr=new $.Geometry(!0)};Rt=void 0;for(var Xt=0;Xt<Ut.length;Xt++){Dt=Ut[Xt];var Er=Dt.resn.trim(),mr=Er in _t;if(wr=1,Pt=Dt.style.cartoon,Rt&&Rt.style.cartoon&&(wr=Rt.style.cartoon.opacity),Rt&&Rt.style.cartoon&&Rt.style.cartoon.outline&&(Tr=Rt.style.cartoon.outline),Rt&&Rt.style.cartoon&&(!Dt.style.cartoon||Rt.style.cartoon.opacity!=Dt.style.cartoon.opacity)&&ar(Rt.chain==Dt.chain),Pt.style==="trace"){if(!Dt.hetflag){if(Dt.elem==="C"&&Dt.atom==="CA"||mr&&Dt.atom==="P"||Dt.atom==="BB"){if(jt=Lr(Dt,Pt),(0,pt.isNumeric)(Pt.thickness)?Zt=Pt.thickness:Zt=gt,et(Rt,Dt))if(jt==$t){var It=tt.CC.color(jt);ot.GLDraw.drawCylinder(Sr,Rt,Dt,Zt,It,2,2)}else{var Jt=new a.Vector3().addVectors(Rt,Dt).multiplyScalar(.5),sr=tt.CC.color($t),Cr=tt.CC.color(jt);ot.GLDraw.drawCylinder(Sr,Rt,Jt,Zt,sr,2,0),ot.GLDraw.drawCylinder(Sr,Jt,Dt,Zt,Cr,0,2)}if((Dt.clickable===!0||Dt.hoverable)&&Dt.intersectionShape!==void 0){var tr=new a.Vector3(Dt.x,Dt.y,Dt.z);Dt.intersectionShape.sphere.push(new _.Sphere(tr,Zt))}Rt=Dt,$t=jt}}}else{if(lt(Dt)||mr&&(Dt.atom==="P"||Dt.atom.indexOf("O5")==0)){if(_r)if(Dt.ss==="tube end")_r=!1,nr=new a.Vector3(Dt.x,Dt.y,Dt.z),ot.GLDraw.drawCylinder(Sr,Gt,nr,2,tt.CC.color($t),1,1),Dt.ss="h";else if(Rt.chain!=Dt.chain||Rt.ss==="tube end")_r=!1,Rt.ss="h",nr=new a.Vector3(Rt.x,Rt.y,Rt.z),ot.GLDraw.drawCylinder(Sr,Gt,nr,2,tt.CC.color($t),1,1);else continue;if(Rt&&(!et(Rt,Dt)||Rt.ss==="tube start")){for(Rt.ss==="tube start"&&(_r=!0,Gt=new a.Vector3(Rt.x,Rt.y,Rt.z),Rt.ss="h"),rr&&(cr?gr=new a.Vector3().addVectors(Rt,cr).multiplyScalar(.5):gr=new a.Vector3(Rt.x,Rt.y,Rt.z),ot.GLDraw.drawCylinder(Sr,gr,rr,rt,tt.CC.color(rr.color),0,2),ft(Mr,At,!0,cr,lr,Qt,Rt,Ut,Xt),Or.push(jt),gr=null,rr=null),Mr[0].length>0&&st(Ar,Mr,Or,wt,Zt,wr,Mr.style),Mr=[],qt=0;qt<At;qt++)Mr[qt]=[];Or=[]}if(Rt===void 0||Rt.rescode!=Dt.rescode||Rt.resi!=Dt.resi){if(rr&&Rt!=null){gr=new a.Vector3().addVectors(Rt,Dt).multiplyScalar(.5);var vr=gr.clone().sub(rr).multiplyScalar(.02);gr.add(vr),ot.GLDraw.drawCylinder(Sr,gr,rr,rt,tt.CC.color(rr.color),0,2),gr=null,rr=null}jt=Lr(Dt,Pt),Or.push(jt),(0,pt.isNumeric)(Pt.thickness)?Zt=Pt.thickness:Zt=gt,Rt=Dt,er=new a.Vector3(Rt.x,Rt.y,Rt.z),er.resi=Rt.resi,$t=jt}(Dt.clickable===!0||Dt.hoverable===!0)&&(Dt.intersectionShape===void 0||Dt.intersectionShape.triangle===void 0)&&(Dt.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else Rt!=null&&(lt(Rt)&&Dt.atom==="O"||mr&&Rt.atom==="P"&&(Dt.atom==="OP2"||Dt.atom==="O2P")||mr&&Rt.atom.indexOf("O5")==0&&Dt.atom.indexOf("C5")==0)?(Yt=new a.Vector3(Dt.x,Dt.y,Dt.z),Yt.resi=Dt.resi,(Dt.atom==="OP2"||Dt.atom==="O2P")&&(lr=new a.Vector3(Dt.x,Dt.y,Dt.z))):mr&&Dt.atom.indexOf("O3")==0?cr=new a.Vector3(Dt.x,Dt.y,Dt.z):(Dt.atom==="N1"&&Er in xt||Dt.atom==="N3"&&Er in dt)&&(rr=new a.Vector3(Dt.x,Dt.y,Dt.z),rr.color=(0,pt.getColorFromStyle)(Dt,Pt).getHex());Yt&&er&&Yt.resi===er.resi&&(ft(Mr,At,!0,er,Yt,Qt,Rt,Ut,Xt),Qt=Yt,er=null,Yt=null,Or.push(jt))}}rr&&(cr?gr=new a.Vector3().addVectors(Rt,cr).multiplyScalar(.5):gr=new a.Vector3(Rt.x,Rt.y,Rt.z),ot.GLDraw.drawCylinder(Sr,gr,rr,rt,tt.CC.color(rr.color),0,2),ft(Mr,At,!0,cr,lr,Qt,Rt,Ut,Xt),Or.push(jt)),ar(!1)}},"./src/index.ts":(i,s,o)=>{o.r(s),o.d(s,{CAP:()=>rt.CAP,CC:()=>_.CC,CONTEXTS_PER_VIEWPORT:()=>it.CONTEXTS_PER_VIEWPORT,Color:()=>_.Color,CustomLinear:()=>a.CustomLinear,Cylinder:()=>pt.Cylinder,GLDraw:()=>rt.GLDraw,GLModel:()=>_e.GLModel,GLShape:()=>gt.GLShape,GLViewer:()=>it.GLViewer,GLVolumetricRender:()=>ht.GLVolumetricRender,Gradient:()=>a.Gradient,GradientType:()=>a.GradientType,Label:()=>$.Label,LabelCount:()=>$.LabelCount,MarchingCube:()=>mt.MarchingCube,MarchingCubeInitializer:()=>mt.MarchingCubeInitializer,Matrix3:()=>ot.Matrix3,Matrix4:()=>ot.Matrix4,Parsers:()=>tt.Parsers,PausableTimer:()=>ut.PausableTimer,PointGrid:()=>mt.PointGrid,ProteinSurface:()=>mt.ProteinSurface,Quaternion:()=>ot.Quaternion,ROYGB:()=>a.ROYGB,RWB:()=>a.RWB,Ray:()=>ot.Ray,Sinebow:()=>a.Sinebow,Sphere:()=>pt.Sphere,SurfaceType:()=>mt.SurfaceType,Triangle:()=>pt.Triangle,Vector2:()=>ot.Vector2,Vector3:()=>ot.Vector3,VolumeData:()=>vt.VolumeData,adjustVolumeStyle:()=>ut.adjustVolumeStyle,applyPartialCharges:()=>nt.applyPartialCharges,autoinit:()=>st.autoinit,autoload:()=>st.autoload,base64ToArray:()=>ut.base64ToArray,bondLength:()=>tt.bondLength,builtinColorSchemes:()=>_.builtinColorSchemes,builtinGradients:()=>a.builtinGradients,chains:()=>_.chains,clamp:()=>ot.clamp,conversionMatrix3:()=>ot.conversionMatrix3,createStereoViewer:()=>it.createStereoViewer,createViewer:()=>it.createViewer,createViewerGrid:()=>it.createViewerGrid,deepCopy:()=>ut.deepCopy,degToRad:()=>ot.degToRad,download:()=>ut.download,drawCartoon:()=>j.drawCartoon,elementColors:()=>_.elementColors,extend:()=>ut.extend,get:()=>ut.get,getAtomProperty:()=>ut.getAtomProperty,getColorFromStyle:()=>ut.getColorFromStyle,getElement:()=>ut.getElement,getExtent:()=>ut.getExtent,getGradient:()=>a.getGradient,getPropertyRange:()=>ut.getPropertyRange,getbin:()=>ut.getbin,htmlColors:()=>_.htmlColors,inflateString:()=>ut.inflateString,isEmptyObject:()=>ut.isEmptyObject,isNumeric:()=>ut.isNumeric,makeFunction:()=>ut.makeFunction,mergeGeos:()=>ut.mergeGeos,normalizeValue:()=>a.normalizeValue,partialCharges:()=>nt.partialCharges,processing_autoinit:()=>st.processing_autoinit,residues:()=>_.residues,setBondLength:()=>tt.setBondLength,setSyncSurface:()=>mt.setSyncSurface,specStringToObject:()=>ut.specStringToObject,splitMesh:()=>gt.splitMesh,ssColors:()=>_.ssColors,subdivide_spline:()=>j.subdivide_spline,syncSurface:()=>mt.syncSurface,viewers:()=>st.viewers});var a=o("./src/Gradient.ts"),_=o("./src/colors.ts"),$=o("./src/Label.ts"),nt=o("./src/partialCharges.ts"),tt=o("./src/parsers/index.ts"),ot=o("./src/WebGL/math/index.ts"),pt=o("./src/WebGL/shapes/index.ts"),ut=o("./src/utilities.ts"),mt=o("./src/ProteinSurface4.ts"),vt=o("./src/VolumeData.ts"),ht=o("./src/VolumetricRender.ts"),gt=o("./src/GLShape.ts"),rt=o("./src/GLDraw.ts"),j=o("./src/glcartoon.ts"),_e=o("./src/GLModel.ts"),it=o("./src/GLViewer.ts"),st=o("./src/autoload.ts");o("./src/specs.ts"),window&&(window.$3Dmol=s)},"./src/parsers/BCIF.ts":(i,s,o)=>{o.r(s),o.d(s,{BCIF:()=>gt});var a=o("./src/utilities.ts"),_=o("./src/parsers/utils/computeSecondaryStructure.ts"),$=o("./src/parsers/utils/processSymmetries.ts"),nt=o("./src/parsers/cifutils/category.ts"),tt=o("./src/parsers/utils/assignPDBBonds.ts"),ot=o("./src/WebGL/index.ts"),pt=o("./src/parsers/utils/isEmpty.ts"),ut=o("./src/vendor/mmtf.js");class mt{constructor(j){if(this.C={},j){let _e=j.getField("comp_id"),it=j.getField("atom_id_1"),st=j.getField("atom_id_2"),lt=j.getField("value_order");for(let et=0;et<_e.length;et++){let at=_e[et],ft=it[et],ct=st[et],xt=lt[et],dt=1;xt=="doub"?dt=2:xt=="trip"&&(dt=3),this.C[at]==null&&(this.C[at]={}),this.C[at][ft]==null&&(this.C[at][ft]={}),this.C[at][ct]==null&&(this.C[at][ct]={}),this.C[at][ft][ct]=dt,this.C[at][ct][ft]=dt}}}order(j,_e,it){return this.C[j]!==void 0&&this.C[j][_e]!==void 0&&this.C[j][_e][it]!==void 0?this.C[j][_e][it]:0}}class vt{constructor(j){if(this.C=[],j){let _e=j.getField("conn_type_id"),it=j.getField("ptnr1_label_asym_id"),st=j.getField("ptnr1_label_seq_id"),lt=j.getField("ptnr1_label_comp_id"),et=j.getField("ptnr1_label_atom_id"),at=j.getField("ptnr2_label_asym_id"),ft=j.getField("ptnr2_label_seq_id"),ct=j.getField("ptnr2_label_comp_id"),xt=j.getField("ptnr2_label_atom_id"),dt=j.getField("pdbx_value_order");for(let _t=0;_t<_e.length;_t++)if(_e[_t]=="disulf"||_e[_t]=="covale"){let Ct=dt?dt[_t]==""?1:parseInt(dt[_t]):1;this.C.push([[it[_t],st[_t],lt[_t],et[_t]],[at[_t],ft[_t],ct[_t],xt[_t]],Ct])}}}}class ht{constructor(){this.R={}}add(j){this.R[j.lchain]==null&&(this.R[j.lchain]={}),this.R[j.lchain][j.lresi]==null&&(this.R[j.lchain][j.lresi]={}),this.R[j.lchain][j.lresi][j.lresn]==null&&(this.R[j.lchain][j.lresi][j.lresn]=[]),this.R[j.lchain][j.lresi][j.lresn].push(j),this.R[j.lchain][j.lresi][j.lresn][j.atom]=j}geta([j,_e,it,st]){if(this.R[j]!==void 0&&this.R[j][_e]!==void 0&&this.R[j][_e][it]!==void 0)return this.R[j][_e][it][st]}setBonds(j,_e){for(let it in this.R)for(let st in this.R[it])for(let lt in this.R[it][st]){let et=this.R[it][st][lt];for(let at=0;at<et.length;at++)for(let ft=at+1;ft<et.length;ft++){let ct=et[at],xt=et[ft],dt=j.order(lt,ct.atom,xt.atom);dt>0&&(ct.bonds.push(xt.index),xt.bonds.push(ct.index),ct.bondOrder.push(dt),xt.bondOrder.push(dt))}}for(let it of _e.C){let st=it[0],lt=it[1],et=it[2],at=this.geta(st),ft=this.geta(lt);at!=null&&ft!=null&&(at.bonds.push(ft.index),ft.bonds.push(at.index),at.bondOrder.push(et),ft.bondOrder.push(et))}}}function gt(rt,j){var _e=!j.keepH,it=j.altLoc?j.altLoc:"A",st=!j.noComputeSecondaryStructure;const lt=!j.doAssembly,et=j.assignBonds===void 0?!0:j.assignBonds;if(typeof rt=="string")try{rt=(0,a.base64ToArray)(rt)}catch{rt=new TextEncoder().encode(rt)}else rt=new Uint8Array(rt);var at=ut.decodeMsgpack(rt);at==31&&(rt=(0,a.inflateString)(rt,!1),at=ut.decodeMsgpack(rt));var ft=[],ct=ft.modelData=[],xt=at.dataBlocks.length;if(xt==0)return ft;j.multimodel||(xt=1);for(let dt=0;dt<xt;dt++){let _t=ft.length;const Ct=[];ct.push({symmetries:[]}),ft.push([]);const Et=at.dataBlocks[dt],Mt=Object.create(null);for(const fr of Et.categories)Mt[fr.name.substr(1)]=(0,nt.Category)(fr);let St={},Ot=Mt.struct_conf;if(Ot){let fr=Ot.getField("conf_type_id"),pr=Ot.getField("beg_label_asym_id"),Lr=Ot.getField("beg_label_seq_id"),Pr=Ot.getField("end_label_seq_id");for(let Bt=0;Bt<fr.length;Bt++)if(fr[Bt].startsWith("H")){let Ut=pr[Bt],Wt=Lr[Bt],ar=Pr[Bt];Ut in St||(St[Ut]={}),St[Ut][Wt]="h1";for(let Xt=Wt+1;Xt<ar;Xt++)St[Ut][Xt]="h";St[Ut][ar]="h2"}}let At=Mt.struct_sheet_range;if(At){let fr=At.getField("id"),pr=At.getField("beg_label_asym_id"),Lr=At.getField("beg_label_seq_id"),Pr=At.getField("end_label_seq_id");for(let Bt=0;Bt<fr.length;Bt++){let Ut=pr[Bt],Wt=Lr[Bt],ar=Pr[Bt];Ut in St||(St[Ut]={}),St[Ut][Wt]="s1";for(let Xt=Wt+1;Xt<ar;Xt++)St[Ut][Xt]="s";St[Ut][ar]="s2"}}let wt=Mt.pdbx_struct_oper_list,Pt=wt.getField("id");if(Pt&&!lt){let fr=wt.getField("matrix[1][1]"),pr=wt.getField("matrix[1][2]"),Lr=wt.getField("matrix[1][3]"),Pr=wt.getField("matrix[2][1]"),Bt=wt.getField("matrix[2][2]"),Ut=wt.getField("matrix[2][3]"),Wt=wt.getField("matrix[3][1]"),ar=wt.getField("matrix[3][2]"),Xt=wt.getField("matrix[3][3]"),Er=wt.getField("vector[1]"),mr=wt.getField("vector[2]"),It=wt.getField("vector[3]");for(let Jt=0;Jt<Pt.length;Jt++){const sr=new ot.Matrix4(fr[Jt],pr[Jt],Lr[Jt],Er[Jt],Pr[Jt],Bt[Jt],Ut[Jt],mr[Jt],Wt[Jt],ar[Jt],Xt[Jt],It[Jt]);ct[ct.length-1].symmetries.push(sr)}}let Lt=new mt(Mt.chem_comp_bond),Rt=new ht,Dt=new vt(Mt.struct_conn),$t=Mt.atom_site,jt=$t.rowCount,Zt=$t.getField("group_PDB"),qt=$t.getField("Cartn_x"),er=$t.getField("Cartn_y"),Yt=$t.getField("Cartn_z"),Qt=$t.getField("auth_asym_id"),cr=$t.getField("label_asym_id"),lr=$t.getField("auth_seq_id"),gr=$t.getField("label_seq_id"),rr=$t.getField("auth_comp_id"),Gt=$t.getField("label_comp_id"),nr=$t.getField("auth_atom_id"),_r=$t.getField("label_atom_id"),Sr=$t.getField("type_symbol"),Ar=$t.getField("B_iso_or_equiv"),Or=$t.getField("id"),Mr=$t.getField("label_alt_id"),wr=$t.getField("pdbx_PDB_model_num"),Tr=wr?wr[0]:0;for(let fr=0;fr<jt;fr++){if(Zt!==void 0&&Zt[fr]==="TER")continue;if(wr&&wr[fr]!=Tr)if(Tr=wr[fr],j.multimodel)j.onemol||(ft.push([]),ct.push(ct[ct.length-1]),Tr=wr[fr],Rt.setBonds(Lt,Dt),Rt=new ht);else break;const pr={};pr.x=qt[fr],pr.y=er[fr],pr.z=Yt[fr],pr.chain=Qt?Qt[fr]:cr?cr[fr]:void 0,pr.lchain=cr?cr[fr]:void 0,pr.resi=lr?lr[fr]:gr?gr[fr]:void 0,pr.lresi=gr?gr[fr]:void 0,pr.resn=rr?rr[fr].trim():Gt?Gt[fr].trim():void 0,pr.lresn=Gt?Gt[fr].trim():void 0,pr.atom=nr?nr[fr].replace(/"/gm,""):_r?_r[fr].replace(/"/gm,""):void 0,pr.icode=Mr?Mr[fr]:void 0,pr.altLoc=pr.icode,pr.hetflag=!Zt||Zt[fr]==="HETA"||Zt[fr]==="HETATM";let Lr="X";Sr&&(Lr=Sr[fr].replace(/\(?\+?\d+.*/,"")),pr.elem=Lr[0].toUpperCase()+Lr.substring(1,2).toLowerCase(),Ar&&(pr.b=Ar[fr]),!(_e&&pr.elem=="H")&&(pr.altLoc!=""&&pr.altLoc!=it&&it!="*"||(pr.bonds=[],pr.ss="c",pr.serial=Or[fr],pr.model=Tr,pr.bondOrder=[],pr.properties={},pr.index=ft[ft.length-1].length,Ct[pr.serial]=[ft.length,pr.index],ft[ft.length-1].push(pr),Rt.add(pr)))}if(Rt.setBonds(Lt,Dt),!(0,pt.isEmpty)(St))for(let fr=_t;fr<ft.length;fr++){let pr=ft[fr];for(let Lr=0;Lr<pr.length;Lr++){const Pr=pr[Lr];if(Pr!==void 0&&Pr.lchain in St&&Pr.lresi in St[Pr.lchain]){const Bt=St[Pr.lchain][Pr.lresi];Pr.ss=Bt[0],Bt.length>1&&(Bt[1]=="1"?Pr.ssbegin=!0:Bt[1]=="2"&&(Pr.ssend=!0))}}}j.multimodel&&dt<xt-1&&(j.onemol||(ft.push([]),ct.push({symmetries:[]})))}for(let dt=0;dt<ft.length;dt++)et&&!(j.duplicateAssemblyAtoms&&!j.dontConnectDuplicatedAtoms)&&(0,tt.assignPDBBonds)(ft[dt],j),st&&(0,_.computeSecondaryStructure)(ft[dt],j.hbondCutoff),(0,$.processSymmetries)(ct[dt].symmetries,ft[dt],j,ct[dt].cryst),j.duplicateAssemblyAtoms&&!j.dontConnectDuplicatedAtoms&&et&&(0,tt.assignPDBBonds)(ft[dt],j);return ft}},"./src/parsers/CDJSON.ts":(i,s,o)=>{o.r(s),o.d(s,{CDJSON:()=>a});function a(_,$){var nt=[[]];typeof _=="string"&&(_=JSON.parse(_));for(var tt=_.m,ot=tt[0].a,pt=tt[0].b,ut=tt[0].s,mt=$!==void 0&&$.parseStyle!==void 0?$.parseStyle:ut!==void 0,vt=nt[nt.length-1].length,ht=0;ht<ot.length;ht++){var gt=ot[ht],rt={};rt.id=gt.i,rt.x=gt.x,rt.y=gt.y,rt.z=gt.z||0,rt.bonds=[],rt.bondOrder=[];var j=gt.l||"C";rt.elem=j[0].toUpperCase()+j.substring(1).toLowerCase(),rt.serial=nt[nt.length-1].length,mt&&(rt.style=ut[gt.s||0]),nt[nt.length-1].push(rt)}for(let _e=0;_e<pt.length;_e++){let it=pt[_e],st=it.b+vt,lt=it.e+vt,et=it.o||1,at=nt[nt.length-1][st],ft=nt[nt.length-1][lt];at.bonds.push(lt),at.bondOrder.push(et),ft.bonds.push(st),ft.bondOrder.push(et)}return nt}},"./src/parsers/CIF.ts":(i,s,o)=>{o.r(s),o.d(s,{CIF:()=>ot});var a=o("./src/parsers/utils/computeSecondaryStructure.ts"),_=o("./src/parsers/utils/processSymmetries.ts"),$=o("./src/WebGL/index.ts"),nt=o("./src/parsers/utils/assignPDBBonds.ts");const tt=function(pt,ut,mt,vt){return new $.Vector3(ut,mt,vt).applyMatrix3(pt)};function ot(pt,ut={}){const mt=[],vt=!ut.doAssembly,ht=mt.modelData=[],gt=ut.assignBonds===void 0?!0:ut.assignBonds;function rt(et,at){const ft=[];let ct=0,xt=0;for(;xt<et.length;){for(;et.substring(xt,xt+at.length)!==at&&xt<et.length;)if(et[xt]==="'"){for(xt++;xt<et.length&&et[xt]!=="'";)xt++;for(;et.substring(xt,xt+at.length)!==at&&xt<et.length;)xt++}else if(et[xt]==='"'){for(xt++;xt<et.length&&et[xt]!=='"';)xt++;xt++}else xt++;ft.push(et.substring(ct,xt)),ct=xt=xt+at.length}return ft}const j=pt.split(/\r?\n|\r/),_e=[];let it=!1;for(let et=0;et<j.length;et++){var st=j[et].split("#")[0];if(it?st[0]===";"&&(it=!1):st[0]===";"&&(it=!0),it||st!==""){if(!it&&(st=st.trim(),st[0]==="_")){const at=st.split(/\s/)[0].indexOf(".");if(at>-1){let ft=st.split("");ft[at]="_",st=ft.join(""),st=st.substring(0,at)+"_"+st.substring(at+1)}}_e.push(st)}}let lt=0;for(;lt<_e.length;){for(;!_e[lt].startsWith("data_")||_e[lt]==="data_global";)lt++;lt++;const et={};for(;lt<_e.length&&!_e[lt].startsWith("data_");)if(_e[lt][0]===void 0)lt++;else if(_e[lt][0]==="_"){const xt=_e[lt].split(/\s/)[0].toLowerCase(),dt=et[xt]=et[xt]||[],_t=_e[lt].substring(_e[lt].indexOf(xt)+xt.length);if(_t==="")if(lt++,_e[lt][0]===";"){let Ct=_e[lt].substring(1);for(lt++;_e[lt]!==";";)Ct=Ct+`
`+_e[lt],lt++;dt.push(Ct)}else dt.push(_e[lt]);else dt.push(_t.trim());lt++}else if(_e[lt].substring(0,5)==="loop_"){lt++;const xt=[];for(;_e[lt]===""||_e[lt][0]==="_";){if(_e[lt]!==""){let _t=_e[lt].split(/\s/)[0].toLowerCase(),Ct=et[_t]=et[_t]||[];xt.push(Ct)}lt++}let dt=0;for(;lt<_e.length&&_e[lt][0]!=="_"&&!_e[lt].startsWith("loop_")&&!_e[lt].startsWith("data_");){let _t=rt(_e[lt]," ");for(let Ct=0;Ct<_t.length;Ct++)_t[Ct]!==""&&(xt[dt].push(_t[Ct]),dt=(dt+1)%xt.length);lt++}}else lt++;ht.push({symmetries:[]}),mt.push([]);const at=et._atom_site_id!==void 0?et._atom_site_id.length:et._atom_site_label.length;let ft;if(et._cell_length_a!==void 0){const xt=parseFloat(et._cell_length_a),dt=parseFloat(et._cell_length_b),_t=parseFloat(et._cell_length_c),Ct=parseFloat(et._cell_angle_alpha)||90,Et=parseFloat(et._cell_angle_beta)||90,Mt=parseFloat(et._cell_angle_gamma)||90;ft=(0,$.conversionMatrix3)(xt,dt,_t,Ct,Et,Mt),ht[ht.length-1].cryst={a:xt,b:dt,c:_t,alpha:Ct,beta:Et,gamma:Mt}}for(let xt=0;xt<at;xt++){if(et._atom_site_group_pdb!==void 0&&et._atom_site_group_pdb[xt]==="TER")continue;const dt={};if(et._atom_site_cartn_x!==void 0)dt.x=parseFloat(et._atom_site_cartn_x[xt]),dt.y=parseFloat(et._atom_site_cartn_y[xt]),dt.z=parseFloat(et._atom_site_cartn_z[xt]);else{const Ct=tt(ft,parseFloat(et._atom_site_fract_x[xt]),parseFloat(et._atom_site_fract_y[xt]),parseFloat(et._atom_site_fract_z[xt]));dt.x=Ct.x,dt.y=Ct.y,dt.z=Ct.z}dt.chain=et._atom_site_auth_asym_id?et._atom_site_auth_asym_id[xt]:et._atom_site_label_asym_id?et._atom_site_label_asym_id[xt]:void 0,dt.resi=et._atom_site_auth_seq_id?parseInt(et._atom_site_auth_seq_id[xt]):et._atom_site_label_seq_id?et._atom_site_label_seq_id[xt]:void 0,dt.resn=et._atom_site_auth_comp_id?et._atom_site_auth_comp_id[xt].trim():et._atom_site_label_comp_id?et._atom_site_label_comp_id[xt].trim():void 0,dt.atom=et._atom_site_auth_atom_id?et._atom_site_auth_atom_id[xt].replace(/"/gm,""):et._atom_site_label_atom_id?et._atom_site_label_atom_id[xt].replace(/"/gm,""):void 0,dt.hetflag=!et._atom_site_group_pdb||et._atom_site_group_pdb[xt]==="HETA"||et._atom_site_group_pdb[xt]==="HETATM",et._atom_site_b_iso_or_equiv&&(dt.b=parseFloat(et._atom_site_b_iso_or_equiv[xt]));let _t="X";et._atom_site_type_symbol?_t=et._atom_site_type_symbol[xt].replace(/\(?\+?\d+.*/,""):et._atom_site_label&&(_t=et._atom_site_label[xt].split("_")[0].replace(/\(?\d+.*/,"")),dt.elem=_t[0].toUpperCase()+_t.substring(1,2).toLowerCase(),dt.bonds=[],dt.ss="c",dt.serial=xt,dt.bondOrder=[],dt.properties={},mt[mt.length-1].push(dt)}if(et._pdbx_struct_oper_list_id!==void 0&&!vt)for(let xt=0;xt<et._pdbx_struct_oper_list_id.length;xt++){const dt=parseFloat(et["_pdbx_struct_oper_list_matrix[1][1]"][xt]),_t=parseFloat(et["_pdbx_struct_oper_list_matrix[1][2]"][xt]),Ct=parseFloat(et["_pdbx_struct_oper_list_matrix[1][3]"][xt]),Et=parseFloat(et["_pdbx_struct_oper_list_vector[1]"][xt]),Mt=parseFloat(et["_pdbx_struct_oper_list_matrix[2][1]"][xt]),St=parseFloat(et["_pdbx_struct_oper_list_matrix[2][2]"][xt]),Ot=parseFloat(et["_pdbx_struct_oper_list_matrix[2][3]"][xt]),At=parseFloat(et["_pdbx_struct_oper_list_vector[2]"][xt]),wt=parseFloat(et["_pdbx_struct_oper_list_matrix[3][1]"][xt]),Pt=parseFloat(et["_pdbx_struct_oper_list_matrix[3][2]"][xt]),Lt=parseFloat(et["_pdbx_struct_oper_list_matrix[3][3]"][xt]),Rt=parseFloat(et["_pdbx_struct_oper_list_vector[3]"][xt]),Dt=new $.Matrix4(dt,_t,Ct,Et,Mt,St,Ot,At,wt,Pt,Lt,Rt);ht[ht.length-1].symmetries.push(Dt)}const ct=function(xt){const dt=xt.match("-");xt=xt.replace(/[-xyz]/g,"");const _t=xt.split("/");let Ct,Et;return _t[1]===void 0?Et=1:Et=parseInt(_t[1]),_t[0]===""?Ct=1:Ct=parseInt(_t[0]),Ct/Et*(dt?-1:1)};if(et._symmetry_equiv_pos_as_xyz!==void 0&&!vt)for(let xt=0;xt<et._symmetry_equiv_pos_as_xyz.length;xt++){const _t=et._symmetry_equiv_pos_as_xyz[xt].replace(/["' ]/g,"").split(",").map(function(St){return St.replace(/-/g,"+-")});let Ct=new $.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let St=0;St<3;St++){const Ot=_t[St].split("+");for(let At=0;At<Ot.length;At++){const wt=Ot[At];if(wt==="")continue;const Pt=ct(wt);wt.match("x")?Ct.elements[St+0]=Pt:wt.match("y")?Ct.elements[St+4]=Pt:wt.match("z")?Ct.elements[St+8]=Pt:Ct.elements[St+12]=Pt}}const Et=ft.getMatrix4(),Mt=new $.Matrix4().getInverse(Et,!0);Ct=new $.Matrix4().multiplyMatrices(Ct,Mt),Ct=new $.Matrix4().multiplyMatrices(Et,Ct),ht[ht.length-1].symmetries.push(Ct)}}for(let et=0;et<mt.length;et++)gt&&!(ut.duplicateAssemblyAtoms&&!ut.dontConnectDuplicatedAtoms)&&(0,nt.assignPDBBonds)(mt[et],ut),(0,a.computeSecondaryStructure)(mt[et],ut.hbondCutoff),(0,_.processSymmetries)(ht[et].symmetries,mt[et],ut,ht[et].cryst),ut.duplicateAssemblyAtoms&&!ut.dontConnectDuplicatedAtoms&&gt&&(0,nt.assignPDBBonds)(mt[et],ut);return mt}},"./src/parsers/CUBE.ts":(i,s,o)=>{o.r(s),o.d(s,{CUBE:()=>nt});var a=o("./src/WebGL/index.ts"),_=o("./src/parsers/utils/assignBonds.ts"),$=o("./src/parsers/utils/anumToSymbol.ts");function nt(tt,ot){ot=ot||{};const pt=[[]];let ut=tt.split(/\r?\n/);const mt=ot.assignBonds===void 0?!0:ot.assignBonds;if(ut.length<6)return pt;let vt=ut[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const ht=Math.abs(parseFloat(vt[0]));let gt={origin:void 0,size:void 0,unit:void 0,matrix4:void 0,matrix:void 0};const rt=gt.origin=new a.Vector3(parseFloat(vt[1]),parseFloat(vt[2]),parseFloat(vt[3]));vt=ut[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),vt=ut[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const j=vt[0]>0?.529177:1;rt.multiplyScalar(j);const _e=Math.abs(vt[0]),it=new a.Vector3(parseFloat(vt[1]),parseFloat(vt[2]),parseFloat(vt[3])).multiplyScalar(j);vt=ut[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const st=Math.abs(vt[0]),lt=new a.Vector3(parseFloat(vt[1]),parseFloat(vt[2]),parseFloat(vt[3])).multiplyScalar(j);vt=ut[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const et=Math.abs(vt[0]),at=new a.Vector3(parseFloat(vt[1]),parseFloat(vt[2]),parseFloat(vt[3])).multiplyScalar(j);if(gt.size={x:_e,y:st,z:et},gt.unit=new a.Vector3(it.x,lt.y,at.z),it.y!=0||it.z!=0||lt.x!=0||lt.z!=0||at.x!=0||at.y!=0){gt.matrix4=new a.Matrix4(it.x,lt.x,at.x,0,it.y,lt.y,at.y,0,it.z,lt.z,at.z,0,0,0,0,1);let Et=new a.Matrix4().makeTranslation(rt.x,rt.y,rt.z);gt.matrix4=gt.matrix4.multiplyMatrices(Et,gt.matrix4),gt.matrix=gt.matrix4.matrix3FromTopLeft(),gt.origin=new a.Vector3(0,0,0),gt.unit=new a.Vector3(1,1,1)}pt.modelData=[{cryst:gt}],ut=ut.splice(6,ht);for(var ft=pt[pt.length-1].length,ct=ft+ut.length,xt=ft;xt<ct;++xt){var dt={};dt.serial=xt;var _t=ut[xt-ft],Ct=_t.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");dt.elem=$.anumToSymbol[Ct[0]],dt.x=parseFloat(Ct[2])*j,dt.y=parseFloat(Ct[3])*j,dt.z=parseFloat(Ct[4])*j,dt.hetflag=!0,dt.bonds=[],dt.bondOrder=[],dt.properties={},pt[pt.length-1].push(dt)}if(mt)for(let Et=0;Et<pt.length;Et++)(0,_.assignBonds)(pt[Et],ot);return pt}},"./src/parsers/GRO.ts":(i,s,o)=>{o.r(s),o.d(s,{GRO:()=>$});var a=o("./src/parsers/utils/assignPDBBonds.ts"),_=o("./src/parsers/utils/atomNameToElem.ts");function $(nt,tt){const ot=[],pt=nt.split(/\r?\n|\r/);for(;pt.length>0;){const ut=parseInt(pt[1]);if(pt.length<3||isNaN(ut)||ut<=0||pt.length<ut+3)break;const vt=[];ot.push(vt);let ht=2;const gt=vt.length,rt=gt+ut;for(let j=gt;j<rt;j++){const _e=pt[ht++],it={};it.serial=j,it.atom=_e.slice(10,15).trim(),it.elem=(0,_.atomNameToElem)(it.atom,!0),it.x=10*parseFloat(_e.slice(20,28)),it.y=10*parseFloat(_e.slice(28,36)),it.z=10*parseFloat(_e.slice(36,44)),it.resi=parseInt(_e.slice(0,5)),it.resn=_e.slice(5,10).trim(),it.bonds=[],it.bondOrder=[],it.properties={},_e.length>44&&(it.dx=10*parseFloat(_e.slice(44,52)),it.dy=10*parseFloat(_e.slice(52,60)),it.dz=10*parseFloat(_e.slice(60,68))),vt[j]=it}if(pt.length<=ht+3){const _e=pt[ht++].trim().split(/\s+/);if(_e.length===3){for(let it=0;it<3;it++)_e[it]=(parseFloat(_e[it])*10).toString();ot.box=_e}}pt.splice(0,++ht)}for(let ut=0;ut<ot.length;ut++)(0,a.assignPDBBonds)(ot[ut],tt);return ot}},"./src/parsers/LAMMPSTRJ.ts":(i,s,o)=>{o.r(s),o.d(s,{LAMMPSTRJ:()=>$});var a=o("./src/parsers/utils/assignBonds.ts");const _={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"};function $(nt,tt){const ot=[],pt=nt.split(/\r?\n|\r/);let ut=0,mt=0,vt=0;for(;vt<pt.length-9;){for(var ht=vt;ht<pt.length;ht++)if(pt[ht].match(/ITEM: NUMBER OF ATOMS/)&&(mt=parseInt(pt[ht+1])),pt[ht].match(/ITEM: ATOMS/)){ut=ht+1;break}const gt=pt[ut-1].replace("ITEM: ATOMS ","").split(" ");ot.push([]);for(let rt=ut;rt<ut+mt;rt++){const j={},_e={},it=pt[rt].split(" ");for(let st=0;st<it.length;st++){const lt=_[gt[st]];lt!==void 0&&(lt==="serial"?j[lt]=parseInt(it[st]):lt==="x"||lt==="y"||lt==="z"?j[lt]=parseFloat(it[st]):lt==="charge"||lt==="radius"?_e[lt]=parseFloat(it[st]):j[lt]=it[st]),j.properties=_e,j.bonds=[],j.bondOrder=[]}ot[ot.length-1][rt-ut]=j}vt=ut+mt-1}if(tt.assignBonds)for(let gt=0;gt<ot.length;gt++)(0,a.assignBonds)(ot[gt],tt);return ot}},"./src/parsers/MMTF.ts":(i,s,o)=>{o.r(s),o.d(s,{MMTFparser:()=>mt});var a=o("./src/utilities.ts"),_=o("./src/WebGL/index.ts"),$=o("./src/parsers/utils/computeSecondaryStructure.ts"),nt=o("./src/parsers/utils/processSymmetries.ts"),tt=o("./src/vendor/mmtf.js"),ot=function(vt){return String.fromCharCode.apply(null,vt).replace(/\0/g,"")},pt=function(vt){return vt==0||vt==2||vt==4?"h":vt==3?"s":"c"};let ut=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function mt(vt,ht){var gt=!ht.keepH,rt=ht.altLoc?ht.altLoc:"A",j=!!ht.noSecondaryStructure,_e=!ht.noComputeSecondaryStructure,it=!ht.doAssembly,st=ht.assemblyIndex?ht.assemblyIndex:0;typeof vt=="string"?vt=(0,a.base64ToArray)(vt):vt=new Uint8Array(vt);var lt=tt.decode(vt),et=[[]],at=et.modelData=[],ft=0,ct=0,xt=0,dt=lt.secStructList,_t=lt.bFactorList,Ct=lt.altLocList,Et=lt.occupancyList,Mt=lt.bondAtomList,St=lt.bondOrderList,Ot=lt.numModels;if(Ot==0)return et;ht.multimodel||(Ot=1);var At,wt,Pt,Lt,Rt,Dt,$t=[];if(!it&&lt.bioAssemblyList&&lt.bioAssemblyList.length>0){var jt=lt.bioAssemblyList[st].transformList;for(At=0,Dt=jt.length;At<Dt;At++){var Zt=new _.Matrix4(jt[At].matrix);Zt.transpose(),$t.push(Zt)}}var qt=null;if(lt.unitCell){var er=lt.unitCell;qt={a:er[0],b:er[1],c:er[2],alpha:er[3],beta:er[4],gamma:er[5]}}let Yt=[];lt.entityList.forEach(or=>{or.chainIndexList.forEach(Ft=>{Yt[Ft]=or.type=="polymer"})});var Qt=0;for(Rt=0;Rt<Ot;Rt++){var cr=lt.chainsPerModel[Rt],lr=et[et.length-1],gr=[];for(at.push({symmetries:$t,cryst:qt}),At=0;At<cr;++At){var rr=lt.groupsPerChain[ft],Gt=ot(lt.chainIdList.subarray(ft*4,ft*4+4));lt.chainNameList&&(Gt=ot(lt.chainNameList.subarray(ft*4,ft*4+4)));var nr=ct,_r="";for(wt=0;wt<rr;++wt){var Sr=lt.groupList[lt.groupTypeList[ct]],Ar=Sr.atomNameList.length,Or=0,Mr=!1,wr=!1;if(dt){Or=dt[ct];var Tr=pt(Or);(ct==0||Tr!=_r)&&(Mr=!0),_r=Tr;var fr=ct+1;(fr>=dt.length||pt(dt[fr]!=Tr))&&(wr=!0)}var pr=lt.groupIdList[ct],Lr=Sr.groupName;let or=Sr.chemCompType;var Pr=xt;let Ft=ut.has(or)||!Yt[ft];for(Pt=0;Pt<Ar;++Pt){var Bt=Sr.elementList[Pt];if(gt&&Bt=="H"){xt+=1;continue}var Ut="";_t&&(Ut=_t[xt]);var Wt="";Ct&&Ct[xt]&&(Wt=String.fromCharCode(Ct[xt]));var ar="";if(Et&&(ar=Et[xt]),Wt!=""&&Wt!=rt&&rt!="*"){xt+=1;continue}var Xt=lt.atomIdList[xt],Er=Sr.atomNameList[Pt],mr=0;Sr.atomChargeList&&(mr=Sr.atomChargeList[Pt]);var It=lt.xCoordList[xt],Jt=lt.yCoordList[xt],sr=lt.zCoordList[xt];gr[xt]=lr.length,lr.push({resn:Lr,x:It,y:Jt,z:sr,elem:Bt,hetflag:Ft,chain:Gt,resi:pr,icode:Wt,rescode:pr+(Wt!=" "?"^"+Wt:""),serial:Xt,altLoc:Wt,index:xt,atom:Er,bonds:[],ss:pt(Or),ssbegin:Mr,ssend:wr,bondOrder:[],properties:{charge:mr,occupancy:ar},b:Ut}),xt+=1}var Cr=Sr.bondAtomList;for(Pt=0,Lt=Sr.bondOrderList.length;Pt<Lt;++Pt){var tr=Pr+Cr[Pt*2],vr=Pr+Cr[Pt*2+1],kt=Sr.bondOrderList[Pt],br=gr[tr],Dr=gr[vr],Tt=lr[br],ur=lr[Dr];Tt&&ur&&(Tt.bonds.push(Dr),Tt.bondOrder.push(kt),ur.bonds.push(br),ur.bondOrder.push(kt))}ct+=1}for(ct=nr,wt=0;wt<rr;++wt)ct+=1;ft+=1}if(Mt)for(let or=Qt,Ft=Mt.length;or<Ft;or+=2){let Ht=Mt[or],hr=Mt[or+1],Br=St?St[or/2]:1;if(Ht>=xt){Qt=or;break}let zr=gr[Ht],Ir=gr[hr],jr=lr[zr],fn=lr[Ir];jr&&fn&&(jr.bonds.push(Ir),jr.bondOrder.push(Br),fn.bonds.push(zr),fn.bondOrder.push(Br))}ht.multimodel&&(ht.onemol||et.push([]))}if(!it)for(let or=0;or<et.length;or++)(0,nt.processSymmetries)(at[or].symmetries,et[or],ht,at[or].cryst);return _e&&!j&&(0,$.computeSecondaryStructure)(et,ht.hbondCutoff),et}},"./src/parsers/MOL2.ts":(i,s,o)=>{o.r(s),o.d(s,{MOL2:()=>_});let a={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function _($,nt){var tt=[[]],ot=!1;typeof nt.keepH<"u"&&(ot=!nt.keepH);var pt=$.search(/@<TRIPOS>MOLECULE/),ut=$.search(/@<TRIPOS>ATOM/);if(pt==-1||ut==-1)return tt;for(var mt=$.substring(pt).split(/\r?\n|\r/);mt.length>0;){var vt=[],ht=mt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),gt=parseInt(ht[0]),rt=0;ht.length>1&&(rt=parseInt(ht[1]));var j=4,_e;for(_e=3;_e<mt.length;_e++)if(mt[_e]=="@<TRIPOS>ATOM"){j=_e+1;break}var it=tt[tt.length-1].length,st=it+gt,lt;for(_e=it;_e<st;_e++){lt=mt[j++],ht=lt.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var et={},at=ht[5];if(a[at]!==void 0?at=a[at]:(at=at.split(".")[0],at=at[0].toUpperCase()+at.substring(1).toLowerCase()),et.atom=ht[1],et.elem=at,!(et.elem=="H"&&ot)){var ft=tt[tt.length-1].length,ct=parseInt(ht[0]);et.serial=ct,et.x=parseFloat(ht[2]),et.y=parseFloat(ht[3]),et.z=parseFloat(ht[4]),et.atom=ht[5];var xt=parseFloat(ht[8]);et.index=ft,et.bonds=[],et.bondOrder=[],et.properties={charge:xt,partialCharge:xt},vt[ct]=ft,tt[tt.length-1].push(et)}}for(var dt=!1;j<mt.length;)if(mt[j++]=="@<TRIPOS>BOND"){dt=!0;break}if(dt&&rt)for(_e=0;_e<rt;_e++){lt=mt[j++],ht=lt.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var _t=parseInt(ht[1]),Ct=tt[tt.length-1][vt[_t]],Et=parseInt(ht[2]),Mt=tt[tt.length-1][vt[Et]],St=parseInt(ht[3]);isNaN(St)&&(St=1),Ct!==void 0&&Mt!==void 0&&(Ct.bonds.push(vt[Et]),Ct.bondOrder.push(St),Mt.bonds.push(vt[_t]),Mt.bondOrder.push(St))}if(nt.multimodel){nt.onemol||tt.push([]),mt.splice(0,j),$=mt.join(`
`);continue}else break}return tt}},"./src/parsers/PDB.ts":(i,s,o)=>{o.r(s),o.d(s,{PDB:()=>_});var a=o("./src/parsers/utils/getSinglePDB.ts");function _($,nt){nt=nt||{};var tt=[],ot={};tt.modelData=[];for(var pt=$.split(/\r?\n|\r/);pt.length>0;){var ut=(0,a.getSinglePDB)(pt,nt,ot),mt=ut[0],vt=ut[1];if(pt=ut[2],mt.length!=0){if(nt.multimodel&&nt.onemol&&tt.length>0)for(var ht=tt[0].length,gt=0;gt<mt.length;gt++){var rt=mt[gt];rt.index=gt;for(var j=0;j<rt.bonds.length;j++)rt.bonds[j]+=ht;tt[0].push(rt)}else tt.modelData.push(vt),tt.push(mt);if(!nt.multimodel)break}}return tt}},"./src/parsers/PQR.ts":(i,s,o)=>{o.r(s),o.d(s,{PQR:()=>$});var a=o("./src/parsers/utils/assignPDBBonds.ts"),_=o("./src/parsers/utils/computeSecondaryStructure.ts");function $(nt,tt){var ot=[[]],pt=!tt.noSecondaryStructure;ot.modelData=[{symmetries:[]}];var ut=[],mt=nt.split(/\r?\n|\r/),vt;for(let dt=0;dt<mt.length;dt++){vt=mt[dt].replace(/^\s*/,"");var ht=vt.substring(0,6);if(ht.indexOf("END")==0)if(tt.multimodel){tt.onemol||ot.push([]);continue}else break;else if(ht=="ATOM  "||ht=="HETATM"){var gt;let _t=parseInt(vt.substring(6,11)),Ct=vt.substring(12,16).replace(/ /g,""),Et=vt.substring(17,20).trim(),Mt=vt.substring(21,22),St=parseInt(vt.substring(22,26));var rt=vt.substring(30).trim().split(/\s+/),j=parseFloat(rt[0]),_e=parseFloat(rt[1]),it=parseFloat(rt[2]),st=parseFloat(rt[3]),lt=parseFloat(rt[4]),et=Ct[0];Ct.length>1&&Ct[1].toUpperCase()!=Ct[1]&&(et=Ct.substring(0,2)),vt[0]=="H"?gt=!0:gt=!1,ut[_t]=ot[ot.length-1].length,ot[ot.length-1].push({resn:Et,x:j,y:_e,z:it,elem:et,hetflag:gt,chain:Mt,resi:St,serial:_t,atom:Ct,bonds:[],ss:"c",bondOrder:[],properties:{charge:st,partialCharge:st,radius:lt},pdbline:vt})}else if(ht=="CONECT"){var at=parseInt(vt.substring(6,11)),ft=ot[ot.length-1][ut[at]];for(let _t=0;_t<4;_t++){var ct=parseInt(vt.substring([11,16,21,26][_t],[11,16,21,26][_t]+5)),xt=ot[ot.length-1][ut[ct]];ft!==void 0&&xt!==void 0&&(ft.bonds.push(ut[ct]),ft.bondOrder.push(1))}}}for(let dt=0;dt<ot.length;dt++)(0,a.assignPDBBonds)(ot[dt],tt),pt&&(0,_.computeSecondaryStructure)(ot[dt],tt.hbondCutoff);return ot}},"./src/parsers/PRMTOP.ts":(i,s,o)=>{o.r(s),o.d(s,{PRMTOP:()=>a});function a(_){var $=[],nt,tt=0,ot=_.split(/\r?\n|\r/);if(ot.length>0&&ot[0].includes("VERSION")){var pt=ot.filter(function(j){return j.includes("POINTERS")||j.includes("ATOM_NAME")||j.includes("CHARGE")||j.includes("RADII")||j.includes("BONDS_INC_HYDROGEN")||j.includes("BONDS_WITHOUT_HYDROGEN")}),ut=gt("POINTERS");if(ut==-1)return[];var mt=rt(ut),vt=parseInt(ot[ut+1].slice(0,mt[1]));if(isNaN(vt)||vt<=0)return[];if(ut=gt("ATOM_NAME"),ut==-1)return[];mt=rt(ut);var ht=mt[0];for(let j=0;j<vt/mt[0];j++){j==parseInt(vt/mt[0])&&(ht=vt%mt[0]);for(let _e=0;_e<ht;_e++){let it={},st={charge:"",radii:""};it.serial=tt,it.x=0,it.y=0,it.z=0,it.atom=ot[ut+1].slice(mt[1]*_e,mt[1]*(_e+1)).trim(),it.elem=ot[ut+1].slice(mt[1]*_e,mt[1]*_e+1).trim(),it.properties=st,it.bonds=[],it.bondOrder=[],$.push(it),tt++}ut++}if(ut=gt("CHARGE"),ut!=-1){mt=rt(ut),tt=0,ht=mt[0];for(let j=0;j<vt/mt[0];j++){j==parseInt(vt/mt[0])&&(ht=vt%mt[0]);for(let _e=0;_e<ht;_e++)$[tt].properties.charge=parseFloat(ot[ut+1].slice(mt[1]*_e,mt[1]*(_e+1))),tt++;ut++}}if(ut=gt("RADII"),ut!=-1){mt=rt(ut),tt=0,ht=mt[0];for(let j=0;j<vt/mt[0];j++){j==parseInt(vt/mt[0])&&(ht=vt%mt[0]);for(let _e=0;_e<ht;_e++)$[tt].properties.radii=parseFloat(ot[ut+1].slice(mt[1]*_e,mt[1]*(_e+1))),tt++;ut++}}if(ut=gt("BONDS_WITHOUT_HYDROGEN"),ut!=-1)for(mt=rt(ut),tt=0,ht=mt[0],ut=ut+1;!ot[ut].match(/^%FLAG/);){ot[ut+1].match(/^%FLAG/)&&(ht=vt%mt[0]);for(let j=0;j<ht;j++)tt%3==0?nt=parseInt(ot[ut].slice(mt[1]*j,mt[1]*(j+1))/3):tt%3==1&&$[nt].bonds.push(parseInt(ot[ut].slice(mt[1]*j,mt[1]*(j+1))/3)),tt++;ut++}if(ut=gt("BONDS_INC_HYDROGEN"),ut!=-1)for(mt=rt(ut),tt=0,ht=mt[0],ut=ut+1;!ot[ut].match(/^%FLAG/);){ot[ut+1].match(/^%FLAG/)&&(ht=vt%mt[0]);for(let j=0;j<ht;j++)tt%3==0?nt=parseInt(ot[ut].slice(mt[1]*j,mt[1]*(j+1))/3):tt%3==1&&$[nt].bonds.push(parseInt(ot[ut].slice(mt[1]*j,mt[1]*(j+1))/3)),tt++;ut++}}else return[];function gt(j){var _e=ot.indexOf(pt.filter(function(it){return it.includes(j)})[0]);if(Number.isInteger(_e)&&_e>0){for(;!ot[_e].includes("FORMAT");)_e++;return _e}else return-1}function rt(j){var _e=ot[j].match(/\((\d*)\S*/),it=ot[j].match(/[a-zA-Z](\d*)\)\s*/);return it==null&&(it=ot[j].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[_e[1],it[1]]}return[$]}},"./src/parsers/SDF.ts":(i,s,o)=>{o.r(s),o.d(s,{SDF:()=>$});var a=function(nt,tt){var ot=[[]],pt=!1;for(typeof tt.keepH<"u"&&(pt=!tt.keepH);nt.length>0&&!(nt.length<4);){var ut=parseInt(nt[3].substring(0,3));if(isNaN(ut)||ut<=0)break;var mt=parseInt(nt[3].substring(3,6)),vt=4;if(nt.length<4+ut+mt)break;var ht=[],gt=ot[ot.length-1].length,rt=gt+ut,j,_e;for(j=gt;j<rt;j++,vt++){_e=nt[vt];var it={},st=_e.substring(31,34).replace(/ /g,"");it.atom=it.elem=st[0].toUpperCase()+st.substring(1).toLowerCase(),(it.elem!=="H"||!pt)&&(it.serial=j,ht[j]=ot[ot.length-1].length,it.x=parseFloat(_e.substring(0,10)),it.y=parseFloat(_e.substring(10,20)),it.z=parseFloat(_e.substring(20,30)),it.hetflag=!0,it.bonds=[],it.bondOrder=[],it.properties={},it.index=ot[ot.length-1].length,ot[ot.length-1].push(it))}for(j=0;j<mt;j++,vt++){_e=nt[vt];var lt=ht[parseInt(_e.substring(0,3))-1+gt],et=ht[parseInt(_e.substring(3,6))-1+gt],at=parseFloat(_e.substring(6));typeof lt<"u"&&typeof et<"u"&&(ot[ot.length-1][lt].bonds.push(et),ot[ot.length-1][lt].bondOrder.push(at),ot[ot.length-1][et].bonds.push(lt),ot[ot.length-1][et].bondOrder.push(at))}if(tt.multimodel){for(tt.onemol||ot.push([]);nt[vt]!=="$$$$"&&vt<nt.length;)vt++;nt.splice(0,++vt)}else break}return ot},_=function(nt,tt){var ot=[[]],pt=!1;for(typeof tt.keepH<"u"&&(pt=!tt.keepH);nt.length>0&&!(nt.length<8||!nt[4].startsWith("M  V30 BEGIN CTAB")||!nt[5].startsWith("M  V30 COUNTS")||nt[5].length<14);){var ut=nt[5].substring(13).match(/\S+/g);if(ut.length<2)break;var mt=parseInt(ut[0]);if(isNaN(mt)||mt<=0)break;var vt=parseInt(ut[1]),ht=7;if(nt.length<8+mt+vt)break;var gt=[],rt=ot[ot.length-1].length,j=rt+mt,_e,it;for(_e=rt;_e<j;_e++,ht++){it=nt[ht];var st=it.substring(6).match(/\S+/g);if(st.length>4){var lt={},et=st[1].replace(/ /g,"");lt.atom=lt.elem=et[0].toUpperCase()+et.substring(1).toLowerCase(),(lt.elem!=="H"||!pt)&&(lt.serial=_e,gt[_e]=ot[ot.length-1].length,lt.x=parseFloat(st[2]),lt.y=parseFloat(st[3]),lt.z=parseFloat(st[4]),lt.hetflag=!0,lt.bonds=[],lt.bondOrder=[],lt.properties={},lt.index=ot[ot.length-1].length,ot[ot.length-1].push(lt))}}if(nt[ht]==="M  V30 END ATOM")ht++;else break;if(vt!==0&&nt[ht]==="M  V30 BEGIN BOND")ht++;else break;for(_e=0;_e<vt;_e++,ht++){it=nt[ht];var at=it.substring(6).match(/\S+/g);if(at.length>3){var ft=gt[parseInt(at[2])-1+rt],ct=gt[parseInt(at[3])-1+rt],xt=parseFloat(at[1]);typeof ft<"u"&&typeof ct<"u"&&(ot[ot.length-1][ft].bonds.push(ct),ot[ot.length-1][ft].bondOrder.push(xt),ot[ot.length-1][ct].bonds.push(ft),ot[ot.length-1][ct].bondOrder.push(xt))}}if(tt.multimodel){for(tt.onemol||ot.push([]);nt[ht]!=="$$$$"&&ht<nt.length;)ht++;nt.splice(0,++ht)}else break}return ot};function $(nt,tt){var ot="V2000",pt=nt.split(/\r?\n|\r/);return pt.length>3&&pt[3].length>38&&(ot=pt[3].substring(34,39)),ot==="V2000"?a(pt,tt):ot==="V3000"?_(pt,tt):[[""]]}},"./src/parsers/VASP.ts":(i,s,o)=>{o.r(s),o.d(s,{VASP:()=>$});var a=o("./src/WebGL/index.ts"),_=o("./src/parsers/utils/assignBonds.ts");function $(nt,tt={}){var ot=[[]],pt={};const ut=tt.assignBonds===void 0?!0:tt.assignBonds;var mt=nt.replace(/^\s+/,"").split(/\r?\n/);if(mt.length<3)return ot;if(mt[1].match(/\d+/))pt.length=parseFloat(mt[1]);else return console.log("Warning: second line of the vasp structure file must be a number"),ot;if(pt.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),ot;pt.xVec=new Float32Array(mt[2].replace(/^\s+/,"").split(/\s+/)),pt.yVec=new Float32Array(mt[3].replace(/^\s+/,"").split(/\s+/)),pt.zVec=new Float32Array(mt[4].replace(/^\s+/,"").split(/\s+/));var vt=new a.Matrix3(pt.xVec[0],pt.xVec[1],pt.xVec[2],pt.yVec[0],pt.yVec[1],pt.yVec[2],pt.zVec[0],pt.zVec[1],pt.zVec[2]);vt.multiplyScalar(pt.length),ot.modelData=[{symmetries:[],cryst:{matrix:vt}}];var ht=mt[5].trim().split(/\s+/),gt=new Int16Array(mt[6].trim().split(/\s+/)),rt=mt[7].trim(),j=!1;if(rt.match(/S/)&&(j=!0,rt=mt[8].trim()),rt.toLowerCase()[0]=="c")rt="cartesian";else if(rt.toLowerCase()[0]=="d")rt="direct";else return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),ot;if(ht.length!=gt.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(ht),console.log(gt),ot;j?mt.splice(0,9):mt.splice(0,8);for(var _e=0,it=0,st=ht.length;it<st;it++){for(var lt=ht[it],et=0,at=gt[it];et<at;et++){var ft=new Float32Array(mt[_e+et].trim().split(/\s+/)),ct={};ct.elem=lt,rt=="cartesian"?(ct.x=pt.length*ft[0],ct.y=pt.length*ft[1],ct.z=pt.length*ft[2]):(ct.x=pt.length*(ft[0]*pt.xVec[0]+ft[1]*pt.yVec[0]+ft[2]*pt.zVec[0]),ct.y=pt.length*(ft[0]*pt.xVec[1]+ft[1]*pt.yVec[1]+ft[2]*pt.zVec[1]),ct.z=pt.length*(ft[0]*pt.xVec[2]+ft[1]*pt.yVec[2]+ft[2]*pt.zVec[2])),ct.bonds=[],ct.bondOrder=[],ot[0].push(ct)}_e+=gt[it]}if(ut)for(let xt=0;xt<ot.length;xt++)(0,_.assignBonds)(ot[xt],tt);return ot}},"./src/parsers/XYZ.ts":(i,s,o)=>{o.r(s),o.d(s,{XYZ:()=>$});var a=o("./src/WebGL/index.ts"),_=o("./src/parsers/utils/assignBonds.ts");function $(nt,tt){tt=tt||{};for(var ot=[[]],pt=tt.assignBonds===void 0?!0:tt.assignBonds,ut=nt.split(/\r?\n|\r/);ut.length>0&&!(ut.length<3);){var mt=parseInt(ut[0]);if(isNaN(mt)||mt<=0||ut.length<mt+2)break;var vt=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi,ht=vt.exec(ut[1]);if(ht!=null&&ht.length>1){var gt=new Float32Array(ht[1].split(/\s+/)),rt=new a.Matrix3(gt[0],gt[3],gt[6],gt[1],gt[4],gt[7],gt[2],gt[5],gt[8]);ot.modelData=[{cryst:{matrix:rt}}]}for(var j=2,_e=ot[ot.length-1].length,it=_e+mt,st=_e;st<it;st++){var lt=ut[j++],et=lt.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),at={};at.serial=st;var ft=et[0];at.atom=at.elem=ft[0].toUpperCase()+ft.substring(1,2).toLowerCase(),at.x=parseFloat(et[1]),at.y=parseFloat(et[2]),at.z=parseFloat(et[3]),at.hetflag=!0,at.bonds=[],at.bondOrder=[],at.properties={},ot[ot.length-1][st]=at,et.length>=7&&(at.dx=parseFloat(et[4]),at.dy=parseFloat(et[5]),at.dz=parseFloat(et[6]))}if(tt.multimodel)ot.push([]),ut.splice(0,j);else break}if(pt)for(let xt=0;xt<ot.length;xt++)(0,_.assignBonds)(ot[xt],tt);if(tt.onemol){var ct=ot;ot=[],ot.push(ct[0]);for(let xt=1;xt<ct.length;xt++){let dt=ot[0].length;for(let _t=0;_t<ct[xt].length;_t++){let Ct=ct[xt][_t];for(let Et=0;Et<Ct.bonds.length;Et++)Ct.bonds[Et]=Ct.bonds[Et]+dt;Ct.index=ot[0].length,Ct.serial=ot[0].length,ot[0].push(Ct)}}}return ot}},"./src/parsers/cifutils/category.ts":(i,s,o)=>{o.r(s),o.d(s,{Category:()=>_});var a=o("./src/parsers/cifutils/decoder.ts");function _($){const nt=Object.create(null),tt=Object.create(null);for(const ot of $.columns)nt[ot.name]=ot;return{rowCount:$.rowCount,name:$.name.substring(1),fieldNames:$.columns.map(ot=>ot.name),getField(ot){const pt=nt[ot];if(pt)return tt[ot]||(tt[ot]=(0,a.decode)(pt.data)),tt[ot]}}}},"./src/parsers/cifutils/decoder.ts":(i,s,o)=>{o.r(s),o.d(s,{decode:()=>nt});var a=o("./src/parsers/cifutils/encoding.ts");const _=new Uint16Array(new Uint8Array([18,52]).buffer)[0]===13330;function $(dt,_t){const Ct=new ArrayBuffer(dt.length),Et=new Uint8Array(Ct);for(let Mt=0,St=dt.length;Mt<St;Mt+=_t)for(let Ot=0;Ot<_t;Ot++)Et[Mt+_t-Ot-1]=dt[Mt+Ot];return Ct}function nt(dt){let _t=dt.data;for(let Ct=dt.encoding.length-1;Ct>=0;Ct--)_t=tt(_t,dt.encoding[Ct]);return _t}function tt(dt,_t){switch(_t.kind){case"ByteArray":switch(_t.type){case a.Encoding.IntDataType.Uint8:return dt;case a.Encoding.IntDataType.Int8:return ut(dt);case a.Encoding.IntDataType.Int16:return vt(dt);case a.Encoding.IntDataType.Uint16:return ht(dt);case a.Encoding.IntDataType.Int32:return gt(dt);case a.Encoding.IntDataType.Uint32:return rt(dt);case a.Encoding.FloatDataType.Float32:return j(dt);case a.Encoding.FloatDataType.Float64:return _e(dt);default:throw new Error("unreachable")}case"FixedPoint":return it(dt,_t);case"IntervalQuantization":return st(dt,_t);case"RunLength":return lt(dt,_t);case"Delta":return et(dt,_t);case"IntegerPacking":return ct(dt,_t);case"StringArray":return xt(dt,_t)}}function ot(dt,_t){switch(dt){case a.Encoding.IntDataType.Int8:return new Int8Array(_t);case a.Encoding.IntDataType.Int16:return new Int16Array(_t);case a.Encoding.IntDataType.Int32:return new Int32Array(_t);case a.Encoding.IntDataType.Uint8:return new Uint8Array(_t);case a.Encoding.IntDataType.Uint16:return new Uint16Array(_t);case a.Encoding.IntDataType.Uint32:return new Uint32Array(_t);default:return new Int32Array(_t)}}function pt(dt,_t){switch(dt){case a.Encoding.FloatDataType.Float32:return new Float32Array(_t);case a.Encoding.FloatDataType.Float64:return new Float64Array(_t);default:return new Float64Array(_t)}}function ut(dt){return new Int8Array(dt.buffer,dt.byteOffset)}function mt(dt,_t,Ct){return(dt.byteOffset!=0||dt.byteLength!=dt.buffer.byteLength)&&(dt=new Uint8Array(dt)),_?new Ct(dt.buffer):new Ct($(dt,_t))}function vt(dt){return mt(dt,2,Int16Array)}function ht(dt){return mt(dt,2,Uint16Array)}function gt(dt){return mt(dt,4,Int32Array)}function rt(dt){return mt(dt,4,Uint32Array)}function j(dt){return mt(dt,4,Float32Array)}function _e(dt){return mt(dt,8,Float64Array)}function it(dt,_t){const Ct=dt.length,Et=pt(_t.srcType,Ct),Mt=1/_t.factor;for(let St=0;St<Ct;St++)Et[St]=Mt*dt[St];return Et}function st(dt,_t){const Ct=dt.length,Et=pt(_t.srcType,Ct),Mt=(_t.max-_t.min)/(_t.numSteps-1),St=_t.min;for(let Ot=0;Ot<Ct;Ot++)Et[Ot]=St+Mt*dt[Ot];return Et}function lt(dt,_t){const Ct=ot(_t.srcType,_t.srcSize);let Et=0;for(let Mt=0,St=dt.length;Mt<St;Mt+=2){const Ot=dt[Mt],At=dt[Mt+1];for(let wt=0;wt<At;++wt)Ct[Et++]=Ot}return Ct}function et(dt,_t){const Ct=dt.length,Et=ot(_t.srcType,Ct);if(!Ct)return dt;Et[0]=dt[0]+(_t.origin|0);for(let Mt=1;Mt<Ct;++Mt)Et[Mt]=dt[Mt]+Et[Mt-1];return Et}function at(dt,_t){const Ct=_t.byteCount===1?127:32767,Et=-Ct-1,Mt=dt.length,St=new Int32Array(_t.srcSize);let Ot=0,At=0;for(;Ot<Mt;){let wt=0,Pt=dt[Ot];for(;Pt===Ct||Pt===Et;)wt+=Pt,Ot++,Pt=dt[Ot];wt+=Pt,St[At]=wt,Ot++,At++}return St}function ft(dt,_t){const Ct=_t.byteCount===1?255:65535,Et=dt.length,Mt=new Int32Array(_t.srcSize);let St=0,Ot=0;for(;St<Et;){let At=0,wt=dt[St];for(;wt===Ct;)At+=wt,St++,wt=dt[St];At+=wt,Mt[Ot]=At,St++,Ot++}return Mt}function ct(dt,_t){return dt.length===_t.srcSize?dt:_t.isUnsigned?ft(dt,_t):at(dt,_t)}function xt(dt,_t){const Ct=nt({encoding:_t.offsetEncoding,data:_t.offsets}),Et=nt({encoding:_t.dataEncoding,data:dt}),Mt=_t.stringData,St=new Array(Ct.length);St[0]="";for(let wt=1,Pt=Ct.length;wt<Pt;wt++)St[wt]=Mt.substring(Ct[wt-1],Ct[wt]);let Ot=0;const At=new Array(Et.length);for(let wt=0,Pt=Et.length;wt<Pt;wt++)At[Ot++]=St[Et[wt]+1];return At}},"./src/parsers/cifutils/encoding.ts":(i,s,o)=>{o.r(s),o.d(s,{Encoding:()=>_,VERSION:()=>a});const a="0.3.0";var _;(function($){(function(ot){ot[ot.Int8=1]="Int8",ot[ot.Int16=2]="Int16",ot[ot.Int32=3]="Int32",ot[ot.Uint8=4]="Uint8",ot[ot.Uint16=5]="Uint16",ot[ot.Uint32=6]="Uint32"})($.IntDataType||($.IntDataType={})),function(ot){ot[ot.Float32=32]="Float32",ot[ot.Float64=33]="Float64"}($.FloatDataType||($.FloatDataType={}));function nt(ot){let pt;return ot instanceof Int8Array?pt=$.IntDataType.Int8:ot instanceof Int16Array?pt=$.IntDataType.Int16:ot instanceof Int32Array?pt=$.IntDataType.Int32:ot instanceof Uint8Array?pt=$.IntDataType.Uint8:ot instanceof Uint16Array?pt=$.IntDataType.Uint16:ot instanceof Uint32Array?pt=$.IntDataType.Uint32:ot instanceof Float32Array?pt=$.FloatDataType.Float32:ot instanceof Float64Array?pt=$.FloatDataType.Float64:pt=$.IntDataType.Int32,pt}$.getDataType=nt;function tt(ot){if(ot instanceof Int8Array||ot instanceof Int16Array||ot instanceof Int32Array)return!0;for(let pt=0,ut=ot.length;pt<ut;pt++)if(pt<0)return!1;return!0}$.isSignedIntegerDataType=tt})(_||(_={}))},"./src/parsers/index.ts":(i,s,o)=>{o.r(s),o.d(s,{Parsers:()=>it,bondLength:()=>_e.bondLength,setBondLength:()=>_e.setBondLength});var a=o("./src/parsers/VASP.ts"),_=o("./src/parsers/CUBE.ts"),$=o("./src/parsers/XYZ.ts"),nt=o("./src/parsers/SDF.ts"),tt=o("./src/parsers/CDJSON.ts"),ot=o("./src/parsers/CIF.ts"),pt=o("./src/parsers/MOL2.ts"),ut=o("./src/parsers/PDB.ts"),mt=o("./src/parsers/PQR.ts"),vt=o("./src/parsers/MMTF.ts"),ht=o("./src/parsers/PRMTOP.ts"),gt=o("./src/parsers/GRO.ts"),rt=o("./src/parsers/LAMMPSTRJ.ts"),j=o("./src/parsers/BCIF.ts"),_e=o("./src/parsers/utils/bondLength.ts");const it={vasp:a.VASP,VASP:a.VASP,cube:_.CUBE,CUBE:_.CUBE,xyz:$.XYZ,XYZ:$.XYZ,sdf:nt.SDF,SDF:nt.SDF,json:tt.CDJSON,cdjson:tt.CDJSON,CDJSON:tt.CDJSON,mcif:ot.CIF,cif:ot.CIF,CIF:ot.CIF,mol2:pt.MOL2,MOL2:pt.MOL2,pdb:ut.PDB,PDB:ut.PDB,pdbqt:ut.PDB,PDBQT:ut.PDB,pqr:mt.PQR,PQR:mt.PQR,mmtf:vt.MMTFparser,MMTF:vt.MMTFparser,prmtop:ht.PRMTOP,PRMTOP:ht.PRMTOP,gro:gt.GRO,GRO:gt.GRO,lammpstrj:rt.LAMMPSTRJ,LAMMPSTRJ:rt.LAMMPSTRJ,bcif:j.BCIF,BCIF:j.BCIF}},"./src/parsers/utils/anumToSymbol.ts":(i,s,o)=>{o.r(s),o.d(s,{anumToSymbol:()=>a});const a={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"}},"./src/parsers/utils/areConnected.ts":(i,s,o)=>{o.r(s),o.d(s,{areConnected:()=>$});var a=o("./src/parsers/utils/bondLength.ts");const _=new Set(["Na","K","Ca","Mg","Mn","Sr"]);function $(nt,tt,ot){if(ot&&ot.unboundCations&&(_.has(nt.elem)||_.has(tt.elem)))return!1;let pt=(0,a.bondLength)(nt.elem)+(0,a.bondLength)(tt.elem);pt+=.25,pt*=pt;let ut=nt.x-tt.x;if(ut*=ut,ut>pt)return!1;let mt=nt.y-tt.y;if(mt*=mt,mt>pt)return!1;let vt=nt.z-tt.z;if(vt*=vt,vt>pt)return!1;const ht=ut+mt+vt;return!(isNaN(ht)||ht<.5||ht>pt||nt.altLoc!==tt.altLoc&&nt.altLoc.trim()!==""&&tt.altLoc.trim()!=="")}},"./src/parsers/utils/assignBackboneHBonds.ts":(i,s,o)=>{o.r(s),o.d(s,{assignBackboneHBonds:()=>a});function a(_,$){const nt=$||3.2,tt=nt*nt,ot=[];for(let pt=0,ut=_.length;pt<ut;pt++){_[pt].index=pt;const mt=_[pt];!mt.hetflag&&(mt.atom==="N"||mt.atom==="O")&&(ot.push(mt),mt.hbondOther=null,mt.hbondDistanceSq=Number.POSITIVE_INFINITY)}ot.sort(function(pt,ut){return pt.z-ut.z});for(let pt=0,ut=ot.length;pt<ut;pt++){const mt=ot[pt];for(let vt=pt+1;vt<ut;vt++){const ht=ot[vt],gt=ht.z-mt.z;if(gt>nt)break;if(ht.atom==mt.atom)continue;const rt=Math.abs(ht.y-mt.y);if(rt>nt)continue;const j=Math.abs(ht.x-mt.x);if(j>nt)continue;const _e=j*j+rt*rt+gt*gt;_e>tt||ht.chain==mt.chain&&Math.abs(ht.resi-mt.resi)<4||(_e<mt.hbondDistanceSq&&(mt.hbondOther=ht,mt.hbondDistanceSq=_e),_e<ht.hbondDistanceSq&&(ht.hbondOther=mt,ht.hbondDistanceSq=_e))}}}},"./src/parsers/utils/assignBonds.ts":(i,s,o)=>{o.r(s),o.d(s,{assignBonds:()=>nt});var a=o("./src/parsers/utils/areConnected.ts");const _=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}],$=4.95;function nt(tt,ot){for(let mt=0,vt=tt.length;mt<vt;mt++)tt[mt].index||(tt[mt].index=mt);const pt={x:{y:{z:[]}}};for(let mt=0;mt<tt.length;mt++){const vt=tt[mt],ht=Math.floor(vt.x/$),gt=Math.floor(vt.y/$),rt=Math.floor(vt.z/$);pt[ht]||(pt[ht]={}),pt[ht][gt]||(pt[ht][gt]={}),pt[ht][gt][rt]||(pt[ht][gt][rt]=[]),pt[ht][gt][rt].push(vt)}function ut(mt,vt){for(let ht=0;ht<mt.length;ht++){const gt=mt[ht];for(let rt=0;rt<vt.length;rt++){const j=vt[rt];if((0,a.areConnected)(gt,j,ot)){const _e=gt.bonds.indexOf(j.index),it=j.bonds.indexOf(gt.index);_e===-1&&it===-1?(gt.bonds.push(j.index),gt.bondOrder.push(1),j.bonds.push(gt.index),j.bondOrder.push(1)):_e===-1?(gt.bonds.push(j.index),gt.bondOrder.push(j.bondOrder[it])):it===-1&&(j.bonds.push(gt.index),j.bondOrder.push(gt.bondOrder[_e]))}}}}for(let mt in pt){const vt=parseInt(mt);for(let ht in pt[vt]){const gt=parseInt(ht);for(let rt in pt[vt][gt]){const j=parseInt(rt),_e=pt[vt][gt][j];for(let it=0;it<_e.length;it++){const st=_e[it];for(let lt=it+1;lt<_e.length;lt++){const et=_e[lt];(0,a.areConnected)(st,et,ot)&&st.bonds.indexOf(et.index)==-1&&(st.bonds.push(et.index),st.bondOrder.push(1),et.bonds.push(st.index),et.bondOrder.push(1))}}for(let it=0;it<_.length;it++){const st=_[it];if(!pt[vt+st.x]||!pt[vt+st.x][gt+st.y]||!pt[vt+st.x][gt+st.y][j+st.z])continue;const lt=pt[vt+st.x][gt+st.y][j+st.z];ut(_e,lt)}}}}}},"./src/parsers/utils/assignPDBBonds.ts":(i,s,o)=>{o.r(s),o.d(s,{assignPDBBonds:()=>nt});var a=o("./src/parsers/utils/areConnected.ts"),_=o("./src/parsers/utils/assignBonds.ts"),$=o("./src/parsers/utils/standardResidues.ts");function nt(tt,ot){const pt=[],ut=[];for(let gt=0,rt=tt.length;gt<rt;gt++){const j=tt[gt];j.index=gt,j.hetflag||!$.standardResidues.has(j.resn)?ut.push(j):pt.push(j)}(0,_.assignBonds)(ut,ot),pt.sort(function(gt,rt){return gt.chain!==rt.chain?gt.chain<rt.chain?-1:1:gt.resi-rt.resi});let mt=-1,vt=-1,ht;for(let gt=0,rt=pt.length;gt<rt;gt++){const j=pt[gt];j.resi!==mt&&(mt=j.resi,ht||vt++,ht=!1),j.reschain=vt;for(let _e=gt+1;_e<pt.length;_e++){const it=pt[_e];if(it.chain!==j.chain||it.resi-j.resi>1)break;(0,a.areConnected)(j,it,ot)&&(j.bonds.indexOf(it.index)===-1&&(j.bonds.push(it.index),j.bondOrder.push(1),it.bonds.push(j.index),it.bondOrder.push(1)),j.resi!==it.resi&&(ht=!0))}}}},"./src/parsers/utils/atomNameToElem.ts":(i,s,o)=>{o.r(s),o.d(s,{atomNameToElem:()=>_});var a=o("./src/parsers/utils/bondLength.ts");function _($,nt){let tt=$.replace(/ /g,"");return tt.length>0&&tt[0]==="H"&&tt!=="Hg"&&tt!=="He"&&tt!=="Hf"&&tt!=="Hs"&&tt!=="Ho"&&(tt="H"),tt.length>1&&(tt=tt[0].toUpperCase()+tt.substring(1).toLowerCase(),a.bondTable[tt]===void 0?tt=tt[0]:nt&&(tt==="Ca"||tt==="Cd")&&(tt="C")),tt}},"./src/parsers/utils/bondLength.ts":(i,s,o)=>{o.r(s),o.d(s,{bondLength:()=>_,bondTable:()=>a,setBondLength:()=>$});let a={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function _(nt){return a[nt]||1.6}function $(nt,tt){tt<0&&(tt=0),a[nt]=tt}},"./src/parsers/utils/computeSecondaryStructure.ts":(i,s,o)=>{o.r(s),o.d(s,{computeSecondaryStructure:()=>_});var a=o("./src/parsers/utils/assignBackboneHBonds.ts");function _($,nt){(0,a.assignBackboneHBonds)($,nt);const tt={};let ot,pt,ut,mt,vt,ht;for(ot=0,pt=$.length;ot<pt;ot++)if(vt=$[ot],tt[vt.chain]===void 0&&(tt[vt.chain]=[]),isFinite(vt.hbondDistanceSq)){const gt=vt.hbondOther;tt[gt.chain]===void 0&&(tt[gt.chain]=[]),Math.abs(gt.resi-vt.resi)===4&&(tt[vt.chain][vt.resi]="h")}for(ut in tt)for(mt=1;mt<tt[ut].length-1;mt++){const gt=tt[ut][mt-1],rt=tt[ut][mt+1];ht=tt[ut][mt],gt=="h"&&gt==rt&&ht!=gt&&(tt[ut][mt]=gt)}for(ot=0,pt=$.length;ot<pt;ot++)vt=$[ot],isFinite(vt.hbondDistanceSq)&&tt[vt.chain][vt.resi]!="h"&&vt.ss!=="h"&&(tt[vt.chain][vt.resi]="maybesheet");for(let gt=0,rt=$.length;gt<rt;gt++)if(vt=$[gt],isFinite(vt.hbondDistanceSq)&&tt[vt.chain][vt.resi]=="maybesheet"){let j=vt.hbondOther,_e=tt[j.chain][j.resi];(_e=="maybesheet"||_e=="s")&&(tt[vt.chain][vt.resi]="s",tt[j.chain][j.resi]="s")}for(let gt in tt){for(let rt=1;rt<tt[gt].length-1;rt++){const j=tt[gt][rt-1],_e=tt[gt][rt+1];ht=tt[gt][rt],j=="s"&&j==_e&&ht!=j&&(tt[gt][rt]=j)}for(let rt=0;rt<tt[gt].length;rt++){const j=tt[gt][rt];(j=="h"||j=="s")&&tt[gt][rt-1]!=j&&tt[gt][rt+1]!=j&&delete tt[gt][rt]}}for(ot=0,pt=$.length;ot<pt;ot++)vt=$[ot],ht=tt[vt.chain][vt.resi],delete vt.hbondOther,delete vt.hbondDistanceSq,!(ht===void 0||ht==="maybesheet")&&(vt.ss=ht,tt[vt.chain][vt.resi-1]!=ht&&(vt.ssbegin=!0),tt[vt.chain][vt.resi+1]!=ht&&(vt.ssend=!0))}},"./src/parsers/utils/getSinglePDB.ts":(i,s,o)=>{o.r(s),o.d(s,{getSinglePDB:()=>mt});var a=o("./src/WebGL/index.ts"),_=o("./src/parsers/utils/atomNameToElem.ts"),$=o("./src/parsers/utils/bondLength.ts"),nt=o("./src/parsers/utils/computeSecondaryStructure.ts"),tt=o("./src/parsers/utils/isEmpty.ts"),ot=o("./src/parsers/utils/processSymmetries.ts"),pt=o("./src/parsers/utils/assignPDBBonds.ts"),ut=o("./src/parsers/utils/validateBonds.ts");function mt(vt,ht,gt){const rt=[],j=ht.assignBonds===void 0?!0:ht.assignBonds,_e=!ht.keepH,it=!!ht.noSecondaryStructure,st=!ht.noComputeSecondaryStructure,lt=!ht.doAssembly,et=ht.altLoc?ht.altLoc:"A",at={symmetries:[],cryst:void 0};let ft,ct=[];const xt=[];let dt;const _t={};for(let Ct=0;Ct<vt.length;Ct++){dt=vt[Ct].replace(/^\s*/,"");const Et=dt.substring(0,6);let Mt,St,Ot;if(Et.indexOf("END")===0){if(ct=vt.slice(Ct+1),Et==="END")for(const At in gt)gt.hasOwnProperty(At)&&delete gt[At];break}else if(Et==="ATOM  "||Et==="HETATM"){let At,wt,Pt,Lt,Rt,Dt,$t,jt,Zt,qt,er,Yt;if(er=dt.substring(16,17),er!==" "&&er!==et&&et!=="*"||(qt=parseInt(dt.substring(6,11)),ft=dt.substring(12,16).replace(/ /g,""),At=dt.substring(17,20).replace(/ /g,""),wt=dt.substring(21,22),Pt=parseInt(dt.substring(22,26)),Lt=dt.substring(26,27),Rt=parseFloat(dt.substring(30,38)),Dt=parseFloat(dt.substring(38,46)),$t=parseFloat(dt.substring(46,54)),Yt=parseFloat(dt.substring(60,68)),Zt=dt.substring(76,78).replace(/ /g,""),Zt===""||$.bondTable[Zt]===void 0?Zt=(0,_.atomNameToElem)(dt.substring(12,14),dt[0]=="A"):Zt=Zt[0].toUpperCase()+Zt.substring(1).toLowerCase(),Zt==="H"&&_e))continue;Et[0]=="H"?jt=!0:jt=!1,xt[qt]=rt.length,rt.push({resn:At,x:Rt,y:Dt,z:$t,elem:Zt,hetflag:jt,altLoc:er,chain:wt,resi:Pt,icode:Lt,rescode:Pt+(Lt!==" "?"^"+Lt:""),serial:qt,atom:ft,bonds:[],ss:"c",bondOrder:[],properties:{},b:Yt,pdbline:dt})}else if(Et==="SHEET "){Mt=dt.substring(21,22),St=parseInt(dt.substring(22,26)),Ot=parseInt(dt.substring(33,37)),Mt in gt||(gt[Mt]={}),gt[Mt][St]="s1";for(let At=St+1;At<Ot;At++)gt[Mt][At]="s";gt[Mt][Ot]="s2"}else if(Et==="CONECT"){const At=parseInt(dt.substring(6,11)),wt=xt[At],Pt=rt[wt],Lt=[11,16,21,26];for(let Rt=0;Rt<4;Rt++){const Dt=parseInt(dt.substring(Lt[Rt],Lt[Rt]+5)),$t=xt[Dt];let jt=wt+":"+$t;const Zt=rt[$t];if(Pt!==void 0&&Zt!==void 0)if(!_t[jt])_t[jt]=1,(Pt.bonds.length==0||Pt.bonds[Pt.bonds.length-1]!==$t)&&(Pt.bonds.push($t),Pt.bondOrder.push(1));else{_t[jt]+=1;for(let qt=0;qt<Pt.bonds.length;qt++)if(Pt.bonds[qt]==$t){const er=_t[jt];er>=4?Pt.bondOrder[qt]=1:Pt.bondOrder[qt]=er}}}}else if(Et==="HELIX "){Mt=dt.substring(19,20),St=parseInt(dt.substring(21,25)),Ot=parseInt(dt.substring(33,37)),Mt in gt||(gt[Mt]={}),gt[Mt][St]="h1";for(let At=St+1;At<Ot;At++)gt[Mt][At]="h";gt[Mt][Ot]="h2"}else if(!lt&&Et==="REMARK"&&dt.substring(13,18)==="BIOMT"){let At,wt=new a.Matrix4;for(At=1;At<=3;At++)if(dt=vt[Ct].replace(/^\s*/,""),parseInt(dt.substring(18,19))==At)wt.elements[At-1]=parseFloat(dt.substring(23,33)),wt.elements[At-1+4]=parseFloat(dt.substring(33,43)),wt.elements[At-1+8]=parseFloat(dt.substring(43,53)),wt.elements[At-1+12]=parseFloat(dt.substring(53)),Ct++;else for(;dt.substring(13,18)==="BIOMT";)Ct++,dt=vt[Ct].replace(/^\s*/,"");wt.elements[3]=0,wt.elements[7]=0,wt.elements[11]=0,wt.elements[15]=1,at.symmetries.push(wt),Ct--}else if(Et==="CRYST1"){let At,wt,Pt,Lt,Rt,Dt;At=parseFloat(dt.substring(7,15)),wt=parseFloat(dt.substring(16,24)),Pt=parseFloat(dt.substring(25,33)),Lt=parseFloat(dt.substring(34,40)),Rt=parseFloat(dt.substring(41,47)),Dt=parseFloat(dt.substring(48,54)),at.cryst={a:At,b:wt,c:Pt,alpha:Lt,beta:Rt,gamma:Dt}}else if(Et==="ANISOU"){const At=parseInt(dt.substring(6,11)),wt=xt[At],Pt=rt[wt];if(Pt){const Lt=dt.substring(30).trim().split(/\s+/),Rt={u11:parseInt(Lt[0]),u22:parseInt(Lt[1]),u33:parseInt(Lt[2]),u12:parseInt(Lt[3]),u13:parseInt(Lt[4]),u23:parseInt(Lt[5])};Pt.uMat=Rt}}}if((0,ut.validateBonds)(rt,xt),j&&(0,pt.assignPDBBonds)(rt,ht),lt||(0,ot.processSymmetries)(at.symmetries,rt,ht,at.cryst),st&&!it&&(0,nt.computeSecondaryStructure)(rt,ht.hbondCutoff),!(0,tt.isEmpty)(gt))for(let Ct=0;Ct<rt.length;Ct++){const Et=rt[Ct];if(Et!==void 0&&Et.chain in gt&&Et.resi in gt[Et.chain]){const Mt=gt[Et.chain][Et.resi];Et.ss=Mt[0],Mt.length>1&&(Mt[1]=="1"?Et.ssbegin=!0:Mt[1]=="2"&&(Et.ssend=!0))}}return[rt,at,ct]}},"./src/parsers/utils/isEmpty.ts":(i,s,o)=>{o.r(s),o.d(s,{isEmpty:()=>a});function a(_){for(const $ in _)return!1;return!0}},"./src/parsers/utils/processSymmetries.ts":(i,s,o)=>{o.r(s),o.d(s,{processSymmetries:()=>_});var a=o("./src/WebGL/index.ts");function _($,nt,tt,ot){const pt=!tt.duplicateAssemblyAtoms,ut=nt.length;let mt=ut,vt=-1,ht=null,gt=null;(tt.normalizeAssembly||tt.wrapAtoms)&&ot&&(ht=(0,a.conversionMatrix3)(ot.a,ot.b,ot.c,ot.alpha,ot.beta,ot.gamma),gt=new a.Matrix3,gt.getInverse3(ht));let rt=function(it){let st=it.clone().applyMatrix3(gt);const lt=[st.x,st.y,st.z],et=[0,0,0];for(let ft=0;ft<3;ft++){for(;lt[ft]<-.001;)lt[ft]+=1,et[ft]+=1;for(;lt[ft]>1.001;)lt[ft]-=1,et[ft]-=1}const at=new a.Vector3(et[0],et[1],et[2]);return at.applyMatrix3(ht),at};if(tt.normalizeAssembly&&ot)for(let it=0;it<$.length;it++){const st=new a.Vector3(0,0,0);for(let et=0;et<ut;et++){const at=new a.Vector3(nt[et].x,nt[et].y,nt[et].z);at.applyMatrix4($[it]),st.add(at)}st.divideScalar(ut);const lt=rt(st);$[it].isNearlyIdentity()&&lt.lengthSq()>.001&&(vt=it),$[it].translate(lt)}if(pt){if($.length>1)for(let it=0;it<nt.length;it++){var j=[];for(let st=0;st<$.length;st++)if(!$[st].isNearlyIdentity()){var _e=new a.Vector3;_e.set(nt[it].x,nt[it].y,nt[it].z),_e.applyMatrix4($[st]),j.push(_e)}nt[it].symmetries=j}}else{for(let it=0;it<ut;it++)nt[it].sym=-1;for(let it=0;it<$.length;it++)if(!$[it].isNearlyIdentity()&&vt!=it){let st=new a.Vector3;for(let lt=0;lt<ut;lt++){const et=[];for(let ft=0;ft<nt[lt].bonds.length;ft++)et.push(nt[lt].bonds[ft]+mt);if(st.set(nt[lt].x,nt[lt].y,nt[lt].z),st.applyMatrix4($[it]),tt.wrapAtoms&&ot){let ft=rt(st);st.add(ft)}const at={};for(const ft in nt[lt])at[ft]=nt[lt][ft];at.x=st.x,at.y=st.y,at.z=st.z,at.bonds=et,at.sym=it,at.index=nt.length,nt.push(at)}mt=nt.length}else for(let st=0;st<ut;st++)nt[st].sym=it;if(tt.wrapAtoms&&ot){let it=new a.Vector3;for(let st=0;st<ut;st++){it.set(nt[st].x,nt[st].y,nt[st].z);let lt=rt(it);it.add(lt),nt[st].x=it.x,nt[st].y=it.y,nt[st].z=it.z}}if(vt>=0){const it=new a.Vector3;for(let st=0;st<ut;st++)it.set(nt[st].x,nt[st].y,nt[st].z),it.applyMatrix4($[vt]),nt[st].x=it.x,nt[st].y=it.y,nt[st].z=it.z}$.length=0}}},"./src/parsers/utils/standardResidues.ts":(i,s,o)=>{o.r(s),o.d(s,{standardResidues:()=>a});const a=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"])},"./src/parsers/utils/validateBonds.ts":(i,s,o)=>{o.r(s),o.d(s,{validateBonds:()=>a});function a(_,$){for(let nt=0,tt=_.length;nt<tt;nt++){const ot=_[nt];for(let pt=0;pt<ot.bonds.length;pt++){const ut=ot.bonds[pt],mt=_[ut],vt=$[ot.serial];mt&&vt&&mt.bonds.indexOf(vt)<0&&(mt.bonds.push(vt),mt.bondOrder.push(ot.bondOrder[pt]))}}}},"./src/partialCharges.ts":(i,s,o)=>{o.r(s),o.d(s,{applyPartialCharges:()=>_,partialCharges:()=>a});const a={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function _($,nt){if((!nt||typeof $.partialCharge>"u")&&$.resn&&$.atom){var tt=$.resn+":"+$.atom;$.properties.partialCharge=a[tt]}}},"./src/specs.ts":(i,s,o)=>{o.r(s)},"./src/utilities.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,inflateString:()=>inflateString,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/Gradient.ts"),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/VolumeData.ts"),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/colors.ts"),pako__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/pako/dist/pako.esm.mjs");function extend(i,s){for(var o in s)s.hasOwnProperty(o)&&s[o]!==void 0&&(i[o]=s[o]);return i}function deepCopy(i){let s,o,a;if(i==null)return{};if(typeof i!="object"||i===null)return i;s=Array.isArray(i)?[]:{};for(a in i)o=i[a],s[a]=deepCopy(o);return s}function isNumeric(i){var s=typeof i;return(s==="number"||s==="string")&&!isNaN(i-parseFloat(i))}function isEmptyObject(i){var s;for(s in i)return!1;return!0}function makeFunction(callback){return callback&&typeof callback=="string"&&(callback=eval("("+callback+")")),callback&&typeof callback!="function"?(console.warn("Invalid callback provided."),()=>{}):callback}function adjustVolumeStyle(i){i&&(i.volformat&&!(i.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData)&&(i.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(i.voldata,i.volformat)),i.volscheme&&(i.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(i.volscheme)))}function getExtent(i,s){var o,a,_,$,nt,tt,ot,pt,ut,mt,vt=!s;if(o=a=_=9999,$=nt=tt=-9999,ot=pt=ut=mt=0,i.length===0)return[[0,0,0],[0,0,0],[0,0,0]];for(var ht=0;ht<i.length;ht++){var gt=i[ht];if(!(typeof gt>"u"||!isFinite(gt.x)||!isFinite(gt.y)||!isFinite(gt.z))&&(mt++,ot+=gt.x,pt+=gt.y,ut+=gt.z,o=o<gt.x?o:gt.x,a=a<gt.y?a:gt.y,_=_<gt.z?_:gt.z,$=$>gt.x?$:gt.x,nt=nt>gt.y?nt:gt.y,tt=tt>gt.z?tt:gt.z,gt.symmetries&&vt))for(var rt=0;rt<gt.symmetries.length;rt++)mt++,ot+=gt.symmetries[rt].x,pt+=gt.symmetries[rt].y,ut+=gt.symmetries[rt].z,o=o<gt.symmetries[rt].x?o:gt.symmetries[rt].x,a=a<gt.symmetries[rt].y?a:gt.symmetries[rt].y,_=_<gt.symmetries[rt].z?_:gt.symmetries[rt].z,$=$>gt.symmetries[rt].x?$:gt.symmetries[rt].x,nt=nt>gt.symmetries[rt].y?nt:gt.symmetries[rt].y,tt=tt>gt.symmetries[rt].z?tt:gt.symmetries[rt].z}return[[o,a,_],[$,nt,tt],[ot/mt,pt/mt,ut/mt]]}function getPropertyRange(i,s){for(var o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,_=0,$=i.length;_<$;_++){var nt=i[_],tt=getAtomProperty(nt,s);tt!=null&&(tt<o&&(o=tt),tt>a&&(a=tt))}return!isFinite(o)&&!isFinite(a)?o=a=0:isFinite(o)?isFinite(a)||(a=o):o=a,[o,a]}class PausableTimer{constructor(s,o,a){this.total_time_run=0,this.fn=s,this.arg=a,this.countdown=o,this.start_time=new Date().getTime(),this.ident=setTimeout(s,o,a)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=new Date().getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(i){for(var s=window.atob(i),o=s.length,a=new Uint8Array(o),_=0;_<o;_++)a[_]=s.charCodeAt(_);return a}function getAtomProperty(i,s){var o=null;return i.properties&&typeof i.properties[s]<"u"?o=i.properties[s]:typeof i[s]<"u"&&(o=i[s]),o}function mergeGeos(i,s){var o=s.geometry;o!==void 0&&i.geometryGroups.push(o.geometryGroups[0])}function specStringToObject(i){if(typeof i=="object")return i;if(typeof i>"u"||i==null)return i;try{return JSON.parse(i)}catch{}i=i.replace(/%7E/g,"~");var s=function(vt){return isNumeric(vt)?Math.floor(parseFloat(vt))==parseInt(vt)||vt.indexOf(".")>=0?parseFloat(vt):parseInt(vt):vt==="true"?!0:vt==="false"?!1:vt},o={};if(i==="all")return o;for(var a=i.split(";"),_=0;_<a.length;_++){var $=a[_].split(":"),nt=$[0],tt={},ot=$[1];if(ot)if(ot=ot.replace(/~/g,"="),ot.indexOf("=")!==-1)for(var pt=ot.split(","),ut=0;ut<pt.length;ut++){var mt=pt[ut].split("=",2);tt[mt[0]]=s(mt[1])}else ot.indexOf(",")!==-1?tt=ot.split(","):tt=s(ot);o[nt]=tt}return o}function checkStatus(i){if(!i.ok)throw new Error(`HTTP ${i.status} - ${i.statusText}`);return i}function get(i,s){var o=fetch(i).then(checkStatus).then(a=>a.text());return s?o.then(s):o}function getbin(i,s,o,a){var _;return o=="POST"?_=fetch(i,{method:"POST",body:a}).then($=>checkStatus($)).then($=>$.arrayBuffer()):_=fetch(i).then($=>checkStatus($)).then($=>$.arrayBuffer()),s?_.then(s):_}function download(i,s,o,a){var _="",$="",nt="",tt=null,ot=s.addModel();if(i.indexOf(":")<0&&(i.length==4?i="pdb:"+i:isNaN(i)?i="url:"+i:i="cid:"+i),i.substring(0,5)=="mmtf:"&&(console.warn("WARNING: MMTF now deprecated.  Reverting to bcif."),i="bcif:"+i.slice(5)),i.substring(0,5)==="bcif:")i=i.substring(5).toUpperCase(),nt="https://models.rcsb.org/"+i+".bcif.gz",o&&typeof o.noComputeSecondaryStructure>"u"&&(o.noComputeSecondaryStructure=!0),tt=new Promise(function(ut){getbin(nt).then(function(mt){ot.addMolData(mt,"bcif.gz",o),s.zoomTo(),s.render(),ut(ot)},function(){console.error("fetch of "+nt+" failed.")})});else{if(i.substring(0,4)==="pdb:"){if(_="bcif",o&&o.format&&(_=o.format),o&&typeof o.noComputeSecondaryStructure>"u"&&(o.noComputeSecondaryStructure=!0),i=i.substring(4).toUpperCase(),!i.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}_=="bcif"?nt="https://models.rcsb.org/"+i.toUpperCase()+".bcif.gz":($=o&&o.pdbUri?o.pdbUri:"https://files.rcsb.org/view/",nt=$+i+"."+_)}else if(i.substring(0,4)=="cid:"){if(_="sdf",i=i.substring(4),!i.match(/^[0-9]+$/)){alert("Wrong Compound ID");return}nt="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+i+"/SDF?record_type=3d"}else i.substring(0,4)=="url:"&&(nt=i.substring(4),_=nt);var pt=function(ut){ot.addMolData(ut,_,o),s.zoomTo(),s.render()};tt=new Promise(function(ut){_=="bcif"?getbin(nt).then(function(mt){pt(mt),ut(ot)}).catch(function(){$=o&&o.pdbUri?o.pdbUri:"https://files.rcsb.org/view/",nt=$+i+".pdb",_="pdb",console.warn("falling back to pdb format"),get(nt).then(function(mt){pt(mt),ut(ot)}).catch(function(mt){pt(""),ut(ot),console.error("fetch of "+nt+" failed: "+mt.statusText)})}):get(nt).then(function(mt){pt(mt),ut(ot)}).catch(function(mt){pt(""),ut(ot),console.error("fetch of "+nt+" failed: "+mt.statusText)})})}return a?(tt.then(function(ut){a(ut)}),ot):tt}function getColorFromStyle(i,s){let o=s.colorscheme;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o]<"u")o=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o];else if(typeof o=="string"&&o.endsWith("Carbon")){let nt=o.substring(0,o.lastIndexOf("Carbon")).toLowerCase();if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[nt]<"u"){let tt=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);tt.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[nt],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o]={prop:"elem",map:tt},o=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o]}}let a=i.color;if(typeof s.color<"u"&&s.color!="spectrum"&&(a=s.color),typeof o<"u"){let nt,tt;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[o]<"u")o=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[o],typeof o[i[o.prop]]<"u"&&(a=o.map[i[o.prop]]);else if(typeof o[i[o.prop]]<"u")a=o.map[i[o.prop]];else if(typeof o.prop<"u"&&typeof o.gradient<"u"){nt=o.prop;var _=o.gradient;_ instanceof _Gradient__WEBPACK_IMPORTED_MODULE_0__.GradientType||(_=(0,_Gradient__WEBPACK_IMPORTED_MODULE_0__.getGradient)(o));let ot=_.range()||[-1,1];tt=getAtomProperty(i,nt),tt!=null&&(a=_.valueToHex(tt,ot))}else typeof o.prop<"u"&&typeof o.map<"u"?(nt=o.prop,tt=getAtomProperty(i,nt),typeof o.map[tt]<"u"&&(a=o.map[tt])):typeof s.colorscheme[i.elem]<"u"?a=s.colorscheme[i.elem]:console.warn("Could not interpret colorscheme "+o)}else typeof s.colorfunc<"u"&&(a=s.colorfunc(i));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(a)}function getElement(i){let s=i;return typeof i=="string"?s=document.querySelector("#"+i):typeof i=="object"&&i.get&&(s=i.get(0)),s}function inflateString(i,s=!0){let o;return typeof i=="string"?o=new TextEncoder().encode(i):o=new Uint8Array(i),(0,pako__WEBPACK_IMPORTED_MODULE_3__.inflate)(o,{to:s?"string":null})}},"./node_modules/upng-js/UPNG.js":(i,s,o)=>{(function(){var a={},_;i.exports=a,_=o("./node_modules/upng-js/node_modules/pako/index.js"),function($,nt){$.toRGBA8=function(tt){var ot=tt.width,pt=tt.height;if(tt.tabs.acTL==null)return[$.toRGBA8.decodeImage(tt.data,ot,pt,tt).buffer];var ut=[];tt.frames[0].data==null&&(tt.frames[0].data=tt.data);for(var mt,vt=new Uint8Array(ot*pt*4),ht=0;ht<tt.frames.length;ht++){var gt=tt.frames[ht],rt=gt.rect.x,j=gt.rect.y,_e=gt.rect.width,it=gt.rect.height,st=$.toRGBA8.decodeImage(gt.data,_e,it,tt);if(ht==0?mt=st:gt.blend==0?$._copyTile(st,_e,it,mt,ot,pt,rt,j,0):gt.blend==1&&$._copyTile(st,_e,it,mt,ot,pt,rt,j,1),ut.push(mt.buffer),mt=mt.slice(0),gt.dispose!=0){if(gt.dispose==1)$._copyTile(vt,_e,it,mt,ot,pt,rt,j,0);else if(gt.dispose==2){for(var lt=ht-1;tt.frames[lt].dispose==2;)lt--;mt=new Uint8Array(ut[lt]).slice(0)}}}return ut},$.toRGBA8.decodeImage=function(tt,ot,pt,ut){var mt=ot*pt,vt=$.decode._getBPP(ut),ht=Math.ceil(ot*vt/8),gt=new Uint8Array(mt*4),rt=new Uint32Array(gt.buffer),j=ut.ctype,_e=ut.depth,it=$._bin.readUshort;if(j==6){var st=mt<<2;if(_e==8)for(var lt=0;lt<st;lt++)gt[lt]=tt[lt];if(_e==16)for(var lt=0;lt<st;lt++)gt[lt]=tt[lt<<1]}else if(j==2){var et=ut.tabs.tRNS,at=-1,ft=-1,ct=-1;if(et&&(at=et[0],ft=et[1],ct=et[2]),_e==8)for(var lt=0;lt<mt;lt++){var xt=lt<<2,dt=lt*3;gt[xt]=tt[dt],gt[xt+1]=tt[dt+1],gt[xt+2]=tt[dt+2],gt[xt+3]=255,at!=-1&&tt[dt]==at&&tt[dt+1]==ft&&tt[dt+2]==ct&&(gt[xt+3]=0)}if(_e==16)for(var lt=0;lt<mt;lt++){var xt=lt<<2,dt=lt*6;gt[xt]=tt[dt],gt[xt+1]=tt[dt+2],gt[xt+2]=tt[dt+4],gt[xt+3]=255,at!=-1&&it(tt,dt)==at&&it(tt,dt+2)==ft&&it(tt,dt+4)==ct&&(gt[xt+3]=0)}}else if(j==3){var _t=ut.tabs.PLTE,Ct=ut.tabs.tRNS,Et=Ct?Ct.length:0;if(_e==1)for(var Mt=0;Mt<pt;Mt++)for(var St=Mt*ht,Ot=Mt*ot,lt=0;lt<ot;lt++){var xt=Ot+lt<<2,At=tt[St+(lt>>3)]>>7-((lt&7)<<0)&1,wt=3*At;gt[xt]=_t[wt],gt[xt+1]=_t[wt+1],gt[xt+2]=_t[wt+2],gt[xt+3]=At<Et?Ct[At]:255}if(_e==2)for(var Mt=0;Mt<pt;Mt++)for(var St=Mt*ht,Ot=Mt*ot,lt=0;lt<ot;lt++){var xt=Ot+lt<<2,At=tt[St+(lt>>2)]>>6-((lt&3)<<1)&3,wt=3*At;gt[xt]=_t[wt],gt[xt+1]=_t[wt+1],gt[xt+2]=_t[wt+2],gt[xt+3]=At<Et?Ct[At]:255}if(_e==4)for(var Mt=0;Mt<pt;Mt++)for(var St=Mt*ht,Ot=Mt*ot,lt=0;lt<ot;lt++){var xt=Ot+lt<<2,At=tt[St+(lt>>1)]>>4-((lt&1)<<2)&15,wt=3*At;gt[xt]=_t[wt],gt[xt+1]=_t[wt+1],gt[xt+2]=_t[wt+2],gt[xt+3]=At<Et?Ct[At]:255}if(_e==8)for(var lt=0;lt<mt;lt++){var xt=lt<<2,At=tt[lt],wt=3*At;gt[xt]=_t[wt],gt[xt+1]=_t[wt+1],gt[xt+2]=_t[wt+2],gt[xt+3]=At<Et?Ct[At]:255}}else if(j==4){if(_e==8)for(var lt=0;lt<mt;lt++){var xt=lt<<2,Pt=lt<<1,Lt=tt[Pt];gt[xt]=Lt,gt[xt+1]=Lt,gt[xt+2]=Lt,gt[xt+3]=tt[Pt+1]}if(_e==16)for(var lt=0;lt<mt;lt++){var xt=lt<<2,Pt=lt<<2,Lt=tt[Pt];gt[xt]=Lt,gt[xt+1]=Lt,gt[xt+2]=Lt,gt[xt+3]=tt[Pt+2]}}else if(j==0){var at=ut.tabs.tRNS?ut.tabs.tRNS:-1;if(_e==1)for(var lt=0;lt<mt;lt++){var Lt=255*(tt[lt>>3]>>7-(lt&7)&1),Rt=Lt==at*255?0:255;rt[lt]=Rt<<24|Lt<<16|Lt<<8|Lt}if(_e==2)for(var lt=0;lt<mt;lt++){var Lt=85*(tt[lt>>2]>>6-((lt&3)<<1)&3),Rt=Lt==at*85?0:255;rt[lt]=Rt<<24|Lt<<16|Lt<<8|Lt}if(_e==4)for(var lt=0;lt<mt;lt++){var Lt=17*(tt[lt>>1]>>4-((lt&1)<<2)&15),Rt=Lt==at*17?0:255;rt[lt]=Rt<<24|Lt<<16|Lt<<8|Lt}if(_e==8)for(var lt=0;lt<mt;lt++){var Lt=tt[lt],Rt=Lt==at?0:255;rt[lt]=Rt<<24|Lt<<16|Lt<<8|Lt}if(_e==16)for(var lt=0;lt<mt;lt++){var Lt=tt[lt<<1],Rt=it(tt,lt<<1)==at?0:255;rt[lt]=Rt<<24|Lt<<16|Lt<<8|Lt}}return gt},$.decode=function(tt){for(var ot=new Uint8Array(tt),pt=8,ut=$._bin,mt=ut.readUshort,vt=ut.readUint,ht={tabs:{},frames:[]},gt=new Uint8Array(ot.length),rt=0,j,_e=0,it=[137,80,78,71,13,10,26,10],st=0;st<8;st++)if(ot[st]!=it[st])throw"The input is not a PNG file!";for(;pt<ot.length;){var lt=ut.readUint(ot,pt);pt+=4;var et=ut.readASCII(ot,pt,4);if(pt+=4,et=="IHDR")$.decode._IHDR(ot,pt,ht);else if(et=="IDAT"){for(var st=0;st<lt;st++)gt[rt+st]=ot[pt+st];rt+=lt}else if(et=="acTL")ht.tabs[et]={num_frames:vt(ot,pt),num_plays:vt(ot,pt+4)},j=new Uint8Array(ot.length);else if(et=="fcTL"){if(_e!=0){var at=ht.frames[ht.frames.length-1];at.data=$.decode._decompress(ht,j.slice(0,_e),at.rect.width,at.rect.height),_e=0}var ft={x:vt(ot,pt+12),y:vt(ot,pt+16),width:vt(ot,pt+4),height:vt(ot,pt+8)},ct=mt(ot,pt+22);ct=mt(ot,pt+20)/(ct==0?100:ct);var xt={rect:ft,delay:Math.round(ct*1e3),dispose:ot[pt+24],blend:ot[pt+25]};ht.frames.push(xt)}else if(et=="fdAT"){for(var st=0;st<lt-4;st++)j[_e+st]=ot[pt+st+4];_e+=lt-4}else if(et=="pHYs")ht.tabs[et]=[ut.readUint(ot,pt),ut.readUint(ot,pt+4),ot[pt+8]];else if(et=="cHRM"){ht.tabs[et]=[];for(var st=0;st<8;st++)ht.tabs[et].push(ut.readUint(ot,pt+st*4))}else if(et=="tEXt"){ht.tabs[et]==null&&(ht.tabs[et]={});var dt=ut.nextZero(ot,pt),_t=ut.readASCII(ot,pt,dt-pt),Ct=ut.readASCII(ot,dt+1,pt+lt-dt-1);ht.tabs[et][_t]=Ct}else if(et=="iTXt"){ht.tabs[et]==null&&(ht.tabs[et]={});var dt=0,Et=pt;dt=ut.nextZero(ot,Et);var _t=ut.readASCII(ot,Et,dt-Et);Et=dt+1,ot[Et],ot[Et+1],Et+=2,dt=ut.nextZero(ot,Et),ut.readASCII(ot,Et,dt-Et),Et=dt+1,dt=ut.nextZero(ot,Et),ut.readUTF8(ot,Et,dt-Et),Et=dt+1;var Ct=ut.readUTF8(ot,Et,lt-(Et-pt));ht.tabs[et][_t]=Ct}else if(et=="PLTE")ht.tabs[et]=ut.readBytes(ot,pt,lt);else if(et=="hIST"){var Mt=ht.tabs.PLTE.length/3;ht.tabs[et]=[];for(var st=0;st<Mt;st++)ht.tabs[et].push(mt(ot,pt+st*2))}else if(et=="tRNS")ht.ctype==3?ht.tabs[et]=ut.readBytes(ot,pt,lt):ht.ctype==0?ht.tabs[et]=mt(ot,pt):ht.ctype==2&&(ht.tabs[et]=[mt(ot,pt),mt(ot,pt+2),mt(ot,pt+4)]);else if(et=="gAMA")ht.tabs[et]=ut.readUint(ot,pt)/1e5;else if(et=="sRGB")ht.tabs[et]=ot[pt];else if(et=="bKGD")ht.ctype==0||ht.ctype==4?ht.tabs[et]=[mt(ot,pt)]:ht.ctype==2||ht.ctype==6?ht.tabs[et]=[mt(ot,pt),mt(ot,pt+2),mt(ot,pt+4)]:ht.ctype==3&&(ht.tabs[et]=ot[pt]);else if(et=="IEND"){if(_e!=0){var at=ht.frames[ht.frames.length-1];at.data=$.decode._decompress(ht,j.slice(0,_e),at.rect.width,at.rect.height),_e=0}ht.data=$.decode._decompress(ht,gt,ht.width,ht.height);break}pt+=lt,ut.readUint(ot,pt),pt+=4}return delete ht.compress,delete ht.interlace,delete ht.filter,ht},$.decode._decompress=function(tt,ot,pt,ut){return tt.compress==0&&(ot=$.decode._inflate(ot)),tt.interlace==0?ot=$.decode._filterZero(ot,tt,0,pt,ut):tt.interlace==1&&(ot=$.decode._readInterlace(ot,tt)),ot},$.decode._inflate=function(tt){return nt.inflate(tt)},$.decode._readInterlace=function(tt,ot){for(var pt=ot.width,ut=ot.height,mt=$.decode._getBPP(ot),vt=mt>>3,ht=Math.ceil(pt*mt/8),gt=new Uint8Array(ut*ht),rt=0,j=[0,0,4,0,2,0,1],_e=[0,4,0,2,0,1,0],it=[8,8,8,4,4,2,2],st=[8,8,4,4,2,2,1],lt=0;lt<7;){for(var et=it[lt],at=st[lt],ft=0,ct=0,xt=j[lt];xt<ut;)xt+=et,ct++;for(var dt=_e[lt];dt<pt;)dt+=at,ft++;var _t=Math.ceil(ft*mt/8);$.decode._filterZero(tt,ot,rt,ft,ct);for(var Ct=0,Et=j[lt];Et<ut;){for(var Mt=_e[lt],St=rt+Ct*_t<<3;Mt<pt;){if(mt==1){var Ot=tt[St>>3];Ot=Ot>>7-(St&7)&1,gt[Et*ht+(Mt>>3)]|=Ot<<7-((Mt&3)<<0)}if(mt==2){var Ot=tt[St>>3];Ot=Ot>>6-(St&7)&3,gt[Et*ht+(Mt>>2)]|=Ot<<6-((Mt&3)<<1)}if(mt==4){var Ot=tt[St>>3];Ot=Ot>>4-(St&7)&15,gt[Et*ht+(Mt>>1)]|=Ot<<4-((Mt&1)<<2)}if(mt>=8)for(var At=Et*ht+Mt*vt,wt=0;wt<vt;wt++)gt[At+wt]=tt[(St>>3)+wt];St+=mt,Mt+=at}Ct++,Et+=et}ft*ct!=0&&(rt+=ct*(1+_t)),lt=lt+1}return gt},$.decode._getBPP=function(tt){var ot=[1,null,3,1,2,null,4][tt.ctype];return ot*tt.depth},$.decode._filterZero=function(tt,ot,pt,ut,mt){var vt=$.decode._getBPP(ot),ht=Math.ceil(ut*vt/8),gt=$.decode._paeth;vt=Math.ceil(vt/8);for(var rt=0;rt<mt;rt++){var j=pt+rt*ht,_e=j+rt+1,it=tt[_e-1];if(it==0)for(var st=0;st<ht;st++)tt[j+st]=tt[_e+st];else if(it==1){for(var st=0;st<vt;st++)tt[j+st]=tt[_e+st];for(var st=vt;st<ht;st++)tt[j+st]=tt[_e+st]+tt[j+st-vt]&255}else if(rt==0){for(var st=0;st<vt;st++)tt[j+st]=tt[_e+st];if(it==2)for(var st=vt;st<ht;st++)tt[j+st]=tt[_e+st]&255;if(it==3)for(var st=vt;st<ht;st++)tt[j+st]=tt[_e+st]+(tt[j+st-vt]>>1)&255;if(it==4)for(var st=vt;st<ht;st++)tt[j+st]=tt[_e+st]+gt(tt[j+st-vt],0,0)&255}else{if(it==2)for(var st=0;st<ht;st++)tt[j+st]=tt[_e+st]+tt[j+st-ht]&255;if(it==3){for(var st=0;st<vt;st++)tt[j+st]=tt[_e+st]+(tt[j+st-ht]>>1)&255;for(var st=vt;st<ht;st++)tt[j+st]=tt[_e+st]+(tt[j+st-ht]+tt[j+st-vt]>>1)&255}if(it==4){for(var st=0;st<vt;st++)tt[j+st]=tt[_e+st]+gt(0,tt[j+st-ht],0)&255;for(var st=vt;st<ht;st++)tt[j+st]=tt[_e+st]+gt(tt[j+st-vt],tt[j+st-ht],tt[j+st-vt-ht])&255}}}return tt},$.decode._paeth=function(tt,ot,pt){var ut=tt+ot-pt,mt=Math.abs(ut-tt),vt=Math.abs(ut-ot),ht=Math.abs(ut-pt);return mt<=vt&&mt<=ht?tt:vt<=ht?ot:pt},$.decode._IHDR=function(tt,ot,pt){var ut=$._bin;pt.width=ut.readUint(tt,ot),ot+=4,pt.height=ut.readUint(tt,ot),ot+=4,pt.depth=tt[ot],ot++,pt.ctype=tt[ot],ot++,pt.compress=tt[ot],ot++,pt.filter=tt[ot],ot++,pt.interlace=tt[ot],ot++},$._bin={nextZero:function(tt,ot){for(;tt[ot]!=0;)ot++;return ot},readUshort:function(tt,ot){return tt[ot]<<8|tt[ot+1]},writeUshort:function(tt,ot,pt){tt[ot]=pt>>8&255,tt[ot+1]=pt&255},readUint:function(tt,ot){return tt[ot]*16777216+(tt[ot+1]<<16|tt[ot+2]<<8|tt[ot+3])},writeUint:function(tt,ot,pt){tt[ot]=pt>>24&255,tt[ot+1]=pt>>16&255,tt[ot+2]=pt>>8&255,tt[ot+3]=pt&255},readASCII:function(tt,ot,pt){for(var ut="",mt=0;mt<pt;mt++)ut+=String.fromCharCode(tt[ot+mt]);return ut},writeASCII:function(tt,ot,pt){for(var ut=0;ut<pt.length;ut++)tt[ot+ut]=pt.charCodeAt(ut)},readBytes:function(tt,ot,pt){for(var ut=[],mt=0;mt<pt;mt++)ut.push(tt[ot+mt]);return ut},pad:function(tt){return tt.length<2?"0"+tt:tt},readUTF8:function(tt,ot,pt){for(var ut="",mt,vt=0;vt<pt;vt++)ut+="%"+$._bin.pad(tt[ot+vt].toString(16));try{mt=decodeURIComponent(ut)}catch{return $._bin.readASCII(tt,ot,pt)}return mt}},$._copyTile=function(tt,ot,pt,ut,mt,vt,ht,gt,rt){for(var j=Math.min(ot,mt),_e=Math.min(pt,vt),it=0,st=0,lt=0;lt<_e;lt++)for(var et=0;et<j;et++)if(ht>=0&&gt>=0?(it=lt*ot+et<<2,st=(gt+lt)*mt+ht+et<<2):(it=(-gt+lt)*ot-ht+et<<2,st=lt*mt+et<<2),rt==0)ut[st]=tt[it],ut[st+1]=tt[it+1],ut[st+2]=tt[it+2],ut[st+3]=tt[it+3];else if(rt==1){var at=tt[it+3]*.00392156862745098,ft=tt[it]*at,ct=tt[it+1]*at,xt=tt[it+2]*at,dt=ut[st+3]*(1/255),_t=ut[st]*dt,Ct=ut[st+1]*dt,Et=ut[st+2]*dt,Mt=1-at,St=at+dt*Mt,Ot=St==0?0:1/St;ut[st+3]=255*St,ut[st+0]=(ft+_t*Mt)*Ot,ut[st+1]=(ct+Ct*Mt)*Ot,ut[st+2]=(xt+Et*Mt)*Ot}else if(rt==2){var at=tt[it+3],ft=tt[it],ct=tt[it+1],xt=tt[it+2],dt=ut[st+3],_t=ut[st],Ct=ut[st+1],Et=ut[st+2];at==dt&&ft==_t&&ct==Ct&&xt==Et?(ut[st]=0,ut[st+1]=0,ut[st+2]=0,ut[st+3]=0):(ut[st]=ft,ut[st+1]=ct,ut[st+2]=xt,ut[st+3]=at)}else if(rt==3){var at=tt[it+3],ft=tt[it],ct=tt[it+1],xt=tt[it+2],dt=ut[st+3],_t=ut[st],Ct=ut[st+1],Et=ut[st+2];if(at==dt&&ft==_t&&ct==Ct&&xt==Et)continue;if(at<220&&dt>20)return!1}return!0},$.encode=function(tt,ot,pt,ut,mt,vt){ut==null&&(ut=0),vt==null&&(vt=!1);for(var ht=new Uint8Array(tt[0].byteLength*tt.length+100),gt=[137,80,78,71,13,10,26,10],rt=0;rt<8;rt++)ht[rt]=gt[rt];var j=8,_e=$._bin,it=$.crc.crc,st=_e.writeUint,lt=_e.writeUshort,et=_e.writeASCII,at=$.encode.compressPNG(tt,ot,pt,ut,vt);st(ht,j,13),j+=4,et(ht,j,"IHDR"),j+=4,st(ht,j,ot),j+=4,st(ht,j,pt),j+=4,ht[j]=at.depth,j++,ht[j]=at.ctype,j++,ht[j]=0,j++,ht[j]=0,j++,ht[j]=0,j++,st(ht,j,it(ht,j-17,17)),j+=4,st(ht,j,1),j+=4,et(ht,j,"sRGB"),j+=4,ht[j]=1,j++,st(ht,j,it(ht,j-5,5)),j+=4;var ft=tt.length>1;if(ft&&(st(ht,j,8),j+=4,et(ht,j,"acTL"),j+=4,st(ht,j,tt.length),j+=4,st(ht,j,0),j+=4,st(ht,j,it(ht,j-12,12)),j+=4),at.ctype==3){var ct=at.plte.length;st(ht,j,ct*3),j+=4,et(ht,j,"PLTE"),j+=4;for(var rt=0;rt<ct;rt++){var xt=rt*3,dt=at.plte[rt],_t=dt&255,Ct=dt>>8&255,Et=dt>>16&255;ht[j+xt+0]=_t,ht[j+xt+1]=Ct,ht[j+xt+2]=Et}if(j+=ct*3,st(ht,j,it(ht,j-ct*3-4,ct*3+4)),j+=4,at.gotAlpha){st(ht,j,ct),j+=4,et(ht,j,"tRNS"),j+=4;for(var rt=0;rt<ct;rt++)ht[j+rt]=at.plte[rt]>>24&255;j+=ct,st(ht,j,it(ht,j-ct-4,ct+4)),j+=4}}for(var Mt=0,St=0;St<at.frames.length;St++){var Ot=at.frames[St];ft&&(st(ht,j,26),j+=4,et(ht,j,"fcTL"),j+=4,st(ht,j,Mt++),j+=4,st(ht,j,Ot.rect.width),j+=4,st(ht,j,Ot.rect.height),j+=4,st(ht,j,Ot.rect.x),j+=4,st(ht,j,Ot.rect.y),j+=4,lt(ht,j,mt[St]),j+=2,lt(ht,j,1e3),j+=2,ht[j]=Ot.dispose,j++,ht[j]=Ot.blend,j++,st(ht,j,it(ht,j-30,30)),j+=4);var At=Ot.cimg,ct=At.length;st(ht,j,ct+(St==0?0:4)),j+=4;var wt=j;et(ht,j,St==0?"IDAT":"fdAT"),j+=4,St!=0&&(st(ht,j,Mt++),j+=4);for(var rt=0;rt<ct;rt++)ht[j+rt]=At[rt];j+=ct,st(ht,j,it(ht,wt,j-wt)),j+=4}return st(ht,j,0),j+=4,et(ht,j,"IEND"),j+=4,st(ht,j,it(ht,j-4,4)),j+=4,ht.buffer.slice(0,j)},$.encode.compressPNG=function(tt,ot,pt,ut,mt){for(var vt=$.encode.compress(tt,ot,pt,ut,!1,mt),ht=0;ht<tt.length;ht++){var gt=vt.frames[ht];gt.rect.width;var rt=gt.rect.height,j=gt.bpl,_e=gt.bpp,it=new Uint8Array(rt*j+rt);gt.cimg=$.encode._filterZero(gt.img,rt,_e,j,it)}return vt},$.encode.compress=function(tt,ot,pt,ut,mt,vt){vt==null&&(vt=!1);for(var ht=6,gt=8,rt=4,j=255,_e=0;_e<tt.length;_e++)for(var it=new Uint8Array(tt[_e]),st=it.length,lt=0;lt<st;lt+=4)j&=it[lt+3];var et=j!=255,at={},ft=[];if(tt.length!=0&&(at[0]=0,ft.push(0),ut!=0&&ut--),ut!=0){var ct=$.quantize(tt,ut,mt);tt=ct.bufs;for(var lt=0;lt<ct.plte.length;lt++){var xt=ct.plte[lt].est.rgba;at[xt]==null&&(at[xt]=ft.length,ft.push(xt))}}else for(var _e=0;_e<tt.length;_e++)for(var dt=new Uint32Array(tt[_e]),st=dt.length,lt=0;lt<st;lt++){var xt=dt[lt];if((lt<ot||xt!=dt[lt-1]&&xt!=dt[lt-ot])&&at[xt]==null&&(at[xt]=ft.length,ft.push(xt),ft.length>=300))break}var _t=et?mt:!1,Ct=ft.length;Ct<=256&&vt==!1&&(Ct<=2?gt=1:Ct<=4?gt=2:Ct<=16?gt=4:gt=8,mt&&(gt=8),et=!0);for(var Et=[],_e=0;_e<tt.length;_e++){var Mt=new Uint8Array(tt[_e]),St=new Uint32Array(Mt.buffer),Ot=0,At=0,wt=ot,Pt=pt,Lt=0;if(_e!=0&&!_t){for(var Rt=mt||_e==1||Et[Et.length-2].dispose==2?1:2,Dt=0,$t=1e9,jt=0;jt<Rt;jt++){for(var rr=new Uint8Array(tt[_e-1-jt]),Zt=new Uint32Array(tt[_e-1-jt]),qt=ot,er=pt,Yt=-1,Qt=-1,cr=0;cr<pt;cr++)for(var lr=0;lr<ot;lr++){var lt=cr*ot+lr;St[lt]!=Zt[lt]&&(lr<qt&&(qt=lr),lr>Yt&&(Yt=lr),cr<er&&(er=cr),cr>Qt&&(Qt=cr))}var gr=Yt==-1?1:(Yt-qt+1)*(Qt-er+1);gr<$t&&($t=gr,Dt=jt,Yt==-1?(Ot=At=0,wt=Pt=1):(Ot=qt,At=er,wt=Yt-qt+1,Pt=Qt-er+1))}var rr=new Uint8Array(tt[_e-1-Dt]);Dt==1&&(Et[Et.length-1].dispose=2);var Gt=new Uint8Array(wt*Pt*4);new Uint32Array(Gt.buffer),$._copyTile(rr,ot,pt,Gt,wt,Pt,-Ot,-At,0),$._copyTile(Mt,ot,pt,Gt,wt,Pt,-Ot,-At,3)?($._copyTile(Mt,ot,pt,Gt,wt,Pt,-Ot,-At,2),Lt=1):($._copyTile(Mt,ot,pt,Gt,wt,Pt,-Ot,-At,0),Lt=0),Mt=Gt,St=new Uint32Array(Mt.buffer)}var nr=4*wt;if(Ct<=256&&vt==!1){nr=Math.ceil(gt*wt/8);for(var Gt=new Uint8Array(nr*Pt),cr=0;cr<Pt;cr++){var lt=cr*nr,_r=cr*wt;if(gt==8)for(var lr=0;lr<wt;lr++)Gt[lt+lr]=at[St[_r+lr]];else if(gt==4)for(var lr=0;lr<wt;lr++)Gt[lt+(lr>>1)]|=at[St[_r+lr]]<<4-(lr&1)*4;else if(gt==2)for(var lr=0;lr<wt;lr++)Gt[lt+(lr>>2)]|=at[St[_r+lr]]<<6-(lr&3)*2;else if(gt==1)for(var lr=0;lr<wt;lr++)Gt[lt+(lr>>3)]|=at[St[_r+lr]]<<7-(lr&7)*1}Mt=Gt,ht=3,rt=1}else if(et==!1&&tt.length==1){for(var Gt=new Uint8Array(wt*Pt*3),Sr=wt*Pt,lt=0;lt<Sr;lt++){var Ar=lt*3,Or=lt*4;Gt[Ar]=Mt[Or],Gt[Ar+1]=Mt[Or+1],Gt[Ar+2]=Mt[Or+2]}Mt=Gt,ht=2,rt=3,nr=3*wt}Et.push({rect:{x:Ot,y:At,width:wt,height:Pt},img:Mt,bpl:nr,bpp:rt,blend:Lt,dispose:_t?1:0})}return{ctype:ht,depth:gt,plte:ft,gotAlpha:et,frames:Et}},$.encode._filterZero=function(tt,ot,pt,ut,mt){for(var vt=[],ht=0;ht<5;ht++)if(!(ot*ut>5e5&&(ht==2||ht==3||ht==4))){for(var gt=0;gt<ot;gt++)$.encode._filterLine(mt,tt,gt,ut,pt,ht);if(vt.push(nt.deflate(mt)),pt==1)break}for(var rt,j=1e9,_e=0;_e<vt.length;_e++)vt[_e].length<j&&(rt=_e,j=vt[_e].length);return vt[rt]},$.encode._filterLine=function(tt,ot,pt,ut,mt,vt){var ht=pt*ut,gt=ht+pt,rt=$.decode._paeth;if(tt[gt]=vt,gt++,vt==0)for(var j=0;j<ut;j++)tt[gt+j]=ot[ht+j];else if(vt==1){for(var j=0;j<mt;j++)tt[gt+j]=ot[ht+j];for(var j=mt;j<ut;j++)tt[gt+j]=ot[ht+j]-ot[ht+j-mt]+256&255}else if(pt==0){for(var j=0;j<mt;j++)tt[gt+j]=ot[ht+j];if(vt==2)for(var j=mt;j<ut;j++)tt[gt+j]=ot[ht+j];if(vt==3)for(var j=mt;j<ut;j++)tt[gt+j]=ot[ht+j]-(ot[ht+j-mt]>>1)+256&255;if(vt==4)for(var j=mt;j<ut;j++)tt[gt+j]=ot[ht+j]-rt(ot[ht+j-mt],0,0)+256&255}else{if(vt==2)for(var j=0;j<ut;j++)tt[gt+j]=ot[ht+j]+256-ot[ht+j-ut]&255;if(vt==3){for(var j=0;j<mt;j++)tt[gt+j]=ot[ht+j]+256-(ot[ht+j-ut]>>1)&255;for(var j=mt;j<ut;j++)tt[gt+j]=ot[ht+j]+256-(ot[ht+j-ut]+ot[ht+j-mt]>>1)&255}if(vt==4){for(var j=0;j<mt;j++)tt[gt+j]=ot[ht+j]+256-rt(0,ot[ht+j-ut],0)&255;for(var j=mt;j<ut;j++)tt[gt+j]=ot[ht+j]+256-rt(ot[ht+j-mt],ot[ht+j-ut],ot[ht+j-mt-ut])&255}}},$.crc={table:function(){for(var tt=new Uint32Array(256),ot=0;ot<256;ot++){for(var pt=ot,ut=0;ut<8;ut++)pt&1?pt=3988292384^pt>>>1:pt=pt>>>1;tt[ot]=pt}return tt}(),update:function(tt,ot,pt,ut){for(var mt=0;mt<ut;mt++)tt=$.crc.table[(tt^ot[pt+mt])&255]^tt>>>8;return tt},crc:function(tt,ot,pt){return $.crc.update(4294967295,tt,ot,pt)^4294967295}},$.quantize=function(tt,ot,pt){for(var ut=[],mt=0,vt=0;vt<tt.length;vt++)ut.push($.encode.alphaMul(new Uint8Array(tt[vt]),pt)),mt+=tt[vt].byteLength;for(var ht=new Uint8Array(mt),gt=new Uint32Array(ht.buffer),rt=0,vt=0;vt<ut.length;vt++){for(var j=ut[vt],_e=j.length,it=0;it<_e;it++)ht[rt+it]=j[it];rt+=_e}var st={i0:0,i1:ht.length,bst:null,est:null,tdst:0,left:null,right:null};st.bst=$.quantize.stats(ht,st.i0,st.i1),st.est=$.quantize.estats(st.bst);for(var lt=[st];lt.length<ot;){for(var et=0,at=0,vt=0;vt<lt.length;vt++)lt[vt].est.L>et&&(et=lt[vt].est.L,at=vt);if(et<.001)break;var ft=lt[at],ct=$.quantize.splitPixels(ht,gt,ft.i0,ft.i1,ft.est.e,ft.est.eMq255),xt={i0:ft.i0,i1:ct,bst:null,est:null,tdst:0,left:null,right:null};xt.bst=$.quantize.stats(ht,xt.i0,xt.i1),xt.est=$.quantize.estats(xt.bst);var dt={i0:ct,i1:ft.i1,bst:null,est:null,tdst:0,left:null,right:null};dt.bst={R:[],m:[],N:ft.bst.N-xt.bst.N};for(var vt=0;vt<16;vt++)dt.bst.R[vt]=ft.bst.R[vt]-xt.bst.R[vt];for(var vt=0;vt<4;vt++)dt.bst.m[vt]=ft.bst.m[vt]-xt.bst.m[vt];dt.est=$.quantize.estats(dt.bst),ft.left=xt,ft.right=dt,lt[at]=xt,lt.push(dt)}lt.sort(function(Rt,Dt){return Dt.bst.N-Rt.bst.N});for(var _t=0;_t<ut.length;_t++){for(var Ct=$.quantize.planeDst,Et=new Uint8Array(ut[_t].buffer),Mt=new Uint32Array(ut[_t].buffer),St=Et.length,vt=0;vt<St;vt+=4){for(var Ot=Et[vt]*.00392156862745098,At=Et[vt+1]*(1/255),wt=Et[vt+2]*(1/255),Pt=Et[vt+3]*(1/255),Lt=st;Lt.left;)Lt=Ct(Lt.est,Ot,At,wt,Pt)<=0?Lt.left:Lt.right;Mt[vt>>2]=Lt.est.rgba}ut[_t]=Mt.buffer}return{bufs:ut,plte:lt}},$.quantize.getNearest=function(tt,ot,pt,ut,mt){if(tt.left==null)return tt.tdst=$.quantize.dist(tt.est.q,ot,pt,ut,mt),tt;var vt=$.quantize.planeDst(tt.est,ot,pt,ut,mt),ht=tt.left,gt=tt.right;vt>0&&(ht=tt.right,gt=tt.left);var rt=$.quantize.getNearest(ht,ot,pt,ut,mt);if(rt.tdst<=vt*vt)return rt;var j=$.quantize.getNearest(gt,ot,pt,ut,mt);return j.tdst<rt.tdst?j:rt},$.quantize.planeDst=function(tt,ot,pt,ut,mt){var vt=tt.e;return vt[0]*ot+vt[1]*pt+vt[2]*ut+vt[3]*mt-tt.eMq},$.quantize.dist=function(tt,ot,pt,ut,mt){var vt=ot-tt[0],ht=pt-tt[1],gt=ut-tt[2],rt=mt-tt[3];return vt*vt+ht*ht+gt*gt+rt*rt},$.quantize.splitPixels=function(tt,ot,pt,ut,mt,vt){var ht=$.quantize.vecDot;for(ut-=4;pt<ut;){for(;ht(tt,pt,mt)<=vt;)pt+=4;for(;ht(tt,ut,mt)>vt;)ut-=4;if(pt>=ut)break;var gt=ot[pt>>2];ot[pt>>2]=ot[ut>>2],ot[ut>>2]=gt,pt+=4,ut-=4}for(;ht(tt,pt,mt)>vt;)pt-=4;return pt+4},$.quantize.vecDot=function(tt,ot,pt){return tt[ot]*pt[0]+tt[ot+1]*pt[1]+tt[ot+2]*pt[2]+tt[ot+3]*pt[3]},$.quantize.stats=function(tt,ot,pt){for(var ut=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],mt=[0,0,0,0],vt=pt-ot>>2,ht=ot;ht<pt;ht+=4){var gt=tt[ht]*.00392156862745098,rt=tt[ht+1]*(1/255),j=tt[ht+2]*(1/255),_e=tt[ht+3]*(1/255);mt[0]+=gt,mt[1]+=rt,mt[2]+=j,mt[3]+=_e,ut[0]+=gt*gt,ut[1]+=gt*rt,ut[2]+=gt*j,ut[3]+=gt*_e,ut[5]+=rt*rt,ut[6]+=rt*j,ut[7]+=rt*_e,ut[10]+=j*j,ut[11]+=j*_e,ut[15]+=_e*_e}return ut[4]=ut[1],ut[8]=ut[2],ut[12]=ut[3],ut[9]=ut[6],ut[13]=ut[7],ut[14]=ut[11],{R:ut,m:mt,N:vt}},$.quantize.estats=function(tt){var ot=tt.R,pt=tt.m,ut=tt.N,mt=pt[0],vt=pt[1],ht=pt[2],gt=pt[3],rt=ut==0?0:1/ut,j=[ot[0]-mt*mt*rt,ot[1]-mt*vt*rt,ot[2]-mt*ht*rt,ot[3]-mt*gt*rt,ot[4]-vt*mt*rt,ot[5]-vt*vt*rt,ot[6]-vt*ht*rt,ot[7]-vt*gt*rt,ot[8]-ht*mt*rt,ot[9]-ht*vt*rt,ot[10]-ht*ht*rt,ot[11]-ht*gt*rt,ot[12]-gt*mt*rt,ot[13]-gt*vt*rt,ot[14]-gt*ht*rt,ot[15]-gt*gt*rt],_e=j,it=$.M4,st=[.5,.5,.5,.5],lt=0,et=0;if(ut!=0)for(var at=0;at<10&&(st=it.multVec(_e,st),et=Math.sqrt(it.dot(st,st)),st=it.sml(1/et,st),!(Math.abs(et-lt)<1e-9));at++)lt=et;var ft=[mt*rt,vt*rt,ht*rt,gt*rt],ct=it.dot(it.sml(255,ft),st),xt=ft[3]<.001?0:1/ft[3];return{Cov:j,q:ft,e:st,L:lt,eMq255:ct,eMq:it.dot(st,ft),rgba:(Math.round(255*ft[3])<<24|Math.round(255*ft[2]*xt)<<16|Math.round(255*ft[1]*xt)<<8|Math.round(255*ft[0]*xt)<<0)>>>0}},$.M4={multVec:function(tt,ot){return[tt[0]*ot[0]+tt[1]*ot[1]+tt[2]*ot[2]+tt[3]*ot[3],tt[4]*ot[0]+tt[5]*ot[1]+tt[6]*ot[2]+tt[7]*ot[3],tt[8]*ot[0]+tt[9]*ot[1]+tt[10]*ot[2]+tt[11]*ot[3],tt[12]*ot[0]+tt[13]*ot[1]+tt[14]*ot[2]+tt[15]*ot[3]]},dot:function(tt,ot){return tt[0]*ot[0]+tt[1]*ot[1]+tt[2]*ot[2]+tt[3]*ot[3]},sml:function(tt,ot){return[tt*ot[0],tt*ot[1],tt*ot[2],tt*ot[3]]}},$.encode.alphaMul=function(tt,ot){for(var pt=new Uint8Array(tt.length),ut=tt.length>>2,mt=0;mt<ut;mt++){var vt=mt<<2,ht=tt[vt+3];ot&&(ht=ht<128?0:255);var gt=ht*(1/255);pt[vt+0]=tt[vt+0]*gt,pt[vt+1]=tt[vt+1]*gt,pt[vt+2]=tt[vt+2]*gt,pt[vt+3]=ht}return pt}}(a,_)})()},"./node_modules/upng-js/node_modules/pako/index.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js").assign,_=o("./node_modules/upng-js/node_modules/pako/lib/deflate.js"),$=o("./node_modules/upng-js/node_modules/pako/lib/inflate.js"),nt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),tt={};a(tt,_,$,nt),i.exports=tt},"./node_modules/upng-js/node_modules/pako/lib/deflate.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js"),_=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),$=o("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),nt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),tt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),ot=Object.prototype.toString,pt=0,ut=4,mt=0,vt=1,ht=2,gt=-1,rt=0,j=8;function _e(et){if(!(this instanceof _e))return new _e(et);this.options=_.assign({level:gt,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:rt,to:""},et||{});var at=this.options;at.raw&&at.windowBits>0?at.windowBits=-at.windowBits:at.gzip&&at.windowBits>0&&at.windowBits<16&&(at.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tt,this.strm.avail_out=0;var ft=a.deflateInit2(this.strm,at.level,at.method,at.windowBits,at.memLevel,at.strategy);if(ft!==mt)throw new Error(nt[ft]);if(at.header&&a.deflateSetHeader(this.strm,at.header),at.dictionary){var ct;if(typeof at.dictionary=="string"?ct=$.string2buf(at.dictionary):ot.call(at.dictionary)==="[object ArrayBuffer]"?ct=new Uint8Array(at.dictionary):ct=at.dictionary,ft=a.deflateSetDictionary(this.strm,ct),ft!==mt)throw new Error(nt[ft]);this._dict_set=!0}}_e.prototype.push=function(et,at){var ft=this.strm,ct=this.options.chunkSize,xt,dt;if(this.ended)return!1;dt=at===~~at?at:at===!0?ut:pt,typeof et=="string"?ft.input=$.string2buf(et):ot.call(et)==="[object ArrayBuffer]"?ft.input=new Uint8Array(et):ft.input=et,ft.next_in=0,ft.avail_in=ft.input.length;do{if(ft.avail_out===0&&(ft.output=new _.Buf8(ct),ft.next_out=0,ft.avail_out=ct),xt=a.deflate(ft,dt),xt!==vt&&xt!==mt)return this.onEnd(xt),this.ended=!0,!1;(ft.avail_out===0||ft.avail_in===0&&(dt===ut||dt===ht))&&(this.options.to==="string"?this.onData($.buf2binstring(_.shrinkBuf(ft.output,ft.next_out))):this.onData(_.shrinkBuf(ft.output,ft.next_out)))}while((ft.avail_in>0||ft.avail_out===0)&&xt!==vt);return dt===ut?(xt=a.deflateEnd(this.strm),this.onEnd(xt),this.ended=!0,xt===mt):(dt===ht&&(this.onEnd(mt),ft.avail_out=0),!0)},_e.prototype.onData=function(et){this.chunks.push(et)},_e.prototype.onEnd=function(et){et===mt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=et,this.msg=this.strm.msg};function it(et,at){var ft=new _e(at);if(ft.push(et,!0),ft.err)throw ft.msg||nt[ft.err];return ft.result}function st(et,at){return at=at||{},at.raw=!0,it(et,at)}function lt(et,at){return at=at||{},at.gzip=!0,it(et,at)}s.Deflate=_e,s.deflate=it,s.deflateRaw=st,s.gzip=lt},"./node_modules/upng-js/node_modules/pako/lib/inflate.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js"),_=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),$=o("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),nt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),tt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),ot=o("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),pt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js"),ut=Object.prototype.toString;function mt(gt){if(!(this instanceof mt))return new mt(gt);this.options=_.assign({chunkSize:16384,windowBits:0,to:""},gt||{});var rt=this.options;rt.raw&&rt.windowBits>=0&&rt.windowBits<16&&(rt.windowBits=-rt.windowBits,rt.windowBits===0&&(rt.windowBits=-15)),rt.windowBits>=0&&rt.windowBits<16&&!(gt&&gt.windowBits)&&(rt.windowBits+=32),rt.windowBits>15&&rt.windowBits<48&&(rt.windowBits&15||(rt.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ot,this.strm.avail_out=0;var j=a.inflateInit2(this.strm,rt.windowBits);if(j!==nt.Z_OK)throw new Error(tt[j]);if(this.header=new pt,a.inflateGetHeader(this.strm,this.header),rt.dictionary&&(typeof rt.dictionary=="string"?rt.dictionary=$.string2buf(rt.dictionary):ut.call(rt.dictionary)==="[object ArrayBuffer]"&&(rt.dictionary=new Uint8Array(rt.dictionary)),rt.raw&&(j=a.inflateSetDictionary(this.strm,rt.dictionary),j!==nt.Z_OK)))throw new Error(tt[j])}mt.prototype.push=function(gt,rt){var j=this.strm,_e=this.options.chunkSize,it=this.options.dictionary,st,lt,et,at,ft,ct=!1;if(this.ended)return!1;lt=rt===~~rt?rt:rt===!0?nt.Z_FINISH:nt.Z_NO_FLUSH,typeof gt=="string"?j.input=$.binstring2buf(gt):ut.call(gt)==="[object ArrayBuffer]"?j.input=new Uint8Array(gt):j.input=gt,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new _.Buf8(_e),j.next_out=0,j.avail_out=_e),st=a.inflate(j,nt.Z_NO_FLUSH),st===nt.Z_NEED_DICT&&it&&(st=a.inflateSetDictionary(this.strm,it)),st===nt.Z_BUF_ERROR&&ct===!0&&(st=nt.Z_OK,ct=!1),st!==nt.Z_STREAM_END&&st!==nt.Z_OK)return this.onEnd(st),this.ended=!0,!1;j.next_out&&(j.avail_out===0||st===nt.Z_STREAM_END||j.avail_in===0&&(lt===nt.Z_FINISH||lt===nt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(et=$.utf8border(j.output,j.next_out),at=j.next_out-et,ft=$.buf2string(j.output,et),j.next_out=at,j.avail_out=_e-at,at&&_.arraySet(j.output,j.output,et,at,0),this.onData(ft)):this.onData(_.shrinkBuf(j.output,j.next_out))),j.avail_in===0&&j.avail_out===0&&(ct=!0)}while((j.avail_in>0||j.avail_out===0)&&st!==nt.Z_STREAM_END);return st===nt.Z_STREAM_END&&(lt=nt.Z_FINISH),lt===nt.Z_FINISH?(st=a.inflateEnd(this.strm),this.onEnd(st),this.ended=!0,st===nt.Z_OK):(lt===nt.Z_SYNC_FLUSH&&(this.onEnd(nt.Z_OK),j.avail_out=0),!0)},mt.prototype.onData=function(gt){this.chunks.push(gt)},mt.prototype.onEnd=function(gt){gt===nt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=gt,this.msg=this.strm.msg};function vt(gt,rt){var j=new mt(rt);if(j.push(gt,!0),j.err)throw j.msg||tt[j.err];return j.result}function ht(gt,rt){return rt=rt||{},rt.raw=!0,vt(gt,rt)}s.Inflate=mt,s.inflate=vt,s.inflateRaw=ht,s.ungzip=vt},"./node_modules/upng-js/node_modules/pako/lib/utils/common.js":(i,s)=>{var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function a(nt,tt){return Object.prototype.hasOwnProperty.call(nt,tt)}s.assign=function(nt){for(var tt=Array.prototype.slice.call(arguments,1);tt.length;){var ot=tt.shift();if(ot){if(typeof ot!="object")throw new TypeError(ot+"must be non-object");for(var pt in ot)a(ot,pt)&&(nt[pt]=ot[pt])}}return nt},s.shrinkBuf=function(nt,tt){return nt.length===tt?nt:nt.subarray?nt.subarray(0,tt):(nt.length=tt,nt)};var _={arraySet:function(nt,tt,ot,pt,ut){if(tt.subarray&&nt.subarray){nt.set(tt.subarray(ot,ot+pt),ut);return}for(var mt=0;mt<pt;mt++)nt[ut+mt]=tt[ot+mt]},flattenChunks:function(nt){var tt,ot,pt,ut,mt,vt;for(pt=0,tt=0,ot=nt.length;tt<ot;tt++)pt+=nt[tt].length;for(vt=new Uint8Array(pt),ut=0,tt=0,ot=nt.length;tt<ot;tt++)mt=nt[tt],vt.set(mt,ut),ut+=mt.length;return vt}},$={arraySet:function(nt,tt,ot,pt,ut){for(var mt=0;mt<pt;mt++)nt[ut+mt]=tt[ot+mt]},flattenChunks:function(nt){return[].concat.apply([],nt)}};s.setTyped=function(nt){nt?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,_)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,$))},s.setTyped(o)},"./node_modules/upng-js/node_modules/pako/lib/utils/strings.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_=!0,$=!0;try{String.fromCharCode.apply(null,[0])}catch{_=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$=!1}for(var nt=new a.Buf8(256),tt=0;tt<256;tt++)nt[tt]=tt>=252?6:tt>=248?5:tt>=240?4:tt>=224?3:tt>=192?2:1;nt[254]=nt[254]=1,s.string2buf=function(pt){var ut,mt,vt,ht,gt,rt=pt.length,j=0;for(ht=0;ht<rt;ht++)mt=pt.charCodeAt(ht),(mt&64512)===55296&&ht+1<rt&&(vt=pt.charCodeAt(ht+1),(vt&64512)===56320&&(mt=65536+(mt-55296<<10)+(vt-56320),ht++)),j+=mt<128?1:mt<2048?2:mt<65536?3:4;for(ut=new a.Buf8(j),gt=0,ht=0;gt<j;ht++)mt=pt.charCodeAt(ht),(mt&64512)===55296&&ht+1<rt&&(vt=pt.charCodeAt(ht+1),(vt&64512)===56320&&(mt=65536+(mt-55296<<10)+(vt-56320),ht++)),mt<128?ut[gt++]=mt:mt<2048?(ut[gt++]=192|mt>>>6,ut[gt++]=128|mt&63):mt<65536?(ut[gt++]=224|mt>>>12,ut[gt++]=128|mt>>>6&63,ut[gt++]=128|mt&63):(ut[gt++]=240|mt>>>18,ut[gt++]=128|mt>>>12&63,ut[gt++]=128|mt>>>6&63,ut[gt++]=128|mt&63);return ut};function ot(pt,ut){if(ut<65534&&(pt.subarray&&$||!pt.subarray&&_))return String.fromCharCode.apply(null,a.shrinkBuf(pt,ut));for(var mt="",vt=0;vt<ut;vt++)mt+=String.fromCharCode(pt[vt]);return mt}s.buf2binstring=function(pt){return ot(pt,pt.length)},s.binstring2buf=function(pt){for(var ut=new a.Buf8(pt.length),mt=0,vt=ut.length;mt<vt;mt++)ut[mt]=pt.charCodeAt(mt);return ut},s.buf2string=function(pt,ut){var mt,vt,ht,gt,rt=ut||pt.length,j=new Array(rt*2);for(vt=0,mt=0;mt<rt;){if(ht=pt[mt++],ht<128){j[vt++]=ht;continue}if(gt=nt[ht],gt>4){j[vt++]=65533,mt+=gt-1;continue}for(ht&=gt===2?31:gt===3?15:7;gt>1&&mt<rt;)ht=ht<<6|pt[mt++]&63,gt--;if(gt>1){j[vt++]=65533;continue}ht<65536?j[vt++]=ht:(ht-=65536,j[vt++]=55296|ht>>10&1023,j[vt++]=56320|ht&1023)}return ot(j,vt)},s.utf8border=function(pt,ut){var mt;for(ut=ut||pt.length,ut>pt.length&&(ut=pt.length),mt=ut-1;mt>=0&&(pt[mt]&192)===128;)mt--;return mt<0||mt===0?ut:mt+nt[pt[mt]]>ut?mt:ut}},"./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js":i=>{function s(o,a,_,$){for(var nt=o&65535|0,tt=o>>>16&65535|0,ot=0;_!==0;){ot=_>2e3?2e3:_,_-=ot;do nt=nt+a[$++]|0,tt=tt+nt|0;while(--ot);nt%=65521,tt%=65521}return nt|tt<<16|0}i.exports=s},"./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js":i=>{i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js":i=>{function s(){for(var _,$=[],nt=0;nt<256;nt++){_=nt;for(var tt=0;tt<8;tt++)_=_&1?3988292384^_>>>1:_>>>1;$[nt]=_}return $}var o=s();function a(_,$,nt,tt){var ot=o,pt=tt+nt;_^=-1;for(var ut=tt;ut<pt;ut++)_=_>>>8^ot[(_^$[ut])&255];return _^-1}i.exports=a},"./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_=o("./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js"),$=o("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),nt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),tt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),ot=0,pt=1,ut=3,mt=4,vt=5,ht=0,gt=1,rt=-2,j=-3,_e=-5,it=-1,st=1,lt=2,et=3,at=4,ft=0,ct=2,xt=8,dt=9,_t=15,Ct=8,Et=29,Mt=256,St=Mt+1+Et,Ot=30,At=19,wt=2*St+1,Pt=15,Lt=3,Rt=258,Dt=Rt+Lt+1,$t=32,jt=42,Zt=69,qt=73,er=91,Yt=103,Qt=113,cr=666,lr=1,gr=2,rr=3,Gt=4,nr=3;function _r(Tt,ur){return Tt.msg=tt[ur],ur}function Sr(Tt){return(Tt<<1)-(Tt>4?9:0)}function Ar(Tt){for(var ur=Tt.length;--ur>=0;)Tt[ur]=0}function Or(Tt){var ur=Tt.state,or=ur.pending;or>Tt.avail_out&&(or=Tt.avail_out),or!==0&&(a.arraySet(Tt.output,ur.pending_buf,ur.pending_out,or,Tt.next_out),Tt.next_out+=or,ur.pending_out+=or,Tt.total_out+=or,Tt.avail_out-=or,ur.pending-=or,ur.pending===0&&(ur.pending_out=0))}function Mr(Tt,ur){_._tr_flush_block(Tt,Tt.block_start>=0?Tt.block_start:-1,Tt.strstart-Tt.block_start,ur),Tt.block_start=Tt.strstart,Or(Tt.strm)}function wr(Tt,ur){Tt.pending_buf[Tt.pending++]=ur}function Tr(Tt,ur){Tt.pending_buf[Tt.pending++]=ur>>>8&255,Tt.pending_buf[Tt.pending++]=ur&255}function fr(Tt,ur,or,Ft){var Ht=Tt.avail_in;return Ht>Ft&&(Ht=Ft),Ht===0?0:(Tt.avail_in-=Ht,a.arraySet(ur,Tt.input,Tt.next_in,Ht,or),Tt.state.wrap===1?Tt.adler=$(Tt.adler,ur,Ht,or):Tt.state.wrap===2&&(Tt.adler=nt(Tt.adler,ur,Ht,or)),Tt.next_in+=Ht,Tt.total_in+=Ht,Ht)}function pr(Tt,ur){var or=Tt.max_chain_length,Ft=Tt.strstart,Ht,hr,Br=Tt.prev_length,zr=Tt.nice_match,Ir=Tt.strstart>Tt.w_size-Dt?Tt.strstart-(Tt.w_size-Dt):0,jr=Tt.window,fn=Tt.w_mask,Kr=Tt.prev,Hr=Tt.strstart+Rt,Gr=jr[Ft+Br-1],dn=jr[Ft+Br];Tt.prev_length>=Tt.good_match&&(or>>=2),zr>Tt.lookahead&&(zr=Tt.lookahead);do if(Ht=ur,!(jr[Ht+Br]!==dn||jr[Ht+Br-1]!==Gr||jr[Ht]!==jr[Ft]||jr[++Ht]!==jr[Ft+1])){Ft+=2,Ht++;do;while(jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&Ft<Hr);if(hr=Rt-(Hr-Ft),Ft=Hr-Rt,hr>Br){if(Tt.match_start=ur,Br=hr,hr>=zr)break;Gr=jr[Ft+Br-1],dn=jr[Ft+Br]}}while((ur=Kr[ur&fn])>Ir&&--or!==0);return Br<=Tt.lookahead?Br:Tt.lookahead}function Lr(Tt){var ur=Tt.w_size,or,Ft,Ht,hr,Br;do{if(hr=Tt.window_size-Tt.lookahead-Tt.strstart,Tt.strstart>=ur+(ur-Dt)){a.arraySet(Tt.window,Tt.window,ur,ur,0),Tt.match_start-=ur,Tt.strstart-=ur,Tt.block_start-=ur,Ft=Tt.hash_size,or=Ft;do Ht=Tt.head[--or],Tt.head[or]=Ht>=ur?Ht-ur:0;while(--Ft);Ft=ur,or=Ft;do Ht=Tt.prev[--or],Tt.prev[or]=Ht>=ur?Ht-ur:0;while(--Ft);hr+=ur}if(Tt.strm.avail_in===0)break;if(Ft=fr(Tt.strm,Tt.window,Tt.strstart+Tt.lookahead,hr),Tt.lookahead+=Ft,Tt.lookahead+Tt.insert>=Lt)for(Br=Tt.strstart-Tt.insert,Tt.ins_h=Tt.window[Br],Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Br+1])&Tt.hash_mask;Tt.insert&&(Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Br+Lt-1])&Tt.hash_mask,Tt.prev[Br&Tt.w_mask]=Tt.head[Tt.ins_h],Tt.head[Tt.ins_h]=Br,Br++,Tt.insert--,!(Tt.lookahead+Tt.insert<Lt)););}while(Tt.lookahead<Dt&&Tt.strm.avail_in!==0)}function Pr(Tt,ur){var or=65535;for(or>Tt.pending_buf_size-5&&(or=Tt.pending_buf_size-5);;){if(Tt.lookahead<=1){if(Lr(Tt),Tt.lookahead===0&&ur===ot)return lr;if(Tt.lookahead===0)break}Tt.strstart+=Tt.lookahead,Tt.lookahead=0;var Ft=Tt.block_start+or;if((Tt.strstart===0||Tt.strstart>=Ft)&&(Tt.lookahead=Tt.strstart-Ft,Tt.strstart=Ft,Mr(Tt,!1),Tt.strm.avail_out===0)||Tt.strstart-Tt.block_start>=Tt.w_size-Dt&&(Mr(Tt,!1),Tt.strm.avail_out===0))return lr}return Tt.insert=0,ur===mt?(Mr(Tt,!0),Tt.strm.avail_out===0?rr:Gt):(Tt.strstart>Tt.block_start&&(Mr(Tt,!1),Tt.strm.avail_out===0),lr)}function Bt(Tt,ur){for(var or,Ft;;){if(Tt.lookahead<Dt){if(Lr(Tt),Tt.lookahead<Dt&&ur===ot)return lr;if(Tt.lookahead===0)break}if(or=0,Tt.lookahead>=Lt&&(Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Tt.strstart+Lt-1])&Tt.hash_mask,or=Tt.prev[Tt.strstart&Tt.w_mask]=Tt.head[Tt.ins_h],Tt.head[Tt.ins_h]=Tt.strstart),or!==0&&Tt.strstart-or<=Tt.w_size-Dt&&(Tt.match_length=pr(Tt,or)),Tt.match_length>=Lt)if(Ft=_._tr_tally(Tt,Tt.strstart-Tt.match_start,Tt.match_length-Lt),Tt.lookahead-=Tt.match_length,Tt.match_length<=Tt.max_lazy_match&&Tt.lookahead>=Lt){Tt.match_length--;do Tt.strstart++,Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Tt.strstart+Lt-1])&Tt.hash_mask,or=Tt.prev[Tt.strstart&Tt.w_mask]=Tt.head[Tt.ins_h],Tt.head[Tt.ins_h]=Tt.strstart;while(--Tt.match_length!==0);Tt.strstart++}else Tt.strstart+=Tt.match_length,Tt.match_length=0,Tt.ins_h=Tt.window[Tt.strstart],Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Tt.strstart+1])&Tt.hash_mask;else Ft=_._tr_tally(Tt,0,Tt.window[Tt.strstart]),Tt.lookahead--,Tt.strstart++;if(Ft&&(Mr(Tt,!1),Tt.strm.avail_out===0))return lr}return Tt.insert=Tt.strstart<Lt-1?Tt.strstart:Lt-1,ur===mt?(Mr(Tt,!0),Tt.strm.avail_out===0?rr:Gt):Tt.last_lit&&(Mr(Tt,!1),Tt.strm.avail_out===0)?lr:gr}function Ut(Tt,ur){for(var or,Ft,Ht;;){if(Tt.lookahead<Dt){if(Lr(Tt),Tt.lookahead<Dt&&ur===ot)return lr;if(Tt.lookahead===0)break}if(or=0,Tt.lookahead>=Lt&&(Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Tt.strstart+Lt-1])&Tt.hash_mask,or=Tt.prev[Tt.strstart&Tt.w_mask]=Tt.head[Tt.ins_h],Tt.head[Tt.ins_h]=Tt.strstart),Tt.prev_length=Tt.match_length,Tt.prev_match=Tt.match_start,Tt.match_length=Lt-1,or!==0&&Tt.prev_length<Tt.max_lazy_match&&Tt.strstart-or<=Tt.w_size-Dt&&(Tt.match_length=pr(Tt,or),Tt.match_length<=5&&(Tt.strategy===st||Tt.match_length===Lt&&Tt.strstart-Tt.match_start>4096)&&(Tt.match_length=Lt-1)),Tt.prev_length>=Lt&&Tt.match_length<=Tt.prev_length){Ht=Tt.strstart+Tt.lookahead-Lt,Ft=_._tr_tally(Tt,Tt.strstart-1-Tt.prev_match,Tt.prev_length-Lt),Tt.lookahead-=Tt.prev_length-1,Tt.prev_length-=2;do++Tt.strstart<=Ht&&(Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Tt.strstart+Lt-1])&Tt.hash_mask,or=Tt.prev[Tt.strstart&Tt.w_mask]=Tt.head[Tt.ins_h],Tt.head[Tt.ins_h]=Tt.strstart);while(--Tt.prev_length!==0);if(Tt.match_available=0,Tt.match_length=Lt-1,Tt.strstart++,Ft&&(Mr(Tt,!1),Tt.strm.avail_out===0))return lr}else if(Tt.match_available){if(Ft=_._tr_tally(Tt,0,Tt.window[Tt.strstart-1]),Ft&&Mr(Tt,!1),Tt.strstart++,Tt.lookahead--,Tt.strm.avail_out===0)return lr}else Tt.match_available=1,Tt.strstart++,Tt.lookahead--}return Tt.match_available&&(Ft=_._tr_tally(Tt,0,Tt.window[Tt.strstart-1]),Tt.match_available=0),Tt.insert=Tt.strstart<Lt-1?Tt.strstart:Lt-1,ur===mt?(Mr(Tt,!0),Tt.strm.avail_out===0?rr:Gt):Tt.last_lit&&(Mr(Tt,!1),Tt.strm.avail_out===0)?lr:gr}function Wt(Tt,ur){for(var or,Ft,Ht,hr,Br=Tt.window;;){if(Tt.lookahead<=Rt){if(Lr(Tt),Tt.lookahead<=Rt&&ur===ot)return lr;if(Tt.lookahead===0)break}if(Tt.match_length=0,Tt.lookahead>=Lt&&Tt.strstart>0&&(Ht=Tt.strstart-1,Ft=Br[Ht],Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht])){hr=Tt.strstart+Rt;do;while(Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ht<hr);Tt.match_length=Rt-(hr-Ht),Tt.match_length>Tt.lookahead&&(Tt.match_length=Tt.lookahead)}if(Tt.match_length>=Lt?(or=_._tr_tally(Tt,1,Tt.match_length-Lt),Tt.lookahead-=Tt.match_length,Tt.strstart+=Tt.match_length,Tt.match_length=0):(or=_._tr_tally(Tt,0,Tt.window[Tt.strstart]),Tt.lookahead--,Tt.strstart++),or&&(Mr(Tt,!1),Tt.strm.avail_out===0))return lr}return Tt.insert=0,ur===mt?(Mr(Tt,!0),Tt.strm.avail_out===0?rr:Gt):Tt.last_lit&&(Mr(Tt,!1),Tt.strm.avail_out===0)?lr:gr}function ar(Tt,ur){for(var or;;){if(Tt.lookahead===0&&(Lr(Tt),Tt.lookahead===0)){if(ur===ot)return lr;break}if(Tt.match_length=0,or=_._tr_tally(Tt,0,Tt.window[Tt.strstart]),Tt.lookahead--,Tt.strstart++,or&&(Mr(Tt,!1),Tt.strm.avail_out===0))return lr}return Tt.insert=0,ur===mt?(Mr(Tt,!0),Tt.strm.avail_out===0?rr:Gt):Tt.last_lit&&(Mr(Tt,!1),Tt.strm.avail_out===0)?lr:gr}function Xt(Tt,ur,or,Ft,Ht){this.good_length=Tt,this.max_lazy=ur,this.nice_length=or,this.max_chain=Ft,this.func=Ht}var Er;Er=[new Xt(0,0,0,0,Pr),new Xt(4,4,8,4,Bt),new Xt(4,5,16,8,Bt),new Xt(4,6,32,32,Bt),new Xt(4,4,16,16,Ut),new Xt(8,16,32,32,Ut),new Xt(8,16,128,128,Ut),new Xt(8,32,128,256,Ut),new Xt(32,128,258,1024,Ut),new Xt(32,258,258,4096,Ut)];function mr(Tt){Tt.window_size=2*Tt.w_size,Ar(Tt.head),Tt.max_lazy_match=Er[Tt.level].max_lazy,Tt.good_match=Er[Tt.level].good_length,Tt.nice_match=Er[Tt.level].nice_length,Tt.max_chain_length=Er[Tt.level].max_chain,Tt.strstart=0,Tt.block_start=0,Tt.lookahead=0,Tt.insert=0,Tt.match_length=Tt.prev_length=Lt-1,Tt.match_available=0,Tt.ins_h=0}function It(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=xt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(wt*2),this.dyn_dtree=new a.Buf16((2*Ot+1)*2),this.bl_tree=new a.Buf16((2*At+1)*2),Ar(this.dyn_ltree),Ar(this.dyn_dtree),Ar(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(Pt+1),this.heap=new a.Buf16(2*St+1),Ar(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*St+1),Ar(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Jt(Tt){var ur;return!Tt||!Tt.state?_r(Tt,rt):(Tt.total_in=Tt.total_out=0,Tt.data_type=ct,ur=Tt.state,ur.pending=0,ur.pending_out=0,ur.wrap<0&&(ur.wrap=-ur.wrap),ur.status=ur.wrap?jt:Qt,Tt.adler=ur.wrap===2?0:1,ur.last_flush=ot,_._tr_init(ur),ht)}function sr(Tt){var ur=Jt(Tt);return ur===ht&&mr(Tt.state),ur}function Cr(Tt,ur){return!Tt||!Tt.state||Tt.state.wrap!==2?rt:(Tt.state.gzhead=ur,ht)}function tr(Tt,ur,or,Ft,Ht,hr){if(!Tt)return rt;var Br=1;if(ur===it&&(ur=6),Ft<0?(Br=0,Ft=-Ft):Ft>15&&(Br=2,Ft-=16),Ht<1||Ht>dt||or!==xt||Ft<8||Ft>15||ur<0||ur>9||hr<0||hr>at)return _r(Tt,rt);Ft===8&&(Ft=9);var zr=new It;return Tt.state=zr,zr.strm=Tt,zr.wrap=Br,zr.gzhead=null,zr.w_bits=Ft,zr.w_size=1<<zr.w_bits,zr.w_mask=zr.w_size-1,zr.hash_bits=Ht+7,zr.hash_size=1<<zr.hash_bits,zr.hash_mask=zr.hash_size-1,zr.hash_shift=~~((zr.hash_bits+Lt-1)/Lt),zr.window=new a.Buf8(zr.w_size*2),zr.head=new a.Buf16(zr.hash_size),zr.prev=new a.Buf16(zr.w_size),zr.lit_bufsize=1<<Ht+6,zr.pending_buf_size=zr.lit_bufsize*4,zr.pending_buf=new a.Buf8(zr.pending_buf_size),zr.d_buf=1*zr.lit_bufsize,zr.l_buf=3*zr.lit_bufsize,zr.level=ur,zr.strategy=hr,zr.method=or,sr(Tt)}function vr(Tt,ur){return tr(Tt,ur,xt,_t,Ct,ft)}function kt(Tt,ur){var or,Ft,Ht,hr;if(!Tt||!Tt.state||ur>vt||ur<0)return Tt?_r(Tt,rt):rt;if(Ft=Tt.state,!Tt.output||!Tt.input&&Tt.avail_in!==0||Ft.status===cr&&ur!==mt)return _r(Tt,Tt.avail_out===0?_e:rt);if(Ft.strm=Tt,or=Ft.last_flush,Ft.last_flush=ur,Ft.status===jt)if(Ft.wrap===2)Tt.adler=0,wr(Ft,31),wr(Ft,139),wr(Ft,8),Ft.gzhead?(wr(Ft,(Ft.gzhead.text?1:0)+(Ft.gzhead.hcrc?2:0)+(Ft.gzhead.extra?4:0)+(Ft.gzhead.name?8:0)+(Ft.gzhead.comment?16:0)),wr(Ft,Ft.gzhead.time&255),wr(Ft,Ft.gzhead.time>>8&255),wr(Ft,Ft.gzhead.time>>16&255),wr(Ft,Ft.gzhead.time>>24&255),wr(Ft,Ft.level===9?2:Ft.strategy>=lt||Ft.level<2?4:0),wr(Ft,Ft.gzhead.os&255),Ft.gzhead.extra&&Ft.gzhead.extra.length&&(wr(Ft,Ft.gzhead.extra.length&255),wr(Ft,Ft.gzhead.extra.length>>8&255)),Ft.gzhead.hcrc&&(Tt.adler=nt(Tt.adler,Ft.pending_buf,Ft.pending,0)),Ft.gzindex=0,Ft.status=Zt):(wr(Ft,0),wr(Ft,0),wr(Ft,0),wr(Ft,0),wr(Ft,0),wr(Ft,Ft.level===9?2:Ft.strategy>=lt||Ft.level<2?4:0),wr(Ft,nr),Ft.status=Qt);else{var Br=xt+(Ft.w_bits-8<<4)<<8,zr=-1;Ft.strategy>=lt||Ft.level<2?zr=0:Ft.level<6?zr=1:Ft.level===6?zr=2:zr=3,Br|=zr<<6,Ft.strstart!==0&&(Br|=$t),Br+=31-Br%31,Ft.status=Qt,Tr(Ft,Br),Ft.strstart!==0&&(Tr(Ft,Tt.adler>>>16),Tr(Ft,Tt.adler&65535)),Tt.adler=1}if(Ft.status===Zt)if(Ft.gzhead.extra){for(Ht=Ft.pending;Ft.gzindex<(Ft.gzhead.extra.length&65535)&&!(Ft.pending===Ft.pending_buf_size&&(Ft.gzhead.hcrc&&Ft.pending>Ht&&(Tt.adler=nt(Tt.adler,Ft.pending_buf,Ft.pending-Ht,Ht)),Or(Tt),Ht=Ft.pending,Ft.pending===Ft.pending_buf_size));)wr(Ft,Ft.gzhead.extra[Ft.gzindex]&255),Ft.gzindex++;Ft.gzhead.hcrc&&Ft.pending>Ht&&(Tt.adler=nt(Tt.adler,Ft.pending_buf,Ft.pending-Ht,Ht)),Ft.gzindex===Ft.gzhead.extra.length&&(Ft.gzindex=0,Ft.status=qt)}else Ft.status=qt;if(Ft.status===qt)if(Ft.gzhead.name){Ht=Ft.pending;do{if(Ft.pending===Ft.pending_buf_size&&(Ft.gzhead.hcrc&&Ft.pending>Ht&&(Tt.adler=nt(Tt.adler,Ft.pending_buf,Ft.pending-Ht,Ht)),Or(Tt),Ht=Ft.pending,Ft.pending===Ft.pending_buf_size)){hr=1;break}Ft.gzindex<Ft.gzhead.name.length?hr=Ft.gzhead.name.charCodeAt(Ft.gzindex++)&255:hr=0,wr(Ft,hr)}while(hr!==0);Ft.gzhead.hcrc&&Ft.pending>Ht&&(Tt.adler=nt(Tt.adler,Ft.pending_buf,Ft.pending-Ht,Ht)),hr===0&&(Ft.gzindex=0,Ft.status=er)}else Ft.status=er;if(Ft.status===er)if(Ft.gzhead.comment){Ht=Ft.pending;do{if(Ft.pending===Ft.pending_buf_size&&(Ft.gzhead.hcrc&&Ft.pending>Ht&&(Tt.adler=nt(Tt.adler,Ft.pending_buf,Ft.pending-Ht,Ht)),Or(Tt),Ht=Ft.pending,Ft.pending===Ft.pending_buf_size)){hr=1;break}Ft.gzindex<Ft.gzhead.comment.length?hr=Ft.gzhead.comment.charCodeAt(Ft.gzindex++)&255:hr=0,wr(Ft,hr)}while(hr!==0);Ft.gzhead.hcrc&&Ft.pending>Ht&&(Tt.adler=nt(Tt.adler,Ft.pending_buf,Ft.pending-Ht,Ht)),hr===0&&(Ft.status=Yt)}else Ft.status=Yt;if(Ft.status===Yt&&(Ft.gzhead.hcrc?(Ft.pending+2>Ft.pending_buf_size&&Or(Tt),Ft.pending+2<=Ft.pending_buf_size&&(wr(Ft,Tt.adler&255),wr(Ft,Tt.adler>>8&255),Tt.adler=0,Ft.status=Qt)):Ft.status=Qt),Ft.pending!==0){if(Or(Tt),Tt.avail_out===0)return Ft.last_flush=-1,ht}else if(Tt.avail_in===0&&Sr(ur)<=Sr(or)&&ur!==mt)return _r(Tt,_e);if(Ft.status===cr&&Tt.avail_in!==0)return _r(Tt,_e);if(Tt.avail_in!==0||Ft.lookahead!==0||ur!==ot&&Ft.status!==cr){var Ir=Ft.strategy===lt?ar(Ft,ur):Ft.strategy===et?Wt(Ft,ur):Er[Ft.level].func(Ft,ur);if((Ir===rr||Ir===Gt)&&(Ft.status=cr),Ir===lr||Ir===rr)return Tt.avail_out===0&&(Ft.last_flush=-1),ht;if(Ir===gr&&(ur===pt?_._tr_align(Ft):ur!==vt&&(_._tr_stored_block(Ft,0,0,!1),ur===ut&&(Ar(Ft.head),Ft.lookahead===0&&(Ft.strstart=0,Ft.block_start=0,Ft.insert=0))),Or(Tt),Tt.avail_out===0))return Ft.last_flush=-1,ht}return ur!==mt?ht:Ft.wrap<=0?gt:(Ft.wrap===2?(wr(Ft,Tt.adler&255),wr(Ft,Tt.adler>>8&255),wr(Ft,Tt.adler>>16&255),wr(Ft,Tt.adler>>24&255),wr(Ft,Tt.total_in&255),wr(Ft,Tt.total_in>>8&255),wr(Ft,Tt.total_in>>16&255),wr(Ft,Tt.total_in>>24&255)):(Tr(Ft,Tt.adler>>>16),Tr(Ft,Tt.adler&65535)),Or(Tt),Ft.wrap>0&&(Ft.wrap=-Ft.wrap),Ft.pending!==0?ht:gt)}function br(Tt){var ur;return!Tt||!Tt.state?rt:(ur=Tt.state.status,ur!==jt&&ur!==Zt&&ur!==qt&&ur!==er&&ur!==Yt&&ur!==Qt&&ur!==cr?_r(Tt,rt):(Tt.state=null,ur===Qt?_r(Tt,j):ht))}function Dr(Tt,ur){var or=ur.length,Ft,Ht,hr,Br,zr,Ir,jr,fn;if(!Tt||!Tt.state||(Ft=Tt.state,Br=Ft.wrap,Br===2||Br===1&&Ft.status!==jt||Ft.lookahead))return rt;for(Br===1&&(Tt.adler=$(Tt.adler,ur,or,0)),Ft.wrap=0,or>=Ft.w_size&&(Br===0&&(Ar(Ft.head),Ft.strstart=0,Ft.block_start=0,Ft.insert=0),fn=new a.Buf8(Ft.w_size),a.arraySet(fn,ur,or-Ft.w_size,Ft.w_size,0),ur=fn,or=Ft.w_size),zr=Tt.avail_in,Ir=Tt.next_in,jr=Tt.input,Tt.avail_in=or,Tt.next_in=0,Tt.input=ur,Lr(Ft);Ft.lookahead>=Lt;){Ht=Ft.strstart,hr=Ft.lookahead-(Lt-1);do Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[Ht+Lt-1])&Ft.hash_mask,Ft.prev[Ht&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=Ht,Ht++;while(--hr);Ft.strstart=Ht,Ft.lookahead=Lt-1,Lr(Ft)}return Ft.strstart+=Ft.lookahead,Ft.block_start=Ft.strstart,Ft.insert=Ft.lookahead,Ft.lookahead=0,Ft.match_length=Ft.prev_length=Lt-1,Ft.match_available=0,Tt.next_in=Ir,Tt.input=jr,Tt.avail_in=zr,Ft.wrap=Br,ht}s.deflateInit=vr,s.deflateInit2=tr,s.deflateReset=sr,s.deflateResetKeep=Jt,s.deflateSetHeader=Cr,s.deflate=kt,s.deflateEnd=br,s.deflateSetDictionary=Dr,s.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js":i=>{function s(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=s},"./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js":i=>{var s=30,o=12;i.exports=function(_,$){var nt,tt,ot,pt,ut,mt,vt,ht,gt,rt,j,_e,it,st,lt,et,at,ft,ct,xt,dt,_t,Ct,Et,Mt;nt=_.state,tt=_.next_in,Et=_.input,ot=tt+(_.avail_in-5),pt=_.next_out,Mt=_.output,ut=pt-($-_.avail_out),mt=pt+(_.avail_out-257),vt=nt.dmax,ht=nt.wsize,gt=nt.whave,rt=nt.wnext,j=nt.window,_e=nt.hold,it=nt.bits,st=nt.lencode,lt=nt.distcode,et=(1<<nt.lenbits)-1,at=(1<<nt.distbits)-1;e:do{it<15&&(_e+=Et[tt++]<<it,it+=8,_e+=Et[tt++]<<it,it+=8),ft=st[_e&et];t:for(;;){if(ct=ft>>>24,_e>>>=ct,it-=ct,ct=ft>>>16&255,ct===0)Mt[pt++]=ft&65535;else if(ct&16){xt=ft&65535,ct&=15,ct&&(it<ct&&(_e+=Et[tt++]<<it,it+=8),xt+=_e&(1<<ct)-1,_e>>>=ct,it-=ct),it<15&&(_e+=Et[tt++]<<it,it+=8,_e+=Et[tt++]<<it,it+=8),ft=lt[_e&at];r:for(;;){if(ct=ft>>>24,_e>>>=ct,it-=ct,ct=ft>>>16&255,ct&16){if(dt=ft&65535,ct&=15,it<ct&&(_e+=Et[tt++]<<it,it+=8,it<ct&&(_e+=Et[tt++]<<it,it+=8)),dt+=_e&(1<<ct)-1,dt>vt){_.msg="invalid distance too far back",nt.mode=s;break e}if(_e>>>=ct,it-=ct,ct=pt-ut,dt>ct){if(ct=dt-ct,ct>gt&&nt.sane){_.msg="invalid distance too far back",nt.mode=s;break e}if(_t=0,Ct=j,rt===0){if(_t+=ht-ct,ct<xt){xt-=ct;do Mt[pt++]=j[_t++];while(--ct);_t=pt-dt,Ct=Mt}}else if(rt<ct){if(_t+=ht+rt-ct,ct-=rt,ct<xt){xt-=ct;do Mt[pt++]=j[_t++];while(--ct);if(_t=0,rt<xt){ct=rt,xt-=ct;do Mt[pt++]=j[_t++];while(--ct);_t=pt-dt,Ct=Mt}}}else if(_t+=rt-ct,ct<xt){xt-=ct;do Mt[pt++]=j[_t++];while(--ct);_t=pt-dt,Ct=Mt}for(;xt>2;)Mt[pt++]=Ct[_t++],Mt[pt++]=Ct[_t++],Mt[pt++]=Ct[_t++],xt-=3;xt&&(Mt[pt++]=Ct[_t++],xt>1&&(Mt[pt++]=Ct[_t++]))}else{_t=pt-dt;do Mt[pt++]=Mt[_t++],Mt[pt++]=Mt[_t++],Mt[pt++]=Mt[_t++],xt-=3;while(xt>2);xt&&(Mt[pt++]=Mt[_t++],xt>1&&(Mt[pt++]=Mt[_t++]))}}else if(ct&64){_.msg="invalid distance code",nt.mode=s;break e}else{ft=lt[(ft&65535)+(_e&(1<<ct)-1)];continue r}break}}else if(ct&64)if(ct&32){nt.mode=o;break e}else{_.msg="invalid literal/length code",nt.mode=s;break e}else{ft=st[(ft&65535)+(_e&(1<<ct)-1)];continue t}break}}while(tt<ot&&pt<mt);xt=it>>3,tt-=xt,it-=xt<<3,_e&=(1<<it)-1,_.next_in=tt,_.next_out=pt,_.avail_in=tt<ot?5+(ot-tt):5-(tt-ot),_.avail_out=pt<mt?257+(mt-pt):257-(pt-mt),nt.hold=_e,nt.bits=it}},"./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_=o("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),$=o("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),nt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js"),tt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js"),ot=0,pt=1,ut=2,mt=4,vt=5,ht=6,gt=0,rt=1,j=2,_e=-2,it=-3,st=-4,lt=-5,et=8,at=1,ft=2,ct=3,xt=4,dt=5,_t=6,Ct=7,Et=8,Mt=9,St=10,Ot=11,At=12,wt=13,Pt=14,Lt=15,Rt=16,Dt=17,$t=18,jt=19,Zt=20,qt=21,er=22,Yt=23,Qt=24,cr=25,lr=26,gr=27,rr=28,Gt=29,nr=30,_r=31,Sr=32,Ar=852,Or=592,Mr=15,wr=Mr;function Tr(tr){return(tr>>>24&255)+(tr>>>8&65280)+((tr&65280)<<8)+((tr&255)<<24)}function fr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function pr(tr){var vr;return!tr||!tr.state?_e:(vr=tr.state,tr.total_in=tr.total_out=vr.total=0,tr.msg="",vr.wrap&&(tr.adler=vr.wrap&1),vr.mode=at,vr.last=0,vr.havedict=0,vr.dmax=32768,vr.head=null,vr.hold=0,vr.bits=0,vr.lencode=vr.lendyn=new a.Buf32(Ar),vr.distcode=vr.distdyn=new a.Buf32(Or),vr.sane=1,vr.back=-1,gt)}function Lr(tr){var vr;return!tr||!tr.state?_e:(vr=tr.state,vr.wsize=0,vr.whave=0,vr.wnext=0,pr(tr))}function Pr(tr,vr){var kt,br;return!tr||!tr.state||(br=tr.state,vr<0?(kt=0,vr=-vr):(kt=(vr>>4)+1,vr<48&&(vr&=15)),vr&&(vr<8||vr>15))?_e:(br.window!==null&&br.wbits!==vr&&(br.window=null),br.wrap=kt,br.wbits=vr,Lr(tr))}function Bt(tr,vr){var kt,br;return tr?(br=new fr,tr.state=br,br.window=null,kt=Pr(tr,vr),kt!==gt&&(tr.state=null),kt):_e}function Ut(tr){return Bt(tr,wr)}var Wt=!0,ar,Xt;function Er(tr){if(Wt){var vr;for(ar=new a.Buf32(512),Xt=new a.Buf32(32),vr=0;vr<144;)tr.lens[vr++]=8;for(;vr<256;)tr.lens[vr++]=9;for(;vr<280;)tr.lens[vr++]=7;for(;vr<288;)tr.lens[vr++]=8;for(tt(pt,tr.lens,0,288,ar,0,tr.work,{bits:9}),vr=0;vr<32;)tr.lens[vr++]=5;tt(ut,tr.lens,0,32,Xt,0,tr.work,{bits:5}),Wt=!1}tr.lencode=ar,tr.lenbits=9,tr.distcode=Xt,tr.distbits=5}function mr(tr,vr,kt,br){var Dr,Tt=tr.state;return Tt.window===null&&(Tt.wsize=1<<Tt.wbits,Tt.wnext=0,Tt.whave=0,Tt.window=new a.Buf8(Tt.wsize)),br>=Tt.wsize?(a.arraySet(Tt.window,vr,kt-Tt.wsize,Tt.wsize,0),Tt.wnext=0,Tt.whave=Tt.wsize):(Dr=Tt.wsize-Tt.wnext,Dr>br&&(Dr=br),a.arraySet(Tt.window,vr,kt-br,Dr,Tt.wnext),br-=Dr,br?(a.arraySet(Tt.window,vr,kt-br,br,0),Tt.wnext=br,Tt.whave=Tt.wsize):(Tt.wnext+=Dr,Tt.wnext===Tt.wsize&&(Tt.wnext=0),Tt.whave<Tt.wsize&&(Tt.whave+=Dr))),0}function It(tr,vr){var kt,br,Dr,Tt,ur,or,Ft,Ht,hr,Br,zr,Ir,jr,fn,Kr=0,Hr,Gr,dn,nn,Cn,_n,an,ln,sn=new a.Buf8(4),mn,pn,On=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!tr||!tr.state||!tr.output||!tr.input&&tr.avail_in!==0)return _e;kt=tr.state,kt.mode===At&&(kt.mode=wt),ur=tr.next_out,Dr=tr.output,Ft=tr.avail_out,Tt=tr.next_in,br=tr.input,or=tr.avail_in,Ht=kt.hold,hr=kt.bits,Br=or,zr=Ft,ln=gt;e:for(;;)switch(kt.mode){case at:if(kt.wrap===0){kt.mode=wt;break}for(;hr<16;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(kt.wrap&2&&Ht===35615){kt.check=0,sn[0]=Ht&255,sn[1]=Ht>>>8&255,kt.check=$(kt.check,sn,2,0),Ht=0,hr=0,kt.mode=ft;break}if(kt.flags=0,kt.head&&(kt.head.done=!1),!(kt.wrap&1)||(((Ht&255)<<8)+(Ht>>8))%31){tr.msg="incorrect header check",kt.mode=nr;break}if((Ht&15)!==et){tr.msg="unknown compression method",kt.mode=nr;break}if(Ht>>>=4,hr-=4,an=(Ht&15)+8,kt.wbits===0)kt.wbits=an;else if(an>kt.wbits){tr.msg="invalid window size",kt.mode=nr;break}kt.dmax=1<<an,tr.adler=kt.check=1,kt.mode=Ht&512?St:At,Ht=0,hr=0;break;case ft:for(;hr<16;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(kt.flags=Ht,(kt.flags&255)!==et){tr.msg="unknown compression method",kt.mode=nr;break}if(kt.flags&57344){tr.msg="unknown header flags set",kt.mode=nr;break}kt.head&&(kt.head.text=Ht>>8&1),kt.flags&512&&(sn[0]=Ht&255,sn[1]=Ht>>>8&255,kt.check=$(kt.check,sn,2,0)),Ht=0,hr=0,kt.mode=ct;case ct:for(;hr<32;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}kt.head&&(kt.head.time=Ht),kt.flags&512&&(sn[0]=Ht&255,sn[1]=Ht>>>8&255,sn[2]=Ht>>>16&255,sn[3]=Ht>>>24&255,kt.check=$(kt.check,sn,4,0)),Ht=0,hr=0,kt.mode=xt;case xt:for(;hr<16;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}kt.head&&(kt.head.xflags=Ht&255,kt.head.os=Ht>>8),kt.flags&512&&(sn[0]=Ht&255,sn[1]=Ht>>>8&255,kt.check=$(kt.check,sn,2,0)),Ht=0,hr=0,kt.mode=dt;case dt:if(kt.flags&1024){for(;hr<16;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}kt.length=Ht,kt.head&&(kt.head.extra_len=Ht),kt.flags&512&&(sn[0]=Ht&255,sn[1]=Ht>>>8&255,kt.check=$(kt.check,sn,2,0)),Ht=0,hr=0}else kt.head&&(kt.head.extra=null);kt.mode=_t;case _t:if(kt.flags&1024&&(Ir=kt.length,Ir>or&&(Ir=or),Ir&&(kt.head&&(an=kt.head.extra_len-kt.length,kt.head.extra||(kt.head.extra=new Array(kt.head.extra_len)),a.arraySet(kt.head.extra,br,Tt,Ir,an)),kt.flags&512&&(kt.check=$(kt.check,br,Ir,Tt)),or-=Ir,Tt+=Ir,kt.length-=Ir),kt.length))break e;kt.length=0,kt.mode=Ct;case Ct:if(kt.flags&2048){if(or===0)break e;Ir=0;do an=br[Tt+Ir++],kt.head&&an&&kt.length<65536&&(kt.head.name+=String.fromCharCode(an));while(an&&Ir<or);if(kt.flags&512&&(kt.check=$(kt.check,br,Ir,Tt)),or-=Ir,Tt+=Ir,an)break e}else kt.head&&(kt.head.name=null);kt.length=0,kt.mode=Et;case Et:if(kt.flags&4096){if(or===0)break e;Ir=0;do an=br[Tt+Ir++],kt.head&&an&&kt.length<65536&&(kt.head.comment+=String.fromCharCode(an));while(an&&Ir<or);if(kt.flags&512&&(kt.check=$(kt.check,br,Ir,Tt)),or-=Ir,Tt+=Ir,an)break e}else kt.head&&(kt.head.comment=null);kt.mode=Mt;case Mt:if(kt.flags&512){for(;hr<16;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(Ht!==(kt.check&65535)){tr.msg="header crc mismatch",kt.mode=nr;break}Ht=0,hr=0}kt.head&&(kt.head.hcrc=kt.flags>>9&1,kt.head.done=!0),tr.adler=kt.check=0,kt.mode=At;break;case St:for(;hr<32;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}tr.adler=kt.check=Tr(Ht),Ht=0,hr=0,kt.mode=Ot;case Ot:if(kt.havedict===0)return tr.next_out=ur,tr.avail_out=Ft,tr.next_in=Tt,tr.avail_in=or,kt.hold=Ht,kt.bits=hr,j;tr.adler=kt.check=1,kt.mode=At;case At:if(vr===vt||vr===ht)break e;case wt:if(kt.last){Ht>>>=hr&7,hr-=hr&7,kt.mode=gr;break}for(;hr<3;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}switch(kt.last=Ht&1,Ht>>>=1,hr-=1,Ht&3){case 0:kt.mode=Pt;break;case 1:if(Er(kt),kt.mode=Zt,vr===ht){Ht>>>=2,hr-=2;break e}break;case 2:kt.mode=Dt;break;case 3:tr.msg="invalid block type",kt.mode=nr}Ht>>>=2,hr-=2;break;case Pt:for(Ht>>>=hr&7,hr-=hr&7;hr<32;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if((Ht&65535)!==(Ht>>>16^65535)){tr.msg="invalid stored block lengths",kt.mode=nr;break}if(kt.length=Ht&65535,Ht=0,hr=0,kt.mode=Lt,vr===ht)break e;case Lt:kt.mode=Rt;case Rt:if(Ir=kt.length,Ir){if(Ir>or&&(Ir=or),Ir>Ft&&(Ir=Ft),Ir===0)break e;a.arraySet(Dr,br,Tt,Ir,ur),or-=Ir,Tt+=Ir,Ft-=Ir,ur+=Ir,kt.length-=Ir;break}kt.mode=At;break;case Dt:for(;hr<14;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(kt.nlen=(Ht&31)+257,Ht>>>=5,hr-=5,kt.ndist=(Ht&31)+1,Ht>>>=5,hr-=5,kt.ncode=(Ht&15)+4,Ht>>>=4,hr-=4,kt.nlen>286||kt.ndist>30){tr.msg="too many length or distance symbols",kt.mode=nr;break}kt.have=0,kt.mode=$t;case $t:for(;kt.have<kt.ncode;){for(;hr<3;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}kt.lens[On[kt.have++]]=Ht&7,Ht>>>=3,hr-=3}for(;kt.have<19;)kt.lens[On[kt.have++]]=0;if(kt.lencode=kt.lendyn,kt.lenbits=7,mn={bits:kt.lenbits},ln=tt(ot,kt.lens,0,19,kt.lencode,0,kt.work,mn),kt.lenbits=mn.bits,ln){tr.msg="invalid code lengths set",kt.mode=nr;break}kt.have=0,kt.mode=jt;case jt:for(;kt.have<kt.nlen+kt.ndist;){for(;Kr=kt.lencode[Ht&(1<<kt.lenbits)-1],Hr=Kr>>>24,Gr=Kr>>>16&255,dn=Kr&65535,!(Hr<=hr);){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(dn<16)Ht>>>=Hr,hr-=Hr,kt.lens[kt.have++]=dn;else{if(dn===16){for(pn=Hr+2;hr<pn;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(Ht>>>=Hr,hr-=Hr,kt.have===0){tr.msg="invalid bit length repeat",kt.mode=nr;break}an=kt.lens[kt.have-1],Ir=3+(Ht&3),Ht>>>=2,hr-=2}else if(dn===17){for(pn=Hr+3;hr<pn;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}Ht>>>=Hr,hr-=Hr,an=0,Ir=3+(Ht&7),Ht>>>=3,hr-=3}else{for(pn=Hr+7;hr<pn;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}Ht>>>=Hr,hr-=Hr,an=0,Ir=11+(Ht&127),Ht>>>=7,hr-=7}if(kt.have+Ir>kt.nlen+kt.ndist){tr.msg="invalid bit length repeat",kt.mode=nr;break}for(;Ir--;)kt.lens[kt.have++]=an}}if(kt.mode===nr)break;if(kt.lens[256]===0){tr.msg="invalid code -- missing end-of-block",kt.mode=nr;break}if(kt.lenbits=9,mn={bits:kt.lenbits},ln=tt(pt,kt.lens,0,kt.nlen,kt.lencode,0,kt.work,mn),kt.lenbits=mn.bits,ln){tr.msg="invalid literal/lengths set",kt.mode=nr;break}if(kt.distbits=6,kt.distcode=kt.distdyn,mn={bits:kt.distbits},ln=tt(ut,kt.lens,kt.nlen,kt.ndist,kt.distcode,0,kt.work,mn),kt.distbits=mn.bits,ln){tr.msg="invalid distances set",kt.mode=nr;break}if(kt.mode=Zt,vr===ht)break e;case Zt:kt.mode=qt;case qt:if(or>=6&&Ft>=258){tr.next_out=ur,tr.avail_out=Ft,tr.next_in=Tt,tr.avail_in=or,kt.hold=Ht,kt.bits=hr,nt(tr,zr),ur=tr.next_out,Dr=tr.output,Ft=tr.avail_out,Tt=tr.next_in,br=tr.input,or=tr.avail_in,Ht=kt.hold,hr=kt.bits,kt.mode===At&&(kt.back=-1);break}for(kt.back=0;Kr=kt.lencode[Ht&(1<<kt.lenbits)-1],Hr=Kr>>>24,Gr=Kr>>>16&255,dn=Kr&65535,!(Hr<=hr);){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(Gr&&!(Gr&240)){for(nn=Hr,Cn=Gr,_n=dn;Kr=kt.lencode[_n+((Ht&(1<<nn+Cn)-1)>>nn)],Hr=Kr>>>24,Gr=Kr>>>16&255,dn=Kr&65535,!(nn+Hr<=hr);){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}Ht>>>=nn,hr-=nn,kt.back+=nn}if(Ht>>>=Hr,hr-=Hr,kt.back+=Hr,kt.length=dn,Gr===0){kt.mode=lr;break}if(Gr&32){kt.back=-1,kt.mode=At;break}if(Gr&64){tr.msg="invalid literal/length code",kt.mode=nr;break}kt.extra=Gr&15,kt.mode=er;case er:if(kt.extra){for(pn=kt.extra;hr<pn;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}kt.length+=Ht&(1<<kt.extra)-1,Ht>>>=kt.extra,hr-=kt.extra,kt.back+=kt.extra}kt.was=kt.length,kt.mode=Yt;case Yt:for(;Kr=kt.distcode[Ht&(1<<kt.distbits)-1],Hr=Kr>>>24,Gr=Kr>>>16&255,dn=Kr&65535,!(Hr<=hr);){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(!(Gr&240)){for(nn=Hr,Cn=Gr,_n=dn;Kr=kt.distcode[_n+((Ht&(1<<nn+Cn)-1)>>nn)],Hr=Kr>>>24,Gr=Kr>>>16&255,dn=Kr&65535,!(nn+Hr<=hr);){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}Ht>>>=nn,hr-=nn,kt.back+=nn}if(Ht>>>=Hr,hr-=Hr,kt.back+=Hr,Gr&64){tr.msg="invalid distance code",kt.mode=nr;break}kt.offset=dn,kt.extra=Gr&15,kt.mode=Qt;case Qt:if(kt.extra){for(pn=kt.extra;hr<pn;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}kt.offset+=Ht&(1<<kt.extra)-1,Ht>>>=kt.extra,hr-=kt.extra,kt.back+=kt.extra}if(kt.offset>kt.dmax){tr.msg="invalid distance too far back",kt.mode=nr;break}kt.mode=cr;case cr:if(Ft===0)break e;if(Ir=zr-Ft,kt.offset>Ir){if(Ir=kt.offset-Ir,Ir>kt.whave&&kt.sane){tr.msg="invalid distance too far back",kt.mode=nr;break}Ir>kt.wnext?(Ir-=kt.wnext,jr=kt.wsize-Ir):jr=kt.wnext-Ir,Ir>kt.length&&(Ir=kt.length),fn=kt.window}else fn=Dr,jr=ur-kt.offset,Ir=kt.length;Ir>Ft&&(Ir=Ft),Ft-=Ir,kt.length-=Ir;do Dr[ur++]=fn[jr++];while(--Ir);kt.length===0&&(kt.mode=qt);break;case lr:if(Ft===0)break e;Dr[ur++]=kt.length,Ft--,kt.mode=qt;break;case gr:if(kt.wrap){for(;hr<32;){if(or===0)break e;or--,Ht|=br[Tt++]<<hr,hr+=8}if(zr-=Ft,tr.total_out+=zr,kt.total+=zr,zr&&(tr.adler=kt.check=kt.flags?$(kt.check,Dr,zr,ur-zr):_(kt.check,Dr,zr,ur-zr)),zr=Ft,(kt.flags?Ht:Tr(Ht))!==kt.check){tr.msg="incorrect data check",kt.mode=nr;break}Ht=0,hr=0}kt.mode=rr;case rr:if(kt.wrap&&kt.flags){for(;hr<32;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(Ht!==(kt.total&4294967295)){tr.msg="incorrect length check",kt.mode=nr;break}Ht=0,hr=0}kt.mode=Gt;case Gt:ln=rt;break e;case nr:ln=it;break e;case _r:return st;case Sr:default:return _e}return tr.next_out=ur,tr.avail_out=Ft,tr.next_in=Tt,tr.avail_in=or,kt.hold=Ht,kt.bits=hr,(kt.wsize||zr!==tr.avail_out&&kt.mode<nr&&(kt.mode<gr||vr!==mt))&&mr(tr,tr.output,tr.next_out,zr-tr.avail_out),Br-=tr.avail_in,zr-=tr.avail_out,tr.total_in+=Br,tr.total_out+=zr,kt.total+=zr,kt.wrap&&zr&&(tr.adler=kt.check=kt.flags?$(kt.check,Dr,zr,tr.next_out-zr):_(kt.check,Dr,zr,tr.next_out-zr)),tr.data_type=kt.bits+(kt.last?64:0)+(kt.mode===At?128:0)+(kt.mode===Zt||kt.mode===Lt?256:0),(Br===0&&zr===0||vr===mt)&&ln===gt&&(ln=lt),ln}function Jt(tr){if(!tr||!tr.state)return _e;var vr=tr.state;return vr.window&&(vr.window=null),tr.state=null,gt}function sr(tr,vr){var kt;return!tr||!tr.state||(kt=tr.state,!(kt.wrap&2))?_e:(kt.head=vr,vr.done=!1,gt)}function Cr(tr,vr){var kt=vr.length,br,Dr,Tt;return!tr||!tr.state||(br=tr.state,br.wrap!==0&&br.mode!==Ot)?_e:br.mode===Ot&&(Dr=1,Dr=_(Dr,vr,kt,0),Dr!==br.check)?it:(Tt=mr(tr,vr,kt,kt),Tt?(br.mode=_r,st):(br.havedict=1,gt))}s.inflateReset=Lr,s.inflateReset2=Pr,s.inflateResetKeep=pr,s.inflateInit=Ut,s.inflateInit2=Bt,s.inflate=It,s.inflateEnd=Jt,s.inflateGetHeader=sr,s.inflateSetDictionary=Cr,s.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_=15,$=852,nt=592,tt=0,ot=1,pt=2,ut=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],mt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],vt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ht=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(rt,j,_e,it,st,lt,et,at){var ft=at.bits,ct=0,xt=0,dt=0,_t=0,Ct=0,Et=0,Mt=0,St=0,Ot=0,At=0,wt,Pt,Lt,Rt,Dt,$t=null,jt=0,Zt,qt=new a.Buf16(_+1),er=new a.Buf16(_+1),Yt=null,Qt=0,cr,lr,gr;for(ct=0;ct<=_;ct++)qt[ct]=0;for(xt=0;xt<it;xt++)qt[j[_e+xt]]++;for(Ct=ft,_t=_;_t>=1&&qt[_t]===0;_t--);if(Ct>_t&&(Ct=_t),_t===0)return st[lt++]=20971520,st[lt++]=20971520,at.bits=1,0;for(dt=1;dt<_t&&qt[dt]===0;dt++);for(Ct<dt&&(Ct=dt),St=1,ct=1;ct<=_;ct++)if(St<<=1,St-=qt[ct],St<0)return-1;if(St>0&&(rt===tt||_t!==1))return-1;for(er[1]=0,ct=1;ct<_;ct++)er[ct+1]=er[ct]+qt[ct];for(xt=0;xt<it;xt++)j[_e+xt]!==0&&(et[er[j[_e+xt]]++]=xt);if(rt===tt?($t=Yt=et,Zt=19):rt===ot?($t=ut,jt-=257,Yt=mt,Qt-=257,Zt=256):($t=vt,Yt=ht,Zt=-1),At=0,xt=0,ct=dt,Dt=lt,Et=Ct,Mt=0,Lt=-1,Ot=1<<Ct,Rt=Ot-1,rt===ot&&Ot>$||rt===pt&&Ot>nt)return 1;for(;;){cr=ct-Mt,et[xt]<Zt?(lr=0,gr=et[xt]):et[xt]>Zt?(lr=Yt[Qt+et[xt]],gr=$t[jt+et[xt]]):(lr=96,gr=0),wt=1<<ct-Mt,Pt=1<<Et,dt=Pt;do Pt-=wt,st[Dt+(At>>Mt)+Pt]=cr<<24|lr<<16|gr|0;while(Pt!==0);for(wt=1<<ct-1;At&wt;)wt>>=1;if(wt!==0?(At&=wt-1,At+=wt):At=0,xt++,--qt[ct]===0){if(ct===_t)break;ct=j[_e+et[xt]]}if(ct>Ct&&(At&Rt)!==Lt){for(Mt===0&&(Mt=Ct),Dt+=dt,Et=ct-Mt,St=1<<Et;Et+Mt<_t&&(St-=qt[Et+Mt],!(St<=0));)Et++,St<<=1;if(Ot+=1<<Et,rt===ot&&Ot>$||rt===pt&&Ot>nt)return 1;Lt=At&Rt,st[Lt]=Ct<<24|Et<<16|Dt-lt|0}}return At!==0&&(st[Dt+At]=ct-Mt<<24|4194304|0),at.bits=Ct,0}},"./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js":i=>{i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_=4,$=0,nt=1,tt=2;function ot(It){for(var Jt=It.length;--Jt>=0;)It[Jt]=0}var pt=0,ut=1,mt=2,vt=3,ht=258,gt=29,rt=256,j=rt+1+gt,_e=30,it=19,st=2*j+1,lt=15,et=16,at=7,ft=256,ct=16,xt=17,dt=18,_t=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ct=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Mt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],St=512,Ot=new Array((j+2)*2);ot(Ot);var At=new Array(_e*2);ot(At);var wt=new Array(St);ot(wt);var Pt=new Array(ht-vt+1);ot(Pt);var Lt=new Array(gt);ot(Lt);var Rt=new Array(_e);ot(Rt);function Dt(It,Jt,sr,Cr,tr){this.static_tree=It,this.extra_bits=Jt,this.extra_base=sr,this.elems=Cr,this.max_length=tr,this.has_stree=It&&It.length}var $t,jt,Zt;function qt(It,Jt){this.dyn_tree=It,this.max_code=0,this.stat_desc=Jt}function er(It){return It<256?wt[It]:wt[256+(It>>>7)]}function Yt(It,Jt){It.pending_buf[It.pending++]=Jt&255,It.pending_buf[It.pending++]=Jt>>>8&255}function Qt(It,Jt,sr){It.bi_valid>et-sr?(It.bi_buf|=Jt<<It.bi_valid&65535,Yt(It,It.bi_buf),It.bi_buf=Jt>>et-It.bi_valid,It.bi_valid+=sr-et):(It.bi_buf|=Jt<<It.bi_valid&65535,It.bi_valid+=sr)}function cr(It,Jt,sr){Qt(It,sr[Jt*2],sr[Jt*2+1])}function lr(It,Jt){var sr=0;do sr|=It&1,It>>>=1,sr<<=1;while(--Jt>0);return sr>>>1}function gr(It){It.bi_valid===16?(Yt(It,It.bi_buf),It.bi_buf=0,It.bi_valid=0):It.bi_valid>=8&&(It.pending_buf[It.pending++]=It.bi_buf&255,It.bi_buf>>=8,It.bi_valid-=8)}function rr(It,Jt){var sr=Jt.dyn_tree,Cr=Jt.max_code,tr=Jt.stat_desc.static_tree,vr=Jt.stat_desc.has_stree,kt=Jt.stat_desc.extra_bits,br=Jt.stat_desc.extra_base,Dr=Jt.stat_desc.max_length,Tt,ur,or,Ft,Ht,hr,Br=0;for(Ft=0;Ft<=lt;Ft++)It.bl_count[Ft]=0;for(sr[It.heap[It.heap_max]*2+1]=0,Tt=It.heap_max+1;Tt<st;Tt++)ur=It.heap[Tt],Ft=sr[sr[ur*2+1]*2+1]+1,Ft>Dr&&(Ft=Dr,Br++),sr[ur*2+1]=Ft,!(ur>Cr)&&(It.bl_count[Ft]++,Ht=0,ur>=br&&(Ht=kt[ur-br]),hr=sr[ur*2],It.opt_len+=hr*(Ft+Ht),vr&&(It.static_len+=hr*(tr[ur*2+1]+Ht)));if(Br!==0){do{for(Ft=Dr-1;It.bl_count[Ft]===0;)Ft--;It.bl_count[Ft]--,It.bl_count[Ft+1]+=2,It.bl_count[Dr]--,Br-=2}while(Br>0);for(Ft=Dr;Ft!==0;Ft--)for(ur=It.bl_count[Ft];ur!==0;)or=It.heap[--Tt],!(or>Cr)&&(sr[or*2+1]!==Ft&&(It.opt_len+=(Ft-sr[or*2+1])*sr[or*2],sr[or*2+1]=Ft),ur--)}}function Gt(It,Jt,sr){var Cr=new Array(lt+1),tr=0,vr,kt;for(vr=1;vr<=lt;vr++)Cr[vr]=tr=tr+sr[vr-1]<<1;for(kt=0;kt<=Jt;kt++){var br=It[kt*2+1];br!==0&&(It[kt*2]=lr(Cr[br]++,br))}}function nr(){var It,Jt,sr,Cr,tr,vr=new Array(lt+1);for(sr=0,Cr=0;Cr<gt-1;Cr++)for(Lt[Cr]=sr,It=0;It<1<<_t[Cr];It++)Pt[sr++]=Cr;for(Pt[sr-1]=Cr,tr=0,Cr=0;Cr<16;Cr++)for(Rt[Cr]=tr,It=0;It<1<<Ct[Cr];It++)wt[tr++]=Cr;for(tr>>=7;Cr<_e;Cr++)for(Rt[Cr]=tr<<7,It=0;It<1<<Ct[Cr]-7;It++)wt[256+tr++]=Cr;for(Jt=0;Jt<=lt;Jt++)vr[Jt]=0;for(It=0;It<=143;)Ot[It*2+1]=8,It++,vr[8]++;for(;It<=255;)Ot[It*2+1]=9,It++,vr[9]++;for(;It<=279;)Ot[It*2+1]=7,It++,vr[7]++;for(;It<=287;)Ot[It*2+1]=8,It++,vr[8]++;for(Gt(Ot,j+1,vr),It=0;It<_e;It++)At[It*2+1]=5,At[It*2]=lr(It,5);$t=new Dt(Ot,_t,rt+1,j,lt),jt=new Dt(At,Ct,0,_e,lt),Zt=new Dt(new Array(0),Et,0,it,at)}function _r(It){var Jt;for(Jt=0;Jt<j;Jt++)It.dyn_ltree[Jt*2]=0;for(Jt=0;Jt<_e;Jt++)It.dyn_dtree[Jt*2]=0;for(Jt=0;Jt<it;Jt++)It.bl_tree[Jt*2]=0;It.dyn_ltree[ft*2]=1,It.opt_len=It.static_len=0,It.last_lit=It.matches=0}function Sr(It){It.bi_valid>8?Yt(It,It.bi_buf):It.bi_valid>0&&(It.pending_buf[It.pending++]=It.bi_buf),It.bi_buf=0,It.bi_valid=0}function Ar(It,Jt,sr,Cr){Sr(It),Yt(It,sr),Yt(It,~sr),a.arraySet(It.pending_buf,It.window,Jt,sr,It.pending),It.pending+=sr}function Or(It,Jt,sr,Cr){var tr=Jt*2,vr=sr*2;return It[tr]<It[vr]||It[tr]===It[vr]&&Cr[Jt]<=Cr[sr]}function Mr(It,Jt,sr){for(var Cr=It.heap[sr],tr=sr<<1;tr<=It.heap_len&&(tr<It.heap_len&&Or(Jt,It.heap[tr+1],It.heap[tr],It.depth)&&tr++,!Or(Jt,Cr,It.heap[tr],It.depth));)It.heap[sr]=It.heap[tr],sr=tr,tr<<=1;It.heap[sr]=Cr}function wr(It,Jt,sr){var Cr,tr,vr=0,kt,br;if(It.last_lit!==0)do Cr=It.pending_buf[It.d_buf+vr*2]<<8|It.pending_buf[It.d_buf+vr*2+1],tr=It.pending_buf[It.l_buf+vr],vr++,Cr===0?cr(It,tr,Jt):(kt=Pt[tr],cr(It,kt+rt+1,Jt),br=_t[kt],br!==0&&(tr-=Lt[kt],Qt(It,tr,br)),Cr--,kt=er(Cr),cr(It,kt,sr),br=Ct[kt],br!==0&&(Cr-=Rt[kt],Qt(It,Cr,br)));while(vr<It.last_lit);cr(It,ft,Jt)}function Tr(It,Jt){var sr=Jt.dyn_tree,Cr=Jt.stat_desc.static_tree,tr=Jt.stat_desc.has_stree,vr=Jt.stat_desc.elems,kt,br,Dr=-1,Tt;for(It.heap_len=0,It.heap_max=st,kt=0;kt<vr;kt++)sr[kt*2]!==0?(It.heap[++It.heap_len]=Dr=kt,It.depth[kt]=0):sr[kt*2+1]=0;for(;It.heap_len<2;)Tt=It.heap[++It.heap_len]=Dr<2?++Dr:0,sr[Tt*2]=1,It.depth[Tt]=0,It.opt_len--,tr&&(It.static_len-=Cr[Tt*2+1]);for(Jt.max_code=Dr,kt=It.heap_len>>1;kt>=1;kt--)Mr(It,sr,kt);Tt=vr;do kt=It.heap[1],It.heap[1]=It.heap[It.heap_len--],Mr(It,sr,1),br=It.heap[1],It.heap[--It.heap_max]=kt,It.heap[--It.heap_max]=br,sr[Tt*2]=sr[kt*2]+sr[br*2],It.depth[Tt]=(It.depth[kt]>=It.depth[br]?It.depth[kt]:It.depth[br])+1,sr[kt*2+1]=sr[br*2+1]=Tt,It.heap[1]=Tt++,Mr(It,sr,1);while(It.heap_len>=2);It.heap[--It.heap_max]=It.heap[1],rr(It,Jt),Gt(sr,Dr,It.bl_count)}function fr(It,Jt,sr){var Cr,tr=-1,vr,kt=Jt[0*2+1],br=0,Dr=7,Tt=4;for(kt===0&&(Dr=138,Tt=3),Jt[(sr+1)*2+1]=65535,Cr=0;Cr<=sr;Cr++)vr=kt,kt=Jt[(Cr+1)*2+1],!(++br<Dr&&vr===kt)&&(br<Tt?It.bl_tree[vr*2]+=br:vr!==0?(vr!==tr&&It.bl_tree[vr*2]++,It.bl_tree[ct*2]++):br<=10?It.bl_tree[xt*2]++:It.bl_tree[dt*2]++,br=0,tr=vr,kt===0?(Dr=138,Tt=3):vr===kt?(Dr=6,Tt=3):(Dr=7,Tt=4))}function pr(It,Jt,sr){var Cr,tr=-1,vr,kt=Jt[0*2+1],br=0,Dr=7,Tt=4;for(kt===0&&(Dr=138,Tt=3),Cr=0;Cr<=sr;Cr++)if(vr=kt,kt=Jt[(Cr+1)*2+1],!(++br<Dr&&vr===kt)){if(br<Tt)do cr(It,vr,It.bl_tree);while(--br!==0);else vr!==0?(vr!==tr&&(cr(It,vr,It.bl_tree),br--),cr(It,ct,It.bl_tree),Qt(It,br-3,2)):br<=10?(cr(It,xt,It.bl_tree),Qt(It,br-3,3)):(cr(It,dt,It.bl_tree),Qt(It,br-11,7));br=0,tr=vr,kt===0?(Dr=138,Tt=3):vr===kt?(Dr=6,Tt=3):(Dr=7,Tt=4)}}function Lr(It){var Jt;for(fr(It,It.dyn_ltree,It.l_desc.max_code),fr(It,It.dyn_dtree,It.d_desc.max_code),Tr(It,It.bl_desc),Jt=it-1;Jt>=3&&It.bl_tree[Mt[Jt]*2+1]===0;Jt--);return It.opt_len+=3*(Jt+1)+5+5+4,Jt}function Pr(It,Jt,sr,Cr){var tr;for(Qt(It,Jt-257,5),Qt(It,sr-1,5),Qt(It,Cr-4,4),tr=0;tr<Cr;tr++)Qt(It,It.bl_tree[Mt[tr]*2+1],3);pr(It,It.dyn_ltree,Jt-1),pr(It,It.dyn_dtree,sr-1)}function Bt(It){var Jt=4093624447,sr;for(sr=0;sr<=31;sr++,Jt>>>=1)if(Jt&1&&It.dyn_ltree[sr*2]!==0)return $;if(It.dyn_ltree[18]!==0||It.dyn_ltree[20]!==0||It.dyn_ltree[26]!==0)return nt;for(sr=32;sr<rt;sr++)if(It.dyn_ltree[sr*2]!==0)return nt;return $}var Ut=!1;function Wt(It){Ut||(nr(),Ut=!0),It.l_desc=new qt(It.dyn_ltree,$t),It.d_desc=new qt(It.dyn_dtree,jt),It.bl_desc=new qt(It.bl_tree,Zt),It.bi_buf=0,It.bi_valid=0,_r(It)}function ar(It,Jt,sr,Cr){Qt(It,(pt<<1)+(Cr?1:0),3),Ar(It,Jt,sr)}function Xt(It){Qt(It,ut<<1,3),cr(It,ft,Ot),gr(It)}function Er(It,Jt,sr,Cr){var tr,vr,kt=0;It.level>0?(It.strm.data_type===tt&&(It.strm.data_type=Bt(It)),Tr(It,It.l_desc),Tr(It,It.d_desc),kt=Lr(It),tr=It.opt_len+3+7>>>3,vr=It.static_len+3+7>>>3,vr<=tr&&(tr=vr)):tr=vr=sr+5,sr+4<=tr&&Jt!==-1?ar(It,Jt,sr,Cr):It.strategy===_||vr===tr?(Qt(It,(ut<<1)+(Cr?1:0),3),wr(It,Ot,At)):(Qt(It,(mt<<1)+(Cr?1:0),3),Pr(It,It.l_desc.max_code+1,It.d_desc.max_code+1,kt+1),wr(It,It.dyn_ltree,It.dyn_dtree)),_r(It),Cr&&Sr(It)}function mr(It,Jt,sr){return It.pending_buf[It.d_buf+It.last_lit*2]=Jt>>>8&255,It.pending_buf[It.d_buf+It.last_lit*2+1]=Jt&255,It.pending_buf[It.l_buf+It.last_lit]=sr&255,It.last_lit++,Jt===0?It.dyn_ltree[sr*2]++:(It.matches++,Jt--,It.dyn_ltree[(Pt[sr]+rt+1)*2]++,It.dyn_dtree[er(Jt)*2]++),It.last_lit===It.lit_bufsize-1}s._tr_init=Wt,s._tr_stored_block=ar,s._tr_flush_block=Er,s._tr_tally=mr,s._tr_align=Xt},"./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js":i=>{function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=s},"./src/SurfaceWorker.js":()=>{$3Dmol.workerString=(function(){self.onmessage=function(i){var s=i.data,o=s.type;if(o<0)self.atomData=s.atoms,self.volume=s.volume,self.ps=new ProteinSurface;else{var a=self.ps;a.initparm(s.expandedExtent,o!=1,self.volume),a.fillvoxels(self.atomData,s.extendedAtoms),a.buildboundary(),(o===4||o===2)&&(a.fastdistancemap(),a.boundingatom(!1),a.fillvoxelswaals(self.atomData,s.extendedAtoms)),a.marchingcube(o);var _=a.getFacesAndVertices(s.atomsToShow);self.postMessage(_)}}}).toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=`;
function _classCallCheck() {};`,$3Dmol.workerString+=`;
`+$3Dmol.Vector3.toString(),$3Dmol.workerString+=`;
`+$3Dmol.MarchingCubeInitializer.toString()+`;

`,$3Dmol.workerString+=`;
`+$3Dmol.PointGrid.toString()+`;
`,$3Dmol.workerString+=`;
var ProteinSurface = `+$3Dmol.ProteinSurface.toString()+`;
`,$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},"./src/exporter.js":i=>{typeof i.exports=="object"&&(i.exports=window.$3Dmol)},"./src/vendor/mmtf.js":function(i,s){(function(o,a){a(s)})(this,function(o){function a(Bt,Ut,Wt){for(var ar=(Bt.byteLength,0),Xt=Wt.length;Xt>ar;ar++){var Er=Wt.charCodeAt(ar);if(128>Er)Bt.setUint8(Ut++,Er>>>0&127|0);else if(2048>Er)Bt.setUint8(Ut++,Er>>>6&31|192),Bt.setUint8(Ut++,Er>>>0&63|128);else if(65536>Er)Bt.setUint8(Ut++,Er>>>12&15|224),Bt.setUint8(Ut++,Er>>>6&63|128),Bt.setUint8(Ut++,Er>>>0&63|128);else{if(!(1114112>Er))throw new Error("bad codepoint "+Er);Bt.setUint8(Ut++,Er>>>18&7|240),Bt.setUint8(Ut++,Er>>>12&63|128),Bt.setUint8(Ut++,Er>>>6&63|128),Bt.setUint8(Ut++,Er>>>0&63|128)}}}function _(Bt){for(var Ut=0,Wt=0,ar=Bt.length;ar>Wt;Wt++){var Xt=Bt.charCodeAt(Wt);if(128>Xt)Ut+=1;else if(2048>Xt)Ut+=2;else if(65536>Xt)Ut+=3;else{if(!(1114112>Xt))throw new Error("bad codepoint "+Xt);Ut+=4}}return Ut}function $(Bt,Ut,Wt){var ar=typeof Bt;if(ar==="string"){var Xt=_(Bt);if(32>Xt)return Ut.setUint8(Wt,160|Xt),a(Ut,Wt+1,Bt),1+Xt;if(256>Xt)return Ut.setUint8(Wt,217),Ut.setUint8(Wt+1,Xt),a(Ut,Wt+2,Bt),2+Xt;if(65536>Xt)return Ut.setUint8(Wt,218),Ut.setUint16(Wt+1,Xt),a(Ut,Wt+3,Bt),3+Xt;if(4294967296>Xt)return Ut.setUint8(Wt,219),Ut.setUint32(Wt+1,Xt),a(Ut,Wt+5,Bt),5+Xt}if(Bt instanceof Uint8Array){var Xt=Bt.byteLength,Er=new Uint8Array(Ut.buffer);if(256>Xt)return Ut.setUint8(Wt,196),Ut.setUint8(Wt+1,Xt),Er.set(Bt,Wt+2),2+Xt;if(65536>Xt)return Ut.setUint8(Wt,197),Ut.setUint16(Wt+1,Xt),Er.set(Bt,Wt+3),3+Xt;if(4294967296>Xt)return Ut.setUint8(Wt,198),Ut.setUint32(Wt+1,Xt),Er.set(Bt,Wt+5),5+Xt}if(ar==="number"){if(!isFinite(Bt))throw new Error("Number not finite: "+Bt);if(Math.floor(Bt)!==Bt)return Ut.setUint8(Wt,203),Ut.setFloat64(Wt+1,Bt),9;if(Bt>=0){if(128>Bt)return Ut.setUint8(Wt,Bt),1;if(256>Bt)return Ut.setUint8(Wt,204),Ut.setUint8(Wt+1,Bt),2;if(65536>Bt)return Ut.setUint8(Wt,205),Ut.setUint16(Wt+1,Bt),3;if(4294967296>Bt)return Ut.setUint8(Wt,206),Ut.setUint32(Wt+1,Bt),5;throw new Error("Number too big 0x"+Bt.toString(16))}if(Bt>=-32)return Ut.setInt8(Wt,Bt),1;if(Bt>=-128)return Ut.setUint8(Wt,208),Ut.setInt8(Wt+1,Bt),2;if(Bt>=-32768)return Ut.setUint8(Wt,209),Ut.setInt16(Wt+1,Bt),3;if(Bt>=-2147483648)return Ut.setUint8(Wt,210),Ut.setInt32(Wt+1,Bt),5;throw new Error("Number too small -0x"+(-Bt).toString(16).substr(1))}if(Bt===null)return Ut.setUint8(Wt,192),1;if(ar==="boolean")return Ut.setUint8(Wt,Bt?195:194),1;if(ar==="object"){var Xt,Jt=0,mr=Array.isArray(Bt);if(mr)Xt=Bt.length;else{var It=Object.keys(Bt);Xt=It.length}var Jt;if(16>Xt?(Ut.setUint8(Wt,Xt|(mr?144:128)),Jt=1):65536>Xt?(Ut.setUint8(Wt,mr?220:222),Ut.setUint16(Wt+1,Xt),Jt=3):4294967296>Xt&&(Ut.setUint8(Wt,mr?221:223),Ut.setUint32(Wt+1,Xt),Jt=5),mr)for(var sr=0;Xt>sr;sr++)Jt+=$(Bt[sr],Ut,Wt+Jt);else for(var sr=0;Xt>sr;sr++){var Cr=It[sr];Jt+=$(Cr,Ut,Wt+Jt),Jt+=$(Bt[Cr],Ut,Wt+Jt)}return Jt}throw new Error("Unknown type "+ar)}function nt(Bt){var Ut=typeof Bt;if(Ut==="string"){var Wt=_(Bt);if(32>Wt)return 1+Wt;if(256>Wt)return 2+Wt;if(65536>Wt)return 3+Wt;if(4294967296>Wt)return 5+Wt}if(Bt instanceof Uint8Array){var Wt=Bt.byteLength;if(256>Wt)return 2+Wt;if(65536>Wt)return 3+Wt;if(4294967296>Wt)return 5+Wt}if(Ut==="number"){if(Math.floor(Bt)!==Bt)return 9;if(Bt>=0){if(128>Bt)return 1;if(256>Bt)return 2;if(65536>Bt)return 3;if(4294967296>Bt)return 5;throw new Error("Number too big 0x"+Bt.toString(16))}if(Bt>=-32)return 1;if(Bt>=-128)return 2;if(Bt>=-32768)return 3;if(Bt>=-2147483648)return 5;throw new Error("Number too small -0x"+Bt.toString(16).substr(1))}if(Ut==="boolean"||Bt===null)return 1;if(Ut==="object"){var Wt,ar=0;if(Array.isArray(Bt)){Wt=Bt.length;for(var Xt=0;Wt>Xt;Xt++)ar+=nt(Bt[Xt])}else{var Er=Object.keys(Bt);Wt=Er.length;for(var Xt=0;Wt>Xt;Xt++){var mr=Er[Xt];ar+=nt(mr)+nt(Bt[mr])}}if(16>Wt)return 1+ar;if(65536>Wt)return 3+ar;if(4294967296>Wt)return 5+ar;throw new Error("Array or object too long 0x"+Wt.toString(16))}throw new Error("Unknown type "+Ut)}function tt(Bt){var Ut=new ArrayBuffer(nt(Bt)),Wt=new DataView(Ut);return $(Bt,Wt,0),new Uint8Array(Ut)}function ot(Bt,Ut,Wt){return Ut?new Bt(Ut.buffer,Ut.byteOffset,Ut.byteLength/(Wt||1)):void 0}function pt(Bt){return ot(DataView,Bt)}function ut(Bt){return ot(Uint8Array,Bt)}function mt(Bt){return ot(Int8Array,Bt)}function vt(Bt){return ot(Int32Array,Bt,4)}function ht(Bt){return ot(Float32Array,Bt,4)}function gt(Bt,Ut){var Wt=Bt.length/2;Ut||(Ut=new Int16Array(Wt));for(var ar=0,Xt=0;Wt>ar;++ar,Xt+=2)Ut[ar]=Bt[Xt]<<8^Bt[Xt+1]<<0;return Ut}function rt(Bt,Ut){var Wt=Bt.length;Ut||(Ut=new Uint8Array(2*Wt));for(var ar=pt(Ut),Xt=0;Wt>Xt;++Xt)ar.setInt16(2*Xt,Bt[Xt]);return ut(Ut)}function j(Bt,Ut){var Wt=Bt.length/4;Ut||(Ut=new Int32Array(Wt));for(var ar=0,Xt=0;Wt>ar;++ar,Xt+=4)Ut[ar]=Bt[Xt]<<24^Bt[Xt+1]<<16^Bt[Xt+2]<<8^Bt[Xt+3]<<0;return Ut}function _e(Bt,Ut){var Wt=Bt.length;Ut||(Ut=new Uint8Array(4*Wt));for(var ar=pt(Ut),Xt=0;Wt>Xt;++Xt)ar.setInt32(4*Xt,Bt[Xt]);return ut(Ut)}function it(Bt,Ut){var Wt=Bt.length;Ut||(Ut=new Float32Array(Wt/4));for(var ar=pt(Ut),Xt=pt(Bt),Er=0,mr=0,It=Wt/4;It>Er;++Er,mr+=4)ar.setFloat32(mr,Xt.getFloat32(mr),!0);return Ut}function st(Bt,Ut,Wt){var ar=Bt.length,Xt=1/Ut;Wt||(Wt=new Float32Array(ar));for(var Er=0;ar>Er;++Er)Wt[Er]=Bt[Er]*Xt;return Wt}function lt(Bt,Ut,Wt){var ar=Bt.length;Wt||(Wt=new Int32Array(ar));for(var Xt=0;ar>Xt;++Xt)Wt[Xt]=Math.round(Bt[Xt]*Ut);return Wt}function et(Bt,Ut){var Wt,ar;if(!Ut){var Xt=0;for(Wt=0,ar=Bt.length;ar>Wt;Wt+=2)Xt+=Bt[Wt+1];Ut=new Bt.constructor(Xt)}var Er=0;for(Wt=0,ar=Bt.length;ar>Wt;Wt+=2)for(var mr=Bt[Wt],It=Bt[Wt+1],Jt=0;It>Jt;++Jt)Ut[Er]=mr,++Er;return Ut}function at(Bt){if(Bt.length===0)return new Int32Array;var Ut,Wt,ar=2;for(Ut=1,Wt=Bt.length;Wt>Ut;++Ut)Bt[Ut-1]!==Bt[Ut]&&(ar+=2);var Xt=new Int32Array(ar),Er=0,mr=1;for(Ut=1,Wt=Bt.length;Wt>Ut;++Ut)Bt[Ut-1]!==Bt[Ut]?(Xt[Er]=Bt[Ut-1],Xt[Er+1]=mr,mr=1,Er+=2):++mr;return Xt[Er]=Bt[Bt.length-1],Xt[Er+1]=mr,Xt}function ft(Bt,Ut){var Wt=Bt.length;Ut||(Ut=new Bt.constructor(Wt)),Wt&&(Ut[0]=Bt[0]);for(var ar=1;Wt>ar;++ar)Ut[ar]=Bt[ar]+Ut[ar-1];return Ut}function ct(Bt,Ut){var Wt=Bt.length;Ut||(Ut=new Bt.constructor(Wt)),Ut[0]=Bt[0];for(var ar=1;Wt>ar;++ar)Ut[ar]=Bt[ar]-Bt[ar-1];return Ut}function xt(Bt,Ut){var Wt,ar,Xt=Bt instanceof Int8Array?127:32767,Er=-Xt-1,mr=Bt.length;if(!Ut){var It=0;for(Wt=0;mr>Wt;++Wt)Bt[Wt]<Xt&&Bt[Wt]>Er&&++It;Ut=new Int32Array(It)}for(Wt=0,ar=0;mr>Wt;){for(var Jt=0;Bt[Wt]===Xt||Bt[Wt]===Er;)Jt+=Bt[Wt],++Wt;Jt+=Bt[Wt],++Wt,Ut[ar]=Jt,++ar}return Ut}function dt(Bt,Ut){var Wt,ar=32767,Xt=-ar-1,Er=Bt.length,mr=0;for(Wt=0;Er>Wt;++Wt){var It=Bt[Wt];It===0?++mr:It>0?(mr+=Math.ceil(It/ar),It%ar===0&&(mr+=1)):(mr+=Math.ceil(It/Xt),It%Xt===0&&(mr+=1))}var Jt=new Int16Array(mr),sr=0;for(Wt=0;Er>Wt;++Wt){var It=Bt[Wt];if(It>=0)for(;It>=ar;)Jt[sr]=ar,++sr,It-=ar;else for(;Xt>=It;)Jt[sr]=Xt,++sr,It-=Xt;Jt[sr]=It,++sr}return Jt}function _t(Bt,Ut){return ft(et(Bt),Ut)}function Ct(Bt){return at(ct(Bt))}function Et(Bt,Ut,Wt){return st(et(Bt,vt(Wt)),Ut,Wt)}function Mt(Bt,Ut){return at(lt(Bt,Ut))}function St(Bt,Ut,Wt){return st(ft(Bt,vt(Wt)),Ut,Wt)}function Ot(Bt,Ut,Wt){return ct(lt(Bt,Ut),Wt)}function At(Bt,Ut,Wt){return st(xt(Bt,vt(Wt)),Ut,Wt)}function wt(Bt,Ut,Wt){var ar=xt(Bt,vt(Wt));return St(ar,Ut,ht(ar))}function Pt(Bt,Ut,Wt){return dt(Ot(Bt,Ut))}function Lt(Er){var Ut=pt(Er),Wt=Ut.getInt32(0),ar=Ut.getInt32(4),Xt=Er.subarray(8,12),Er=Er.subarray(12);return[Wt,Er,ar,Xt]}function Rt(Bt,Ut,Wt,ar){var Xt=new ArrayBuffer(12+ar.byteLength),Er=new Uint8Array(Xt),mr=new DataView(Xt);return mr.setInt32(0,Bt),mr.setInt32(4,Ut),Wt&&Er.set(Wt,8),Er.set(ar,12),Er}function Dt(Bt){var Ut=Bt.length,Wt=ut(Bt);return Rt(2,Ut,void 0,Wt)}function $t(Bt){var Ut=Bt.length,Wt=_e(Bt);return Rt(4,Ut,void 0,Wt)}function jt(Bt,Ut){var Wt=Bt.length/Ut,ar=_e([Ut]),Xt=ut(Bt);return Rt(5,Wt,ar,Xt)}function Zt(Bt){var Ut=Bt.length,Wt=_e(at(Bt));return Rt(6,Ut,void 0,Wt)}function qt(Bt){var Ut=Bt.length,Wt=_e(Ct(Bt));return Rt(8,Ut,void 0,Wt)}function er(Bt,Ut){var Wt=Bt.length,ar=_e([Ut]),Xt=_e(Mt(Bt,Ut));return Rt(9,Wt,ar,Xt)}function Yt(Bt,Ut){var Wt=Bt.length,ar=_e([Ut]),Xt=rt(Pt(Bt,Ut));return Rt(10,Wt,ar,Xt)}function Qt(Bt){var Ut={};return Mr.forEach(function(Wt){Bt[Wt]!==void 0&&(Ut[Wt]=Bt[Wt])}),Bt.bondAtomList&&(Ut.bondAtomList=$t(Bt.bondAtomList)),Bt.bondOrderList&&(Ut.bondOrderList=Dt(Bt.bondOrderList)),Ut.xCoordList=Yt(Bt.xCoordList,1e3),Ut.yCoordList=Yt(Bt.yCoordList,1e3),Ut.zCoordList=Yt(Bt.zCoordList,1e3),Bt.bFactorList&&(Ut.bFactorList=Yt(Bt.bFactorList,100)),Bt.atomIdList&&(Ut.atomIdList=qt(Bt.atomIdList)),Bt.altLocList&&(Ut.altLocList=Zt(Bt.altLocList)),Bt.occupancyList&&(Ut.occupancyList=er(Bt.occupancyList,100)),Ut.groupIdList=qt(Bt.groupIdList),Ut.groupTypeList=$t(Bt.groupTypeList),Bt.secStructList&&(Ut.secStructList=Dt(Bt.secStructList)),Bt.insCodeList&&(Ut.insCodeList=Zt(Bt.insCodeList)),Bt.sequenceIndexList&&(Ut.sequenceIndexList=qt(Bt.sequenceIndexList)),Ut.chainIdList=jt(Bt.chainIdList,4),Bt.chainNameList&&(Ut.chainNameList=jt(Bt.chainNameList,4)),Ut}function cr(Bt){function Ut(Jt){for(var sr={},Cr=0;Jt>Cr;Cr++){var tr=Er();sr[tr]=Er()}return sr}function Wt(Jt){var sr=Bt.subarray(mr,mr+Jt);return mr+=Jt,sr}function ar(Jt){var sr=Bt.subarray(mr,mr+Jt);mr+=Jt;var Cr=65535;if(Jt>Cr){for(var tr=[],vr=0;vr<sr.length;vr+=Cr)tr.push(String.fromCharCode.apply(null,sr.subarray(vr,vr+Cr)));return tr.join("")}return String.fromCharCode.apply(null,sr)}function Xt(Jt){for(var sr=new Array(Jt),Cr=0;Jt>Cr;Cr++)sr[Cr]=Er();return sr}function Er(){var Jt,sr,Cr=Bt[mr];if(!(128&Cr))return mr++,Cr;if((240&Cr)===128)return sr=15&Cr,mr++,Ut(sr);if((240&Cr)===144)return sr=15&Cr,mr++,Xt(sr);if((224&Cr)===160)return sr=31&Cr,mr++,ar(sr);if((224&Cr)===224)return Jt=It.getInt8(mr),mr++,Jt;switch(Cr){case 192:return mr++,null;case 194:return mr++,!1;case 195:return mr++,!0;case 196:return sr=It.getUint8(mr+1),mr+=2,Wt(sr);case 197:return sr=It.getUint16(mr+1),mr+=3,Wt(sr);case 198:return sr=It.getUint32(mr+1),mr+=5,Wt(sr);case 202:return Jt=It.getFloat32(mr+1),mr+=5,Jt;case 203:return Jt=It.getFloat64(mr+1),mr+=9,Jt;case 204:return Jt=Bt[mr+1],mr+=2,Jt;case 205:return Jt=It.getUint16(mr+1),mr+=3,Jt;case 206:return Jt=It.getUint32(mr+1),mr+=5,Jt;case 208:return Jt=It.getInt8(mr+1),mr+=2,Jt;case 209:return Jt=It.getInt16(mr+1),mr+=3,Jt;case 210:return Jt=It.getInt32(mr+1),mr+=5,Jt;case 217:return sr=It.getUint8(mr+1),mr+=2,ar(sr);case 218:return sr=It.getUint16(mr+1),mr+=3,ar(sr);case 219:return sr=It.getUint32(mr+1),mr+=5,ar(sr);case 220:return sr=It.getUint16(mr+1),mr+=3,Xt(sr);case 221:return sr=It.getUint32(mr+1),mr+=5,Xt(sr);case 222:return sr=It.getUint16(mr+1),mr+=3,Ut(sr);case 223:return sr=It.getUint32(mr+1),mr+=5,Ut(sr)}throw new Error("Unknown type 0x"+Cr.toString(16))}var mr=0,It=new DataView(Bt.buffer);return Er()}function lr(Bt,Ut,Wt,ar){switch(Bt){case 1:return it(Ut);case 2:return mt(Ut);case 3:return gt(Ut);case 4:return j(Ut);case 5:return ut(Ut);case 6:return et(j(Ut),new Uint8Array(Wt));case 7:return et(j(Ut));case 8:return _t(j(Ut));case 9:return Et(j(Ut),j(ar)[0]);case 10:return wt(gt(Ut),j(ar)[0]);case 11:return st(gt(Ut),j(ar)[0]);case 12:return At(gt(Ut),j(ar)[0]);case 13:return At(mt(Ut),j(ar)[0]);case 14:return xt(gt(Ut));case 15:return xt(mt(Ut))}}function gr(Bt,Ut){Ut=Ut||{};var Wt=Ut.ignoreFields,ar={};return Tr.forEach(function(Xt){var Er=Wt?Wt.indexOf(Xt)!==-1:!1,mr=Bt[Xt];Er||mr===void 0||(mr instanceof Uint8Array?ar[Xt]=lr.apply(null,Lt(mr)):ar[Xt]=mr)}),ar}function rr(Bt){return String.fromCharCode.apply(null,Bt).replace(/\0/g,"")}function Gt(Bt,Ut,Wt){Wt=Wt||{};var ar,Xt,Er,mr,It,Jt,sr=Wt.firstModelOnly,Cr=Ut.onModel,tr=Ut.onChain,vr=Ut.onGroup,kt=Ut.onAtom,br=Ut.onBond,Dr=0,Tt=0,ur=0,or=0,Ft=0,Ht=-1,hr=Bt.chainNameList,Br=Bt.secStructList,zr=Bt.insCodeList,Ir=Bt.sequenceIndexList,jr=Bt.atomIdList,fn=Bt.bFactorList,Kr=Bt.altLocList,Hr=Bt.occupancyList,Gr=Bt.bondAtomList,dn=Bt.bondOrderList;for(ar=0,Xt=Bt.chainsPerModel.length;Xt>ar&&!(sr&&Dr>0);++ar){var nn=Bt.chainsPerModel[Dr];for(Cr&&Cr({chainCount:nn,modelIndex:Dr}),Er=0;nn>Er;++Er){var Cn=Bt.groupsPerChain[Tt];if(tr){var _n=rr(Bt.chainIdList.subarray(4*Tt,4*Tt+4)),an=null;hr&&(an=rr(hr.subarray(4*Tt,4*Tt+4))),tr({groupCount:Cn,chainIndex:Tt,modelIndex:Dr,chainId:_n,chainName:an})}for(mr=0;Cn>mr;++mr){var ln=Bt.groupList[Bt.groupTypeList[ur]],sn=ln.atomNameList.length;if(vr){var mn=null;Br&&(mn=Br[ur]);var pn=null;Bt.insCodeList&&(pn=String.fromCharCode(zr[ur]));var On=null;Ir&&(On=Ir[ur]),vr({atomCount:sn,groupIndex:ur,chainIndex:Tt,modelIndex:Dr,groupId:Bt.groupIdList[ur],groupType:Bt.groupTypeList[ur],groupName:ln.groupName,singleLetterCode:ln.singleLetterCode,chemCompType:ln.chemCompType,secStruct:mn,insCode:pn,sequenceIndex:On})}for(It=0;sn>It;++It){if(kt){var es=null;jr&&(es=jr[or]);var Rn=null;fn&&(Rn=fn[or]);var ts=null;Kr&&(ts=String.fromCharCode(Kr[or]));var rs=null;Hr&&(rs=Hr[or]),kt({atomIndex:or,groupIndex:ur,chainIndex:Tt,modelIndex:Dr,atomId:es,element:ln.elementList[It],atomName:ln.atomNameList[It],formalCharge:ln.formalChargeList[It],xCoord:Bt.xCoordList[or],yCoord:Bt.yCoordList[or],zCoord:Bt.zCoordList[or],bFactor:Rn,altLoc:ts,occupancy:rs})}or+=1}if(br){var ns=ln.bondAtomList;for(It=0,Jt=ln.bondOrderList.length;Jt>It;++It)br({atomIndex1:or-sn+ns[2*It],atomIndex2:or-sn+ns[2*It+1],bondOrder:ln.bondOrderList[It]})}ur+=1}Tt+=1}if(Ft=Ht+1,Ht=or-1,br&&Gr)for(It=0,Jt=Gr.length;Jt>It;It+=2){var is=Gr[It],ss=Gr[It+1];(is>=Ft&&Ht>=is||ss>=Ft&&Ht>=ss)&&br({atomIndex1:is,atomIndex2:ss,bondOrder:dn?dn[It/2]:null})}Dr+=1}}function nr(Bt){return tt(Qt(Bt))}function _r(Bt,Ut){Bt instanceof ArrayBuffer&&(Bt=new Uint8Array(Bt));var Wt;return Wt=Bt instanceof Uint8Array?cr(Bt):Bt,gr(Wt,Ut)}function Sr(Bt,Ut,Wt,ar){function Xt(){try{var mr=_r(Er.response);Wt(mr)}catch(It){ar(It)}}var Er=new XMLHttpRequest;Er.addEventListener("load",Xt,!0),Er.addEventListener("error",ar,!0),Er.responseType="arraybuffer",Er.open("GET",Ut+Bt.toUpperCase()),Er.send()}function Ar(Bt,Ut,Wt){Sr(Bt,Lr,Ut,Wt)}function Or(Bt,Ut,Wt){Sr(Bt,Pr,Ut,Wt)}var Mr=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],wr=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],Tr=Mr.concat(wr),fr="v1.0.1",pr="//mmtf.rcsb.org/v1.0/",Lr=pr+"full/",Pr=pr+"reduced/";o.encode=nr,o.decode=_r,o.traverse=Gt,o.fetch=Ar,o.fetchReduced=Or,o.version=fr,o.fetchUrl=Lr,o.fetchReducedUrl=Pr,o.encodeMsgpack=tt,o.encodeMmtf=Qt,o.decodeMsgpack=cr,o.decodeMmtf=gr})},"./node_modules/pako/dist/pako.esm.mjs":(i,s,o)=>{o.r(s),o.d(s,{Deflate:()=>Lo,Inflate:()=>Bo,constants:()=>No,default:()=>Qu,deflate:()=>Do,deflateRaw:()=>Io,gzip:()=>zo,inflate:()=>ko,inflateRaw:()=>Fo,ungzip:()=>Uo});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const a=4,_=0,$=1,nt=2;function tt(yt){let zt=yt.length;for(;--zt>=0;)yt[zt]=0}const ot=0,pt=1,ut=2,mt=3,vt=258,ht=29,gt=256,rt=gt+1+ht,j=30,_e=19,it=2*rt+1,st=15,lt=16,et=7,at=256,ft=16,ct=17,xt=18,dt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_t=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ct=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Et=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Mt=512,St=new Array((rt+2)*2);tt(St);const Ot=new Array(j*2);tt(Ot);const At=new Array(Mt);tt(At);const wt=new Array(vt-mt+1);tt(wt);const Pt=new Array(ht);tt(Pt);const Lt=new Array(j);tt(Lt);function Rt(yt,zt,bt,Nt,Kt){this.static_tree=yt,this.extra_bits=zt,this.extra_base=bt,this.elems=Nt,this.max_length=Kt,this.has_stree=yt&&yt.length}let Dt,$t,jt;function Zt(yt,zt){this.dyn_tree=yt,this.max_code=0,this.stat_desc=zt}const qt=yt=>yt<256?At[yt]:At[256+(yt>>>7)],er=(yt,zt)=>{yt.pending_buf[yt.pending++]=zt&255,yt.pending_buf[yt.pending++]=zt>>>8&255},Yt=(yt,zt,bt)=>{yt.bi_valid>lt-bt?(yt.bi_buf|=zt<<yt.bi_valid&65535,er(yt,yt.bi_buf),yt.bi_buf=zt>>lt-yt.bi_valid,yt.bi_valid+=bt-lt):(yt.bi_buf|=zt<<yt.bi_valid&65535,yt.bi_valid+=bt)},Qt=(yt,zt,bt)=>{Yt(yt,bt[zt*2],bt[zt*2+1])},cr=(yt,zt)=>{let bt=0;do bt|=yt&1,yt>>>=1,bt<<=1;while(--zt>0);return bt>>>1},lr=yt=>{yt.bi_valid===16?(er(yt,yt.bi_buf),yt.bi_buf=0,yt.bi_valid=0):yt.bi_valid>=8&&(yt.pending_buf[yt.pending++]=yt.bi_buf&255,yt.bi_buf>>=8,yt.bi_valid-=8)},gr=(yt,zt)=>{const bt=zt.dyn_tree,Nt=zt.max_code,Kt=zt.stat_desc.static_tree,Vt=zt.stat_desc.has_stree,yr=zt.stat_desc.extra_bits,dr=zt.stat_desc.extra_base,Ur=zt.stat_desc.max_length;let ir,xr,qr,Fr,Rr,Nr,cn=0;for(Fr=0;Fr<=st;Fr++)yt.bl_count[Fr]=0;for(bt[yt.heap[yt.heap_max]*2+1]=0,ir=yt.heap_max+1;ir<it;ir++)xr=yt.heap[ir],Fr=bt[bt[xr*2+1]*2+1]+1,Fr>Ur&&(Fr=Ur,cn++),bt[xr*2+1]=Fr,!(xr>Nt)&&(yt.bl_count[Fr]++,Rr=0,xr>=dr&&(Rr=yr[xr-dr]),Nr=bt[xr*2],yt.opt_len+=Nr*(Fr+Rr),Vt&&(yt.static_len+=Nr*(Kt[xr*2+1]+Rr)));if(cn!==0){do{for(Fr=Ur-1;yt.bl_count[Fr]===0;)Fr--;yt.bl_count[Fr]--,yt.bl_count[Fr+1]+=2,yt.bl_count[Ur]--,cn-=2}while(cn>0);for(Fr=Ur;Fr!==0;Fr--)for(xr=yt.bl_count[Fr];xr!==0;)qr=yt.heap[--ir],!(qr>Nt)&&(bt[qr*2+1]!==Fr&&(yt.opt_len+=(Fr-bt[qr*2+1])*bt[qr*2],bt[qr*2+1]=Fr),xr--)}},rr=(yt,zt,bt)=>{const Nt=new Array(st+1);let Kt=0,Vt,yr;for(Vt=1;Vt<=st;Vt++)Kt=Kt+bt[Vt-1]<<1,Nt[Vt]=Kt;for(yr=0;yr<=zt;yr++){let dr=yt[yr*2+1];dr!==0&&(yt[yr*2]=cr(Nt[dr]++,dr))}},Gt=()=>{let yt,zt,bt,Nt,Kt;const Vt=new Array(st+1);for(bt=0,Nt=0;Nt<ht-1;Nt++)for(Pt[Nt]=bt,yt=0;yt<1<<dt[Nt];yt++)wt[bt++]=Nt;for(wt[bt-1]=Nt,Kt=0,Nt=0;Nt<16;Nt++)for(Lt[Nt]=Kt,yt=0;yt<1<<_t[Nt];yt++)At[Kt++]=Nt;for(Kt>>=7;Nt<j;Nt++)for(Lt[Nt]=Kt<<7,yt=0;yt<1<<_t[Nt]-7;yt++)At[256+Kt++]=Nt;for(zt=0;zt<=st;zt++)Vt[zt]=0;for(yt=0;yt<=143;)St[yt*2+1]=8,yt++,Vt[8]++;for(;yt<=255;)St[yt*2+1]=9,yt++,Vt[9]++;for(;yt<=279;)St[yt*2+1]=7,yt++,Vt[7]++;for(;yt<=287;)St[yt*2+1]=8,yt++,Vt[8]++;for(rr(St,rt+1,Vt),yt=0;yt<j;yt++)Ot[yt*2+1]=5,Ot[yt*2]=cr(yt,5);Dt=new Rt(St,dt,gt+1,rt,st),$t=new Rt(Ot,_t,0,j,st),jt=new Rt(new Array(0),Ct,0,_e,et)},nr=yt=>{let zt;for(zt=0;zt<rt;zt++)yt.dyn_ltree[zt*2]=0;for(zt=0;zt<j;zt++)yt.dyn_dtree[zt*2]=0;for(zt=0;zt<_e;zt++)yt.bl_tree[zt*2]=0;yt.dyn_ltree[at*2]=1,yt.opt_len=yt.static_len=0,yt.sym_next=yt.matches=0},_r=yt=>{yt.bi_valid>8?er(yt,yt.bi_buf):yt.bi_valid>0&&(yt.pending_buf[yt.pending++]=yt.bi_buf),yt.bi_buf=0,yt.bi_valid=0},Sr=(yt,zt,bt,Nt)=>{const Kt=zt*2,Vt=bt*2;return yt[Kt]<yt[Vt]||yt[Kt]===yt[Vt]&&Nt[zt]<=Nt[bt]},Ar=(yt,zt,bt)=>{const Nt=yt.heap[bt];let Kt=bt<<1;for(;Kt<=yt.heap_len&&(Kt<yt.heap_len&&Sr(zt,yt.heap[Kt+1],yt.heap[Kt],yt.depth)&&Kt++,!Sr(zt,Nt,yt.heap[Kt],yt.depth));)yt.heap[bt]=yt.heap[Kt],bt=Kt,Kt<<=1;yt.heap[bt]=Nt},Or=(yt,zt,bt)=>{let Nt,Kt,Vt=0,yr,dr;if(yt.sym_next!==0)do Nt=yt.pending_buf[yt.sym_buf+Vt++]&255,Nt+=(yt.pending_buf[yt.sym_buf+Vt++]&255)<<8,Kt=yt.pending_buf[yt.sym_buf+Vt++],Nt===0?Qt(yt,Kt,zt):(yr=wt[Kt],Qt(yt,yr+gt+1,zt),dr=dt[yr],dr!==0&&(Kt-=Pt[yr],Yt(yt,Kt,dr)),Nt--,yr=qt(Nt),Qt(yt,yr,bt),dr=_t[yr],dr!==0&&(Nt-=Lt[yr],Yt(yt,Nt,dr)));while(Vt<yt.sym_next);Qt(yt,at,zt)},Mr=(yt,zt)=>{const bt=zt.dyn_tree,Nt=zt.stat_desc.static_tree,Kt=zt.stat_desc.has_stree,Vt=zt.stat_desc.elems;let yr,dr,Ur=-1,ir;for(yt.heap_len=0,yt.heap_max=it,yr=0;yr<Vt;yr++)bt[yr*2]!==0?(yt.heap[++yt.heap_len]=Ur=yr,yt.depth[yr]=0):bt[yr*2+1]=0;for(;yt.heap_len<2;)ir=yt.heap[++yt.heap_len]=Ur<2?++Ur:0,bt[ir*2]=1,yt.depth[ir]=0,yt.opt_len--,Kt&&(yt.static_len-=Nt[ir*2+1]);for(zt.max_code=Ur,yr=yt.heap_len>>1;yr>=1;yr--)Ar(yt,bt,yr);ir=Vt;do yr=yt.heap[1],yt.heap[1]=yt.heap[yt.heap_len--],Ar(yt,bt,1),dr=yt.heap[1],yt.heap[--yt.heap_max]=yr,yt.heap[--yt.heap_max]=dr,bt[ir*2]=bt[yr*2]+bt[dr*2],yt.depth[ir]=(yt.depth[yr]>=yt.depth[dr]?yt.depth[yr]:yt.depth[dr])+1,bt[yr*2+1]=bt[dr*2+1]=ir,yt.heap[1]=ir++,Ar(yt,bt,1);while(yt.heap_len>=2);yt.heap[--yt.heap_max]=yt.heap[1],gr(yt,zt),rr(bt,Ur,yt.bl_count)},wr=(yt,zt,bt)=>{let Nt,Kt=-1,Vt,yr=zt[0*2+1],dr=0,Ur=7,ir=4;for(yr===0&&(Ur=138,ir=3),zt[(bt+1)*2+1]=65535,Nt=0;Nt<=bt;Nt++)Vt=yr,yr=zt[(Nt+1)*2+1],!(++dr<Ur&&Vt===yr)&&(dr<ir?yt.bl_tree[Vt*2]+=dr:Vt!==0?(Vt!==Kt&&yt.bl_tree[Vt*2]++,yt.bl_tree[ft*2]++):dr<=10?yt.bl_tree[ct*2]++:yt.bl_tree[xt*2]++,dr=0,Kt=Vt,yr===0?(Ur=138,ir=3):Vt===yr?(Ur=6,ir=3):(Ur=7,ir=4))},Tr=(yt,zt,bt)=>{let Nt,Kt=-1,Vt,yr=zt[0*2+1],dr=0,Ur=7,ir=4;for(yr===0&&(Ur=138,ir=3),Nt=0;Nt<=bt;Nt++)if(Vt=yr,yr=zt[(Nt+1)*2+1],!(++dr<Ur&&Vt===yr)){if(dr<ir)do Qt(yt,Vt,yt.bl_tree);while(--dr!==0);else Vt!==0?(Vt!==Kt&&(Qt(yt,Vt,yt.bl_tree),dr--),Qt(yt,ft,yt.bl_tree),Yt(yt,dr-3,2)):dr<=10?(Qt(yt,ct,yt.bl_tree),Yt(yt,dr-3,3)):(Qt(yt,xt,yt.bl_tree),Yt(yt,dr-11,7));dr=0,Kt=Vt,yr===0?(Ur=138,ir=3):Vt===yr?(Ur=6,ir=3):(Ur=7,ir=4)}},fr=yt=>{let zt;for(wr(yt,yt.dyn_ltree,yt.l_desc.max_code),wr(yt,yt.dyn_dtree,yt.d_desc.max_code),Mr(yt,yt.bl_desc),zt=_e-1;zt>=3&&yt.bl_tree[Et[zt]*2+1]===0;zt--);return yt.opt_len+=3*(zt+1)+5+5+4,zt},pr=(yt,zt,bt,Nt)=>{let Kt;for(Yt(yt,zt-257,5),Yt(yt,bt-1,5),Yt(yt,Nt-4,4),Kt=0;Kt<Nt;Kt++)Yt(yt,yt.bl_tree[Et[Kt]*2+1],3);Tr(yt,yt.dyn_ltree,zt-1),Tr(yt,yt.dyn_dtree,bt-1)},Lr=yt=>{let zt=4093624447,bt;for(bt=0;bt<=31;bt++,zt>>>=1)if(zt&1&&yt.dyn_ltree[bt*2]!==0)return _;if(yt.dyn_ltree[9*2]!==0||yt.dyn_ltree[10*2]!==0||yt.dyn_ltree[13*2]!==0)return $;for(bt=32;bt<gt;bt++)if(yt.dyn_ltree[bt*2]!==0)return $;return _};let Pr=!1;const Bt=yt=>{Pr||(Gt(),Pr=!0),yt.l_desc=new Zt(yt.dyn_ltree,Dt),yt.d_desc=new Zt(yt.dyn_dtree,$t),yt.bl_desc=new Zt(yt.bl_tree,jt),yt.bi_buf=0,yt.bi_valid=0,nr(yt)},Ut=(yt,zt,bt,Nt)=>{Yt(yt,(ot<<1)+(Nt?1:0),3),_r(yt),er(yt,bt),er(yt,~bt),bt&&yt.pending_buf.set(yt.window.subarray(zt,zt+bt),yt.pending),yt.pending+=bt},Wt=yt=>{Yt(yt,pt<<1,3),Qt(yt,at,St),lr(yt)},ar=(yt,zt,bt,Nt)=>{let Kt,Vt,yr=0;yt.level>0?(yt.strm.data_type===nt&&(yt.strm.data_type=Lr(yt)),Mr(yt,yt.l_desc),Mr(yt,yt.d_desc),yr=fr(yt),Kt=yt.opt_len+3+7>>>3,Vt=yt.static_len+3+7>>>3,Vt<=Kt&&(Kt=Vt)):Kt=Vt=bt+5,bt+4<=Kt&&zt!==-1?Ut(yt,zt,bt,Nt):yt.strategy===a||Vt===Kt?(Yt(yt,(pt<<1)+(Nt?1:0),3),Or(yt,St,Ot)):(Yt(yt,(ut<<1)+(Nt?1:0),3),pr(yt,yt.l_desc.max_code+1,yt.d_desc.max_code+1,yr+1),Or(yt,yt.dyn_ltree,yt.dyn_dtree)),nr(yt),Nt&&_r(yt)},Xt=(yt,zt,bt)=>(yt.pending_buf[yt.sym_buf+yt.sym_next++]=zt,yt.pending_buf[yt.sym_buf+yt.sym_next++]=zt>>8,yt.pending_buf[yt.sym_buf+yt.sym_next++]=bt,zt===0?yt.dyn_ltree[bt*2]++:(yt.matches++,zt--,yt.dyn_ltree[(wt[bt]+gt+1)*2]++,yt.dyn_dtree[qt(zt)*2]++),yt.sym_next===yt.sym_end);var Er=Bt,mr=Ut,It=ar,Jt=Xt,sr=Wt,Cr={_tr_init:Er,_tr_stored_block:mr,_tr_flush_block:It,_tr_tally:Jt,_tr_align:sr},vr=(yt,zt,bt,Nt)=>{let Kt=yt&65535|0,Vt=yt>>>16&65535|0,yr=0;for(;bt!==0;){yr=bt>2e3?2e3:bt,bt-=yr;do Kt=Kt+zt[Nt++]|0,Vt=Vt+Kt|0;while(--yr);Kt%=65521,Vt%=65521}return Kt|Vt<<16|0};const kt=()=>{let yt,zt=[];for(var bt=0;bt<256;bt++){yt=bt;for(var Nt=0;Nt<8;Nt++)yt=yt&1?3988292384^yt>>>1:yt>>>1;zt[bt]=yt}return zt},br=new Uint32Array(kt());var Tt=(yt,zt,bt,Nt)=>{const Kt=br,Vt=Nt+bt;yt^=-1;for(let yr=Nt;yr<Vt;yr++)yt=yt>>>8^Kt[(yt^zt[yr])&255];return yt^-1},ur={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},or={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ft,_tr_stored_block:Ht,_tr_flush_block:hr,_tr_tally:Br,_tr_align:zr}=Cr,{Z_NO_FLUSH:Ir,Z_PARTIAL_FLUSH:jr,Z_FULL_FLUSH:fn,Z_FINISH:Kr,Z_BLOCK:Hr,Z_OK:Gr,Z_STREAM_END:dn,Z_STREAM_ERROR:nn,Z_DATA_ERROR:Cn,Z_BUF_ERROR:_n,Z_DEFAULT_COMPRESSION:an,Z_FILTERED:ln,Z_HUFFMAN_ONLY:sn,Z_RLE:mn,Z_FIXED:pn,Z_DEFAULT_STRATEGY:On,Z_UNKNOWN:es,Z_DEFLATED:Rn}=or,ts=9,rs=15,ns=8,ms=256+1+29,jo=30,$o=19,Go=2*ms+1,Vo=15,Yr=3,Tn=258,bn=Tn+Yr+1,Ho=32,kn=42,vs=57,ys=69,xs=73,_s=91,bs=103,Pn=113,$n=666,gn=1,Fn=2,Ln=3,Un=4,Ko=3,Dn=(yt,zt)=>(yt.msg=ur[zt],zt),Is=yt=>yt*2-(yt>4?9:0),Mn=yt=>{let zt=yt.length;for(;--zt>=0;)yt[zt]=0},Xo=yt=>{let zt,bt,Nt,Kt=yt.w_size;zt=yt.hash_size,Nt=zt;do bt=yt.head[--Nt],yt.head[Nt]=bt>=Kt?bt-Kt:0;while(--zt);zt=Kt,Nt=zt;do bt=yt.prev[--Nt],yt.prev[Nt]=bt>=Kt?bt-Kt:0;while(--zt)};let An=(yt,zt,bt)=>(zt<<yt.hash_shift^bt)&yt.hash_mask;const vn=yt=>{const zt=yt.state;let bt=zt.pending;bt>yt.avail_out&&(bt=yt.avail_out),bt!==0&&(yt.output.set(zt.pending_buf.subarray(zt.pending_out,zt.pending_out+bt),yt.next_out),yt.next_out+=bt,zt.pending_out+=bt,yt.total_out+=bt,yt.avail_out-=bt,zt.pending-=bt,zt.pending===0&&(zt.pending_out=0))},yn=(yt,zt)=>{hr(yt,yt.block_start>=0?yt.block_start:-1,yt.strstart-yt.block_start,zt),yt.block_start=yt.strstart,vn(yt.strm)},en=(yt,zt)=>{yt.pending_buf[yt.pending++]=zt},Gn=(yt,zt)=>{yt.pending_buf[yt.pending++]=zt>>>8&255,yt.pending_buf[yt.pending++]=zt&255},Es=(yt,zt,bt,Nt)=>{let Kt=yt.avail_in;return Kt>Nt&&(Kt=Nt),Kt===0?0:(yt.avail_in-=Kt,zt.set(yt.input.subarray(yt.next_in,yt.next_in+Kt),bt),yt.state.wrap===1?yt.adler=vr(yt.adler,zt,Kt,bt):yt.state.wrap===2&&(yt.adler=Tt(yt.adler,zt,Kt,bt)),yt.next_in+=Kt,yt.total_in+=Kt,Kt)},zs=(yt,zt)=>{let bt=yt.max_chain_length,Nt=yt.strstart,Kt,Vt,yr=yt.prev_length,dr=yt.nice_match;const Ur=yt.strstart>yt.w_size-bn?yt.strstart-(yt.w_size-bn):0,ir=yt.window,xr=yt.w_mask,qr=yt.prev,Fr=yt.strstart+Tn;let Rr=ir[Nt+yr-1],Nr=ir[Nt+yr];yt.prev_length>=yt.good_match&&(bt>>=2),dr>yt.lookahead&&(dr=yt.lookahead);do if(Kt=zt,!(ir[Kt+yr]!==Nr||ir[Kt+yr-1]!==Rr||ir[Kt]!==ir[Nt]||ir[++Kt]!==ir[Nt+1])){Nt+=2,Kt++;do;while(ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&Nt<Fr);if(Vt=Tn-(Fr-Nt),Nt=Fr-Tn,Vt>yr){if(yt.match_start=zt,yr=Vt,Vt>=dr)break;Rr=ir[Nt+yr-1],Nr=ir[Nt+yr]}}while((zt=qr[zt&xr])>Ur&&--bt!==0);return yr<=yt.lookahead?yr:yt.lookahead},Nn=yt=>{const zt=yt.w_size;let bt,Nt,Kt;do{if(Nt=yt.window_size-yt.lookahead-yt.strstart,yt.strstart>=zt+(zt-bn)&&(yt.window.set(yt.window.subarray(zt,zt+zt-Nt),0),yt.match_start-=zt,yt.strstart-=zt,yt.block_start-=zt,yt.insert>yt.strstart&&(yt.insert=yt.strstart),Xo(yt),Nt+=zt),yt.strm.avail_in===0)break;if(bt=Es(yt.strm,yt.window,yt.strstart+yt.lookahead,Nt),yt.lookahead+=bt,yt.lookahead+yt.insert>=Yr)for(Kt=yt.strstart-yt.insert,yt.ins_h=yt.window[Kt],yt.ins_h=An(yt,yt.ins_h,yt.window[Kt+1]);yt.insert&&(yt.ins_h=An(yt,yt.ins_h,yt.window[Kt+Yr-1]),yt.prev[Kt&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=Kt,Kt++,yt.insert--,!(yt.lookahead+yt.insert<Yr)););}while(yt.lookahead<bn&&yt.strm.avail_in!==0)},Bs=(yt,zt)=>{let bt=yt.pending_buf_size-5>yt.w_size?yt.w_size:yt.pending_buf_size-5,Nt,Kt,Vt,yr=0,dr=yt.strm.avail_in;do{if(Nt=65535,Vt=yt.bi_valid+42>>3,yt.strm.avail_out<Vt||(Vt=yt.strm.avail_out-Vt,Kt=yt.strstart-yt.block_start,Nt>Kt+yt.strm.avail_in&&(Nt=Kt+yt.strm.avail_in),Nt>Vt&&(Nt=Vt),Nt<bt&&(Nt===0&&zt!==Kr||zt===Ir||Nt!==Kt+yt.strm.avail_in)))break;yr=zt===Kr&&Nt===Kt+yt.strm.avail_in?1:0,Ht(yt,0,0,yr),yt.pending_buf[yt.pending-4]=Nt,yt.pending_buf[yt.pending-3]=Nt>>8,yt.pending_buf[yt.pending-2]=~Nt,yt.pending_buf[yt.pending-1]=~Nt>>8,vn(yt.strm),Kt&&(Kt>Nt&&(Kt=Nt),yt.strm.output.set(yt.window.subarray(yt.block_start,yt.block_start+Kt),yt.strm.next_out),yt.strm.next_out+=Kt,yt.strm.avail_out-=Kt,yt.strm.total_out+=Kt,yt.block_start+=Kt,Nt-=Kt),Nt&&(Es(yt.strm,yt.strm.output,yt.strm.next_out,Nt),yt.strm.next_out+=Nt,yt.strm.avail_out-=Nt,yt.strm.total_out+=Nt)}while(yr===0);return dr-=yt.strm.avail_in,dr&&(dr>=yt.w_size?(yt.matches=2,yt.window.set(yt.strm.input.subarray(yt.strm.next_in-yt.w_size,yt.strm.next_in),0),yt.strstart=yt.w_size,yt.insert=yt.strstart):(yt.window_size-yt.strstart<=dr&&(yt.strstart-=yt.w_size,yt.window.set(yt.window.subarray(yt.w_size,yt.w_size+yt.strstart),0),yt.matches<2&&yt.matches++,yt.insert>yt.strstart&&(yt.insert=yt.strstart)),yt.window.set(yt.strm.input.subarray(yt.strm.next_in-dr,yt.strm.next_in),yt.strstart),yt.strstart+=dr,yt.insert+=dr>yt.w_size-yt.insert?yt.w_size-yt.insert:dr),yt.block_start=yt.strstart),yt.high_water<yt.strstart&&(yt.high_water=yt.strstart),yr?Un:zt!==Ir&&zt!==Kr&&yt.strm.avail_in===0&&yt.strstart===yt.block_start?Fn:(Vt=yt.window_size-yt.strstart,yt.strm.avail_in>Vt&&yt.block_start>=yt.w_size&&(yt.block_start-=yt.w_size,yt.strstart-=yt.w_size,yt.window.set(yt.window.subarray(yt.w_size,yt.w_size+yt.strstart),0),yt.matches<2&&yt.matches++,Vt+=yt.w_size,yt.insert>yt.strstart&&(yt.insert=yt.strstart)),Vt>yt.strm.avail_in&&(Vt=yt.strm.avail_in),Vt&&(Es(yt.strm,yt.window,yt.strstart,Vt),yt.strstart+=Vt,yt.insert+=Vt>yt.w_size-yt.insert?yt.w_size-yt.insert:Vt),yt.high_water<yt.strstart&&(yt.high_water=yt.strstart),Vt=yt.bi_valid+42>>3,Vt=yt.pending_buf_size-Vt>65535?65535:yt.pending_buf_size-Vt,bt=Vt>yt.w_size?yt.w_size:Vt,Kt=yt.strstart-yt.block_start,(Kt>=bt||(Kt||zt===Kr)&&zt!==Ir&&yt.strm.avail_in===0&&Kt<=Vt)&&(Nt=Kt>Vt?Vt:Kt,yr=zt===Kr&&yt.strm.avail_in===0&&Nt===Kt?1:0,Ht(yt,yt.block_start,Nt,yr),yt.block_start+=Nt,vn(yt.strm)),yr?Ln:gn)},Cs=(yt,zt)=>{let bt,Nt;for(;;){if(yt.lookahead<bn){if(Nn(yt),yt.lookahead<bn&&zt===Ir)return gn;if(yt.lookahead===0)break}if(bt=0,yt.lookahead>=Yr&&(yt.ins_h=An(yt,yt.ins_h,yt.window[yt.strstart+Yr-1]),bt=yt.prev[yt.strstart&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=yt.strstart),bt!==0&&yt.strstart-bt<=yt.w_size-bn&&(yt.match_length=zs(yt,bt)),yt.match_length>=Yr)if(Nt=Br(yt,yt.strstart-yt.match_start,yt.match_length-Yr),yt.lookahead-=yt.match_length,yt.match_length<=yt.max_lazy_match&&yt.lookahead>=Yr){yt.match_length--;do yt.strstart++,yt.ins_h=An(yt,yt.ins_h,yt.window[yt.strstart+Yr-1]),bt=yt.prev[yt.strstart&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=yt.strstart;while(--yt.match_length!==0);yt.strstart++}else yt.strstart+=yt.match_length,yt.match_length=0,yt.ins_h=yt.window[yt.strstart],yt.ins_h=An(yt,yt.ins_h,yt.window[yt.strstart+1]);else Nt=Br(yt,0,yt.window[yt.strstart]),yt.lookahead--,yt.strstart++;if(Nt&&(yn(yt,!1),yt.strm.avail_out===0))return gn}return yt.insert=yt.strstart<Yr-1?yt.strstart:Yr-1,zt===Kr?(yn(yt,!0),yt.strm.avail_out===0?Ln:Un):yt.sym_next&&(yn(yt,!1),yt.strm.avail_out===0)?gn:Fn},Wn=(yt,zt)=>{let bt,Nt,Kt;for(;;){if(yt.lookahead<bn){if(Nn(yt),yt.lookahead<bn&&zt===Ir)return gn;if(yt.lookahead===0)break}if(bt=0,yt.lookahead>=Yr&&(yt.ins_h=An(yt,yt.ins_h,yt.window[yt.strstart+Yr-1]),bt=yt.prev[yt.strstart&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=yt.strstart),yt.prev_length=yt.match_length,yt.prev_match=yt.match_start,yt.match_length=Yr-1,bt!==0&&yt.prev_length<yt.max_lazy_match&&yt.strstart-bt<=yt.w_size-bn&&(yt.match_length=zs(yt,bt),yt.match_length<=5&&(yt.strategy===ln||yt.match_length===Yr&&yt.strstart-yt.match_start>4096)&&(yt.match_length=Yr-1)),yt.prev_length>=Yr&&yt.match_length<=yt.prev_length){Kt=yt.strstart+yt.lookahead-Yr,Nt=Br(yt,yt.strstart-1-yt.prev_match,yt.prev_length-Yr),yt.lookahead-=yt.prev_length-1,yt.prev_length-=2;do++yt.strstart<=Kt&&(yt.ins_h=An(yt,yt.ins_h,yt.window[yt.strstart+Yr-1]),bt=yt.prev[yt.strstart&yt.w_mask]=yt.head[yt.ins_h],yt.head[yt.ins_h]=yt.strstart);while(--yt.prev_length!==0);if(yt.match_available=0,yt.match_length=Yr-1,yt.strstart++,Nt&&(yn(yt,!1),yt.strm.avail_out===0))return gn}else if(yt.match_available){if(Nt=Br(yt,0,yt.window[yt.strstart-1]),Nt&&yn(yt,!1),yt.strstart++,yt.lookahead--,yt.strm.avail_out===0)return gn}else yt.match_available=1,yt.strstart++,yt.lookahead--}return yt.match_available&&(Nt=Br(yt,0,yt.window[yt.strstart-1]),yt.match_available=0),yt.insert=yt.strstart<Yr-1?yt.strstart:Yr-1,zt===Kr?(yn(yt,!0),yt.strm.avail_out===0?Ln:Un):yt.sym_next&&(yn(yt,!1),yt.strm.avail_out===0)?gn:Fn},Yo=(yt,zt)=>{let bt,Nt,Kt,Vt;const yr=yt.window;for(;;){if(yt.lookahead<=Tn){if(Nn(yt),yt.lookahead<=Tn&&zt===Ir)return gn;if(yt.lookahead===0)break}if(yt.match_length=0,yt.lookahead>=Yr&&yt.strstart>0&&(Kt=yt.strstart-1,Nt=yr[Kt],Nt===yr[++Kt]&&Nt===yr[++Kt]&&Nt===yr[++Kt])){Vt=yt.strstart+Tn;do;while(Nt===yr[++Kt]&&Nt===yr[++Kt]&&Nt===yr[++Kt]&&Nt===yr[++Kt]&&Nt===yr[++Kt]&&Nt===yr[++Kt]&&Nt===yr[++Kt]&&Nt===yr[++Kt]&&Kt<Vt);yt.match_length=Tn-(Vt-Kt),yt.match_length>yt.lookahead&&(yt.match_length=yt.lookahead)}if(yt.match_length>=Yr?(bt=Br(yt,1,yt.match_length-Yr),yt.lookahead-=yt.match_length,yt.strstart+=yt.match_length,yt.match_length=0):(bt=Br(yt,0,yt.window[yt.strstart]),yt.lookahead--,yt.strstart++),bt&&(yn(yt,!1),yt.strm.avail_out===0))return gn}return yt.insert=0,zt===Kr?(yn(yt,!0),yt.strm.avail_out===0?Ln:Un):yt.sym_next&&(yn(yt,!1),yt.strm.avail_out===0)?gn:Fn},Zo=(yt,zt)=>{let bt;for(;;){if(yt.lookahead===0&&(Nn(yt),yt.lookahead===0)){if(zt===Ir)return gn;break}if(yt.match_length=0,bt=Br(yt,0,yt.window[yt.strstart]),yt.lookahead--,yt.strstart++,bt&&(yn(yt,!1),yt.strm.avail_out===0))return gn}return yt.insert=0,zt===Kr?(yn(yt,!0),yt.strm.avail_out===0?Ln:Un):yt.sym_next&&(yn(yt,!1),yt.strm.avail_out===0)?gn:Fn};function En(yt,zt,bt,Nt,Kt){this.good_length=yt,this.max_lazy=zt,this.nice_length=bt,this.max_chain=Nt,this.func=Kt}const Vn=[new En(0,0,0,0,Bs),new En(4,4,8,4,Cs),new En(4,5,16,8,Cs),new En(4,6,32,32,Cs),new En(4,4,16,16,Wn),new En(8,16,32,32,Wn),new En(8,16,128,128,Wn),new En(8,32,128,256,Wn),new En(32,128,258,1024,Wn),new En(32,258,258,4096,Wn)],Qo=yt=>{yt.window_size=2*yt.w_size,Mn(yt.head),yt.max_lazy_match=Vn[yt.level].max_lazy,yt.good_match=Vn[yt.level].good_length,yt.nice_match=Vn[yt.level].nice_length,yt.max_chain_length=Vn[yt.level].max_chain,yt.strstart=0,yt.block_start=0,yt.lookahead=0,yt.insert=0,yt.match_length=yt.prev_length=Yr-1,yt.match_available=0,yt.ins_h=0};function Jo(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Rn,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Go*2),this.dyn_dtree=new Uint16Array((2*jo+1)*2),this.bl_tree=new Uint16Array((2*$o+1)*2),Mn(this.dyn_ltree),Mn(this.dyn_dtree),Mn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Vo+1),this.heap=new Uint16Array(2*ms+1),Mn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ms+1),Mn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Hn=yt=>{if(!yt)return 1;const zt=yt.state;return!zt||zt.strm!==yt||zt.status!==kn&&zt.status!==vs&&zt.status!==ys&&zt.status!==xs&&zt.status!==_s&&zt.status!==bs&&zt.status!==Pn&&zt.status!==$n?1:0},ks=yt=>{if(Hn(yt))return Dn(yt,nn);yt.total_in=yt.total_out=0,yt.data_type=es;const zt=yt.state;return zt.pending=0,zt.pending_out=0,zt.wrap<0&&(zt.wrap=-zt.wrap),zt.status=zt.wrap===2?vs:zt.wrap?kn:Pn,yt.adler=zt.wrap===2?0:1,zt.last_flush=-2,Ft(zt),Gr},Fs=yt=>{const zt=ks(yt);return zt===Gr&&Qo(yt.state),zt},qo=(yt,zt)=>Hn(yt)||yt.state.wrap!==2?nn:(yt.state.gzhead=zt,Gr),Us=(yt,zt,bt,Nt,Kt,Vt)=>{if(!yt)return nn;let yr=1;if(zt===an&&(zt=6),Nt<0?(yr=0,Nt=-Nt):Nt>15&&(yr=2,Nt-=16),Kt<1||Kt>ts||bt!==Rn||Nt<8||Nt>15||zt<0||zt>9||Vt<0||Vt>pn||Nt===8&&yr!==1)return Dn(yt,nn);Nt===8&&(Nt=9);const dr=new Jo;return yt.state=dr,dr.strm=yt,dr.status=kn,dr.wrap=yr,dr.gzhead=null,dr.w_bits=Nt,dr.w_size=1<<dr.w_bits,dr.w_mask=dr.w_size-1,dr.hash_bits=Kt+7,dr.hash_size=1<<dr.hash_bits,dr.hash_mask=dr.hash_size-1,dr.hash_shift=~~((dr.hash_bits+Yr-1)/Yr),dr.window=new Uint8Array(dr.w_size*2),dr.head=new Uint16Array(dr.hash_size),dr.prev=new Uint16Array(dr.w_size),dr.lit_bufsize=1<<Kt+6,dr.pending_buf_size=dr.lit_bufsize*4,dr.pending_buf=new Uint8Array(dr.pending_buf_size),dr.sym_buf=dr.lit_bufsize,dr.sym_end=(dr.lit_bufsize-1)*3,dr.level=zt,dr.strategy=Vt,dr.method=bt,Fs(yt)},na=(yt,zt)=>Us(yt,zt,Rn,rs,ns,On),ga=(yt,zt)=>{if(Hn(yt)||zt>Hr||zt<0)return yt?Dn(yt,nn):nn;const bt=yt.state;if(!yt.output||yt.avail_in!==0&&!yt.input||bt.status===$n&&zt!==Kr)return Dn(yt,yt.avail_out===0?_n:nn);const Nt=bt.last_flush;if(bt.last_flush=zt,bt.pending!==0){if(vn(yt),yt.avail_out===0)return bt.last_flush=-1,Gr}else if(yt.avail_in===0&&Is(zt)<=Is(Nt)&&zt!==Kr)return Dn(yt,_n);if(bt.status===$n&&yt.avail_in!==0)return Dn(yt,_n);if(bt.status===kn&&bt.wrap===0&&(bt.status=Pn),bt.status===kn){let Kt=Rn+(bt.w_bits-8<<4)<<8,Vt=-1;if(bt.strategy>=sn||bt.level<2?Vt=0:bt.level<6?Vt=1:bt.level===6?Vt=2:Vt=3,Kt|=Vt<<6,bt.strstart!==0&&(Kt|=Ho),Kt+=31-Kt%31,Gn(bt,Kt),bt.strstart!==0&&(Gn(bt,yt.adler>>>16),Gn(bt,yt.adler&65535)),yt.adler=1,bt.status=Pn,vn(yt),bt.pending!==0)return bt.last_flush=-1,Gr}if(bt.status===vs){if(yt.adler=0,en(bt,31),en(bt,139),en(bt,8),bt.gzhead)en(bt,(bt.gzhead.text?1:0)+(bt.gzhead.hcrc?2:0)+(bt.gzhead.extra?4:0)+(bt.gzhead.name?8:0)+(bt.gzhead.comment?16:0)),en(bt,bt.gzhead.time&255),en(bt,bt.gzhead.time>>8&255),en(bt,bt.gzhead.time>>16&255),en(bt,bt.gzhead.time>>24&255),en(bt,bt.level===9?2:bt.strategy>=sn||bt.level<2?4:0),en(bt,bt.gzhead.os&255),bt.gzhead.extra&&bt.gzhead.extra.length&&(en(bt,bt.gzhead.extra.length&255),en(bt,bt.gzhead.extra.length>>8&255)),bt.gzhead.hcrc&&(yt.adler=Tt(yt.adler,bt.pending_buf,bt.pending,0)),bt.gzindex=0,bt.status=ys;else if(en(bt,0),en(bt,0),en(bt,0),en(bt,0),en(bt,0),en(bt,bt.level===9?2:bt.strategy>=sn||bt.level<2?4:0),en(bt,Ko),bt.status=Pn,vn(yt),bt.pending!==0)return bt.last_flush=-1,Gr}if(bt.status===ys){if(bt.gzhead.extra){let Kt=bt.pending,Vt=(bt.gzhead.extra.length&65535)-bt.gzindex;for(;bt.pending+Vt>bt.pending_buf_size;){let dr=bt.pending_buf_size-bt.pending;if(bt.pending_buf.set(bt.gzhead.extra.subarray(bt.gzindex,bt.gzindex+dr),bt.pending),bt.pending=bt.pending_buf_size,bt.gzhead.hcrc&&bt.pending>Kt&&(yt.adler=Tt(yt.adler,bt.pending_buf,bt.pending-Kt,Kt)),bt.gzindex+=dr,vn(yt),bt.pending!==0)return bt.last_flush=-1,Gr;Kt=0,Vt-=dr}let yr=new Uint8Array(bt.gzhead.extra);bt.pending_buf.set(yr.subarray(bt.gzindex,bt.gzindex+Vt),bt.pending),bt.pending+=Vt,bt.gzhead.hcrc&&bt.pending>Kt&&(yt.adler=Tt(yt.adler,bt.pending_buf,bt.pending-Kt,Kt)),bt.gzindex=0}bt.status=xs}if(bt.status===xs){if(bt.gzhead.name){let Kt=bt.pending,Vt;do{if(bt.pending===bt.pending_buf_size){if(bt.gzhead.hcrc&&bt.pending>Kt&&(yt.adler=Tt(yt.adler,bt.pending_buf,bt.pending-Kt,Kt)),vn(yt),bt.pending!==0)return bt.last_flush=-1,Gr;Kt=0}bt.gzindex<bt.gzhead.name.length?Vt=bt.gzhead.name.charCodeAt(bt.gzindex++)&255:Vt=0,en(bt,Vt)}while(Vt!==0);bt.gzhead.hcrc&&bt.pending>Kt&&(yt.adler=Tt(yt.adler,bt.pending_buf,bt.pending-Kt,Kt)),bt.gzindex=0}bt.status=_s}if(bt.status===_s){if(bt.gzhead.comment){let Kt=bt.pending,Vt;do{if(bt.pending===bt.pending_buf_size){if(bt.gzhead.hcrc&&bt.pending>Kt&&(yt.adler=Tt(yt.adler,bt.pending_buf,bt.pending-Kt,Kt)),vn(yt),bt.pending!==0)return bt.last_flush=-1,Gr;Kt=0}bt.gzindex<bt.gzhead.comment.length?Vt=bt.gzhead.comment.charCodeAt(bt.gzindex++)&255:Vt=0,en(bt,Vt)}while(Vt!==0);bt.gzhead.hcrc&&bt.pending>Kt&&(yt.adler=Tt(yt.adler,bt.pending_buf,bt.pending-Kt,Kt))}bt.status=bs}if(bt.status===bs){if(bt.gzhead.hcrc){if(bt.pending+2>bt.pending_buf_size&&(vn(yt),bt.pending!==0))return bt.last_flush=-1,Gr;en(bt,yt.adler&255),en(bt,yt.adler>>8&255),yt.adler=0}if(bt.status=Pn,vn(yt),bt.pending!==0)return bt.last_flush=-1,Gr}if(yt.avail_in!==0||bt.lookahead!==0||zt!==Ir&&bt.status!==$n){let Kt=bt.level===0?Bs(bt,zt):bt.strategy===sn?Zo(bt,zt):bt.strategy===mn?Yo(bt,zt):Vn[bt.level].func(bt,zt);if((Kt===Ln||Kt===Un)&&(bt.status=$n),Kt===gn||Kt===Ln)return yt.avail_out===0&&(bt.last_flush=-1),Gr;if(Kt===Fn&&(zt===jr?zr(bt):zt!==Hr&&(Ht(bt,0,0,!1),zt===fn&&(Mn(bt.head),bt.lookahead===0&&(bt.strstart=0,bt.block_start=0,bt.insert=0))),vn(yt),yt.avail_out===0))return bt.last_flush=-1,Gr}return zt!==Kr?Gr:bt.wrap<=0?dn:(bt.wrap===2?(en(bt,yt.adler&255),en(bt,yt.adler>>8&255),en(bt,yt.adler>>16&255),en(bt,yt.adler>>24&255),en(bt,yt.total_in&255),en(bt,yt.total_in>>8&255),en(bt,yt.total_in>>16&255),en(bt,yt.total_in>>24&255)):(Gn(bt,yt.adler>>>16),Gn(bt,yt.adler&65535)),vn(yt),bt.wrap>0&&(bt.wrap=-bt.wrap),bt.pending!==0?Gr:dn)},xa=yt=>{if(Hn(yt))return nn;const zt=yt.state.status;return yt.state=null,zt===Pn?Dn(yt,Cn):Gr},_a=(yt,zt)=>{let bt=zt.length;if(Hn(yt))return nn;const Nt=yt.state,Kt=Nt.wrap;if(Kt===2||Kt===1&&Nt.status!==kn||Nt.lookahead)return nn;if(Kt===1&&(yt.adler=vr(yt.adler,zt,bt,0)),Nt.wrap=0,bt>=Nt.w_size){Kt===0&&(Mn(Nt.head),Nt.strstart=0,Nt.block_start=0,Nt.insert=0);let Ur=new Uint8Array(Nt.w_size);Ur.set(zt.subarray(bt-Nt.w_size,bt),0),zt=Ur,bt=Nt.w_size}const Vt=yt.avail_in,yr=yt.next_in,dr=yt.input;for(yt.avail_in=bt,yt.next_in=0,yt.input=zt,Nn(Nt);Nt.lookahead>=Yr;){let Ur=Nt.strstart,ir=Nt.lookahead-(Yr-1);do Nt.ins_h=An(Nt,Nt.ins_h,Nt.window[Ur+Yr-1]),Nt.prev[Ur&Nt.w_mask]=Nt.head[Nt.ins_h],Nt.head[Nt.ins_h]=Ur,Ur++;while(--ir);Nt.strstart=Ur,Nt.lookahead=Yr-1,Nn(Nt)}return Nt.strstart+=Nt.lookahead,Nt.block_start=Nt.strstart,Nt.insert=Nt.lookahead,Nt.lookahead=0,Nt.match_length=Nt.prev_length=Yr-1,Nt.match_available=0,yt.next_in=yr,yt.input=dr,yt.avail_in=Vt,Nt.wrap=Kt,Gr};var ba=na,$a=Us,yl=Fs,xl=ks,_l=qo,El=ga,Cl=xa,wl=_a,Sl="pako deflate (from Nodeca project)",Kn={deflateInit:ba,deflateInit2:$a,deflateReset:yl,deflateResetKeep:xl,deflateSetHeader:_l,deflate:El,deflateEnd:Cl,deflateSetDictionary:wl,deflateInfo:Sl};const Tl=(yt,zt)=>Object.prototype.hasOwnProperty.call(yt,zt);var Ml=function(yt){const zt=Array.prototype.slice.call(arguments,1);for(;zt.length;){const bt=zt.shift();if(bt){if(typeof bt!="object")throw new TypeError(bt+"must be non-object");for(const Nt in bt)Tl(bt,Nt)&&(yt[Nt]=bt[Nt])}}return yt},Al=yt=>{let zt=0;for(let Nt=0,Kt=yt.length;Nt<Kt;Nt++)zt+=yt[Nt].length;const bt=new Uint8Array(zt);for(let Nt=0,Kt=0,Vt=yt.length;Nt<Vt;Nt++){let yr=yt[Nt];bt.set(yr,Kt),Kt+=yr.length}return bt},os={assign:Ml,flattenChunks:Al};let Ns=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ns=!1}const Xn=new Uint8Array(256);for(let yt=0;yt<256;yt++)Xn[yt]=yt>=252?6:yt>=248?5:yt>=240?4:yt>=224?3:yt>=192?2:1;Xn[254]=Xn[254]=1;var Ol=yt=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(yt);let zt,bt,Nt,Kt,Vt,yr=yt.length,dr=0;for(Kt=0;Kt<yr;Kt++)bt=yt.charCodeAt(Kt),(bt&64512)===55296&&Kt+1<yr&&(Nt=yt.charCodeAt(Kt+1),(Nt&64512)===56320&&(bt=65536+(bt-55296<<10)+(Nt-56320),Kt++)),dr+=bt<128?1:bt<2048?2:bt<65536?3:4;for(zt=new Uint8Array(dr),Vt=0,Kt=0;Vt<dr;Kt++)bt=yt.charCodeAt(Kt),(bt&64512)===55296&&Kt+1<yr&&(Nt=yt.charCodeAt(Kt+1),(Nt&64512)===56320&&(bt=65536+(bt-55296<<10)+(Nt-56320),Kt++)),bt<128?zt[Vt++]=bt:bt<2048?(zt[Vt++]=192|bt>>>6,zt[Vt++]=128|bt&63):bt<65536?(zt[Vt++]=224|bt>>>12,zt[Vt++]=128|bt>>>6&63,zt[Vt++]=128|bt&63):(zt[Vt++]=240|bt>>>18,zt[Vt++]=128|bt>>>12&63,zt[Vt++]=128|bt>>>6&63,zt[Vt++]=128|bt&63);return zt};const Rl=(yt,zt)=>{if(zt<65534&&yt.subarray&&Ns)return String.fromCharCode.apply(null,yt.length===zt?yt:yt.subarray(0,zt));let bt="";for(let Nt=0;Nt<zt;Nt++)bt+=String.fromCharCode(yt[Nt]);return bt};var Pl=(yt,zt)=>{const bt=zt||yt.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(yt.subarray(0,zt));let Nt,Kt;const Vt=new Array(bt*2);for(Kt=0,Nt=0;Nt<bt;){let yr=yt[Nt++];if(yr<128){Vt[Kt++]=yr;continue}let dr=Xn[yr];if(dr>4){Vt[Kt++]=65533,Nt+=dr-1;continue}for(yr&=dr===2?31:dr===3?15:7;dr>1&&Nt<bt;)yr=yr<<6|yt[Nt++]&63,dr--;if(dr>1){Vt[Kt++]=65533;continue}yr<65536?Vt[Kt++]=yr:(yr-=65536,Vt[Kt++]=55296|yr>>10&1023,Vt[Kt++]=56320|yr&1023)}return Rl(Vt,Kt)},Ll=(yt,zt)=>{zt=zt||yt.length,zt>yt.length&&(zt=yt.length);let bt=zt-1;for(;bt>=0&&(yt[bt]&192)===128;)bt--;return bt<0||bt===0?zt:bt+Xn[yt[bt]]>zt?bt:zt},Yn={string2buf:Ol,buf2string:Pl,utf8border:Ll};function Dl(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Ws=Dl;const js=Object.prototype.toString,{Z_NO_FLUSH:Il,Z_SYNC_FLUSH:zl,Z_FULL_FLUSH:Bl,Z_FINISH:Fl,Z_OK:as,Z_STREAM_END:Ul,Z_DEFAULT_COMPRESSION:Nl,Z_DEFAULT_STRATEGY:Wl,Z_DEFLATED:$l}=or;function Zn(yt){this.options=os.assign({level:Nl,method:$l,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wl},yt||{});let zt=this.options;zt.raw&&zt.windowBits>0?zt.windowBits=-zt.windowBits:zt.gzip&&zt.windowBits>0&&zt.windowBits<16&&(zt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ws,this.strm.avail_out=0;let bt=Kn.deflateInit2(this.strm,zt.level,zt.method,zt.windowBits,zt.memLevel,zt.strategy);if(bt!==as)throw new Error(ur[bt]);if(zt.header&&Kn.deflateSetHeader(this.strm,zt.header),zt.dictionary){let Nt;if(typeof zt.dictionary=="string"?Nt=Yn.string2buf(zt.dictionary):js.call(zt.dictionary)==="[object ArrayBuffer]"?Nt=new Uint8Array(zt.dictionary):Nt=zt.dictionary,bt=Kn.deflateSetDictionary(this.strm,Nt),bt!==as)throw new Error(ur[bt]);this._dict_set=!0}}Zn.prototype.push=function(yt,zt){const bt=this.strm,Nt=this.options.chunkSize;let Kt,Vt;if(this.ended)return!1;for(zt===~~zt?Vt=zt:Vt=zt===!0?Fl:Il,typeof yt=="string"?bt.input=Yn.string2buf(yt):js.call(yt)==="[object ArrayBuffer]"?bt.input=new Uint8Array(yt):bt.input=yt,bt.next_in=0,bt.avail_in=bt.input.length;;){if(bt.avail_out===0&&(bt.output=new Uint8Array(Nt),bt.next_out=0,bt.avail_out=Nt),(Vt===zl||Vt===Bl)&&bt.avail_out<=6){this.onData(bt.output.subarray(0,bt.next_out)),bt.avail_out=0;continue}if(Kt=Kn.deflate(bt,Vt),Kt===Ul)return bt.next_out>0&&this.onData(bt.output.subarray(0,bt.next_out)),Kt=Kn.deflateEnd(this.strm),this.onEnd(Kt),this.ended=!0,Kt===as;if(bt.avail_out===0){this.onData(bt.output);continue}if(Vt>0&&bt.next_out>0){this.onData(bt.output.subarray(0,bt.next_out)),bt.avail_out=0;continue}if(bt.avail_in===0)break}return!0},Zn.prototype.onData=function(yt){this.chunks.push(yt)},Zn.prototype.onEnd=function(yt){yt===as&&(this.result=os.flattenChunks(this.chunks)),this.chunks=[],this.err=yt,this.msg=this.strm.msg};function ws(yt,zt){const bt=new Zn(zt);if(bt.push(yt,!0),bt.err)throw bt.msg||ur[bt.err];return bt.result}function Gl(yt,zt){return zt=zt||{},zt.raw=!0,ws(yt,zt)}function Vl(yt,zt){return zt=zt||{},zt.gzip=!0,ws(yt,zt)}var Hl=Zn,Kl=ws,Xl=Gl,Yl=Vl,Zl=or,Ql={Deflate:Hl,deflate:Kl,deflateRaw:Xl,gzip:Yl,constants:Zl};const ls=16209,Jl=16191;var eu=function(zt,bt){let Nt,Kt,Vt,yr,dr,Ur,ir,xr,qr,Fr,Rr,Nr,cn,Qr,Vr,rn,Xr,kr,tn,hn,Wr,on,Jr,$r;const Zr=zt.state;Nt=zt.next_in,Jr=zt.input,Kt=Nt+(zt.avail_in-5),Vt=zt.next_out,$r=zt.output,yr=Vt-(bt-zt.avail_out),dr=Vt+(zt.avail_out-257),Ur=Zr.dmax,ir=Zr.wsize,xr=Zr.whave,qr=Zr.wnext,Fr=Zr.window,Rr=Zr.hold,Nr=Zr.bits,cn=Zr.lencode,Qr=Zr.distcode,Vr=(1<<Zr.lenbits)-1,rn=(1<<Zr.distbits)-1;e:do{Nr<15&&(Rr+=Jr[Nt++]<<Nr,Nr+=8,Rr+=Jr[Nt++]<<Nr,Nr+=8),Xr=cn[Rr&Vr];t:for(;;){if(kr=Xr>>>24,Rr>>>=kr,Nr-=kr,kr=Xr>>>16&255,kr===0)$r[Vt++]=Xr&65535;else if(kr&16){tn=Xr&65535,kr&=15,kr&&(Nr<kr&&(Rr+=Jr[Nt++]<<Nr,Nr+=8),tn+=Rr&(1<<kr)-1,Rr>>>=kr,Nr-=kr),Nr<15&&(Rr+=Jr[Nt++]<<Nr,Nr+=8,Rr+=Jr[Nt++]<<Nr,Nr+=8),Xr=Qr[Rr&rn];r:for(;;){if(kr=Xr>>>24,Rr>>>=kr,Nr-=kr,kr=Xr>>>16&255,kr&16){if(hn=Xr&65535,kr&=15,Nr<kr&&(Rr+=Jr[Nt++]<<Nr,Nr+=8,Nr<kr&&(Rr+=Jr[Nt++]<<Nr,Nr+=8)),hn+=Rr&(1<<kr)-1,hn>Ur){zt.msg="invalid distance too far back",Zr.mode=ls;break e}if(Rr>>>=kr,Nr-=kr,kr=Vt-yr,hn>kr){if(kr=hn-kr,kr>xr&&Zr.sane){zt.msg="invalid distance too far back",Zr.mode=ls;break e}if(Wr=0,on=Fr,qr===0){if(Wr+=ir-kr,kr<tn){tn-=kr;do $r[Vt++]=Fr[Wr++];while(--kr);Wr=Vt-hn,on=$r}}else if(qr<kr){if(Wr+=ir+qr-kr,kr-=qr,kr<tn){tn-=kr;do $r[Vt++]=Fr[Wr++];while(--kr);if(Wr=0,qr<tn){kr=qr,tn-=kr;do $r[Vt++]=Fr[Wr++];while(--kr);Wr=Vt-hn,on=$r}}}else if(Wr+=qr-kr,kr<tn){tn-=kr;do $r[Vt++]=Fr[Wr++];while(--kr);Wr=Vt-hn,on=$r}for(;tn>2;)$r[Vt++]=on[Wr++],$r[Vt++]=on[Wr++],$r[Vt++]=on[Wr++],tn-=3;tn&&($r[Vt++]=on[Wr++],tn>1&&($r[Vt++]=on[Wr++]))}else{Wr=Vt-hn;do $r[Vt++]=$r[Wr++],$r[Vt++]=$r[Wr++],$r[Vt++]=$r[Wr++],tn-=3;while(tn>2);tn&&($r[Vt++]=$r[Wr++],tn>1&&($r[Vt++]=$r[Wr++]))}}else if(kr&64){zt.msg="invalid distance code",Zr.mode=ls;break e}else{Xr=Qr[(Xr&65535)+(Rr&(1<<kr)-1)];continue r}break}}else if(kr&64)if(kr&32){Zr.mode=Jl;break e}else{zt.msg="invalid literal/length code",Zr.mode=ls;break e}else{Xr=cn[(Xr&65535)+(Rr&(1<<kr)-1)];continue t}break}}while(Nt<Kt&&Vt<dr);tn=Nr>>3,Nt-=tn,Nr-=tn<<3,Rr&=(1<<Nr)-1,zt.next_in=Nt,zt.next_out=Vt,zt.avail_in=Nt<Kt?5+(Kt-Nt):5-(Nt-Kt),zt.avail_out=Vt<dr?257+(dr-Vt):257-(Vt-dr),Zr.hold=Rr,Zr.bits=Nr};const jn=15,$s=852,Gs=592,Vs=0,Ss=1,Hs=2,tu=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ru=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nu=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iu=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Qn=(yt,zt,bt,Nt,Kt,Vt,yr,dr)=>{const Ur=dr.bits;let ir=0,xr=0,qr=0,Fr=0,Rr=0,Nr=0,cn=0,Qr=0,Vr=0,rn=0,Xr,kr,tn,hn,Wr,on=null,Jr;const $r=new Uint16Array(jn+1),Zr=new Uint16Array(jn+1);let Bn=null,Wo,ps,gs;for(ir=0;ir<=jn;ir++)$r[ir]=0;for(xr=0;xr<Nt;xr++)$r[zt[bt+xr]]++;for(Rr=Ur,Fr=jn;Fr>=1&&$r[Fr]===0;Fr--);if(Rr>Fr&&(Rr=Fr),Fr===0)return Kt[Vt++]=1<<24|64<<16|0,Kt[Vt++]=1<<24|64<<16|0,dr.bits=1,0;for(qr=1;qr<Fr&&$r[qr]===0;qr++);for(Rr<qr&&(Rr=qr),Qr=1,ir=1;ir<=jn;ir++)if(Qr<<=1,Qr-=$r[ir],Qr<0)return-1;if(Qr>0&&(yt===Vs||Fr!==1))return-1;for(Zr[1]=0,ir=1;ir<jn;ir++)Zr[ir+1]=Zr[ir]+$r[ir];for(xr=0;xr<Nt;xr++)zt[bt+xr]!==0&&(yr[Zr[zt[bt+xr]]++]=xr);if(yt===Vs?(on=Bn=yr,Jr=20):yt===Ss?(on=tu,Bn=ru,Jr=257):(on=nu,Bn=iu,Jr=0),rn=0,xr=0,ir=qr,Wr=Vt,Nr=Rr,cn=0,tn=-1,Vr=1<<Rr,hn=Vr-1,yt===Ss&&Vr>$s||yt===Hs&&Vr>Gs)return 1;for(;;){Wo=ir-cn,yr[xr]+1<Jr?(ps=0,gs=yr[xr]):yr[xr]>=Jr?(ps=Bn[yr[xr]-Jr],gs=on[yr[xr]-Jr]):(ps=96,gs=0),Xr=1<<ir-cn,kr=1<<Nr,qr=kr;do kr-=Xr,Kt[Wr+(rn>>cn)+kr]=Wo<<24|ps<<16|gs|0;while(kr!==0);for(Xr=1<<ir-1;rn&Xr;)Xr>>=1;if(Xr!==0?(rn&=Xr-1,rn+=Xr):rn=0,xr++,--$r[ir]===0){if(ir===Fr)break;ir=zt[bt+yr[xr]]}if(ir>Rr&&(rn&hn)!==tn){for(cn===0&&(cn=Rr),Wr+=qr,Nr=ir-cn,Qr=1<<Nr;Nr+cn<Fr&&(Qr-=$r[Nr+cn],!(Qr<=0));)Nr++,Qr<<=1;if(Vr+=1<<Nr,yt===Ss&&Vr>$s||yt===Hs&&Vr>Gs)return 1;tn=rn&hn,Kt[tn]=Rr<<24|Nr<<16|Wr-Vt|0}}return rn!==0&&(Kt[Wr+rn]=ir-cn<<24|64<<16|0),dr.bits=Rr,0};const su=0,Ks=1,Xs=2,{Z_FINISH:Ys,Z_BLOCK:ou,Z_TREES:us,Z_OK:In,Z_STREAM_END:au,Z_NEED_DICT:lu,Z_STREAM_ERROR:xn,Z_DATA_ERROR:Zs,Z_MEM_ERROR:Qs,Z_BUF_ERROR:uu,Z_DEFLATED:Js}=or,cs=16180,qs=16181,eo=16182,to=16183,ro=16184,no=16185,io=16186,so=16187,oo=16188,ao=16189,ds=16190,wn=16191,Ts=16192,lo=16193,Ms=16194,uo=16195,co=16196,fo=16197,ho=16198,fs=16199,hs=16200,po=16201,go=16202,mo=16203,vo=16204,yo=16205,As=16206,xo=16207,_o=16208,un=16209,bo=16210,Eo=16211,cu=852,du=592,fu=15,Co=yt=>(yt>>>24&255)+(yt>>>8&65280)+((yt&65280)<<8)+((yt&255)<<24);function hu(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zn=yt=>{if(!yt)return 1;const zt=yt.state;return!zt||zt.strm!==yt||zt.mode<cs||zt.mode>Eo?1:0},wo=yt=>{if(zn(yt))return xn;const zt=yt.state;return yt.total_in=yt.total_out=zt.total=0,yt.msg="",zt.wrap&&(yt.adler=zt.wrap&1),zt.mode=cs,zt.last=0,zt.havedict=0,zt.flags=-1,zt.dmax=32768,zt.head=null,zt.hold=0,zt.bits=0,zt.lencode=zt.lendyn=new Int32Array(cu),zt.distcode=zt.distdyn=new Int32Array(du),zt.sane=1,zt.back=-1,In},So=yt=>{if(zn(yt))return xn;const zt=yt.state;return zt.wsize=0,zt.whave=0,zt.wnext=0,wo(yt)},To=(yt,zt)=>{let bt;if(zn(yt))return xn;const Nt=yt.state;return zt<0?(bt=0,zt=-zt):(bt=(zt>>4)+5,zt<48&&(zt&=15)),zt&&(zt<8||zt>15)?xn:(Nt.window!==null&&Nt.wbits!==zt&&(Nt.window=null),Nt.wrap=bt,Nt.wbits=zt,So(yt))},Mo=(yt,zt)=>{if(!yt)return xn;const bt=new hu;yt.state=bt,bt.strm=yt,bt.window=null,bt.mode=cs;const Nt=To(yt,zt);return Nt!==In&&(yt.state=null),Nt},pu=yt=>Mo(yt,fu);let Ao=!0,Os,Rs;const gu=yt=>{if(Ao){Os=new Int32Array(512),Rs=new Int32Array(32);let zt=0;for(;zt<144;)yt.lens[zt++]=8;for(;zt<256;)yt.lens[zt++]=9;for(;zt<280;)yt.lens[zt++]=7;for(;zt<288;)yt.lens[zt++]=8;for(Qn(Ks,yt.lens,0,288,Os,0,yt.work,{bits:9}),zt=0;zt<32;)yt.lens[zt++]=5;Qn(Xs,yt.lens,0,32,Rs,0,yt.work,{bits:5}),Ao=!1}yt.lencode=Os,yt.lenbits=9,yt.distcode=Rs,yt.distbits=5},Oo=(yt,zt,bt,Nt)=>{let Kt;const Vt=yt.state;return Vt.window===null&&(Vt.wsize=1<<Vt.wbits,Vt.wnext=0,Vt.whave=0,Vt.window=new Uint8Array(Vt.wsize)),Nt>=Vt.wsize?(Vt.window.set(zt.subarray(bt-Vt.wsize,bt),0),Vt.wnext=0,Vt.whave=Vt.wsize):(Kt=Vt.wsize-Vt.wnext,Kt>Nt&&(Kt=Nt),Vt.window.set(zt.subarray(bt-Nt,bt-Nt+Kt),Vt.wnext),Nt-=Kt,Nt?(Vt.window.set(zt.subarray(bt-Nt,bt),0),Vt.wnext=Nt,Vt.whave=Vt.wsize):(Vt.wnext+=Kt,Vt.wnext===Vt.wsize&&(Vt.wnext=0),Vt.whave<Vt.wsize&&(Vt.whave+=Kt))),0},mu=(yt,zt)=>{let bt,Nt,Kt,Vt,yr,dr,Ur,ir,xr,qr,Fr,Rr,Nr,cn,Qr=0,Vr,rn,Xr,kr,tn,hn,Wr,on;const Jr=new Uint8Array(4);let $r,Zr;const Bn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zn(yt)||!yt.output||!yt.input&&yt.avail_in!==0)return xn;bt=yt.state,bt.mode===wn&&(bt.mode=Ts),yr=yt.next_out,Kt=yt.output,Ur=yt.avail_out,Vt=yt.next_in,Nt=yt.input,dr=yt.avail_in,ir=bt.hold,xr=bt.bits,qr=dr,Fr=Ur,on=In;e:for(;;)switch(bt.mode){case cs:if(bt.wrap===0){bt.mode=Ts;break}for(;xr<16;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}if(bt.wrap&2&&ir===35615){bt.wbits===0&&(bt.wbits=15),bt.check=0,Jr[0]=ir&255,Jr[1]=ir>>>8&255,bt.check=Tt(bt.check,Jr,2,0),ir=0,xr=0,bt.mode=qs;break}if(bt.head&&(bt.head.done=!1),!(bt.wrap&1)||(((ir&255)<<8)+(ir>>8))%31){yt.msg="incorrect header check",bt.mode=un;break}if((ir&15)!==Js){yt.msg="unknown compression method",bt.mode=un;break}if(ir>>>=4,xr-=4,Wr=(ir&15)+8,bt.wbits===0&&(bt.wbits=Wr),Wr>15||Wr>bt.wbits){yt.msg="invalid window size",bt.mode=un;break}bt.dmax=1<<bt.wbits,bt.flags=0,yt.adler=bt.check=1,bt.mode=ir&512?ao:wn,ir=0,xr=0;break;case qs:for(;xr<16;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}if(bt.flags=ir,(bt.flags&255)!==Js){yt.msg="unknown compression method",bt.mode=un;break}if(bt.flags&57344){yt.msg="unknown header flags set",bt.mode=un;break}bt.head&&(bt.head.text=ir>>8&1),bt.flags&512&&bt.wrap&4&&(Jr[0]=ir&255,Jr[1]=ir>>>8&255,bt.check=Tt(bt.check,Jr,2,0)),ir=0,xr=0,bt.mode=eo;case eo:for(;xr<32;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}bt.head&&(bt.head.time=ir),bt.flags&512&&bt.wrap&4&&(Jr[0]=ir&255,Jr[1]=ir>>>8&255,Jr[2]=ir>>>16&255,Jr[3]=ir>>>24&255,bt.check=Tt(bt.check,Jr,4,0)),ir=0,xr=0,bt.mode=to;case to:for(;xr<16;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}bt.head&&(bt.head.xflags=ir&255,bt.head.os=ir>>8),bt.flags&512&&bt.wrap&4&&(Jr[0]=ir&255,Jr[1]=ir>>>8&255,bt.check=Tt(bt.check,Jr,2,0)),ir=0,xr=0,bt.mode=ro;case ro:if(bt.flags&1024){for(;xr<16;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}bt.length=ir,bt.head&&(bt.head.extra_len=ir),bt.flags&512&&bt.wrap&4&&(Jr[0]=ir&255,Jr[1]=ir>>>8&255,bt.check=Tt(bt.check,Jr,2,0)),ir=0,xr=0}else bt.head&&(bt.head.extra=null);bt.mode=no;case no:if(bt.flags&1024&&(Rr=bt.length,Rr>dr&&(Rr=dr),Rr&&(bt.head&&(Wr=bt.head.extra_len-bt.length,bt.head.extra||(bt.head.extra=new Uint8Array(bt.head.extra_len)),bt.head.extra.set(Nt.subarray(Vt,Vt+Rr),Wr)),bt.flags&512&&bt.wrap&4&&(bt.check=Tt(bt.check,Nt,Rr,Vt)),dr-=Rr,Vt+=Rr,bt.length-=Rr),bt.length))break e;bt.length=0,bt.mode=io;case io:if(bt.flags&2048){if(dr===0)break e;Rr=0;do Wr=Nt[Vt+Rr++],bt.head&&Wr&&bt.length<65536&&(bt.head.name+=String.fromCharCode(Wr));while(Wr&&Rr<dr);if(bt.flags&512&&bt.wrap&4&&(bt.check=Tt(bt.check,Nt,Rr,Vt)),dr-=Rr,Vt+=Rr,Wr)break e}else bt.head&&(bt.head.name=null);bt.length=0,bt.mode=so;case so:if(bt.flags&4096){if(dr===0)break e;Rr=0;do Wr=Nt[Vt+Rr++],bt.head&&Wr&&bt.length<65536&&(bt.head.comment+=String.fromCharCode(Wr));while(Wr&&Rr<dr);if(bt.flags&512&&bt.wrap&4&&(bt.check=Tt(bt.check,Nt,Rr,Vt)),dr-=Rr,Vt+=Rr,Wr)break e}else bt.head&&(bt.head.comment=null);bt.mode=oo;case oo:if(bt.flags&512){for(;xr<16;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}if(bt.wrap&4&&ir!==(bt.check&65535)){yt.msg="header crc mismatch",bt.mode=un;break}ir=0,xr=0}bt.head&&(bt.head.hcrc=bt.flags>>9&1,bt.head.done=!0),yt.adler=bt.check=0,bt.mode=wn;break;case ao:for(;xr<32;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}yt.adler=bt.check=Co(ir),ir=0,xr=0,bt.mode=ds;case ds:if(bt.havedict===0)return yt.next_out=yr,yt.avail_out=Ur,yt.next_in=Vt,yt.avail_in=dr,bt.hold=ir,bt.bits=xr,lu;yt.adler=bt.check=1,bt.mode=wn;case wn:if(zt===ou||zt===us)break e;case Ts:if(bt.last){ir>>>=xr&7,xr-=xr&7,bt.mode=As;break}for(;xr<3;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}switch(bt.last=ir&1,ir>>>=1,xr-=1,ir&3){case 0:bt.mode=lo;break;case 1:if(gu(bt),bt.mode=fs,zt===us){ir>>>=2,xr-=2;break e}break;case 2:bt.mode=co;break;case 3:yt.msg="invalid block type",bt.mode=un}ir>>>=2,xr-=2;break;case lo:for(ir>>>=xr&7,xr-=xr&7;xr<32;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}if((ir&65535)!==(ir>>>16^65535)){yt.msg="invalid stored block lengths",bt.mode=un;break}if(bt.length=ir&65535,ir=0,xr=0,bt.mode=Ms,zt===us)break e;case Ms:bt.mode=uo;case uo:if(Rr=bt.length,Rr){if(Rr>dr&&(Rr=dr),Rr>Ur&&(Rr=Ur),Rr===0)break e;Kt.set(Nt.subarray(Vt,Vt+Rr),yr),dr-=Rr,Vt+=Rr,Ur-=Rr,yr+=Rr,bt.length-=Rr;break}bt.mode=wn;break;case co:for(;xr<14;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}if(bt.nlen=(ir&31)+257,ir>>>=5,xr-=5,bt.ndist=(ir&31)+1,ir>>>=5,xr-=5,bt.ncode=(ir&15)+4,ir>>>=4,xr-=4,bt.nlen>286||bt.ndist>30){yt.msg="too many length or distance symbols",bt.mode=un;break}bt.have=0,bt.mode=fo;case fo:for(;bt.have<bt.ncode;){for(;xr<3;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}bt.lens[Bn[bt.have++]]=ir&7,ir>>>=3,xr-=3}for(;bt.have<19;)bt.lens[Bn[bt.have++]]=0;if(bt.lencode=bt.lendyn,bt.lenbits=7,$r={bits:bt.lenbits},on=Qn(su,bt.lens,0,19,bt.lencode,0,bt.work,$r),bt.lenbits=$r.bits,on){yt.msg="invalid code lengths set",bt.mode=un;break}bt.have=0,bt.mode=ho;case ho:for(;bt.have<bt.nlen+bt.ndist;){for(;Qr=bt.lencode[ir&(1<<bt.lenbits)-1],Vr=Qr>>>24,rn=Qr>>>16&255,Xr=Qr&65535,!(Vr<=xr);){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}if(Xr<16)ir>>>=Vr,xr-=Vr,bt.lens[bt.have++]=Xr;else{if(Xr===16){for(Zr=Vr+2;xr<Zr;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}if(ir>>>=Vr,xr-=Vr,bt.have===0){yt.msg="invalid bit length repeat",bt.mode=un;break}Wr=bt.lens[bt.have-1],Rr=3+(ir&3),ir>>>=2,xr-=2}else if(Xr===17){for(Zr=Vr+3;xr<Zr;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}ir>>>=Vr,xr-=Vr,Wr=0,Rr=3+(ir&7),ir>>>=3,xr-=3}else{for(Zr=Vr+7;xr<Zr;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}ir>>>=Vr,xr-=Vr,Wr=0,Rr=11+(ir&127),ir>>>=7,xr-=7}if(bt.have+Rr>bt.nlen+bt.ndist){yt.msg="invalid bit length repeat",bt.mode=un;break}for(;Rr--;)bt.lens[bt.have++]=Wr}}if(bt.mode===un)break;if(bt.lens[256]===0){yt.msg="invalid code -- missing end-of-block",bt.mode=un;break}if(bt.lenbits=9,$r={bits:bt.lenbits},on=Qn(Ks,bt.lens,0,bt.nlen,bt.lencode,0,bt.work,$r),bt.lenbits=$r.bits,on){yt.msg="invalid literal/lengths set",bt.mode=un;break}if(bt.distbits=6,bt.distcode=bt.distdyn,$r={bits:bt.distbits},on=Qn(Xs,bt.lens,bt.nlen,bt.ndist,bt.distcode,0,bt.work,$r),bt.distbits=$r.bits,on){yt.msg="invalid distances set",bt.mode=un;break}if(bt.mode=fs,zt===us)break e;case fs:bt.mode=hs;case hs:if(dr>=6&&Ur>=258){yt.next_out=yr,yt.avail_out=Ur,yt.next_in=Vt,yt.avail_in=dr,bt.hold=ir,bt.bits=xr,eu(yt,Fr),yr=yt.next_out,Kt=yt.output,Ur=yt.avail_out,Vt=yt.next_in,Nt=yt.input,dr=yt.avail_in,ir=bt.hold,xr=bt.bits,bt.mode===wn&&(bt.back=-1);break}for(bt.back=0;Qr=bt.lencode[ir&(1<<bt.lenbits)-1],Vr=Qr>>>24,rn=Qr>>>16&255,Xr=Qr&65535,!(Vr<=xr);){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}if(rn&&!(rn&240)){for(kr=Vr,tn=rn,hn=Xr;Qr=bt.lencode[hn+((ir&(1<<kr+tn)-1)>>kr)],Vr=Qr>>>24,rn=Qr>>>16&255,Xr=Qr&65535,!(kr+Vr<=xr);){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}ir>>>=kr,xr-=kr,bt.back+=kr}if(ir>>>=Vr,xr-=Vr,bt.back+=Vr,bt.length=Xr,rn===0){bt.mode=yo;break}if(rn&32){bt.back=-1,bt.mode=wn;break}if(rn&64){yt.msg="invalid literal/length code",bt.mode=un;break}bt.extra=rn&15,bt.mode=po;case po:if(bt.extra){for(Zr=bt.extra;xr<Zr;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}bt.length+=ir&(1<<bt.extra)-1,ir>>>=bt.extra,xr-=bt.extra,bt.back+=bt.extra}bt.was=bt.length,bt.mode=go;case go:for(;Qr=bt.distcode[ir&(1<<bt.distbits)-1],Vr=Qr>>>24,rn=Qr>>>16&255,Xr=Qr&65535,!(Vr<=xr);){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}if(!(rn&240)){for(kr=Vr,tn=rn,hn=Xr;Qr=bt.distcode[hn+((ir&(1<<kr+tn)-1)>>kr)],Vr=Qr>>>24,rn=Qr>>>16&255,Xr=Qr&65535,!(kr+Vr<=xr);){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}ir>>>=kr,xr-=kr,bt.back+=kr}if(ir>>>=Vr,xr-=Vr,bt.back+=Vr,rn&64){yt.msg="invalid distance code",bt.mode=un;break}bt.offset=Xr,bt.extra=rn&15,bt.mode=mo;case mo:if(bt.extra){for(Zr=bt.extra;xr<Zr;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}bt.offset+=ir&(1<<bt.extra)-1,ir>>>=bt.extra,xr-=bt.extra,bt.back+=bt.extra}if(bt.offset>bt.dmax){yt.msg="invalid distance too far back",bt.mode=un;break}bt.mode=vo;case vo:if(Ur===0)break e;if(Rr=Fr-Ur,bt.offset>Rr){if(Rr=bt.offset-Rr,Rr>bt.whave&&bt.sane){yt.msg="invalid distance too far back",bt.mode=un;break}Rr>bt.wnext?(Rr-=bt.wnext,Nr=bt.wsize-Rr):Nr=bt.wnext-Rr,Rr>bt.length&&(Rr=bt.length),cn=bt.window}else cn=Kt,Nr=yr-bt.offset,Rr=bt.length;Rr>Ur&&(Rr=Ur),Ur-=Rr,bt.length-=Rr;do Kt[yr++]=cn[Nr++];while(--Rr);bt.length===0&&(bt.mode=hs);break;case yo:if(Ur===0)break e;Kt[yr++]=bt.length,Ur--,bt.mode=hs;break;case As:if(bt.wrap){for(;xr<32;){if(dr===0)break e;dr--,ir|=Nt[Vt++]<<xr,xr+=8}if(Fr-=Ur,yt.total_out+=Fr,bt.total+=Fr,bt.wrap&4&&Fr&&(yt.adler=bt.check=bt.flags?Tt(bt.check,Kt,Fr,yr-Fr):vr(bt.check,Kt,Fr,yr-Fr)),Fr=Ur,bt.wrap&4&&(bt.flags?ir:Co(ir))!==bt.check){yt.msg="incorrect data check",bt.mode=un;break}ir=0,xr=0}bt.mode=xo;case xo:if(bt.wrap&&bt.flags){for(;xr<32;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<xr,xr+=8}if(bt.wrap&4&&ir!==(bt.total&4294967295)){yt.msg="incorrect length check",bt.mode=un;break}ir=0,xr=0}bt.mode=_o;case _o:on=au;break e;case un:on=Zs;break e;case bo:return Qs;case Eo:default:return xn}return yt.next_out=yr,yt.avail_out=Ur,yt.next_in=Vt,yt.avail_in=dr,bt.hold=ir,bt.bits=xr,(bt.wsize||Fr!==yt.avail_out&&bt.mode<un&&(bt.mode<As||zt!==Ys))&&Oo(yt,yt.output,yt.next_out,Fr-yt.avail_out),qr-=yt.avail_in,Fr-=yt.avail_out,yt.total_in+=qr,yt.total_out+=Fr,bt.total+=Fr,bt.wrap&4&&Fr&&(yt.adler=bt.check=bt.flags?Tt(bt.check,Kt,Fr,yt.next_out-Fr):vr(bt.check,Kt,Fr,yt.next_out-Fr)),yt.data_type=bt.bits+(bt.last?64:0)+(bt.mode===wn?128:0)+(bt.mode===fs||bt.mode===Ms?256:0),(qr===0&&Fr===0||zt===Ys)&&on===In&&(on=uu),on},vu=yt=>{if(zn(yt))return xn;let zt=yt.state;return zt.window&&(zt.window=null),yt.state=null,In},yu=(yt,zt)=>{if(zn(yt))return xn;const bt=yt.state;return bt.wrap&2?(bt.head=zt,zt.done=!1,In):xn},xu=(yt,zt)=>{const bt=zt.length;let Nt,Kt,Vt;return zn(yt)||(Nt=yt.state,Nt.wrap!==0&&Nt.mode!==ds)?xn:Nt.mode===ds&&(Kt=1,Kt=vr(Kt,zt,bt,0),Kt!==Nt.check)?Zs:(Vt=Oo(yt,zt,bt,bt),Vt?(Nt.mode=bo,Qs):(Nt.havedict=1,In))};var _u=So,bu=To,Eu=wo,Cu=pu,wu=Mo,Su=mu,Tu=vu,Mu=yu,Au=xu,Ou="pako inflate (from Nodeca project)",Sn={inflateReset:_u,inflateReset2:bu,inflateResetKeep:Eu,inflateInit:Cu,inflateInit2:wu,inflate:Su,inflateEnd:Tu,inflateGetHeader:Mu,inflateSetDictionary:Au,inflateInfo:Ou};function Ru(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Pu=Ru;const Ro=Object.prototype.toString,{Z_NO_FLUSH:Lu,Z_FINISH:Du,Z_OK:Jn,Z_STREAM_END:Ps,Z_NEED_DICT:Ls,Z_STREAM_ERROR:Iu,Z_DATA_ERROR:Po,Z_MEM_ERROR:zu}=or;function qn(yt){this.options=os.assign({chunkSize:65536,windowBits:15,to:""},yt||{});const zt=this.options;zt.raw&&zt.windowBits>=0&&zt.windowBits<16&&(zt.windowBits=-zt.windowBits,zt.windowBits===0&&(zt.windowBits=-15)),zt.windowBits>=0&&zt.windowBits<16&&!(yt&&yt.windowBits)&&(zt.windowBits+=32),zt.windowBits>15&&zt.windowBits<48&&(zt.windowBits&15||(zt.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ws,this.strm.avail_out=0;let bt=Sn.inflateInit2(this.strm,zt.windowBits);if(bt!==Jn)throw new Error(ur[bt]);if(this.header=new Pu,Sn.inflateGetHeader(this.strm,this.header),zt.dictionary&&(typeof zt.dictionary=="string"?zt.dictionary=Yn.string2buf(zt.dictionary):Ro.call(zt.dictionary)==="[object ArrayBuffer]"&&(zt.dictionary=new Uint8Array(zt.dictionary)),zt.raw&&(bt=Sn.inflateSetDictionary(this.strm,zt.dictionary),bt!==Jn)))throw new Error(ur[bt])}qn.prototype.push=function(yt,zt){const bt=this.strm,Nt=this.options.chunkSize,Kt=this.options.dictionary;let Vt,yr,dr;if(this.ended)return!1;for(zt===~~zt?yr=zt:yr=zt===!0?Du:Lu,Ro.call(yt)==="[object ArrayBuffer]"?bt.input=new Uint8Array(yt):bt.input=yt,bt.next_in=0,bt.avail_in=bt.input.length;;){for(bt.avail_out===0&&(bt.output=new Uint8Array(Nt),bt.next_out=0,bt.avail_out=Nt),Vt=Sn.inflate(bt,yr),Vt===Ls&&Kt&&(Vt=Sn.inflateSetDictionary(bt,Kt),Vt===Jn?Vt=Sn.inflate(bt,yr):Vt===Po&&(Vt=Ls));bt.avail_in>0&&Vt===Ps&&bt.state.wrap>0&&yt[bt.next_in]!==0;)Sn.inflateReset(bt),Vt=Sn.inflate(bt,yr);switch(Vt){case Iu:case Po:case Ls:case zu:return this.onEnd(Vt),this.ended=!0,!1}if(dr=bt.avail_out,bt.next_out&&(bt.avail_out===0||Vt===Ps))if(this.options.to==="string"){let Ur=Yn.utf8border(bt.output,bt.next_out),ir=bt.next_out-Ur,xr=Yn.buf2string(bt.output,Ur);bt.next_out=ir,bt.avail_out=Nt-ir,ir&&bt.output.set(bt.output.subarray(Ur,Ur+ir),0),this.onData(xr)}else this.onData(bt.output.length===bt.next_out?bt.output:bt.output.subarray(0,bt.next_out));if(!(Vt===Jn&&dr===0)){if(Vt===Ps)return Vt=Sn.inflateEnd(this.strm),this.onEnd(Vt),this.ended=!0,!0;if(bt.avail_in===0)break}}return!0},qn.prototype.onData=function(yt){this.chunks.push(yt)},qn.prototype.onEnd=function(yt){yt===Jn&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=os.flattenChunks(this.chunks)),this.chunks=[],this.err=yt,this.msg=this.strm.msg};function Ds(yt,zt){const bt=new qn(zt);if(bt.push(yt),bt.err)throw bt.msg||ur[bt.err];return bt.result}function Bu(yt,zt){return zt=zt||{},zt.raw=!0,Ds(yt,zt)}var ku=qn,Fu=Ds,Uu=Bu,Nu=Ds,Wu=or,ju={Inflate:ku,inflate:Fu,inflateRaw:Uu,ungzip:Nu,constants:Wu};const{Deflate:$u,deflate:Gu,deflateRaw:Vu,gzip:Hu}=Ql,{Inflate:Ku,inflate:Xu,inflateRaw:Yu,ungzip:Zu}=ju;var Lo=$u,Do=Gu,Io=Vu,zo=Hu,Bo=Ku,ko=Xu,Fo=Yu,Uo=Zu,No=or,Qu={Deflate:Lo,deflate:Do,deflateRaw:Io,gzip:zo,Inflate:Bo,inflate:ko,inflateRaw:Fo,ungzip:Uo,constants:No}}},__webpack_module_cache__={};function __webpack_require__(i){var s=__webpack_module_cache__[i];if(s!==void 0)return s.exports;var o=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i].call(o.exports,o,o.exports,__webpack_require__),o.exports}__webpack_require__.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return __webpack_require__.d(s,{a:s}),s},__webpack_require__.d=(i,s)=>{for(var o in s)__webpack_require__.o(s,o)&&!__webpack_require__.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},__webpack_require__.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),__webpack_require__.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},__webpack_require__("./src/index.ts"),__webpack_require__("./src/SurfaceWorker.js");var __webpack_exports__=__webpack_require__("./src/exporter.js");return __webpack_exports__})())})(_3Dmol);var _3DmolExports=_3Dmol.exports;function Molecule3D(i){const s=reactExports.useRef(null);return reactExports.useEffect(()=>{if(s.current){const _=s.current.children;if(_.length!=0)for(let $=0;$<_.length;$++)_[$].remove()}const o=_3DmolExports.createViewer(s.current,{backgroundColor:i.color}),a=o.addModel(i.moleculedata,"xyz");i.style=="Stick"?o.setStyle({},{stick:{color:"spectrum"}}):i.style=="Sphere"&&o.setStyle({},{sphere:{color:"spectrum",radius:1}}),o.addUnitCell(a,{box:{color:"purple"},alabel:"X",blabel:"Y",clabel:"Z"}),o.zoomTo(),o.render()}),jsxRuntimeExports.jsx("div",{ref:s,style:{height:"100%",width:"100%",position:"relative"}})}const common={black:"#000",white:"#fff"},red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function formatMuiErrorMessage(i){let s="https://mui.com/production-error/?code="+i;for(let o=1;o<arguments.length;o+=1)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified MUI error #"+i+"; visit "+s+" for the full message."}const THEME_ID="$$material";function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)({}).hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends.apply(null,arguments)}function memoize$1(i){var s=Object.create(null);return function(o){return s[o]===void 0&&(s[o]=i(o)),s[o]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),isDevelopment$2=!1;function sheetForTag(i){if(i.sheet)return i.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===i)return document.styleSheets[s]}function createStyleElement(i){var s=document.createElement("style");return s.setAttribute("data-emotion",i.key),i.nonce!==void 0&&s.setAttribute("nonce",i.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var StyleSheet=function(){function i(o){var a=this;this._insertTag=function(_){var $;a.tags.length===0?a.insertionPoint?$=a.insertionPoint.nextSibling:a.prepend?$=a.container.firstChild:$=a.before:$=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(_,$),a.tags.push(_)},this.isSpeedy=o.speedy===void 0?!isDevelopment$2:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var s=i.prototype;return s.hydrate=function(a){a.forEach(this._insertTag)},s.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var _=this.tags[this.tags.length-1];if(this.isSpeedy){var $=sheetForTag(_);try{$.insertRule(a,$.cssRules.length)}catch{}}else _.appendChild(document.createTextNode(a));this.ctr++},s.flush=function(){this.tags.forEach(function(a){var _;return(_=a.parentNode)==null?void 0:_.removeChild(a)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$2(i,s){return charat(i,0)^45?(((s<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match(i,s){return(i=s.exec(i))?i[0]:i}function replace(i,s,o){return i.replace(s,o)}function indexof(i,s){return i.indexOf(s)}function charat(i,s){return i.charCodeAt(s)|0}function substr(i,s,o){return i.slice(s,o)}function strlen(i){return i.length}function sizeof(i){return i.length}function append(i,s){return s.push(i),i}function combine(i,s){return i.map(s).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(i,s,o,a,_,$,nt){return{value:i,root:s,parent:o,type:a,props:_,children:$,line,column,length:nt,return:""}}function copy(i,s){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},s)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(i,s){return substr(characters,i,s)}function token(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length=strlen(characters=i),position=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek())&&character<33;)next();return token(i)>2||token(character)>3?"":" "}function escaping(i,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+(s<6&&peek()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position}function commenter(i,s){for(;next()&&i+character!==57;)if(i+character===84&&peek()===47)break;return"/*"+slice(s,position-1)+"*"+from(i===47?i:next())}function identifier(i){for(;!token(peek());)next();return slice(i,position)}function compile(i){return dealloc(parse("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse(i,s,o,a,_,$,nt,tt,ot){for(var pt=0,ut=0,mt=nt,vt=0,ht=0,gt=0,rt=1,j=1,_e=1,it=0,st="",lt=_,et=$,at=a,ft=st;j;)switch(gt=it,it=next()){case 40:if(gt!=108&&charat(ft,mt-1)==58){indexof(ft+=replace(delimit(it),"&","&\f"),"&\f")!=-1&&(_e=-1);break}case 34:case 39:case 91:ft+=delimit(it);break;case 9:case 10:case 13:case 32:ft+=whitespace(gt);break;case 92:ft+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),s,o),ot);break;default:ft+="/"}break;case 123*rt:tt[pt++]=strlen(ft)*_e;case 125*rt:case 59:case 0:switch(it){case 0:case 125:j=0;case 59+ut:_e==-1&&(ft=replace(ft,/\f/g,"")),ht>0&&strlen(ft)-mt&&append(ht>32?declaration(ft+";",a,o,mt-1):declaration(replace(ft," ","")+";",a,o,mt-2),ot);break;case 59:ft+=";";default:if(append(at=ruleset(ft,s,o,pt,ut,_,tt,st,lt=[],et=[],mt),$),it===123)if(ut===0)parse(ft,s,at,at,lt,$,mt,tt,et);else switch(vt===99&&charat(ft,3)===110?100:vt){case 100:case 108:case 109:case 115:parse(i,at,at,a&&append(ruleset(i,at,at,0,0,_,tt,st,_,lt=[],mt),et),_,et,mt,tt,a?lt:et);break;default:parse(ft,at,at,at,[""],et,0,tt,et)}}pt=ut=ht=0,rt=_e=1,st=ft="",mt=nt;break;case 58:mt=1+strlen(ft),ht=gt;default:if(rt<1){if(it==123)--rt;else if(it==125&&rt++==0&&prev()==125)continue}switch(ft+=from(it),it*rt){case 38:_e=ut>0?1:(ft+="\f",-1);break;case 44:tt[pt++]=(strlen(ft)-1)*_e,_e=1;break;case 64:peek()===45&&(ft+=delimit(next())),vt=peek(),ut=mt=strlen(st=ft+=identifier(caret())),it++;break;case 45:gt===45&&strlen(ft)==2&&(rt=0)}}return $}function ruleset(i,s,o,a,_,$,nt,tt,ot,pt,ut){for(var mt=_-1,vt=_===0?$:[""],ht=sizeof(vt),gt=0,rt=0,j=0;gt<a;++gt)for(var _e=0,it=substr(i,mt+1,mt=abs(rt=nt[gt])),st=i;_e<ht;++_e)(st=trim(rt>0?vt[_e]+" "+it:replace(it,/&\f/g,vt[_e])))&&(ot[j++]=st);return node(i,s,o,_===0?RULESET:tt,ot,pt,ut)}function comment(i,s,o){return node(i,s,o,COMMENT,from(char()),substr(i,2,-2),0)}function declaration(i,s,o,a){return node(i,s,o,DECLARATION,substr(i,0,a),substr(i,a+1,-1),a)}function serialize(i,s){for(var o="",a=sizeof(i),_=0;_<a;_++)o+=s(i[_],_,i,s)||"";return o}function stringify(i,s,o,a){switch(i.type){case LAYER:if(i.children.length)break;case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize(i.children,a)+"}";case RULESET:i.value=i.props.join(",")}return strlen(o=serialize(i.children,a))?i.return=i.value+"{"+o+"}":""}function middleware(i){var s=sizeof(i);return function(o,a,_,$){for(var nt="",tt=0;tt<s;tt++)nt+=i[tt](o,a,_,$)||"";return nt}}function rulesheet(i){return function(s){s.root||(s=s.return)&&i(s)}}var identifierWithPointTracking=function i(s,o,a){for(var _=0,$=0;_=$,$=peek(),_===38&&$===12&&(o[a]=1),!token($);)next();return slice(s,position)},toRules=function i(s,o){var a=-1,_=44;do switch(token(_)){case 0:_===38&&peek()===12&&(o[a]=1),s[a]+=identifierWithPointTracking(position-1,o,a);break;case 2:s[a]+=delimit(_);break;case 4:if(_===44){s[++a]=peek()===58?"&\f":"",o[a]=s[a].length;break}default:s[a]+=from(_)}while(_=next());return s},getRules=function i(s,o){return dealloc(toRules(alloc(s),o))},fixedElements=new WeakMap,compat=function i(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var o=s.value,a=s.parent,_=s.column===a.column&&s.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(s.props.length===1&&o.charCodeAt(0)!==58&&!fixedElements.get(a))&&!_){fixedElements.set(s,!0);for(var $=[],nt=getRules(o,$),tt=a.props,ot=0,pt=0;ot<nt.length;ot++)for(var ut=0;ut<tt.length;ut++,pt++)s.props[pt]=$[ot]?nt[ot].replace(/&\f/g,tt[ut]):tt[ut]+" "+nt[ot]}}},removeLabel=function i(s){if(s.type==="decl"){var o=s.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(s.return="",s.value="")}};function prefix(i,s){switch(hash$2(i,s)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-s>6)switch(charat(i,s+1)){case 109:if(charat(i,s+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,s+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace(i,"stretch","fill-available"),s)+i:i}break;case 4949:if(charat(i,s+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,s+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function i(s,o,a,_){if(s.length>-1&&!s.return)switch(s.type){case DECLARATION:s.return=prefix(s.value,s.length);break;case KEYFRAMES:return serialize([copy(s,{value:replace(s.value,"@","@"+WEBKIT)})],_);case RULESET:if(s.length)return combine(s.props,function($){switch(match($,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(s,{props:[replace($,/:(read-\w+)/,":"+MOZ+"$1")]})],_);case"::placeholder":return serialize([copy(s,{props:[replace($,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(s,{props:[replace($,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(s,{props:[replace($,/:(plac\w+)/,MS+"input-$1")]})],_)}return""})}},defaultStylisPlugins=[prefixer],createCache=function i(s){var o=s.key;if(o==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(rt){var j=rt.getAttribute("data-emotion");j.indexOf(" ")!==-1&&(document.head.appendChild(rt),rt.setAttribute("data-s",""))})}var _=s.stylisPlugins||defaultStylisPlugins,$={},nt,tt=[];nt=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(rt){for(var j=rt.getAttribute("data-emotion").split(" "),_e=1;_e<j.length;_e++)$[j[_e]]=!0;tt.push(rt)});var ot,pt=[compat,removeLabel];{var ut,mt=[stringify,rulesheet(function(rt){ut.insert(rt)})],vt=middleware(pt.concat(_,mt)),ht=function(j){return serialize(compile(j),vt)};ot=function(j,_e,it,st){ut=it,ht(j?j+"{"+_e.styles+"}":_e.styles),st&&(gt.inserted[_e.name]=!0)}}var gt={key:o,sheet:new StyleSheet({key:o,container:nt,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:$,registered:{},insert:ot};return gt.sheet.hydrate(tt),gt},reactIs$1={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$1=b$1?Symbol.for("react.element"):60103,d$1=b$1?Symbol.for("react.portal"):60106,e$1=b$1?Symbol.for("react.fragment"):60107,f$1=b$1?Symbol.for("react.strict_mode"):60108,g$1=b$1?Symbol.for("react.profiler"):60114,h$1=b$1?Symbol.for("react.provider"):60109,k$1=b$1?Symbol.for("react.context"):60110,l$1=b$1?Symbol.for("react.async_mode"):60111,m$1=b$1?Symbol.for("react.concurrent_mode"):60111,n$1=b$1?Symbol.for("react.forward_ref"):60112,p$1=b$1?Symbol.for("react.suspense"):60113,q$1=b$1?Symbol.for("react.suspense_list"):60120,r$1=b$1?Symbol.for("react.memo"):60115,t$1=b$1?Symbol.for("react.lazy"):60116,v$1=b$1?Symbol.for("react.block"):60121,w=b$1?Symbol.for("react.fundamental"):60117,x=b$1?Symbol.for("react.responder"):60118,y=b$1?Symbol.for("react.scope"):60119;function z(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case c$1:switch(i=i.type,i){case l$1:case m$1:case e$1:case g$1:case f$1:case p$1:return i;default:switch(i=i&&i.$$typeof,i){case k$1:case n$1:case t$1:case r$1:case h$1:return i;default:return s}}case d$1:return s}}}function A(i){return z(i)===m$1}reactIs_production_min$1.AsyncMode=l$1;reactIs_production_min$1.ConcurrentMode=m$1;reactIs_production_min$1.ContextConsumer=k$1;reactIs_production_min$1.ContextProvider=h$1;reactIs_production_min$1.Element=c$1;reactIs_production_min$1.ForwardRef=n$1;reactIs_production_min$1.Fragment=e$1;reactIs_production_min$1.Lazy=t$1;reactIs_production_min$1.Memo=r$1;reactIs_production_min$1.Portal=d$1;reactIs_production_min$1.Profiler=g$1;reactIs_production_min$1.StrictMode=f$1;reactIs_production_min$1.Suspense=p$1;reactIs_production_min$1.isAsyncMode=function(i){return A(i)||z(i)===l$1};reactIs_production_min$1.isConcurrentMode=A;reactIs_production_min$1.isContextConsumer=function(i){return z(i)===k$1};reactIs_production_min$1.isContextProvider=function(i){return z(i)===h$1};reactIs_production_min$1.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c$1};reactIs_production_min$1.isForwardRef=function(i){return z(i)===n$1};reactIs_production_min$1.isFragment=function(i){return z(i)===e$1};reactIs_production_min$1.isLazy=function(i){return z(i)===t$1};reactIs_production_min$1.isMemo=function(i){return z(i)===r$1};reactIs_production_min$1.isPortal=function(i){return z(i)===d$1};reactIs_production_min$1.isProfiler=function(i){return z(i)===g$1};reactIs_production_min$1.isStrictMode=function(i){return z(i)===f$1};reactIs_production_min$1.isSuspense=function(i){return z(i)===p$1};reactIs_production_min$1.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e$1||i===m$1||i===g$1||i===f$1||i===p$1||i===q$1||typeof i=="object"&&i!==null&&(i.$$typeof===t$1||i.$$typeof===r$1||i.$$typeof===h$1||i.$$typeof===k$1||i.$$typeof===n$1||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v$1)};reactIs_production_min$1.typeOf=z;reactIs$1.exports=reactIs_production_min$1;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(i,s,o){var a="";return o.split(" ").forEach(function(_){i[_]!==void 0?s.push(i[_]+";"):_&&(a+=_+" ")}),a}var registerStyles=function i(s,o,a){var _=s.key+"-"+o.name;(a===!1||isBrowser===!1)&&s.registered[_]===void 0&&(s.registered[_]=o.styles)},insertStyles=function i(s,o,a){registerStyles(s,o,a);var _=s.key+"-"+o.name;if(s.inserted[o.name]===void 0){var $=o;do s.insert(o===$?"."+_:"",$,s.sheet,!0),$=$.next;while($!==void 0)}};function murmur2(i){for(var s=0,o,a=0,_=i.length;_>=4;++a,_-=4)o=i.charCodeAt(a)&255|(i.charCodeAt(++a)&255)<<8|(i.charCodeAt(++a)&255)<<16|(i.charCodeAt(++a)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,s=(o&65535)*1540483477+((o>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(_){case 3:s^=(i.charCodeAt(a+2)&255)<<16;case 2:s^=(i.charCodeAt(a+1)&255)<<8;case 1:s^=i.charCodeAt(a)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment$1=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function i(s){return s.charCodeAt(1)===45},isProcessableValue=function i(s){return s!=null&&typeof s!="boolean"},processStyleName=memoize$1(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function i(s,o){switch(s){case"animation":case"animationName":if(typeof o=="string")return o.replace(animationRegex,function(a,_,$){return cursor={name:_,styles:$,next:cursor},_})}return unitlessKeys[s]!==1&&!isCustomProperty(s)&&typeof o=="number"&&o!==0?o+"px":o},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(i,s,o){if(o==null)return"";var a=o;if(a.__emotion_styles!==void 0)return a;switch(typeof o){case"boolean":return"";case"object":{var _=o;if(_.anim===1)return cursor={name:_.name,styles:_.styles,next:cursor},_.name;var $=o;if($.styles!==void 0){var nt=$.next;if(nt!==void 0)for(;nt!==void 0;)cursor={name:nt.name,styles:nt.styles,next:cursor},nt=nt.next;var tt=$.styles+";";return tt}return createStringFromObject(i,s,o)}case"function":{if(i!==void 0){var ot=cursor,pt=o(i);return cursor=ot,handleInterpolation(i,s,pt)}break}}var ut=o;if(s==null)return ut;var mt=s[ut];return mt!==void 0?mt:ut}function createStringFromObject(i,s,o){var a="";if(Array.isArray(o))for(var _=0;_<o.length;_++)a+=handleInterpolation(i,s,o[_])+";";else for(var $ in o){var nt=o[$];if(typeof nt!="object"){var tt=nt;s!=null&&s[tt]!==void 0?a+=$+"{"+s[tt]+"}":isProcessableValue(tt)&&(a+=processStyleName($)+":"+processStyleValue($,tt)+";")}else{if($==="NO_COMPONENT_SELECTOR"&&isDevelopment$1)throw new Error(noComponentSelectorMessage);if(Array.isArray(nt)&&typeof nt[0]=="string"&&(s==null||s[nt[0]]===void 0))for(var ot=0;ot<nt.length;ot++)isProcessableValue(nt[ot])&&(a+=processStyleName($)+":"+processStyleValue($,nt[ot])+";");else{var pt=handleInterpolation(i,s,nt);switch($){case"animation":case"animationName":{a+=processStyleName($)+":"+pt+";";break}default:a+=$+"{"+pt+"}"}}}}return a}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(i,s,o){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var a=!0,_="";cursor=void 0;var $=i[0];if($==null||$.raw===void 0)a=!1,_+=handleInterpolation(o,s,$);else{var nt=$;_+=nt[0]}for(var tt=1;tt<i.length;tt++)if(_+=handleInterpolation(o,s,i[tt]),a){var ot=$;_+=ot[tt]}labelPattern.lastIndex=0;for(var pt="",ut;(ut=labelPattern.exec(_))!==null;)pt+="-"+ut[1];var mt=murmur2(_)+pt;return{name:mt,styles:_,next:cursor}}var syncFallback=function i(s){return s()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function i(s){return reactExports.forwardRef(function(o,a){var _=reactExports.useContext(EmotionCacheContext);return s(o,_,a)})},ThemeContext=reactExports.createContext({}),Global=withEmotionCache(function(i,s){var o=i.styles,a=serializeStyles([o],void 0,reactExports.useContext(ThemeContext)),_=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var $=s.key+"-global",nt=new s.sheet.constructor({key:$,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),tt=!1,ot=document.querySelector('style[data-emotion="'+$+" "+a.name+'"]');return s.sheet.tags.length&&(nt.before=s.sheet.tags[0]),ot!==null&&(tt=!0,ot.setAttribute("data-emotion",$),nt.hydrate([ot])),_.current=[nt,tt],function(){nt.flush()}},[s]),useInsertionEffectWithLayoutFallback(function(){var $=_.current,nt=$[0],tt=$[1];if(tt){$[1]=!1;return}if(a.next!==void 0&&insertStyles(s,a.next,!0),nt.tags.length){var ot=nt.tags[nt.tags.length-1].nextElementSibling;nt.before=ot,nt.flush()}s.insert("",a,nt,!1)},[s,a.name]),null});function css(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return serializeStyles(s)}var keyframes=function i(){var s=css.apply(void 0,arguments),o="animation-"+s.name;return{name:o,styles:"@keyframes "+o+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function i(s){return s!=="theme"},getDefaultShouldForwardProp=function i(s){return typeof s=="string"&&s.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function i(s,o,a){var _;if(o){var $=o.shouldForwardProp;_=s.__emotion_forwardProp&&$?function(nt){return s.__emotion_forwardProp(nt)&&$(nt)}:$}return typeof _!="function"&&a&&(_=s.__emotion_forwardProp),_},isDevelopment=!1,Insertion=function i(s){var o=s.cache,a=s.serialized,_=s.isStringTag;return registerStyles(o,a,_),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(o,a,_)}),null},createStyled$1=function i(s,o){var a=s.__emotion_real===s,_=a&&s.__emotion_base||s,$,nt;o!==void 0&&($=o.label,nt=o.target);var tt=composeShouldForwardProps(s,o,a),ot=tt||getDefaultShouldForwardProp(_),pt=!ot("as");return function(){var ut=arguments,mt=a&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if($!==void 0&&mt.push("label:"+$+";"),ut[0]==null||ut[0].raw===void 0)mt.push.apply(mt,ut);else{mt.push(ut[0][0]);for(var vt=ut.length,ht=1;ht<vt;ht++)mt.push(ut[ht],ut[0][ht])}var gt=withEmotionCache(function(rt,j,_e){var it=pt&&rt.as||_,st="",lt=[],et=rt;if(rt.theme==null){et={};for(var at in rt)et[at]=rt[at];et.theme=reactExports.useContext(ThemeContext)}typeof rt.className=="string"?st=getRegisteredStyles(j.registered,lt,rt.className):rt.className!=null&&(st=rt.className+" ");var ft=serializeStyles(mt.concat(lt),j.registered,et);st+=j.key+"-"+ft.name,nt!==void 0&&(st+=" "+nt);var ct=pt&&tt===void 0?getDefaultShouldForwardProp(it):ot,xt={};for(var dt in rt)pt&&dt==="as"||ct(dt)&&(xt[dt]=rt[dt]);return xt.className=st,_e&&(xt.ref=_e),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:j,serialized:ft,isStringTag:typeof it=="string"}),reactExports.createElement(it,xt))});return gt.displayName=$!==void 0?$:"Styled("+(typeof _=="string"?_:_.displayName||_.name||"Component")+")",gt.defaultProps=s.defaultProps,gt.__emotion_real=gt,gt.__emotion_base=_,gt.__emotion_styles=mt,gt.__emotion_forwardProp=tt,Object.defineProperty(gt,"toString",{value:function(){return nt===void 0&&isDevelopment?"NO_COMPONENT_SELECTOR":"."+nt}}),gt.withComponent=function(rt,j){return i(rt,_extends({},o,j,{shouldForwardProp:composeShouldForwardProps(gt,j,!0)})).apply(void 0,mt)},gt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(i){newStyled[i]=newStyled(i)});function isEmpty$2(i){return i==null||Object.keys(i).length===0}function GlobalStyles$2(i){const{styles:s,defaultTheme:o={}}=i,a=typeof s=="function"?_=>s(isEmpty$2(_)?o:_):s;return jsxRuntimeExports.jsx(Global,{styles:a})}/**
 * @mui/styled-engine v6.1.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(i,s){return newStyled(i,s)}const internal_processStyles=(i,s)=>{Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=s(i.__emotion_styles))};function isPlainObject(i){if(typeof i!="object"||i===null)return!1;const s=Object.getPrototypeOf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function deepClone(i){if(!isPlainObject(i))return i;const s={};return Object.keys(i).forEach(o=>{s[o]=deepClone(i[o])}),s}function deepmerge(i,s,o={clone:!0}){const a=o.clone?{...i}:i;return isPlainObject(i)&&isPlainObject(s)&&Object.keys(s).forEach(_=>{isPlainObject(s[_])&&Object.prototype.hasOwnProperty.call(i,_)&&isPlainObject(i[_])?a[_]=deepmerge(i[_],s[_],o):o.clone?a[_]=isPlainObject(s[_])?deepClone(s[_]):s[_]:a[_]=s[_]}),a}const sortBreakpointsValues=i=>{const s=Object.keys(i).map(o=>({key:o,val:i[o]}))||[];return s.sort((o,a)=>o.val-a.val),s.reduce((o,a)=>({...o,[a.key]:a.val}),{})};function createBreakpoints(i){const{values:s={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:o="px",step:a=5,..._}=i,$=sortBreakpointsValues(s),nt=Object.keys($);function tt(vt){return`@media (min-width:${typeof s[vt]=="number"?s[vt]:vt}${o})`}function ot(vt){return`@media (max-width:${(typeof s[vt]=="number"?s[vt]:vt)-a/100}${o})`}function pt(vt,ht){const gt=nt.indexOf(ht);return`@media (min-width:${typeof s[vt]=="number"?s[vt]:vt}${o}) and (max-width:${(gt!==-1&&typeof s[nt[gt]]=="number"?s[nt[gt]]:ht)-a/100}${o})`}function ut(vt){return nt.indexOf(vt)+1<nt.length?pt(vt,nt[nt.indexOf(vt)+1]):tt(vt)}function mt(vt){const ht=nt.indexOf(vt);return ht===0?tt(nt[1]):ht===nt.length-1?ot(nt[ht]):pt(vt,nt[nt.indexOf(vt)+1]).replace("@media","@media not all and")}return{keys:nt,values:$,up:tt,down:ot,between:pt,only:ut,not:mt,unit:o,..._}}function sortContainerQueries(i,s){if(!i.containerQueries)return s;const o=Object.keys(s).filter(a=>a.startsWith("@container")).sort((a,_)=>{var nt,tt;const $=/min-width:\s*([0-9.]+)/;return+(((nt=a.match($))==null?void 0:nt[1])||0)-+(((tt=_.match($))==null?void 0:tt[1])||0)});return o.length?o.reduce((a,_)=>{const $=s[_];return delete a[_],a[_]=$,a},{...s}):s}function isCqShorthand(i,s){return s==="@"||s.startsWith("@")&&(i.some(o=>s.startsWith(`@${o}`))||!!s.match(/^@\d/))}function getContainerQuery(i,s){const o=s.match(/^@([^/]+)?\/?(.+)?$/);if(!o)return null;const[,a,_]=o,$=Number.isNaN(+a)?a||0:+a;return i.containerQueries(_).up($)}function cssContainerQueries(i){const s=($,nt)=>$.replace("@media",nt?`@container ${nt}`:"@container");function o($,nt){$.up=(...tt)=>s(i.breakpoints.up(...tt),nt),$.down=(...tt)=>s(i.breakpoints.down(...tt),nt),$.between=(...tt)=>s(i.breakpoints.between(...tt),nt),$.only=(...tt)=>s(i.breakpoints.only(...tt),nt),$.not=(...tt)=>{const ot=s(i.breakpoints.not(...tt),nt);return ot.includes("not all and")?ot.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):ot}}const a={},_=$=>(o(a,$),a);return o(_),{...i,containerQueries:_}}const shape={borderRadius:4};function merge(i,s){return s?deepmerge(i,s,{clone:!1}):i}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${values$1[i]}px)`},defaultContainerQueries={containerQueries:i=>({up:s=>{let o=typeof s=="number"?s:values$1[s]||s;return typeof o=="number"&&(o=`${o}px`),i?`@container ${i} (min-width:${o})`:`@container (min-width:${o})`}})};function handleBreakpoints(i,s,o){const a=i.theme||{};if(Array.isArray(s)){const $=a.breakpoints||defaultBreakpoints;return s.reduce((nt,tt,ot)=>(nt[$.up($.keys[ot])]=o(s[ot]),nt),{})}if(typeof s=="object"){const $=a.breakpoints||defaultBreakpoints;return Object.keys(s).reduce((nt,tt)=>{if(isCqShorthand($.keys,tt)){const ot=getContainerQuery(a.containerQueries?a:defaultContainerQueries,tt);ot&&(nt[ot]=o(s[tt],tt))}else if(Object.keys($.values||values$1).includes(tt)){const ot=$.up(tt);nt[ot]=o(s[tt],tt)}else{const ot=tt;nt[ot]=s[ot]}return nt},{})}return o(s)}function createEmptyBreakpointObject(i={}){var o;return((o=i.keys)==null?void 0:o.reduce((a,_)=>{const $=i.up(_);return a[$]={},a},{}))||{}}function removeUnusedBreakpoints(i,s){return i.reduce((o,a)=>{const _=o[a];return(!_||Object.keys(_).length===0)&&delete o[a],o},s)}function capitalize(i){if(typeof i!="string")throw new Error(formatMuiErrorMessage(7));return i.charAt(0).toUpperCase()+i.slice(1)}function getPath(i,s,o=!0){if(!s||typeof s!="string")return null;if(i&&i.vars&&o){const a=`vars.${s}`.split(".").reduce((_,$)=>_&&_[$]?_[$]:null,i);if(a!=null)return a}return s.split(".").reduce((a,_)=>a&&a[_]!=null?a[_]:null,i)}function getStyleValue$1(i,s,o,a=o){let _;return typeof i=="function"?_=i(o):Array.isArray(i)?_=i[o]||a:_=getPath(i,o)||a,s&&(_=s(_,a,i)),_}function style$1(i){const{prop:s,cssProperty:o=i.prop,themeKey:a,transform:_}=i,$=nt=>{if(nt[s]==null)return null;const tt=nt[s],ot=nt.theme,pt=getPath(ot,a)||{};return handleBreakpoints(nt,tt,mt=>{let vt=getStyleValue$1(pt,_,mt);return mt===vt&&typeof mt=="string"&&(vt=getStyleValue$1(pt,_,`${s}${mt==="default"?"":capitalize(mt)}`,mt)),o===!1?vt:{[o]:vt}})};return $.propTypes={},$.filterProps=[s],$}function memoize(i){const s={};return o=>(s[o]===void 0&&(s[o]=i(o)),s[o])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(i=>{if(i.length>2)if(aliases[i])i=aliases[i];else return[i];const[s,o]=i.split(""),a=properties[s],_=directions[o]||"";return Array.isArray(_)?_.map($=>a+$):[a+_]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(i,s,o,a){const _=getPath(i,s,!0)??o;return typeof _=="number"||typeof _=="string"?$=>typeof $=="string"?$:typeof _=="string"?`calc(${$} * ${_})`:_*$:Array.isArray(_)?$=>{if(typeof $=="string")return $;const nt=Math.abs($),tt=_[nt];return $>=0?tt:typeof tt=="number"?-tt:`-${tt}`}:typeof _=="function"?_:()=>{}}function createUnarySpacing(i){return createUnaryUnit(i,"spacing",8)}function getValue(i,s){return typeof s=="string"||s==null?s:i(s)}function getStyleFromPropValue(i,s){return o=>i.reduce((a,_)=>(a[_]=getValue(s,o),a),{})}function resolveCssProperty(i,s,o,a){if(!s.includes(o))return null;const _=getCssProperties(o),$=getStyleFromPropValue(_,a),nt=i[o];return handleBreakpoints(i,nt,$)}function style(i,s){const o=createUnarySpacing(i.theme);return Object.keys(i).map(a=>resolveCssProperty(i,s,a,o)).reduce(merge,{})}function margin(i){return style(i,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(i){return style(i,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(i=8,s=createUnarySpacing({spacing:i})){if(i.mui)return i;const o=(...a)=>(a.length===0?[1]:a).map($=>{const nt=s($);return typeof nt=="number"?`${nt}px`:nt}).join(" ");return o.mui=!0,o}function compose(...i){const s=i.reduce((a,_)=>(_.filterProps.forEach($=>{a[$]=_}),a),{}),o=a=>Object.keys(a).reduce((_,$)=>s[$]?merge(_,s[$](a)):_,{});return o.propTypes={},o.filterProps=i.reduce((a,_)=>a.concat(_.filterProps),[]),o}function borderTransform(i){return typeof i!="number"?i:`${i}px solid`}function createBorderStyle(i,s){return style$1({prop:i,themeKey:"borders",transform:s})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const s=createUnaryUnit(i.theme,"shape.borderRadius",4),o=a=>({borderRadius:getValue(s,a)});return handleBreakpoints(i,i.borderRadius,o)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=i=>{if(i.gap!==void 0&&i.gap!==null){const s=createUnaryUnit(i.theme,"spacing",8),o=a=>({gap:getValue(s,a)});return handleBreakpoints(i,i.gap,o)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const s=createUnaryUnit(i.theme,"spacing",8),o=a=>({columnGap:getValue(s,a)});return handleBreakpoints(i,i.columnGap,o)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const s=createUnaryUnit(i.theme,"spacing",8),o=a=>({rowGap:getValue(s,a)});return handleBreakpoints(i,i.rowGap,o)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(i,s){return s==="grey"?s:i}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(i){return i<=1&&i!==0?`${i*100}%`:i}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const s=o=>{var _,$,nt,tt,ot;const a=((nt=($=(_=i.theme)==null?void 0:_.breakpoints)==null?void 0:$.values)==null?void 0:nt[o])||values$1[o];return a?((ot=(tt=i.theme)==null?void 0:tt.breakpoints)==null?void 0:ot.unit)!=="px"?{maxWidth:`${a}${i.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:sizingTransform(o)}};return handleBreakpoints(i,i.maxWidth,s)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function objectsHaveSameKeys(...i){const s=i.reduce((a,_)=>a.concat(Object.keys(_)),[]),o=new Set(s);return i.every(a=>o.size===Object.keys(a).length)}function callIfFn(i,s){return typeof i=="function"?i(s):i}function unstable_createStyleFunctionSx(){function i(o,a,_,$){const nt={[o]:a,theme:_},tt=$[o];if(!tt)return{[o]:a};const{cssProperty:ot=o,themeKey:pt,transform:ut,style:mt}=tt;if(a==null)return null;if(pt==="typography"&&a==="inherit")return{[o]:a};const vt=getPath(_,pt)||{};return mt?mt(nt):handleBreakpoints(nt,a,gt=>{let rt=getStyleValue$1(vt,ut,gt);return gt===rt&&typeof gt=="string"&&(rt=getStyleValue$1(vt,ut,`${o}${gt==="default"?"":capitalize(gt)}`,gt)),ot===!1?rt:{[ot]:rt}})}function s(o){const{sx:a,theme:_={}}=o||{};if(!a)return null;const $=_.unstable_sxConfig??defaultSxConfig;function nt(tt){let ot=tt;if(typeof tt=="function")ot=tt(_);else if(typeof tt!="object")return tt;if(!ot)return null;const pt=createEmptyBreakpointObject(_.breakpoints),ut=Object.keys(pt);let mt=pt;return Object.keys(ot).forEach(vt=>{const ht=callIfFn(ot[vt],_);if(ht!=null)if(typeof ht=="object")if($[vt])mt=merge(mt,i(vt,ht,_,$));else{const gt=handleBreakpoints({theme:_},ht,rt=>({[vt]:rt}));objectsHaveSameKeys(gt,ht)?mt[vt]=s({sx:ht,theme:_}):mt=merge(mt,gt)}else mt=merge(mt,i(vt,ht,_,$))}),sortContainerQueries(_,removeUnusedBreakpoints(ut,mt))}return Array.isArray(a)?a.map(nt):nt(a)}return s}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];function applyStyles$2(i,s){var a;const o=this;if(o.vars){if(!((a=o.colorSchemes)!=null&&a[i])||typeof o.getColorSchemeSelector!="function")return{};let _=o.getColorSchemeSelector(i);return _==="&"?s:((_.includes("data-")||_.includes("."))&&(_=`*:where(${_.replace(/\s*&$/,"")}) &`),{[_]:s})}return o.palette.mode===i?s:{}}function createTheme$1(i={},...s){const{breakpoints:o={},palette:a={},spacing:_,shape:$={},...nt}=i,tt=createBreakpoints(o),ot=createSpacing(_);let pt=deepmerge({breakpoints:tt,direction:"ltr",components:{},palette:{mode:"light",...a},spacing:ot,shape:{...shape,...$}},nt);return pt=cssContainerQueries(pt),pt.applyStyles=applyStyles$2,pt=s.reduce((ut,mt)=>deepmerge(ut,mt),pt),pt.unstable_sxConfig={...defaultSxConfig,...nt==null?void 0:nt.unstable_sxConfig},pt.unstable_sx=function(mt){return styleFunctionSx({sx:mt,theme:this})},pt}function isObjectEmpty$1(i){return Object.keys(i).length===0}function useTheme$2(i=null){const s=reactExports.useContext(ThemeContext);return!s||isObjectEmpty$1(s)?i:s}const systemDefaultTheme$1=createTheme$1();function useTheme$1(i=systemDefaultTheme$1){return useTheme$2(i)}function GlobalStyles$1({styles:i,themeId:s,defaultTheme:o={}}){const a=useTheme$1(o),_=typeof i=="function"?i(s&&a[s]||a):i;return jsxRuntimeExports.jsx(GlobalStyles$2,{styles:_})}const splitProps=i=>{var a;const s={systemProps:{},otherProps:{}},o=((a=i==null?void 0:i.theme)==null?void 0:a.unstable_sxConfig)??defaultSxConfig;return Object.keys(i).forEach(_=>{o[_]?s.systemProps[_]=i[_]:s.otherProps[_]=i[_]}),s};function extendSxProp$1(i){const{sx:s,...o}=i,{systemProps:a,otherProps:_}=splitProps(o);let $;return Array.isArray(s)?$=[a,...s]:typeof s=="function"?$=(...nt)=>{const tt=s(...nt);return isPlainObject(tt)?{...a,...tt}:a}:$={...a,...s},{..._,sx:$}}const defaultGenerator=i=>i,createClassNameGenerator=()=>{let i=defaultGenerator;return{configure(s){i=s},generate(s){return i(s)},reset(){i=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator();function r(i){var s,o,a="";if(typeof i=="string"||typeof i=="number")a+=i;else if(typeof i=="object")if(Array.isArray(i)){var _=i.length;for(s=0;s<_;s++)i[s]&&(o=r(i[s]))&&(a&&(a+=" "),a+=o)}else for(o in i)i[o]&&(a&&(a+=" "),a+=o);return a}function clsx(){for(var i,s,o=0,a="",_=arguments.length;o<_;o++)(i=arguments[o])&&(s=r(i))&&(a&&(a+=" "),a+=s);return a}function createBox(i={}){const{themeId:s,defaultTheme:o,defaultClassName:a="MuiBox-root",generateClassName:_}=i,$=styled$2("div",{shouldForwardProp:tt=>tt!=="theme"&&tt!=="sx"&&tt!=="as"})(styleFunctionSx);return reactExports.forwardRef(function(ot,pt){const ut=useTheme$1(o),{className:mt,component:vt="div",...ht}=extendSxProp$1(ot);return jsxRuntimeExports.jsx($,{as:vt,ref:pt,className:clsx(mt,_?_(a):a),theme:s&&ut[s]||ut,...ht})})}const globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(i,s,o="Mui"){const a=globalStateClasses[s];return a?`${o}-${a}`:`${ClassNameGenerator.generate(i)}-${s}`}function generateUtilityClasses(i,s,o="Mui"){const a={};return s.forEach(_=>{a[_]=generateUtilityClass(i,_,o)}),a}var reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case b:switch(i=i.type,i){case d:case f:case e:case m:case n:return i;default:switch(i=i&&i.$$typeof,i){case k:case h:case l:case q:case p:case g:return i;default:return s}}case c:return s}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(i){return v(i)===h};reactIs_production_min.isContextProvider=function(i){return v(i)===g};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===b};reactIs_production_min.isForwardRef=function(i){return v(i)===l};reactIs_production_min.isFragment=function(i){return v(i)===d};reactIs_production_min.isLazy=function(i){return v(i)===q};reactIs_production_min.isMemo=function(i){return v(i)===p};reactIs_production_min.isPortal=function(i){return v(i)===c};reactIs_production_min.isProfiler=function(i){return v(i)===f};reactIs_production_min.isStrictMode=function(i){return v(i)===e};reactIs_production_min.isSuspense=function(i){return v(i)===m};reactIs_production_min.isSuspenseList=function(i){return v(i)===n};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===d||i===f||i===e||i===m||i===n||i===t||typeof i=="object"&&i!==null&&(i.$$typeof===q||i.$$typeof===p||i.$$typeof===g||i.$$typeof===h||i.$$typeof===l||i.$$typeof===u||i.getModuleId!==void 0)};reactIs_production_min.typeOf=v;const systemDefaultTheme=createTheme$1();function shouldForwardProp(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}function resolveTheme(i,s,o){return isObjectEmpty(s)?o:s[i]||s}const PROCESSED_PROPS=Symbol("mui.processed_props");function attachTheme(i,s,o){if(PROCESSED_PROPS in i)return i[PROCESSED_PROPS];const a={...i,theme:resolveTheme(s,i.theme,o)};return i[PROCESSED_PROPS]=a,a[PROCESSED_PROPS]=a,a}function defaultOverridesResolver(i){return i?(s,o)=>o[i]:null}function processStyle(i,s){var a;const o=typeof i=="function"?i(s):i;if(Array.isArray(o))return o.flatMap(_=>processStyle(_,s));if(Array.isArray(o==null?void 0:o.variants)){const{variants:_,...$}=o;let nt=$,tt;e:for(let ot=0;ot<_.length;ot+=1){const pt=_[ot];if(typeof pt.props=="function"){if(tt??(tt={...s,...s.ownerState,ownerState:s.ownerState}),!pt.props(tt))continue}else for(const ut in pt.props)if(s[ut]!==pt.props[ut]&&((a=s.ownerState)==null?void 0:a[ut])!==pt.props[ut])continue e;Array.isArray(nt)||(nt=[nt]),typeof pt.style=="function"?(tt??(tt={...s,...s.ownerState,ownerState:s.ownerState}),nt.push(pt.style(tt))):nt.push(pt.style)}return nt}return o}function createStyled(i={}){const{themeId:s,defaultTheme:o=systemDefaultTheme,rootShouldForwardProp:a=shouldForwardProp,slotShouldForwardProp:_=shouldForwardProp}=i,$=tt=>styleFunctionSx(attachTheme(tt,s,o));return $.__mui_systemSx=!0,(tt,ot={})=>{internal_processStyles(tt,at=>at.filter(ft=>!(ft!=null&&ft.__mui_systemSx)));const{name:pt,slot:ut,skipVariantsResolver:mt,skipSx:vt,overridesResolver:ht=defaultOverridesResolver(lowercaseFirstLetter(ut)),...gt}=ot,rt=mt!==void 0?mt:ut&&ut!=="Root"&&ut!=="root"||!1,j=vt||!1;let _e,it=shouldForwardProp;ut==="Root"||ut==="root"?it=a:ut?it=_:isStringTag(tt)&&(it=void 0);const st=styled$2(tt,{shouldForwardProp:it,label:_e,...gt}),lt=at=>typeof at=="function"&&at.__emotion_real!==at||isPlainObject(at)?ft=>processStyle(at,attachTheme(ft,s,o)):at,et=(at,...ft)=>{let ct=lt(at);const xt=ft?ft.map(lt):[];pt&&ht&&xt.push(Ct=>{const Et=resolveTheme(s,Ct.theme,o);if(!Et.components||!Et.components[pt]||!Et.components[pt].styleOverrides)return null;const Mt=Et.components[pt].styleOverrides,St={},Ot=attachTheme(Ct,s,o);for(const At in Mt)St[At]=processStyle(Mt[At],Ot);return ht(Ct,St)}),pt&&!rt&&xt.push(Ct=>{var St,Ot;const Et=resolveTheme(s,Ct.theme,o),Mt=(Ot=(St=Et==null?void 0:Et.components)==null?void 0:St[pt])==null?void 0:Ot.variants;return Mt?processStyle({variants:Mt},attachTheme(Ct,s,o)):null}),j||xt.push($);const dt=xt.length-ft.length;if(Array.isArray(at)&&dt>0){const Ct=new Array(dt).fill("");ct=[...at,...Ct],ct.raw=[...at.raw,...Ct]}const _t=st(ct,...xt);return tt.muiName&&(_t.muiName=tt.muiName),_t};return st.withConfig&&(et.withConfig=st.withConfig),et}}function isObjectEmpty(i){for(const s in i)return!1;return!0}function isStringTag(i){return typeof i=="string"&&i.charCodeAt(0)>96}function lowercaseFirstLetter(i){return i&&i.charAt(0).toLowerCase()+i.slice(1)}const styled$1=createStyled();function resolveProps(i,s){const o={...s};for(const a in i)if(Object.prototype.hasOwnProperty.call(i,a)){const _=a;if(_==="components"||_==="slots")o[_]={...i[_],...o[_]};else if(_==="componentsProps"||_==="slotProps"){const $=i[_],nt=s[_];if(!nt)o[_]=$||{};else if(!$)o[_]=nt;else{o[_]={...nt};for(const tt in $)if(Object.prototype.hasOwnProperty.call($,tt)){const ot=tt;o[_][ot]=resolveProps($[ot],nt[ot])}}}else o[_]===void 0&&(o[_]=i[_])}return o}function getThemeProps$1(i){const{theme:s,name:o,props:a}=i;return!s||!s.components||!s.components[o]||!s.components[o].defaultProps?a:resolveProps(s.components[o].defaultProps,a)}function useThemeProps$1({props:i,name:s,defaultTheme:o,themeId:a}){let _=useTheme$1(o);return a&&(_=_[a]||_),getThemeProps$1({theme:_,name:s,props:i})}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function clamp(i,s=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER){return Math.max(s,Math.min(i,o))}function clampWrapper(i,s=0,o=1){return clamp(i,s,o)}function hexToRgb(i){i=i.slice(1);const s=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let o=i.match(s);return o&&o[0].length===1&&(o=o.map(a=>a+a)),o?`rgb${o.length===4?"a":""}(${o.map((a,_)=>_<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(i){if(i.type)return i;if(i.charAt(0)==="#")return decomposeColor(hexToRgb(i));const s=i.indexOf("("),o=i.substring(0,s);if(!["rgb","rgba","hsl","hsla","color"].includes(o))throw new Error(formatMuiErrorMessage(9,i));let a=i.substring(s+1,i.length-1),_;if(o==="color"){if(a=a.split(" "),_=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(_))throw new Error(formatMuiErrorMessage(10,_))}else a=a.split(",");return a=a.map($=>parseFloat($)),{type:o,values:a,colorSpace:_}}const colorChannel=i=>{const s=decomposeColor(i);return s.values.slice(0,3).map((o,a)=>s.type.includes("hsl")&&a!==0?`${o}%`:o).join(" ")},private_safeColorChannel=(i,s)=>{try{return colorChannel(i)}catch{return i}};function recomposeColor(i){const{type:s,colorSpace:o}=i;let{values:a}=i;return s.includes("rgb")?a=a.map((_,$)=>$<3?parseInt(_,10):_):s.includes("hsl")&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),s.includes("color")?a=`${o} ${a.join(" ")}`:a=`${a.join(", ")}`,`${s}(${a})`}function hslToRgb(i){i=decomposeColor(i);const{values:s}=i,o=s[0],a=s[1]/100,_=s[2]/100,$=a*Math.min(_,1-_),nt=(pt,ut=(pt+o/30)%12)=>_-$*Math.max(Math.min(ut-3,9-ut,1),-1);let tt="rgb";const ot=[Math.round(nt(0)*255),Math.round(nt(8)*255),Math.round(nt(4)*255)];return i.type==="hsla"&&(tt+="a",ot.push(s[3])),recomposeColor({type:tt,values:ot})}function getLuminance(i){i=decomposeColor(i);let s=i.type==="hsl"||i.type==="hsla"?decomposeColor(hslToRgb(i)).values:i.values;return s=s.map(o=>(i.type!=="color"&&(o/=255),o<=.03928?o/12.92:((o+.055)/1.055)**2.4)),Number((.2126*s[0]+.7152*s[1]+.0722*s[2]).toFixed(3))}function getContrastRatio(i,s){const o=getLuminance(i),a=getLuminance(s);return(Math.max(o,a)+.05)/(Math.min(o,a)+.05)}function alpha(i,s){return i=decomposeColor(i),s=clampWrapper(s),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${s}`:i.values[3]=s,recomposeColor(i)}function private_safeAlpha(i,s,o){try{return alpha(i,s)}catch{return i}}function darken(i,s){if(i=decomposeColor(i),s=clampWrapper(s),i.type.includes("hsl"))i.values[2]*=1-s;else if(i.type.includes("rgb")||i.type.includes("color"))for(let o=0;o<3;o+=1)i.values[o]*=1-s;return recomposeColor(i)}function private_safeDarken(i,s,o){try{return darken(i,s)}catch{return i}}function lighten(i,s){if(i=decomposeColor(i),s=clampWrapper(s),i.type.includes("hsl"))i.values[2]+=(100-i.values[2])*s;else if(i.type.includes("rgb"))for(let o=0;o<3;o+=1)i.values[o]+=(255-i.values[o])*s;else if(i.type.includes("color"))for(let o=0;o<3;o+=1)i.values[o]+=(1-i.values[o])*s;return recomposeColor(i)}function private_safeLighten(i,s,o){try{return lighten(i,s)}catch{return i}}function emphasize(i,s=.15){return getLuminance(i)>.5?darken(i,s):lighten(i,s)}function private_safeEmphasize(i,s,o){try{return emphasize(i,s)}catch{return i}}function createChainedFunction(...i){return i.reduce((s,o)=>o==null?s:function(..._){s.apply(this,_),o.apply(this,_)},()=>{})}function debounce$1(i,s=166){let o;function a(..._){const $=()=>{i.apply(this,_)};clearTimeout(o),o=setTimeout($,s)}return a.clear=()=>{clearTimeout(o)},a}function isMuiElement(i,s){var o,a,_;return reactExports.isValidElement(i)&&s.indexOf(i.type.muiName??((_=(a=(o=i.type)==null?void 0:o._payload)==null?void 0:a.value)==null?void 0:_.muiName))!==-1}function ownerDocument(i){return i&&i.ownerDocument||document}function ownerWindow(i){return ownerDocument(i).defaultView||window}function setRef(i,s){typeof i=="function"?i(s):i&&(i.current=s)}let globalId=0;function useGlobalId(i){const[s,o]=reactExports.useState(i),a=i||s;return reactExports.useEffect(()=>{s==null&&(globalId+=1,o(`mui-${globalId}`))},[s]),a}const safeReact={...React$1},maybeReactUseId=safeReact.useId;function useId(i){if(maybeReactUseId!==void 0){const s=maybeReactUseId();return i??s}return useGlobalId(i)}function useControlled({controlled:i,default:s,name:o,state:a="value"}){const{current:_}=reactExports.useRef(i!==void 0),[$,nt]=reactExports.useState(s),tt=_?i:$,ot=reactExports.useCallback(pt=>{_||nt(pt)},[]);return[tt,ot]}function useEventCallback(i){const s=reactExports.useRef(i);return useEnhancedEffect(()=>{s.current=i}),reactExports.useRef((...o)=>(0,s.current)(...o)).current}function useForkRef(...i){return reactExports.useMemo(()=>i.every(s=>s==null)?null:s=>{i.forEach(o=>{setRef(o,s)})},i)}const UNINITIALIZED={};function useLazyRef(i,s){const o=reactExports.useRef(UNINITIALIZED);return o.current===UNINITIALIZED&&(o.current=i(s)),o}const EMPTY=[];function useOnMount(i){reactExports.useEffect(i,EMPTY)}class Timeout{constructor(){_i(this,"currentId",null);_i(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_i(this,"disposeEffect",()=>this.clear)}static create(){return new Timeout}start(s,o){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,o()},s)}}function useTimeout(){const i=useLazyRef(Timeout.create).current;return useOnMount(i.disposeEffect),i}function isFocusVisible(i){try{return i.matches(":focus-visible")}catch{}return!1}function getScrollbarSize(i=window){const s=i.document.documentElement.clientWidth;return i.innerWidth-s}function getValidReactChildren(i){return reactExports.Children.toArray(i).filter(s=>reactExports.isValidElement(s))}function composeClasses(i,s,o=void 0){const a={};for(const _ in i){const $=i[_];let nt="",tt=!0;for(let ot=0;ot<$.length;ot+=1){const pt=$[ot];pt&&(nt+=(tt===!0?"":" ")+s(pt),tt=!1,o&&o[pt]&&(nt+=" "+o[pt]))}a[_]=nt}return a}function isHostComponent$1(i){return typeof i=="string"}function appendOwnerState(i,s,o){return i===void 0||isHostComponent$1(i)?s:{...s,ownerState:{...s.ownerState,...o}}}function extractEventHandlers(i,s=[]){if(i===void 0)return{};const o={};return Object.keys(i).filter(a=>a.match(/^on[A-Z]/)&&typeof i[a]=="function"&&!s.includes(a)).forEach(a=>{o[a]=i[a]}),o}function omitEventHandlers(i){if(i===void 0)return{};const s={};return Object.keys(i).filter(o=>!(o.match(/^on[A-Z]/)&&typeof i[o]=="function")).forEach(o=>{s[o]=i[o]}),s}function mergeSlotProps(i){const{getSlotProps:s,additionalProps:o,externalSlotProps:a,externalForwardedProps:_,className:$}=i;if(!s){const ht=clsx(o==null?void 0:o.className,$,_==null?void 0:_.className,a==null?void 0:a.className),gt={...o==null?void 0:o.style,..._==null?void 0:_.style,...a==null?void 0:a.style},rt={...o,..._,...a};return ht.length>0&&(rt.className=ht),Object.keys(gt).length>0&&(rt.style=gt),{props:rt,internalRef:void 0}}const nt=extractEventHandlers({..._,...a}),tt=omitEventHandlers(a),ot=omitEventHandlers(_),pt=s(nt),ut=clsx(pt==null?void 0:pt.className,o==null?void 0:o.className,$,_==null?void 0:_.className,a==null?void 0:a.className),mt={...pt==null?void 0:pt.style,...o==null?void 0:o.style,..._==null?void 0:_.style,...a==null?void 0:a.style},vt={...pt,...o,...ot,...tt};return ut.length>0&&(vt.className=ut),Object.keys(mt).length>0&&(vt.style=mt),{props:vt,internalRef:pt.ref}}function resolveComponentProps(i,s,o){return typeof i=="function"?i(s,o):i}function useSlotProps(i){var mt;const{elementType:s,externalSlotProps:o,ownerState:a,skipResolvingSlotProps:_=!1,...$}=i,nt=_?{}:resolveComponentProps(o,a),{props:tt,internalRef:ot}=mergeSlotProps({...$,externalSlotProps:nt}),pt=useForkRef(ot,nt==null?void 0:nt.ref,(mt=i.additionalProps)==null?void 0:mt.ref);return appendOwnerState(s,{...tt,ref:pt},a)}function getReactElementRef(i){var s;return parseInt(reactExports.version,10)>=19?(s=i.props)==null?void 0:s.ref:i==null?void 0:i.ref}const RtlContext=reactExports.createContext(),useRtl=()=>reactExports.useContext(RtlContext)??!1,PropsContext=reactExports.createContext(void 0);function getThemeProps(i){const{theme:s,name:o,props:a}=i;if(!s||!s.components||!s.components[o])return a;const _=s.components[o];return _.defaultProps?resolveProps(_.defaultProps,a):!_.styleOverrides&&!_.variants?resolveProps(_,a):a}function useDefaultProps$1({props:i,name:s}){const o=reactExports.useContext(PropsContext);return getThemeProps({props:i,name:s,theme:{components:o}})}function createGetCssVar$1(i=""){function s(...a){if(!a.length)return"";const _=a[0];return typeof _=="string"&&!_.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${i?`${i}-`:""}${_}${s(...a.slice(1))})`:`, ${_}`}return(a,..._)=>`var(--${i?`${i}-`:""}${a}${s(..._)})`}const assignNestedKeys=(i,s,o,a=[])=>{let _=i;s.forEach(($,nt)=>{nt===s.length-1?Array.isArray(_)?_[Number($)]=o:_&&typeof _=="object"&&(_[$]=o):_&&typeof _=="object"&&(_[$]||(_[$]=a.includes($)?[]:{}),_=_[$])})},walkObjectDeep=(i,s,o)=>{function a(_,$=[],nt=[]){Object.entries(_).forEach(([tt,ot])=>{(!o||o&&!o([...$,tt]))&&ot!=null&&(typeof ot=="object"&&Object.keys(ot).length>0?a(ot,[...$,tt],Array.isArray(ot)?[...nt,tt]:nt):s([...$,tt],ot,nt))})}a(i)},getCssValue=(i,s)=>typeof s=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(a=>i.includes(a))||i[i.length-1].toLowerCase().includes("opacity")?s:`${s}px`:s;function cssVarsParser(i,s){const{prefix:o,shouldSkipGeneratingVar:a}=s||{},_={},$={},nt={};return walkObjectDeep(i,(tt,ot,pt)=>{if((typeof ot=="string"||typeof ot=="number")&&(!a||!a(tt,ot))){const ut=`--${o?`${o}-`:""}${tt.join("-")}`,mt=getCssValue(tt,ot);Object.assign(_,{[ut]:mt}),assignNestedKeys($,tt,`var(${ut})`,pt),assignNestedKeys(nt,tt,`var(${ut}, ${mt})`,pt)}},tt=>tt[0]==="vars"),{css:_,vars:$,varsWithDefaults:nt}}function prepareCssVars(i,s={}){const{getSelector:o=j,disableCssColorScheme:a,colorSchemeSelector:_}=s,{colorSchemes:$={},components:nt,defaultColorScheme:tt="light",...ot}=i,{vars:pt,css:ut,varsWithDefaults:mt}=cssVarsParser(ot,s);let vt=mt;const ht={},{[tt]:gt,...rt}=$;if(Object.entries(rt||{}).forEach(([st,lt])=>{const{vars:et,css:at,varsWithDefaults:ft}=cssVarsParser(lt,s);vt=deepmerge(vt,ft),ht[st]={css:at,vars:et}}),gt){const{css:st,vars:lt,varsWithDefaults:et}=cssVarsParser(gt,s);vt=deepmerge(vt,et),ht[tt]={css:st,vars:lt}}function j(st,lt){var at,ft;let et=_;if(_==="class"&&(et=".%s"),_==="data"&&(et="[data-%s]"),_!=null&&_.startsWith("data-")&&!_.includes("%s")&&(et=`[${_}="%s"]`),st){if(et==="media")return i.defaultColorScheme===st?":root":{[`@media (prefers-color-scheme: ${((ft=(at=$[st])==null?void 0:at.palette)==null?void 0:ft.mode)||st})`]:{":root":lt}};if(et)return i.defaultColorScheme===st?`:root, ${et.replace("%s",String(st))}`:et.replace("%s",String(st))}return":root"}return{vars:vt,generateThemeVars:()=>{let st={...pt};return Object.entries(ht).forEach(([,{vars:lt}])=>{st=deepmerge(st,lt)}),st},generateStyleSheets:()=>{var ct,xt;const st=[],lt=i.defaultColorScheme||"light";function et(dt,_t){Object.keys(_t).length&&st.push(typeof dt=="string"?{[dt]:{..._t}}:dt)}et(o(void 0,{...ut}),ut);const{[lt]:at,...ft}=ht;if(at){const{css:dt}=at,_t=(xt=(ct=$[lt])==null?void 0:ct.palette)==null?void 0:xt.mode,Ct=!a&&_t?{colorScheme:_t,...dt}:{...dt};et(o(lt,{...Ct}),Ct)}return Object.entries(ft).forEach(([dt,{css:_t}])=>{var Mt,St;const Ct=(St=(Mt=$[dt])==null?void 0:Mt.palette)==null?void 0:St.mode,Et=!a&&Ct?{colorScheme:Ct,..._t}:{..._t};et(o(dt,{...Et}),Et)}),st}}}function createGetColorSchemeSelector(i){return function(o){return i==="media"?`@media (prefers-color-scheme: ${o})`:i?i.startsWith("data-")&&!i.includes("%s")?`[${i}="${o}"] &`:i==="class"?`.${o} &`:i==="data"?`[data-${o}] &`:`${i.replace("%s",o)} &`:"&"}}const filterBreakpointKeys=(i,s)=>i.filter(o=>s.includes(o)),traverseBreakpoints=(i,s,o)=>{const a=i.keys[0];Array.isArray(s)?s.forEach((_,$)=>{o((nt,tt)=>{$<=i.keys.length-1&&($===0?Object.assign(nt,tt):nt[i.up(i.keys[$])]=tt)},_)}):s&&typeof s=="object"?(Object.keys(s).length>i.keys.length?i.keys:filterBreakpointKeys(i.keys,Object.keys(s))).forEach($=>{if(i.keys.includes($)){const nt=s[$];nt!==void 0&&o((tt,ot)=>{a===$?Object.assign(tt,ot):tt[i.up($)]=ot},nt)}}):(typeof s=="number"||typeof s=="string")&&o((_,$)=>{Object.assign(_,$)},s)};function appendLevel(i){return i?`Level${i}`:""}function isNestedContainer(i){return i.unstable_level>0&&i.container}function createGetSelfSpacing(i){return function(o){return`var(--Grid-${o}Spacing${appendLevel(i.unstable_level)})`}}function createGetParentSpacing(i){return function(o){return i.unstable_level===0?`var(--Grid-${o}Spacing)`:`var(--Grid-${o}Spacing${appendLevel(i.unstable_level-1)})`}}function getParentColumns(i){return i.unstable_level===0?"var(--Grid-columns)":`var(--Grid-columns${appendLevel(i.unstable_level-1)})`}const generateGridSizeStyles=({theme:i,ownerState:s})=>{const o=createGetParentSpacing(s),a={};return traverseBreakpoints(i.breakpoints,s.size,(_,$)=>{let nt={};$==="grow"&&(nt={flexBasis:0,flexGrow:1,maxWidth:"100%"}),$==="auto"&&(nt={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof $=="number"&&(nt={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${$} / ${getParentColumns(s)} - (${getParentColumns(s)} - ${$}) * (${o("column")} / ${getParentColumns(s)}))`}),_(a,nt)}),a},generateGridOffsetStyles=({theme:i,ownerState:s})=>{const o=createGetParentSpacing(s),a={};return traverseBreakpoints(i.breakpoints,s.offset,(_,$)=>{let nt={};$==="auto"&&(nt={marginLeft:"auto"}),typeof $=="number"&&(nt={marginLeft:$===0?"0px":`calc(100% * ${$} / ${getParentColumns(s)} + ${o("column")} * ${$} / ${getParentColumns(s)})`}),_(a,nt)}),a},generateGridColumnsStyles=({theme:i,ownerState:s})=>{if(!s.container)return{};const o=isNestedContainer(s)?{[`--Grid-columns${appendLevel(s.unstable_level)}`]:getParentColumns(s)}:{"--Grid-columns":12};return traverseBreakpoints(i.breakpoints,s.columns,(a,_)=>{a(o,{[`--Grid-columns${appendLevel(s.unstable_level)}`]:_})}),o},generateGridRowSpacingStyles=({theme:i,ownerState:s})=>{if(!s.container)return{};const o=createGetParentSpacing(s),a=isNestedContainer(s)?{[`--Grid-rowSpacing${appendLevel(s.unstable_level)}`]:o("row")}:{};return traverseBreakpoints(i.breakpoints,s.rowSpacing,(_,$)=>{var nt;_(a,{[`--Grid-rowSpacing${appendLevel(s.unstable_level)}`]:typeof $=="string"?$:(nt=i.spacing)==null?void 0:nt.call(i,$)})}),a},generateGridColumnSpacingStyles=({theme:i,ownerState:s})=>{if(!s.container)return{};const o=createGetParentSpacing(s),a=isNestedContainer(s)?{[`--Grid-columnSpacing${appendLevel(s.unstable_level)}`]:o("column")}:{};return traverseBreakpoints(i.breakpoints,s.columnSpacing,(_,$)=>{var nt;_(a,{[`--Grid-columnSpacing${appendLevel(s.unstable_level)}`]:typeof $=="string"?$:(nt=i.spacing)==null?void 0:nt.call(i,$)})}),a},generateGridDirectionStyles=({theme:i,ownerState:s})=>{if(!s.container)return{};const o={};return traverseBreakpoints(i.breakpoints,s.direction,(a,_)=>{a(o,{flexDirection:_})}),o},generateGridStyles=({ownerState:i})=>{const s=createGetSelfSpacing(i);return{minWidth:0,boxSizing:"border-box",...i.container&&{display:"flex",flexWrap:"wrap",...i.wrap&&i.wrap!=="wrap"&&{flexWrap:i.wrap},gap:`${s("row")} ${s("column")}`}}},generateSizeClassNames=i=>{const s=[];return Object.entries(i).forEach(([o,a])=>{a!==!1&&a!==void 0&&s.push(`grid-${o}-${String(a)}`)}),s},generateSpacingClassNames=(i,s="xs")=>{function o(a){return a===void 0?!1:typeof a=="string"&&!Number.isNaN(Number(a))||typeof a=="number"&&a>0}if(o(i))return[`spacing-${s}-${String(i)}`];if(typeof i=="object"&&!Array.isArray(i)){const a=[];return Object.entries(i).forEach(([_,$])=>{o($)&&a.push(`spacing-${_}-${String($)}`)}),a}return[]},generateDirectionClasses=i=>i===void 0?[]:typeof i=="object"?Object.entries(i).map(([s,o])=>`direction-${s}-${o}`):[`direction-xs-${String(i)}`],defaultTheme$2=createTheme$1(),defaultCreateStyledComponent=styled$1("div",{name:"MuiGrid",slot:"Root",overridesResolver:(i,s)=>s.root});function useThemePropsDefault(i){return useThemeProps$1({props:i,name:"MuiGrid",defaultTheme:defaultTheme$2})}function createGrid(i={}){const{createStyledComponent:s=defaultCreateStyledComponent,useThemeProps:o=useThemePropsDefault,componentName:a="MuiGrid"}=i,_=(ot,pt)=>{const{container:ut,direction:mt,spacing:vt,wrap:ht,size:gt}=ot,rt={root:["root",ut&&"container",ht!=="wrap"&&`wrap-xs-${String(ht)}`,...generateDirectionClasses(mt),...generateSizeClassNames(gt),...ut?generateSpacingClassNames(vt,pt.breakpoints.keys[0]):[]]};return composeClasses(rt,j=>generateUtilityClass(a,j),{})};function $(ot,pt,ut=()=>!0){const mt={};return ot===null||(Array.isArray(ot)?ot.forEach((vt,ht)=>{vt!==null&&ut(vt)&&pt.keys[ht]&&(mt[pt.keys[ht]]=vt)}):typeof ot=="object"?Object.keys(ot).forEach(vt=>{const ht=ot[vt];ht!=null&&ut(ht)&&(mt[vt]=ht)}):mt[pt.keys[0]]=ot),mt}const nt=s(generateGridColumnsStyles,generateGridColumnSpacingStyles,generateGridRowSpacingStyles,generateGridSizeStyles,generateGridDirectionStyles,generateGridStyles,generateGridOffsetStyles),tt=reactExports.forwardRef(function(pt,ut){const mt=useTheme$1(),vt=o(pt),ht=extendSxProp$1(vt),{className:gt,children:rt,columns:j=12,container:_e=!1,component:it="div",direction:st="row",wrap:lt="wrap",size:et={},offset:at={},spacing:ft=0,rowSpacing:ct=ft,columnSpacing:xt=ft,unstable_level:dt=0,..._t}=ht,Ct=$(et,mt.breakpoints,Lt=>Lt!==!1),Et=$(at,mt.breakpoints),Mt=pt.columns??(dt?void 0:j),St=pt.spacing??(dt?void 0:ft),Ot=pt.rowSpacing??pt.spacing??(dt?void 0:ct),At=pt.columnSpacing??pt.spacing??(dt?void 0:xt),wt={...ht,level:dt,columns:Mt,container:_e,direction:st,wrap:lt,spacing:St,rowSpacing:Ot,columnSpacing:At,size:Ct,offset:Et},Pt=_(wt,mt);return jsxRuntimeExports.jsx(nt,{ref:ut,as:it,ownerState:wt,className:clsx(Pt.root,gt),..._t,children:reactExports.Children.map(rt,Lt=>{var Rt;return reactExports.isValidElement(Lt)&&isMuiElement(Lt,["Grid"])?reactExports.cloneElement(Lt,{unstable_level:((Rt=Lt.props)==null?void 0:Rt.unstable_level)??dt+1}):Lt})})});return tt.muiName="Grid",tt}const light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common.white,default:common.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(i,s,o,a){const _=a.light||a,$=a.dark||a*1.5;i[s]||(i.hasOwnProperty(o)?i[s]=i[o]:s==="light"?i.light=lighten(i.main,_):s==="dark"&&(i.dark=darken(i.main,$)))}function getDefaultPrimary(i="light"){return i==="dark"?{main:blue[200],light:blue[50],dark:blue[400]}:{main:blue[700],light:blue[400],dark:blue[800]}}function getDefaultSecondary(i="light"){return i==="dark"?{main:purple[200],light:purple[50],dark:purple[400]}:{main:purple[500],light:purple[300],dark:purple[700]}}function getDefaultError(i="light"){return i==="dark"?{main:red[500],light:red[300],dark:red[700]}:{main:red[700],light:red[400],dark:red[800]}}function getDefaultInfo(i="light"){return i==="dark"?{main:lightBlue[400],light:lightBlue[300],dark:lightBlue[700]}:{main:lightBlue[700],light:lightBlue[500],dark:lightBlue[900]}}function getDefaultSuccess(i="light"){return i==="dark"?{main:green[400],light:green[300],dark:green[700]}:{main:green[800],light:green[500],dark:green[900]}}function getDefaultWarning(i="light"){return i==="dark"?{main:orange[400],light:orange[300],dark:orange[700]}:{main:"#ed6c02",light:orange[500],dark:orange[900]}}function createPalette(i){const{mode:s="light",contrastThreshold:o=3,tonalOffset:a=.2,..._}=i,$=i.primary||getDefaultPrimary(s),nt=i.secondary||getDefaultSecondary(s),tt=i.error||getDefaultError(s),ot=i.info||getDefaultInfo(s),pt=i.success||getDefaultSuccess(s),ut=i.warning||getDefaultWarning(s);function mt(rt){return getContrastRatio(rt,dark.text.primary)>=o?dark.text.primary:light.text.primary}const vt=({color:rt,name:j,mainShade:_e=500,lightShade:it=300,darkShade:st=700})=>{if(rt={...rt},!rt.main&&rt[_e]&&(rt.main=rt[_e]),!rt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,j?` (${j})`:"",_e));if(typeof rt.main!="string")throw new Error(formatMuiErrorMessage(12,j?` (${j})`:"",JSON.stringify(rt.main)));return addLightOrDark(rt,"light",it,a),addLightOrDark(rt,"dark",st,a),rt.contrastText||(rt.contrastText=mt(rt.main)),rt},ht={dark,light};return deepmerge({common:{...common},mode:s,primary:vt({color:$,name:"primary"}),secondary:vt({color:nt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:vt({color:tt,name:"error"}),warning:vt({color:ut,name:"warning"}),info:vt({color:ot,name:"info"}),success:vt({color:pt,name:"success"}),grey,contrastThreshold:o,getContrastText:mt,augmentColor:vt,tonalOffset:a,...ht[s]},_)}function prepareTypographyVars(i){const s={};return Object.entries(i).forEach(a=>{const[_,$]=a;typeof $=="object"&&(s[_]=`${$.fontStyle?`${$.fontStyle} `:""}${$.fontVariant?`${$.fontVariant} `:""}${$.fontWeight?`${$.fontWeight} `:""}${$.fontStretch?`${$.fontStretch} `:""}${$.fontSize||""}${$.lineHeight?`/${$.lineHeight} `:""}${$.fontFamily||""}`)}),s}function createMixins(i,s){return{toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}},...s}}function round$2(i){return Math.round(i*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(i,s){const{fontFamily:o=defaultFontFamily,fontSize:a=14,fontWeightLight:_=300,fontWeightRegular:$=400,fontWeightMedium:nt=500,fontWeightBold:tt=700,htmlFontSize:ot=16,allVariants:pt,pxToRem:ut,...mt}=typeof s=="function"?s(i):s,vt=a/14,ht=ut||(j=>`${j/ot*vt}rem`),gt=(j,_e,it,st,lt)=>({fontFamily:o,fontWeight:j,fontSize:ht(_e),lineHeight:it,...o===defaultFontFamily?{letterSpacing:`${round$2(st/_e)}em`}:{},...lt,...pt}),rt={h1:gt(_,96,1.167,-1.5),h2:gt(_,60,1.2,-.5),h3:gt($,48,1.167,0),h4:gt($,34,1.235,.25),h5:gt($,24,1.334,0),h6:gt(nt,20,1.6,.15),subtitle1:gt($,16,1.75,.15),subtitle2:gt(nt,14,1.57,.1),body1:gt($,16,1.5,.15),body2:gt($,14,1.43,.15),button:gt(nt,14,1.75,.4,caseAllCaps),caption:gt($,12,1.66,.4),overline:gt($,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge({htmlFontSize:ot,pxToRem:ht,fontFamily:o,fontSize:a,fontWeightLight:_,fontWeightRegular:$,fontWeightMedium:nt,fontWeightBold:tt,...rt},mt,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(i){return`${Math.round(i)}ms`}function getAutoHeightDuration(i){if(!i)return 0;const s=i/36;return Math.min(Math.round((4+15*s**.25+s/5)*10),3e3)}function createTransitions(i){const s={...easing,...i.easing},o={...duration,...i.duration};return{getAutoHeightDuration,create:(_=["all"],$={})=>{const{duration:nt=o.standard,easing:tt=s.easeInOut,delay:ot=0,...pt}=$;return(Array.isArray(_)?_:[_]).map(ut=>`${ut} ${typeof nt=="string"?nt:formatMs(nt)} ${tt} ${typeof ot=="string"?ot:formatMs(ot)}`).join(",")},...i,easing:s,duration:o}}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function createThemeNoVars(i={},...s){const{breakpoints:o,mixins:a={},spacing:_,palette:$={},transitions:nt={},typography:tt={},shape:ot,...pt}=i;if(i.vars)throw new Error(formatMuiErrorMessage(20));const ut=createPalette($),mt=createTheme$1(i);let vt=deepmerge(mt,{mixins:createMixins(mt.breakpoints,a),palette:ut,shadows:shadows.slice(),typography:createTypography(ut,tt),transitions:createTransitions(nt),zIndex:{...zIndex}});return vt=deepmerge(vt,pt),vt=s.reduce((ht,gt)=>deepmerge(ht,gt),vt),vt.unstable_sxConfig={...defaultSxConfig,...pt==null?void 0:pt.unstable_sxConfig},vt.unstable_sx=function(gt){return styleFunctionSx({sx:gt,theme:this})},vt}function getOverlayAlpha(i){let s;return i<1?s=5.11916*i**2:s=4.5*Math.log(i+1)+2,Math.round(s*10)/1e3}const defaultDarkOverlays=[...Array(25)].map((i,s)=>{if(s===0)return"none";const o=getOverlayAlpha(s);return`linear-gradient(rgba(255 255 255 / ${o}), rgba(255 255 255 / ${o}))`});function getOpacity(i){return{inputPlaceholder:i==="dark"?.5:.42,inputUnderline:i==="dark"?.7:.42,switchTrackDisabled:i==="dark"?.2:.12,switchTrack:i==="dark"?.3:.38}}function getOverlays(i){return i==="dark"?defaultDarkOverlays:[]}function createColorScheme(i){const{palette:s={mode:"light"},opacity:o,overlays:a,..._}=i,$=createPalette(s);return{palette:$,opacity:{...getOpacity($.mode),...o},overlays:a||getOverlays($.mode),..._}}function shouldSkipGeneratingVar(i){var s;return!!i[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!i[0].match(/sxConfig$/)||i[0]==="palette"&&!!((s=i[1])!=null&&s.match(/(mode|contrastThreshold|tonalOffset)/))}const excludeVariablesFromRoot=i=>[...[...Array(25)].map((s,o)=>`--${i?`${i}-`:""}overlays-${o}`),`--${i?`${i}-`:""}palette-AppBar-darkBg`,`--${i?`${i}-`:""}palette-AppBar-darkColor`],defaultGetSelector=i=>(s,o)=>{const a=i.rootSelector||":root",_=i.colorSchemeSelector;let $=_;if(_==="class"&&($=".%s"),_==="data"&&($="[data-%s]"),_!=null&&_.startsWith("data-")&&!_.includes("%s")&&($=`[${_}="%s"]`),i.defaultColorScheme===s){if(s==="dark"){const nt={};return excludeVariablesFromRoot(i.cssVarPrefix).forEach(tt=>{nt[tt]=o[tt],delete o[tt]}),$==="media"?{[a]:o,"@media (prefers-color-scheme: dark)":{[a]:nt}}:$?{[$.replace("%s",s)]:nt,[`${a}, ${$.replace("%s",s)}`]:o}:{[a]:{...o,...nt}}}if($&&$!=="media")return`${a}, ${$.replace("%s",String(s))}`}else if(s){if($==="media")return{[`@media (prefers-color-scheme: ${String(s)})`]:{[a]:o}};if($)return $.replace("%s",String(s))}return a};function isSerializable(i){return isPlainObject(i)||typeof i>"u"||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||Array.isArray(i)}function stringifyTheme(i={}){const s={...i};function o(a){const _=Object.entries(a);for(let $=0;$<_.length;$++){const[nt,tt]=_[$];!isSerializable(tt)||nt.startsWith("unstable_")?delete a[nt]:isPlainObject(tt)&&(a[nt]={...tt},o(a[nt]))}}return o(s),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(s,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function assignNode(i,s){s.forEach(o=>{i[o]||(i[o]={})})}function setColor(i,s,o){!i[s]&&o&&(i[s]=o)}function toRgb(i){return!i||!i.startsWith("hsl")?i:hslToRgb(i)}function setColorChannel(i,s){`${s}Channel`in i||(i[`${s}Channel`]=private_safeColorChannel(toRgb(i[s]),`MUI: Can't create \`palette.${s}Channel\` because \`palette.${s}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${s}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function getSpacingVal(i){return typeof i=="number"?`${i}px`:typeof i=="string"||typeof i=="function"||Array.isArray(i)?i:"8px"}const silent=i=>{try{return i()}catch{}},createGetCssVar=(i="mui")=>createGetCssVar$1(i);function attachColorScheme$1(i,s,o,a){if(!s)return;s=s===!0?{}:s;const _=a==="dark"?"dark":"light";if(!o){i[a]=createColorScheme({...s,palette:{mode:_,...s==null?void 0:s.palette}});return}const{palette:$,...nt}=createThemeNoVars({...o,palette:{mode:_,...s==null?void 0:s.palette}});return i[a]={...s,palette:$,opacity:{...getOpacity(_),...s==null?void 0:s.opacity},overlays:(s==null?void 0:s.overlays)||getOverlays(_)},nt}function createThemeWithVars(i={},...s){const{colorSchemes:o={light:!0},defaultColorScheme:a,disableCssColorScheme:_=!1,cssVarPrefix:$="mui",shouldSkipGeneratingVar:nt=shouldSkipGeneratingVar,colorSchemeSelector:tt=o.light&&o.dark?"media":void 0,rootSelector:ot=":root",...pt}=i,ut=Object.keys(o)[0],mt=a||(o.light&&ut!=="light"?"light":ut),vt=createGetCssVar($),{[mt]:ht,light:gt,dark:rt,...j}=o,_e={...j};let it=ht;if((mt==="dark"&&!("dark"in o)||mt==="light"&&!("light"in o))&&(it=!0),!it)throw new Error(formatMuiErrorMessage(21,mt));const st=attachColorScheme$1(_e,it,pt,mt);gt&&!_e.light&&attachColorScheme$1(_e,gt,void 0,"light"),rt&&!_e.dark&&attachColorScheme$1(_e,rt,void 0,"dark");let lt={defaultColorScheme:mt,...st,cssVarPrefix:$,colorSchemeSelector:tt,rootSelector:ot,getCssVar:vt,colorSchemes:_e,font:{...prepareTypographyVars(st.typography),...st.font},spacing:getSpacingVal(pt.spacing)};Object.keys(lt.colorSchemes).forEach(xt=>{const dt=lt.colorSchemes[xt].palette,_t=Ct=>{const Et=Ct.split("-"),Mt=Et[1],St=Et[2];return vt(Ct,dt[Mt][St])};if(dt.mode==="light"&&(setColor(dt.common,"background","#fff"),setColor(dt.common,"onBackground","#000")),dt.mode==="dark"&&(setColor(dt.common,"background","#000"),setColor(dt.common,"onBackground","#fff")),assignNode(dt,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),dt.mode==="light"){setColor(dt.Alert,"errorColor",private_safeDarken(dt.error.light,.6)),setColor(dt.Alert,"infoColor",private_safeDarken(dt.info.light,.6)),setColor(dt.Alert,"successColor",private_safeDarken(dt.success.light,.6)),setColor(dt.Alert,"warningColor",private_safeDarken(dt.warning.light,.6)),setColor(dt.Alert,"errorFilledBg",_t("palette-error-main")),setColor(dt.Alert,"infoFilledBg",_t("palette-info-main")),setColor(dt.Alert,"successFilledBg",_t("palette-success-main")),setColor(dt.Alert,"warningFilledBg",_t("palette-warning-main")),setColor(dt.Alert,"errorFilledColor",silent(()=>dt.getContrastText(dt.error.main))),setColor(dt.Alert,"infoFilledColor",silent(()=>dt.getContrastText(dt.info.main))),setColor(dt.Alert,"successFilledColor",silent(()=>dt.getContrastText(dt.success.main))),setColor(dt.Alert,"warningFilledColor",silent(()=>dt.getContrastText(dt.warning.main))),setColor(dt.Alert,"errorStandardBg",private_safeLighten(dt.error.light,.9)),setColor(dt.Alert,"infoStandardBg",private_safeLighten(dt.info.light,.9)),setColor(dt.Alert,"successStandardBg",private_safeLighten(dt.success.light,.9)),setColor(dt.Alert,"warningStandardBg",private_safeLighten(dt.warning.light,.9)),setColor(dt.Alert,"errorIconColor",_t("palette-error-main")),setColor(dt.Alert,"infoIconColor",_t("palette-info-main")),setColor(dt.Alert,"successIconColor",_t("palette-success-main")),setColor(dt.Alert,"warningIconColor",_t("palette-warning-main")),setColor(dt.AppBar,"defaultBg",_t("palette-grey-100")),setColor(dt.Avatar,"defaultBg",_t("palette-grey-400")),setColor(dt.Button,"inheritContainedBg",_t("palette-grey-300")),setColor(dt.Button,"inheritContainedHoverBg",_t("palette-grey-A100")),setColor(dt.Chip,"defaultBorder",_t("palette-grey-400")),setColor(dt.Chip,"defaultAvatarColor",_t("palette-grey-700")),setColor(dt.Chip,"defaultIconColor",_t("palette-grey-700")),setColor(dt.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),setColor(dt.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),setColor(dt.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),setColor(dt.LinearProgress,"primaryBg",private_safeLighten(dt.primary.main,.62)),setColor(dt.LinearProgress,"secondaryBg",private_safeLighten(dt.secondary.main,.62)),setColor(dt.LinearProgress,"errorBg",private_safeLighten(dt.error.main,.62)),setColor(dt.LinearProgress,"infoBg",private_safeLighten(dt.info.main,.62)),setColor(dt.LinearProgress,"successBg",private_safeLighten(dt.success.main,.62)),setColor(dt.LinearProgress,"warningBg",private_safeLighten(dt.warning.main,.62)),setColor(dt.Skeleton,"bg",`rgba(${_t("palette-text-primaryChannel")} / 0.11)`),setColor(dt.Slider,"primaryTrack",private_safeLighten(dt.primary.main,.62)),setColor(dt.Slider,"secondaryTrack",private_safeLighten(dt.secondary.main,.62)),setColor(dt.Slider,"errorTrack",private_safeLighten(dt.error.main,.62)),setColor(dt.Slider,"infoTrack",private_safeLighten(dt.info.main,.62)),setColor(dt.Slider,"successTrack",private_safeLighten(dt.success.main,.62)),setColor(dt.Slider,"warningTrack",private_safeLighten(dt.warning.main,.62));const Ct=private_safeEmphasize(dt.background.default,.8);setColor(dt.SnackbarContent,"bg",Ct),setColor(dt.SnackbarContent,"color",silent(()=>dt.getContrastText(Ct))),setColor(dt.SpeedDialAction,"fabHoverBg",private_safeEmphasize(dt.background.paper,.15)),setColor(dt.StepConnector,"border",_t("palette-grey-400")),setColor(dt.StepContent,"border",_t("palette-grey-400")),setColor(dt.Switch,"defaultColor",_t("palette-common-white")),setColor(dt.Switch,"defaultDisabledColor",_t("palette-grey-100")),setColor(dt.Switch,"primaryDisabledColor",private_safeLighten(dt.primary.main,.62)),setColor(dt.Switch,"secondaryDisabledColor",private_safeLighten(dt.secondary.main,.62)),setColor(dt.Switch,"errorDisabledColor",private_safeLighten(dt.error.main,.62)),setColor(dt.Switch,"infoDisabledColor",private_safeLighten(dt.info.main,.62)),setColor(dt.Switch,"successDisabledColor",private_safeLighten(dt.success.main,.62)),setColor(dt.Switch,"warningDisabledColor",private_safeLighten(dt.warning.main,.62)),setColor(dt.TableCell,"border",private_safeLighten(private_safeAlpha(dt.divider,1),.88)),setColor(dt.Tooltip,"bg",private_safeAlpha(dt.grey[700],.92))}if(dt.mode==="dark"){setColor(dt.Alert,"errorColor",private_safeLighten(dt.error.light,.6)),setColor(dt.Alert,"infoColor",private_safeLighten(dt.info.light,.6)),setColor(dt.Alert,"successColor",private_safeLighten(dt.success.light,.6)),setColor(dt.Alert,"warningColor",private_safeLighten(dt.warning.light,.6)),setColor(dt.Alert,"errorFilledBg",_t("palette-error-dark")),setColor(dt.Alert,"infoFilledBg",_t("palette-info-dark")),setColor(dt.Alert,"successFilledBg",_t("palette-success-dark")),setColor(dt.Alert,"warningFilledBg",_t("palette-warning-dark")),setColor(dt.Alert,"errorFilledColor",silent(()=>dt.getContrastText(dt.error.dark))),setColor(dt.Alert,"infoFilledColor",silent(()=>dt.getContrastText(dt.info.dark))),setColor(dt.Alert,"successFilledColor",silent(()=>dt.getContrastText(dt.success.dark))),setColor(dt.Alert,"warningFilledColor",silent(()=>dt.getContrastText(dt.warning.dark))),setColor(dt.Alert,"errorStandardBg",private_safeDarken(dt.error.light,.9)),setColor(dt.Alert,"infoStandardBg",private_safeDarken(dt.info.light,.9)),setColor(dt.Alert,"successStandardBg",private_safeDarken(dt.success.light,.9)),setColor(dt.Alert,"warningStandardBg",private_safeDarken(dt.warning.light,.9)),setColor(dt.Alert,"errorIconColor",_t("palette-error-main")),setColor(dt.Alert,"infoIconColor",_t("palette-info-main")),setColor(dt.Alert,"successIconColor",_t("palette-success-main")),setColor(dt.Alert,"warningIconColor",_t("palette-warning-main")),setColor(dt.AppBar,"defaultBg",_t("palette-grey-900")),setColor(dt.AppBar,"darkBg",_t("palette-background-paper")),setColor(dt.AppBar,"darkColor",_t("palette-text-primary")),setColor(dt.Avatar,"defaultBg",_t("palette-grey-600")),setColor(dt.Button,"inheritContainedBg",_t("palette-grey-800")),setColor(dt.Button,"inheritContainedHoverBg",_t("palette-grey-700")),setColor(dt.Chip,"defaultBorder",_t("palette-grey-700")),setColor(dt.Chip,"defaultAvatarColor",_t("palette-grey-300")),setColor(dt.Chip,"defaultIconColor",_t("palette-grey-300")),setColor(dt.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),setColor(dt.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),setColor(dt.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),setColor(dt.LinearProgress,"primaryBg",private_safeDarken(dt.primary.main,.5)),setColor(dt.LinearProgress,"secondaryBg",private_safeDarken(dt.secondary.main,.5)),setColor(dt.LinearProgress,"errorBg",private_safeDarken(dt.error.main,.5)),setColor(dt.LinearProgress,"infoBg",private_safeDarken(dt.info.main,.5)),setColor(dt.LinearProgress,"successBg",private_safeDarken(dt.success.main,.5)),setColor(dt.LinearProgress,"warningBg",private_safeDarken(dt.warning.main,.5)),setColor(dt.Skeleton,"bg",`rgba(${_t("palette-text-primaryChannel")} / 0.13)`),setColor(dt.Slider,"primaryTrack",private_safeDarken(dt.primary.main,.5)),setColor(dt.Slider,"secondaryTrack",private_safeDarken(dt.secondary.main,.5)),setColor(dt.Slider,"errorTrack",private_safeDarken(dt.error.main,.5)),setColor(dt.Slider,"infoTrack",private_safeDarken(dt.info.main,.5)),setColor(dt.Slider,"successTrack",private_safeDarken(dt.success.main,.5)),setColor(dt.Slider,"warningTrack",private_safeDarken(dt.warning.main,.5));const Ct=private_safeEmphasize(dt.background.default,.98);setColor(dt.SnackbarContent,"bg",Ct),setColor(dt.SnackbarContent,"color",silent(()=>dt.getContrastText(Ct))),setColor(dt.SpeedDialAction,"fabHoverBg",private_safeEmphasize(dt.background.paper,.15)),setColor(dt.StepConnector,"border",_t("palette-grey-600")),setColor(dt.StepContent,"border",_t("palette-grey-600")),setColor(dt.Switch,"defaultColor",_t("palette-grey-300")),setColor(dt.Switch,"defaultDisabledColor",_t("palette-grey-600")),setColor(dt.Switch,"primaryDisabledColor",private_safeDarken(dt.primary.main,.55)),setColor(dt.Switch,"secondaryDisabledColor",private_safeDarken(dt.secondary.main,.55)),setColor(dt.Switch,"errorDisabledColor",private_safeDarken(dt.error.main,.55)),setColor(dt.Switch,"infoDisabledColor",private_safeDarken(dt.info.main,.55)),setColor(dt.Switch,"successDisabledColor",private_safeDarken(dt.success.main,.55)),setColor(dt.Switch,"warningDisabledColor",private_safeDarken(dt.warning.main,.55)),setColor(dt.TableCell,"border",private_safeDarken(private_safeAlpha(dt.divider,1),.68)),setColor(dt.Tooltip,"bg",private_safeAlpha(dt.grey[700],.92))}setColorChannel(dt.background,"default"),setColorChannel(dt.background,"paper"),setColorChannel(dt.common,"background"),setColorChannel(dt.common,"onBackground"),setColorChannel(dt,"divider"),Object.keys(dt).forEach(Ct=>{const Et=dt[Ct];Et&&typeof Et=="object"&&(Et.main&&setColor(dt[Ct],"mainChannel",private_safeColorChannel(toRgb(Et.main))),Et.light&&setColor(dt[Ct],"lightChannel",private_safeColorChannel(toRgb(Et.light))),Et.dark&&setColor(dt[Ct],"darkChannel",private_safeColorChannel(toRgb(Et.dark))),Et.contrastText&&setColor(dt[Ct],"contrastTextChannel",private_safeColorChannel(toRgb(Et.contrastText))),Ct==="text"&&(setColorChannel(dt[Ct],"primary"),setColorChannel(dt[Ct],"secondary")),Ct==="action"&&(Et.active&&setColorChannel(dt[Ct],"active"),Et.selected&&setColorChannel(dt[Ct],"selected")))})}),lt=s.reduce((xt,dt)=>deepmerge(xt,dt),lt);const et={prefix:$,disableCssColorScheme:_,shouldSkipGeneratingVar:nt,getSelector:defaultGetSelector(lt)},{vars:at,generateThemeVars:ft,generateStyleSheets:ct}=prepareCssVars(lt,et);return lt.vars=at,Object.entries(lt.colorSchemes[lt.defaultColorScheme]).forEach(([xt,dt])=>{lt[xt]=dt}),lt.generateThemeVars=ft,lt.generateStyleSheets=ct,lt.generateSpacing=function(){return createSpacing(pt.spacing,createUnarySpacing(this))},lt.getColorSchemeSelector=createGetColorSchemeSelector(tt),lt.spacing=lt.generateSpacing(),lt.shouldSkipGeneratingVar=nt,lt.unstable_sxConfig={...defaultSxConfig,...pt==null?void 0:pt.unstable_sxConfig},lt.unstable_sx=function(dt){return styleFunctionSx({sx:dt,theme:this})},lt.toRuntimeSource=stringifyTheme,lt}function attachColorScheme(i,s,o){i.colorSchemes&&o&&(i.colorSchemes[s]={...o!==!0&&o,palette:createPalette({...o===!0?{}:o.palette,mode:s})})}function createTheme(i={},...s){const{palette:o,cssVariables:a=!1,colorSchemes:_=o?void 0:{light:!0},defaultColorScheme:$=o==null?void 0:o.mode,...nt}=i,tt=$||"light",ot=_==null?void 0:_[tt],pt={..._,...o?{[tt]:{...typeof ot!="boolean"&&ot,palette:o}}:void 0};if(a===!1){if(!("colorSchemes"in i))return createThemeNoVars(i,...s);let ut=o;"palette"in i||pt[tt]&&(pt[tt]!==!0?ut=pt[tt].palette:tt==="dark"&&(ut={mode:"dark"}));const mt=createThemeNoVars({...i,palette:ut},...s);return mt.defaultColorScheme=tt,mt.colorSchemes=pt,mt.palette.mode==="light"&&(mt.colorSchemes.light={...pt.light!==!0&&pt.light,palette:mt.palette},attachColorScheme(mt,"dark",pt.dark)),mt.palette.mode==="dark"&&(mt.colorSchemes.dark={...pt.dark!==!0&&pt.dark,palette:mt.palette},attachColorScheme(mt,"light",pt.light)),mt}return!o&&!("light"in pt)&&tt==="light"&&(pt.light=!0),createThemeWithVars({...nt,colorSchemes:pt,defaultColorScheme:tt,...typeof a!="boolean"&&a},...s)}const defaultTheme$1=createTheme();function useTheme(){const i=useTheme$1(defaultTheme$1);return i[THEME_ID]||i}function useThemeProps({props:i,name:s}){return useThemeProps$1({props:i,name:s,defaultTheme:defaultTheme$1,themeId:THEME_ID})}function slotShouldForwardProp(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const rootShouldForwardProp=i=>slotShouldForwardProp(i)&&i!=="classes",styled=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp});function GlobalStyles(i){return jsxRuntimeExports.jsx(GlobalStyles$1,{...i,defaultTheme:defaultTheme$1,themeId:THEME_ID})}function globalCss(i){return function(o){return jsxRuntimeExports.jsx(GlobalStyles,{styles:typeof i=="function"?a=>i({theme:a,...o}):i})}}function internal_createExtendSxProp(){return extendSxProp$1}const arg={theme:void 0};function memoTheme(i){let s,o;return a=>{let _=s;return(_===void 0||a.theme!==o)&&(arg.theme=a.theme,_=i(arg),s=_,o=a.theme),_}}function useDefaultProps(i){return useDefaultProps$1(i)}function getSvgIconUtilityClass(i){return generateUtilityClass("MuiSvgIcon",i)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const useUtilityClasses$r=i=>{const{color:s,fontSize:o,classes:a}=i,_={root:["root",s!=="inherit"&&`color${capitalize(s)}`,`fontSize${capitalize(o)}`]};return composeClasses(_,getSvgIconUtilityClass,a)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,o.color!=="inherit"&&s[`color${capitalize(o.color)}`],s[`fontSize${capitalize(o.fontSize)}`]]}})(memoTheme(({theme:i})=>{var s,o,a,_,$,nt,tt,ot,pt,ut,mt,vt,ht,gt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(_=(s=i.transitions)==null?void 0:s.create)==null?void 0:_.call(s,"fill",{duration:(a=(o=(i.vars??i).transitions)==null?void 0:o.duration)==null?void 0:a.shorter}),variants:[{props:rt=>!rt.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((nt=($=i.typography)==null?void 0:$.pxToRem)==null?void 0:nt.call($,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((ot=(tt=i.typography)==null?void 0:tt.pxToRem)==null?void 0:ot.call(tt,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((ut=(pt=i.typography)==null?void 0:pt.pxToRem)==null?void 0:ut.call(pt,35))||"2.1875rem"}},...Object.entries((i.vars??i).palette).filter(([,rt])=>rt&&rt.main).map(([rt])=>{var j,_e;return{props:{color:rt},style:{color:(_e=(j=(i.vars??i).palette)==null?void 0:j[rt])==null?void 0:_e.main}}}),{props:{color:"action"},style:{color:(vt=(mt=(i.vars??i).palette)==null?void 0:mt.action)==null?void 0:vt.active}},{props:{color:"disabled"},style:{color:(gt=(ht=(i.vars??i).palette)==null?void 0:ht.action)==null?void 0:gt.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),SvgIcon=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiSvgIcon"}),{children:_,className:$,color:nt="inherit",component:tt="svg",fontSize:ot="medium",htmlColor:pt,inheritViewBox:ut=!1,titleAccess:mt,viewBox:vt="0 0 24 24",...ht}=a,gt=reactExports.isValidElement(_)&&_.type==="svg",rt={...a,color:nt,component:tt,fontSize:ot,instanceFontSize:s.fontSize,inheritViewBox:ut,viewBox:vt,hasSvgAsChild:gt},j={};ut||(j.viewBox=vt);const _e=useUtilityClasses$r(rt);return jsxRuntimeExports.jsxs(SvgIconRoot,{as:tt,className:clsx(_e.root,$),focusable:"false",color:pt,"aria-hidden":mt?void 0:!0,role:mt?"img":void 0,ref:o,...j,...ht,...gt&&_.props,ownerState:rt,children:[gt?_.props.children:_,mt?jsxRuntimeExports.jsx("title",{children:mt}):null]})});SvgIcon&&(SvgIcon.muiName="SvgIcon");function createSvgIcon(i,s){function o(a,_){return jsxRuntimeExports.jsx(SvgIcon,{"data-testid":`${s}Icon`,ref:_,...a,children:i})}return o.muiName=SvgIcon.muiName,reactExports.memo(reactExports.forwardRef(o))}function _objectWithoutPropertiesLoose(i,s){if(i==null)return{};var o={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(s.includes(a))continue;o[a]=i[a]}return o}function _setPrototypeOf(i,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},_setPrototypeOf(i,s)}function _inheritsLoose(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,_setPrototypeOf(i,s)}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function i(s){return s.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(i){_inheritsLoose(s,i);function s(a,_){var $;$=i.call(this,a,_)||this;var nt=_,tt=nt&&!nt.isMounting?a.enter:a.appear,ot;return $.appearStatus=null,a.in?tt?(ot=EXITED,$.appearStatus=ENTERING):ot=ENTERED:a.unmountOnExit||a.mountOnEnter?ot=UNMOUNTED:ot=EXITED,$.state={status:ot},$.nextCallback=null,$}s.getDerivedStateFromProps=function(_,$){var nt=_.in;return nt&&$.status===UNMOUNTED?{status:EXITED}:null};var o=s.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(_){var $=null;if(_!==this.props){var nt=this.state.status;this.props.in?nt!==ENTERING&&nt!==ENTERED&&($=ENTERING):(nt===ENTERING||nt===ENTERED)&&($=EXITING)}this.updateStatus(!1,$)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var _=this.props.timeout,$,nt,tt;return $=nt=tt=_,_!=null&&typeof _!="number"&&($=_.exit,nt=_.enter,tt=_.appear!==void 0?_.appear:nt),{exit:$,enter:nt,appear:tt}},o.updateStatus=function(_,$){if(_===void 0&&(_=!1),$!==null)if(this.cancelNextCallback(),$===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var nt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);nt&&forceReflow(nt)}this.performEnter(_)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},o.performEnter=function(_){var $=this,nt=this.props.enter,tt=this.context?this.context.isMounting:_,ot=this.props.nodeRef?[tt]:[ReactDOM.findDOMNode(this),tt],pt=ot[0],ut=ot[1],mt=this.getTimeouts(),vt=tt?mt.appear:mt.enter;if(!_&&!nt||config.disabled){this.safeSetState({status:ENTERED},function(){$.props.onEntered(pt)});return}this.props.onEnter(pt,ut),this.safeSetState({status:ENTERING},function(){$.props.onEntering(pt,ut),$.onTransitionEnd(vt,function(){$.safeSetState({status:ENTERED},function(){$.props.onEntered(pt,ut)})})})},o.performExit=function(){var _=this,$=this.props.exit,nt=this.getTimeouts(),tt=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!$||config.disabled){this.safeSetState({status:EXITED},function(){_.props.onExited(tt)});return}this.props.onExit(tt),this.safeSetState({status:EXITING},function(){_.props.onExiting(tt),_.onTransitionEnd(nt.exit,function(){_.safeSetState({status:EXITED},function(){_.props.onExited(tt)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(_,$){$=this.setNextCallback($),this.setState(_,$)},o.setNextCallback=function(_){var $=this,nt=!0;return this.nextCallback=function(tt){nt&&(nt=!1,$.nextCallback=null,_(tt))},this.nextCallback.cancel=function(){nt=!1},this.nextCallback},o.onTransitionEnd=function(_,$){this.setNextCallback($);var nt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),tt=_==null&&!this.props.addEndListener;if(!nt||tt){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var ot=this.props.nodeRef?[this.nextCallback]:[nt,this.nextCallback],pt=ot[0],ut=ot[1];this.props.addEndListener(pt,ut)}_!=null&&setTimeout(this.nextCallback,_)},o.render=function(){var _=this.state.status;if(_===UNMOUNTED)return null;var $=this.props,nt=$.children;$.in,$.mountOnEnter,$.unmountOnExit,$.appear,$.enter,$.exit,$.timeout,$.addEndListener,$.onEnter,$.onEntering,$.onEntered,$.onExit,$.onExiting,$.onExited,$.nodeRef;var tt=_objectWithoutPropertiesLoose($,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof nt=="function"?nt(_,tt):React.cloneElement(React.Children.only(nt),tt))},s}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function getChildMapping(i,s){var o=function($){return s&&reactExports.isValidElement($)?s($):$},a=Object.create(null);return i&&reactExports.Children.map(i,function(_){return _}).forEach(function(_){a[_.key]=o(_)}),a}function mergeChildMappings(i,s){i=i||{},s=s||{};function o(ut){return ut in s?s[ut]:i[ut]}var a=Object.create(null),_=[];for(var $ in i)$ in s?_.length&&(a[$]=_,_=[]):_.push($);var nt,tt={};for(var ot in s){if(a[ot])for(nt=0;nt<a[ot].length;nt++){var pt=a[ot][nt];tt[a[ot][nt]]=o(pt)}tt[ot]=o(ot)}for(nt=0;nt<_.length;nt++)tt[_[nt]]=o(_[nt]);return tt}function getProp(i,s,o){return o[s]!=null?o[s]:i.props[s]}function getInitialChildMapping(i,s){return getChildMapping(i.children,function(o){return reactExports.cloneElement(o,{onExited:s.bind(null,o),in:!0,appear:getProp(o,"appear",i),enter:getProp(o,"enter",i),exit:getProp(o,"exit",i)})})}function getNextChildMapping(i,s,o){var a=getChildMapping(i.children),_=mergeChildMappings(s,a);return Object.keys(_).forEach(function($){var nt=_[$];if(reactExports.isValidElement(nt)){var tt=$ in s,ot=$ in a,pt=s[$],ut=reactExports.isValidElement(pt)&&!pt.props.in;ot&&(!tt||ut)?_[$]=reactExports.cloneElement(nt,{onExited:o.bind(null,nt),in:!0,exit:getProp(nt,"exit",i),enter:getProp(nt,"enter",i)}):!ot&&tt&&!ut?_[$]=reactExports.cloneElement(nt,{in:!1}):ot&&tt&&reactExports.isValidElement(pt)&&(_[$]=reactExports.cloneElement(nt,{onExited:o.bind(null,nt),in:pt.props.in,exit:getProp(nt,"exit",i),enter:getProp(nt,"enter",i)}))}}),_}var values=Object.values||function(i){return Object.keys(i).map(function(s){return i[s]})},defaultProps={component:"div",childFactory:function i(s){return s}},TransitionGroup=function(i){_inheritsLoose(s,i);function s(a,_){var $;$=i.call(this,a,_)||this;var nt=$.handleExited.bind(_assertThisInitialized($));return $.state={contextValue:{isMounting:!0},handleExited:nt,firstRender:!0},$}var o=s.prototype;return o.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},o.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(_,$){var nt=$.children,tt=$.handleExited,ot=$.firstRender;return{children:ot?getInitialChildMapping(_,tt):getNextChildMapping(_,nt,tt),firstRender:!1}},o.handleExited=function(_,$){var nt=getChildMapping(this.props.children);_.key in nt||(_.props.onExited&&_.props.onExited($),this.mounted&&this.setState(function(tt){var ot=_extends({},tt.children);return delete ot[_.key],{children:ot}}))},o.render=function(){var _=this.props,$=_.component,nt=_.childFactory,tt=_objectWithoutPropertiesLoose(_,["component","childFactory"]),ot=this.state.contextValue,pt=values(this.state.children).map(nt);return delete tt.appear,delete tt.enter,delete tt.exit,$===null?React.createElement(TransitionGroupContext.Provider,{value:ot},pt):React.createElement(TransitionGroupContext.Provider,{value:ot},React.createElement($,tt,pt))},s}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const reflow=i=>i.scrollTop;function getTransitionProps(i,s){const{timeout:o,easing:a,style:_={}}=i;return{duration:_.transitionDuration??(typeof o=="number"?o:o[s.mode]||0),easing:_.transitionTimingFunction??(typeof a=="object"?a[s.mode]:a),delay:_.transitionDelay}}function getPaperUtilityClass(i){return generateUtilityClass("MuiPaper",i)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const useUtilityClasses$q=i=>{const{square:s,elevation:o,variant:a,classes:_}=i,$={root:["root",a,!s&&"rounded",a==="elevation"&&`elevation${o}`]};return composeClasses($,getPaperUtilityClass,_)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,s[o.variant],!o.square&&s.rounded,o.variant==="elevation"&&s[`elevation${o.elevation}`]]}})(memoTheme(({theme:i})=>({backgroundColor:(i.vars||i).palette.background.paper,color:(i.vars||i).palette.text.primary,transition:i.transitions.create("box-shadow"),variants:[{props:({ownerState:s})=>!s.square,style:{borderRadius:i.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(i.vars||i).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Paper=reactExports.forwardRef(function i(s,o){var ht;const a=useDefaultProps({props:s,name:"MuiPaper"}),_=useTheme(),{className:$,component:nt="div",elevation:tt=1,square:ot=!1,variant:pt="elevation",...ut}=a,mt={...a,component:nt,elevation:tt,square:ot,variant:pt},vt=useUtilityClasses$q(mt);return jsxRuntimeExports.jsx(PaperRoot,{as:nt,ownerState:mt,className:clsx(vt.root,$),ref:o,...ut,style:{...pt==="elevation"&&{"--Paper-shadow":(_.vars||_).shadows[tt],..._.vars&&{"--Paper-overlay":(ht=_.vars.overlays)==null?void 0:ht[tt]},...!_.vars&&_.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${alpha("#fff",getOverlayAlpha(tt))}, ${alpha("#fff",getOverlayAlpha(tt))})`}},...ut.style}})});function useSlot(i,s){const{className:o,elementType:a,ownerState:_,externalForwardedProps:$,getSlotOwnerState:nt,internalForwardedProps:tt,...ot}=s,{component:pt,slots:ut={[i]:void 0},slotProps:mt={[i]:void 0},...vt}=$,ht=ut[i]||a,gt=resolveComponentProps(mt[i],_),{props:{component:rt,...j},internalRef:_e}=mergeSlotProps({className:o,...ot,externalForwardedProps:i==="root"?vt:void 0,externalSlotProps:gt}),it=useForkRef(_e,gt==null?void 0:gt.ref,s.ref),st=nt?nt(j):{},lt={..._,...st},et=i==="root"?rt||pt:rt,at=appendOwnerState(ht,{...i==="root"&&!pt&&!ut[i]&&tt,...i!=="root"&&!ut[i]&&tt,...j,...et&&{as:et},ref:it},lt);return Object.keys(st).forEach(ft=>{delete at[ft]}),[ht,at]}class LazyRipple{constructor(){_i(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new LazyRipple}static use(){const s=useLazyRef(LazyRipple.create).current,[o,a]=reactExports.useState(!1);return s.shouldMount=o,s.setShouldMount=a,reactExports.useEffect(s.mountEffect,[o]),s}mount(){return this.mounted||(this.mounted=createControlledPromise(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...s){this.mount().then(()=>{var o;return(o=this.ref.current)==null?void 0:o.start(...s)})}stop(...s){this.mount().then(()=>{var o;return(o=this.ref.current)==null?void 0:o.stop(...s)})}pulsate(...s){this.mount().then(()=>{var o;return(o=this.ref.current)==null?void 0:o.pulsate(...s)})}}function useLazyRipple(){return LazyRipple.use()}function createControlledPromise(){let i,s;const o=new Promise((a,_)=>{i=a,s=_});return o.resolve=i,o.reject=s,o}function Ripple(i){const{className:s,classes:o,pulsate:a=!1,rippleX:_,rippleY:$,rippleSize:nt,in:tt,onExited:ot,timeout:pt}=i,[ut,mt]=reactExports.useState(!1),vt=clsx(s,o.ripple,o.rippleVisible,a&&o.ripplePulsate),ht={width:nt,height:nt,top:-(nt/2)+$,left:-(nt/2)+_},gt=clsx(o.child,ut&&o.childLeaving,a&&o.childPulsate);return!tt&&!ut&&mt(!0),reactExports.useEffect(()=>{if(!tt&&ot!=null){const rt=setTimeout(ot,pt);return()=>{clearTimeout(rt)}}},[ot,tt,pt]),jsxRuntimeExports.jsx("span",{className:vt,style:ht,children:jsxRuntimeExports.jsx("span",{className:gt})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,exitKeyframe=keyframes`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,pulsateKeyframe=keyframes`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,TouchRippleRoot=styled("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${touchRippleClasses.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${enterKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  &.${touchRippleClasses.ripplePulsate} {
    animation-duration: ${({theme:i})=>i.transitions.duration.shorter}ms;
  }

  & .${touchRippleClasses.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${touchRippleClasses.childLeaving} {
    opacity: 0;
    animation-name: ${exitKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  & .${touchRippleClasses.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${pulsateKeyframe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,TouchRipple=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiTouchRipple"}),{center:_=!1,classes:$={},className:nt,...tt}=a,[ot,pt]=reactExports.useState([]),ut=reactExports.useRef(0),mt=reactExports.useRef(null);reactExports.useEffect(()=>{mt.current&&(mt.current(),mt.current=null)},[ot]);const vt=reactExports.useRef(!1),ht=useTimeout(),gt=reactExports.useRef(null),rt=reactExports.useRef(null),j=reactExports.useCallback(lt=>{const{pulsate:et,rippleX:at,rippleY:ft,rippleSize:ct,cb:xt}=lt;pt(dt=>[...dt,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx($.ripple,touchRippleClasses.ripple),rippleVisible:clsx($.rippleVisible,touchRippleClasses.rippleVisible),ripplePulsate:clsx($.ripplePulsate,touchRippleClasses.ripplePulsate),child:clsx($.child,touchRippleClasses.child),childLeaving:clsx($.childLeaving,touchRippleClasses.childLeaving),childPulsate:clsx($.childPulsate,touchRippleClasses.childPulsate)},timeout:DURATION,pulsate:et,rippleX:at,rippleY:ft,rippleSize:ct},ut.current)]),ut.current+=1,mt.current=xt},[$]),_e=reactExports.useCallback((lt={},et={},at=()=>{})=>{const{pulsate:ft=!1,center:ct=_||et.pulsate,fakeElement:xt=!1}=et;if((lt==null?void 0:lt.type)==="mousedown"&&vt.current){vt.current=!1;return}(lt==null?void 0:lt.type)==="touchstart"&&(vt.current=!0);const dt=xt?null:rt.current,_t=dt?dt.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Ct,Et,Mt;if(ct||lt===void 0||lt.clientX===0&&lt.clientY===0||!lt.clientX&&!lt.touches)Ct=Math.round(_t.width/2),Et=Math.round(_t.height/2);else{const{clientX:St,clientY:Ot}=lt.touches&&lt.touches.length>0?lt.touches[0]:lt;Ct=Math.round(St-_t.left),Et=Math.round(Ot-_t.top)}if(ct)Mt=Math.sqrt((2*_t.width**2+_t.height**2)/3),Mt%2===0&&(Mt+=1);else{const St=Math.max(Math.abs((dt?dt.clientWidth:0)-Ct),Ct)*2+2,Ot=Math.max(Math.abs((dt?dt.clientHeight:0)-Et),Et)*2+2;Mt=Math.sqrt(St**2+Ot**2)}lt!=null&&lt.touches?gt.current===null&&(gt.current=()=>{j({pulsate:ft,rippleX:Ct,rippleY:Et,rippleSize:Mt,cb:at})},ht.start(DELAY_RIPPLE,()=>{gt.current&&(gt.current(),gt.current=null)})):j({pulsate:ft,rippleX:Ct,rippleY:Et,rippleSize:Mt,cb:at})},[_,j,ht]),it=reactExports.useCallback(()=>{_e({},{pulsate:!0})},[_e]),st=reactExports.useCallback((lt,et)=>{if(ht.clear(),(lt==null?void 0:lt.type)==="touchend"&&gt.current){gt.current(),gt.current=null,ht.start(0,()=>{st(lt,et)});return}gt.current=null,pt(at=>at.length>0?at.slice(1):at),mt.current=et},[ht]);return reactExports.useImperativeHandle(o,()=>({pulsate:it,start:_e,stop:st}),[it,_e,st]),jsxRuntimeExports.jsx(TouchRippleRoot,{className:clsx(touchRippleClasses.root,$.root,nt),ref:rt,...tt,children:jsxRuntimeExports.jsx(TransitionGroup,{component:null,exit:!0,children:ot})})});function getButtonBaseUtilityClass(i){return generateUtilityClass("MuiButtonBase",i)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),useUtilityClasses$p=i=>{const{disabled:s,focusVisible:o,focusVisibleClassName:a,classes:_}=i,nt=composeClasses({root:["root",s&&"disabled",o&&"focusVisible"]},getButtonBaseUtilityClass,_);return o&&a&&(nt.root+=` ${a}`),nt},ButtonBaseRoot=styled("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(i,s)=>s.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiButtonBase"}),{action:_,centerRipple:$=!1,children:nt,className:tt,component:ot="button",disabled:pt=!1,disableRipple:ut=!1,disableTouchRipple:mt=!1,focusRipple:vt=!1,focusVisibleClassName:ht,LinkComponent:gt="a",onBlur:rt,onClick:j,onContextMenu:_e,onDragLeave:it,onFocus:st,onFocusVisible:lt,onKeyDown:et,onKeyUp:at,onMouseDown:ft,onMouseLeave:ct,onMouseUp:xt,onTouchEnd:dt,onTouchMove:_t,onTouchStart:Ct,tabIndex:Et=0,TouchRippleProps:Mt,touchRippleRef:St,type:Ot,...At}=a,wt=reactExports.useRef(null),Pt=useLazyRipple(),Lt=useForkRef(Pt.ref,St),[Rt,Dt]=reactExports.useState(!1);pt&&Rt&&Dt(!1),reactExports.useImperativeHandle(_,()=>({focusVisible:()=>{Dt(!0),wt.current.focus()}}),[]);const $t=Pt.shouldMount&&!ut&&!pt;reactExports.useEffect(()=>{Rt&&vt&&!ut&&Pt.pulsate()},[ut,vt,Rt,Pt]);function jt(fr,pr,Lr=mt){return useEventCallback(Pr=>(pr&&pr(Pr),Lr||Pt[fr](Pr),!0))}const Zt=jt("start",ft),qt=jt("stop",_e),er=jt("stop",it),Yt=jt("stop",xt),Qt=jt("stop",fr=>{Rt&&fr.preventDefault(),ct&&ct(fr)}),cr=jt("start",Ct),lr=jt("stop",dt),gr=jt("stop",_t),rr=jt("stop",fr=>{isFocusVisible(fr.target)||Dt(!1),rt&&rt(fr)},!1),Gt=useEventCallback(fr=>{wt.current||(wt.current=fr.currentTarget),isFocusVisible(fr.target)&&(Dt(!0),lt&&lt(fr)),st&&st(fr)}),nr=()=>{const fr=wt.current;return ot&&ot!=="button"&&!(fr.tagName==="A"&&fr.href)},_r=useEventCallback(fr=>{vt&&!fr.repeat&&Rt&&fr.key===" "&&Pt.stop(fr,()=>{Pt.start(fr)}),fr.target===fr.currentTarget&&nr()&&fr.key===" "&&fr.preventDefault(),et&&et(fr),fr.target===fr.currentTarget&&nr()&&fr.key==="Enter"&&!pt&&(fr.preventDefault(),j&&j(fr))}),Sr=useEventCallback(fr=>{vt&&fr.key===" "&&Rt&&!fr.defaultPrevented&&Pt.stop(fr,()=>{Pt.pulsate(fr)}),at&&at(fr),j&&fr.target===fr.currentTarget&&nr()&&fr.key===" "&&!fr.defaultPrevented&&j(fr)});let Ar=ot;Ar==="button"&&(At.href||At.to)&&(Ar=gt);const Or={};Ar==="button"?(Or.type=Ot===void 0?"button":Ot,Or.disabled=pt):(!At.href&&!At.to&&(Or.role="button"),pt&&(Or["aria-disabled"]=pt));const Mr=useForkRef(o,wt),wr={...a,centerRipple:$,component:ot,disabled:pt,disableRipple:ut,disableTouchRipple:mt,focusRipple:vt,tabIndex:Et,focusVisible:Rt},Tr=useUtilityClasses$p(wr);return jsxRuntimeExports.jsxs(ButtonBaseRoot,{as:Ar,className:clsx(Tr.root,tt),ownerState:wr,onBlur:rr,onClick:j,onContextMenu:qt,onFocus:Gt,onKeyDown:_r,onKeyUp:Sr,onMouseDown:Zt,onMouseLeave:Qt,onMouseUp:Yt,onDragLeave:er,onTouchEnd:lr,onTouchMove:gr,onTouchStart:cr,ref:Mr,tabIndex:pt?-1:Et,type:Ot,...Or,...At,children:[nt,$t?jsxRuntimeExports.jsx(TouchRipple,{ref:Lt,center:$,...Mt}):null]})});function hasCorrectMainProperty(i){return typeof i.main=="string"}function checkSimplePaletteColorValues(i,s=[]){if(!hasCorrectMainProperty(i))return!1;for(const o of s)if(!i.hasOwnProperty(o)||typeof i[o]!="string")return!1;return!0}function createSimplePaletteValueFilter(i=[]){return([,s])=>s&&checkSimplePaletteColorValues(s,i)}function getAlertUtilityClass(i){return generateUtilityClass("MuiAlert",i)}const alertClasses=generateUtilityClasses("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function getIconButtonUtilityClass(i){return generateUtilityClass("MuiIconButton",i)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),useUtilityClasses$o=i=>{const{classes:s,disabled:o,color:a,edge:_,size:$}=i,nt={root:["root",o&&"disabled",a!=="default"&&`color${capitalize(a)}`,_&&`edge${capitalize(_)}`,`size${capitalize($)}`]};return composeClasses(nt,getIconButtonUtilityClass,s)},IconButtonRoot=styled(ButtonBase,{name:"MuiIconButton",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,o.color!=="default"&&s[`color${capitalize(o.color)}`],o.edge&&s[`edge${capitalize(o.edge)}`],s[`size${capitalize(o.size)}`]]}})(memoTheme(({theme:i})=>({textAlign:"center",flex:"0 0 auto",fontSize:i.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(i.vars||i).palette.action.active,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),variants:[{props:{disableRipple:!1},style:{"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette.action.active,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),memoTheme(({theme:i})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([s])=>({props:{color:s},style:{color:(i.vars||i).palette[s].main}})),...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([s])=>({props:{color:s,disableRipple:!1},style:{"&:hover":{backgroundColor:i.vars?`rgba(${(i.vars||i).palette[s].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha((i.vars||i).palette[s].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}})),{props:{size:"small"},style:{padding:5,fontSize:i.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:i.typography.pxToRem(28)}}],[`&.${iconButtonClasses.disabled}`]:{backgroundColor:"transparent",color:(i.vars||i).palette.action.disabled}}))),IconButton=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiIconButton"}),{edge:_=!1,children:$,className:nt,color:tt="default",disabled:ot=!1,disableFocusRipple:pt=!1,disableRipple:ut=!1,size:mt="medium",...vt}=a,ht={...a,edge:_,color:tt,disabled:ot,disableFocusRipple:pt,disableRipple:ut,size:mt},gt=useUtilityClasses$o(ht);return jsxRuntimeExports.jsx(IconButtonRoot,{className:clsx(gt.root,nt),centerRipple:!0,focusRipple:!pt,disabled:ot,disableRipple:ut,ref:o,...vt,ownerState:ht,children:$})}),SuccessOutlinedIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ReportProblemOutlinedIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ErrorOutlineIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),InfoOutlinedIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ClearIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),useUtilityClasses$n=i=>{const{variant:s,color:o,severity:a,classes:_}=i,$={root:["root",`color${capitalize(o||a)}`,`${s}${capitalize(o||a)}`,`${s}`],icon:["icon"],message:["message"],action:["action"]};return composeClasses($,getAlertUtilityClass,_)},AlertRoot=styled(Paper,{name:"MuiAlert",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,s[o.variant],s[`${o.variant}${capitalize(o.color||o.severity)}`]]}})(memoTheme(({theme:i})=>{const s=i.palette.mode==="light"?darken:lighten,o=i.palette.mode==="light"?lighten:darken;return{...i.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(i.palette).filter(createSimplePaletteValueFilter(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"standard"},style:{color:i.vars?i.vars.palette.Alert[`${a}Color`]:s(i.palette[a].light,.6),backgroundColor:i.vars?i.vars.palette.Alert[`${a}StandardBg`]:o(i.palette[a].light,.9),[`& .${alertClasses.icon}`]:i.vars?{color:i.vars.palette.Alert[`${a}IconColor`]}:{color:i.palette[a].main}}})),...Object.entries(i.palette).filter(createSimplePaletteValueFilter(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"outlined"},style:{color:i.vars?i.vars.palette.Alert[`${a}Color`]:s(i.palette[a].light,.6),border:`1px solid ${(i.vars||i).palette[a].light}`,[`& .${alertClasses.icon}`]:i.vars?{color:i.vars.palette.Alert[`${a}IconColor`]}:{color:i.palette[a].main}}})),...Object.entries(i.palette).filter(createSimplePaletteValueFilter(["dark"])).map(([a])=>({props:{colorSeverity:a,variant:"filled"},style:{fontWeight:i.typography.fontWeightMedium,...i.vars?{color:i.vars.palette.Alert[`${a}FilledColor`],backgroundColor:i.vars.palette.Alert[`${a}FilledBg`]}:{backgroundColor:i.palette.mode==="dark"?i.palette[a].dark:i.palette[a].main,color:i.palette.getContrastText(i.palette[a].main)}}}))]}})),AlertIcon=styled("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(i,s)=>s.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),AlertMessage=styled("div",{name:"MuiAlert",slot:"Message",overridesResolver:(i,s)=>s.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),AlertAction=styled("div",{name:"MuiAlert",slot:"Action",overridesResolver:(i,s)=>s.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),defaultIconMapping={success:jsxRuntimeExports.jsx(SuccessOutlinedIcon,{fontSize:"inherit"}),warning:jsxRuntimeExports.jsx(ReportProblemOutlinedIcon,{fontSize:"inherit"}),error:jsxRuntimeExports.jsx(ErrorOutlineIcon,{fontSize:"inherit"}),info:jsxRuntimeExports.jsx(InfoOutlinedIcon,{fontSize:"inherit"})},Alert=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiAlert"}),{action:_,children:$,className:nt,closeText:tt="Close",color:ot,components:pt={},componentsProps:ut={},icon:mt,iconMapping:vt=defaultIconMapping,onClose:ht,role:gt="alert",severity:rt="success",slotProps:j={},slots:_e={},variant:it="standard",...st}=a,lt={...a,color:ot,severity:rt,variant:it,colorSeverity:ot||rt},et=useUtilityClasses$n(lt),at={slots:{closeButton:pt.CloseButton,closeIcon:pt.CloseIcon,..._e},slotProps:{...ut,...j}},[ft,ct]=useSlot("closeButton",{elementType:IconButton,externalForwardedProps:at,ownerState:lt}),[xt,dt]=useSlot("closeIcon",{elementType:ClearIcon,externalForwardedProps:at,ownerState:lt});return jsxRuntimeExports.jsxs(AlertRoot,{role:gt,elevation:0,ownerState:lt,className:clsx(et.root,nt),ref:o,...st,children:[mt!==!1?jsxRuntimeExports.jsx(AlertIcon,{ownerState:lt,className:et.icon,children:mt||vt[rt]||defaultIconMapping[rt]}):null,jsxRuntimeExports.jsx(AlertMessage,{ownerState:lt,className:et.message,children:$}),_!=null?jsxRuntimeExports.jsx(AlertAction,{ownerState:lt,className:et.action,children:_}):null,_==null&&ht?jsxRuntimeExports.jsx(AlertAction,{ownerState:lt,className:et.action,children:jsxRuntimeExports.jsx(ft,{size:"small","aria-label":tt,title:tt,color:"inherit",onClick:ht,...ct,children:jsxRuntimeExports.jsx(xt,{fontSize:"small",...dt})})}):null]})});function getTypographyUtilityClass(i){return generateUtilityClass("MuiTypography",i)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const v6Colors={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},extendSxProp=internal_createExtendSxProp(),useUtilityClasses$m=i=>{const{align:s,gutterBottom:o,noWrap:a,paragraph:_,variant:$,classes:nt}=i,tt={root:["root",$,i.align!=="inherit"&&`align${capitalize(s)}`,o&&"gutterBottom",a&&"noWrap",_&&"paragraph"]};return composeClasses(tt,getTypographyUtilityClass,nt)},TypographyRoot=styled("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,o.variant&&s[o.variant],o.align!=="inherit"&&s[`align${capitalize(o.align)}`],o.noWrap&&s.noWrap,o.gutterBottom&&s.gutterBottom,o.paragraph&&s.paragraph]}})(memoTheme(({theme:i})=>{var s;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(i.typography).filter(([o,a])=>o!=="inherit"&&a&&typeof a=="object").map(([o,a])=>({props:{variant:o},style:a})),...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([o])=>({props:{color:o},style:{color:(i.vars||i).palette[o].main}})),...Object.entries(((s=i.palette)==null?void 0:s.text)||{}).filter(([,o])=>typeof o=="string").map(([o])=>({props:{color:`text${capitalize(o)}`},style:{color:(i.vars||i).palette.text[o]}})),{props:({ownerState:o})=>o.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:o})=>o.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:o})=>o.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:o})=>o.paragraph,style:{marginBottom:16}}]}})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Typography=reactExports.forwardRef(function i(s,o){const{color:a,..._}=useDefaultProps({props:s,name:"MuiTypography"}),$=!v6Colors[a],nt=extendSxProp({..._,...$&&{color:a}}),{align:tt="inherit",className:ot,component:pt,gutterBottom:ut=!1,noWrap:mt=!1,paragraph:vt=!1,variant:ht="body1",variantMapping:gt=defaultVariantMapping,...rt}=nt,j={...nt,align:tt,color:a,className:ot,component:pt,gutterBottom:ut,noWrap:mt,paragraph:vt,variant:ht,variantMapping:gt},_e=pt||(vt?"p":gt[ht]||defaultVariantMapping[ht])||"span",it=useUtilityClasses$m(j);return jsxRuntimeExports.jsx(TypographyRoot,{as:_e,ref:o,className:clsx(it.root,ot),...rt,ownerState:j,style:{...tt!=="inherit"&&{"--Typography-textAlign":tt},...rt.style}})});var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(i,s){return i.concat([s+"-"+start,s+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(i,s){return i.concat([s,s+"-"+start,s+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(i){return i?(i.nodeName||"").toLowerCase():null}function getWindow(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var s=i.ownerDocument;return s&&s.defaultView||window}return i}function isElement(i){var s=getWindow(i).Element;return i instanceof s||i instanceof Element}function isHTMLElement$1(i){var s=getWindow(i).HTMLElement;return i instanceof s||i instanceof HTMLElement}function isShadowRoot(i){if(typeof ShadowRoot>"u")return!1;var s=getWindow(i).ShadowRoot;return i instanceof s||i instanceof ShadowRoot}function applyStyles(i){var s=i.state;Object.keys(s.elements).forEach(function(o){var a=s.styles[o]||{},_=s.attributes[o]||{},$=s.elements[o];!isHTMLElement$1($)||!getNodeName($)||(Object.assign($.style,a),Object.keys(_).forEach(function(nt){var tt=_[nt];tt===!1?$.removeAttribute(nt):$.setAttribute(nt,tt===!0?"":tt)}))})}function effect$2(i){var s=i.state,o={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,o.popper),s.styles=o,s.elements.arrow&&Object.assign(s.elements.arrow.style,o.arrow),function(){Object.keys(s.elements).forEach(function(a){var _=s.elements[a],$=s.attributes[a]||{},nt=Object.keys(s.styles.hasOwnProperty(a)?s.styles[a]:o[a]),tt=nt.reduce(function(ot,pt){return ot[pt]="",ot},{});!isHTMLElement$1(_)||!getNodeName(_)||(Object.assign(_.style,tt),Object.keys($).forEach(function(ot){_.removeAttribute(ot)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(i){return i.split("-")[0]}var max=Math.max,min=Math.min,round$1=Math.round;function getUAString(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(s){return s.brand+"/"+s.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(i,s,o){s===void 0&&(s=!1),o===void 0&&(o=!1);var a=i.getBoundingClientRect(),_=1,$=1;s&&isHTMLElement$1(i)&&(_=i.offsetWidth>0&&round$1(a.width)/i.offsetWidth||1,$=i.offsetHeight>0&&round$1(a.height)/i.offsetHeight||1);var nt=isElement(i)?getWindow(i):window,tt=nt.visualViewport,ot=!isLayoutViewport()&&o,pt=(a.left+(ot&&tt?tt.offsetLeft:0))/_,ut=(a.top+(ot&&tt?tt.offsetTop:0))/$,mt=a.width/_,vt=a.height/$;return{width:mt,height:vt,top:ut,right:pt+mt,bottom:ut+vt,left:pt,x:pt,y:ut}}function getLayoutRect(i){var s=getBoundingClientRect(i),o=i.offsetWidth,a=i.offsetHeight;return Math.abs(s.width-o)<=1&&(o=s.width),Math.abs(s.height-a)<=1&&(a=s.height),{x:i.offsetLeft,y:i.offsetTop,width:o,height:a}}function contains(i,s){var o=s.getRootNode&&s.getRootNode();if(i.contains(s))return!0;if(o&&isShadowRoot(o)){var a=s;do{if(a&&i.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function getComputedStyle(i){return getWindow(i).getComputedStyle(i)}function isTableElement(i){return["table","td","th"].indexOf(getNodeName(i))>=0}function getDocumentElement(i){return((isElement(i)?i.ownerDocument:i.document)||window.document).documentElement}function getParentNode(i){return getNodeName(i)==="html"?i:i.assignedSlot||i.parentNode||(isShadowRoot(i)?i.host:null)||getDocumentElement(i)}function getTrueOffsetParent(i){return!isHTMLElement$1(i)||getComputedStyle(i).position==="fixed"?null:i.offsetParent}function getContainingBlock(i){var s=/firefox/i.test(getUAString()),o=/Trident/i.test(getUAString());if(o&&isHTMLElement$1(i)){var a=getComputedStyle(i);if(a.position==="fixed")return null}var _=getParentNode(i);for(isShadowRoot(_)&&(_=_.host);isHTMLElement$1(_)&&["html","body"].indexOf(getNodeName(_))<0;){var $=getComputedStyle(_);if($.transform!=="none"||$.perspective!=="none"||$.contain==="paint"||["transform","perspective"].indexOf($.willChange)!==-1||s&&$.willChange==="filter"||s&&$.filter&&$.filter!=="none")return _;_=_.parentNode}return null}function getOffsetParent(i){for(var s=getWindow(i),o=getTrueOffsetParent(i);o&&isTableElement(o)&&getComputedStyle(o).position==="static";)o=getTrueOffsetParent(o);return o&&(getNodeName(o)==="html"||getNodeName(o)==="body"&&getComputedStyle(o).position==="static")?s:o||getContainingBlock(i)||s}function getMainAxisFromPlacement(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function within(i,s,o){return max(i,min(s,o))}function withinMaxClamp(i,s,o){var a=within(i,s,o);return a>o?o:a}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(i){return Object.assign({},getFreshSideObject(),i)}function expandToHashMap(i,s){return s.reduce(function(o,a){return o[a]=i,o},{})}var toPaddingObject=function i(s,o){return s=typeof s=="function"?s(Object.assign({},o.rects,{placement:o.placement})):s,mergePaddingObject(typeof s!="number"?s:expandToHashMap(s,basePlacements))};function arrow(i){var s,o=i.state,a=i.name,_=i.options,$=o.elements.arrow,nt=o.modifiersData.popperOffsets,tt=getBasePlacement(o.placement),ot=getMainAxisFromPlacement(tt),pt=[left,right].indexOf(tt)>=0,ut=pt?"height":"width";if(!(!$||!nt)){var mt=toPaddingObject(_.padding,o),vt=getLayoutRect($),ht=ot==="y"?top:left,gt=ot==="y"?bottom:right,rt=o.rects.reference[ut]+o.rects.reference[ot]-nt[ot]-o.rects.popper[ut],j=nt[ot]-o.rects.reference[ot],_e=getOffsetParent($),it=_e?ot==="y"?_e.clientHeight||0:_e.clientWidth||0:0,st=rt/2-j/2,lt=mt[ht],et=it-vt[ut]-mt[gt],at=it/2-vt[ut]/2+st,ft=within(lt,at,et),ct=ot;o.modifiersData[a]=(s={},s[ct]=ft,s.centerOffset=ft-at,s)}}function effect$1(i){var s=i.state,o=i.options,a=o.element,_=a===void 0?"[data-popper-arrow]":a;_!=null&&(typeof _=="string"&&(_=s.elements.popper.querySelector(_),!_)||contains(s.elements.popper,_)&&(s.elements.arrow=_))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(i){return i.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(i,s){var o=i.x,a=i.y,_=s.devicePixelRatio||1;return{x:round$1(o*_)/_||0,y:round$1(a*_)/_||0}}function mapToStyles(i){var s,o=i.popper,a=i.popperRect,_=i.placement,$=i.variation,nt=i.offsets,tt=i.position,ot=i.gpuAcceleration,pt=i.adaptive,ut=i.roundOffsets,mt=i.isFixed,vt=nt.x,ht=vt===void 0?0:vt,gt=nt.y,rt=gt===void 0?0:gt,j=typeof ut=="function"?ut({x:ht,y:rt}):{x:ht,y:rt};ht=j.x,rt=j.y;var _e=nt.hasOwnProperty("x"),it=nt.hasOwnProperty("y"),st=left,lt=top,et=window;if(pt){var at=getOffsetParent(o),ft="clientHeight",ct="clientWidth";if(at===getWindow(o)&&(at=getDocumentElement(o),getComputedStyle(at).position!=="static"&&tt==="absolute"&&(ft="scrollHeight",ct="scrollWidth")),at=at,_===top||(_===left||_===right)&&$===end){lt=bottom;var xt=mt&&at===et&&et.visualViewport?et.visualViewport.height:at[ft];rt-=xt-a.height,rt*=ot?1:-1}if(_===left||(_===top||_===bottom)&&$===end){st=right;var dt=mt&&at===et&&et.visualViewport?et.visualViewport.width:at[ct];ht-=dt-a.width,ht*=ot?1:-1}}var _t=Object.assign({position:tt},pt&&unsetSides),Ct=ut===!0?roundOffsetsByDPR({x:ht,y:rt},getWindow(o)):{x:ht,y:rt};if(ht=Ct.x,rt=Ct.y,ot){var Et;return Object.assign({},_t,(Et={},Et[lt]=it?"0":"",Et[st]=_e?"0":"",Et.transform=(et.devicePixelRatio||1)<=1?"translate("+ht+"px, "+rt+"px)":"translate3d("+ht+"px, "+rt+"px, 0)",Et))}return Object.assign({},_t,(s={},s[lt]=it?rt+"px":"",s[st]=_e?ht+"px":"",s.transform="",s))}function computeStyles(i){var s=i.state,o=i.options,a=o.gpuAcceleration,_=a===void 0?!0:a,$=o.adaptive,nt=$===void 0?!0:$,tt=o.roundOffsets,ot=tt===void 0?!0:tt,pt={placement:getBasePlacement(s.placement),variation:getVariation(s.placement),popper:s.elements.popper,popperRect:s.rects.popper,gpuAcceleration:_,isFixed:s.options.strategy==="fixed"};s.modifiersData.popperOffsets!=null&&(s.styles.popper=Object.assign({},s.styles.popper,mapToStyles(Object.assign({},pt,{offsets:s.modifiersData.popperOffsets,position:s.options.strategy,adaptive:nt,roundOffsets:ot})))),s.modifiersData.arrow!=null&&(s.styles.arrow=Object.assign({},s.styles.arrow,mapToStyles(Object.assign({},pt,{offsets:s.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ot})))),s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-placement":s.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(i){var s=i.state,o=i.instance,a=i.options,_=a.scroll,$=_===void 0?!0:_,nt=a.resize,tt=nt===void 0?!0:nt,ot=getWindow(s.elements.popper),pt=[].concat(s.scrollParents.reference,s.scrollParents.popper);return $&&pt.forEach(function(ut){ut.addEventListener("scroll",o.update,passive)}),tt&&ot.addEventListener("resize",o.update,passive),function(){$&&pt.forEach(function(ut){ut.removeEventListener("scroll",o.update,passive)}),tt&&ot.removeEventListener("resize",o.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function i(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(i){return i.replace(/left|right|bottom|top/g,function(s){return hash$1[s]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(i){return i.replace(/start|end/g,function(s){return hash[s]})}function getWindowScroll(i){var s=getWindow(i),o=s.pageXOffset,a=s.pageYOffset;return{scrollLeft:o,scrollTop:a}}function getWindowScrollBarX(i){return getBoundingClientRect(getDocumentElement(i)).left+getWindowScroll(i).scrollLeft}function getViewportRect(i,s){var o=getWindow(i),a=getDocumentElement(i),_=o.visualViewport,$=a.clientWidth,nt=a.clientHeight,tt=0,ot=0;if(_){$=_.width,nt=_.height;var pt=isLayoutViewport();(pt||!pt&&s==="fixed")&&(tt=_.offsetLeft,ot=_.offsetTop)}return{width:$,height:nt,x:tt+getWindowScrollBarX(i),y:ot}}function getDocumentRect(i){var s,o=getDocumentElement(i),a=getWindowScroll(i),_=(s=i.ownerDocument)==null?void 0:s.body,$=max(o.scrollWidth,o.clientWidth,_?_.scrollWidth:0,_?_.clientWidth:0),nt=max(o.scrollHeight,o.clientHeight,_?_.scrollHeight:0,_?_.clientHeight:0),tt=-a.scrollLeft+getWindowScrollBarX(i),ot=-a.scrollTop;return getComputedStyle(_||o).direction==="rtl"&&(tt+=max(o.clientWidth,_?_.clientWidth:0)-$),{width:$,height:nt,x:tt,y:ot}}function isScrollParent(i){var s=getComputedStyle(i),o=s.overflow,a=s.overflowX,_=s.overflowY;return/auto|scroll|overlay|hidden/.test(o+_+a)}function getScrollParent(i){return["html","body","#document"].indexOf(getNodeName(i))>=0?i.ownerDocument.body:isHTMLElement$1(i)&&isScrollParent(i)?i:getScrollParent(getParentNode(i))}function listScrollParents(i,s){var o;s===void 0&&(s=[]);var a=getScrollParent(i),_=a===((o=i.ownerDocument)==null?void 0:o.body),$=getWindow(a),nt=_?[$].concat($.visualViewport||[],isScrollParent(a)?a:[]):a,tt=s.concat(nt);return _?tt:tt.concat(listScrollParents(getParentNode(nt)))}function rectToClientRect(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function getInnerBoundingClientRect(i,s){var o=getBoundingClientRect(i,!1,s==="fixed");return o.top=o.top+i.clientTop,o.left=o.left+i.clientLeft,o.bottom=o.top+i.clientHeight,o.right=o.left+i.clientWidth,o.width=i.clientWidth,o.height=i.clientHeight,o.x=o.left,o.y=o.top,o}function getClientRectFromMixedType(i,s,o){return s===viewport?rectToClientRect(getViewportRect(i,o)):isElement(s)?getInnerBoundingClientRect(s,o):rectToClientRect(getDocumentRect(getDocumentElement(i)))}function getClippingParents(i){var s=listScrollParents(getParentNode(i)),o=["absolute","fixed"].indexOf(getComputedStyle(i).position)>=0,a=o&&isHTMLElement$1(i)?getOffsetParent(i):i;return isElement(a)?s.filter(function(_){return isElement(_)&&contains(_,a)&&getNodeName(_)!=="body"}):[]}function getClippingRect(i,s,o,a){var _=s==="clippingParents"?getClippingParents(i):[].concat(s),$=[].concat(_,[o]),nt=$[0],tt=$.reduce(function(ot,pt){var ut=getClientRectFromMixedType(i,pt,a);return ot.top=max(ut.top,ot.top),ot.right=min(ut.right,ot.right),ot.bottom=min(ut.bottom,ot.bottom),ot.left=max(ut.left,ot.left),ot},getClientRectFromMixedType(i,nt,a));return tt.width=tt.right-tt.left,tt.height=tt.bottom-tt.top,tt.x=tt.left,tt.y=tt.top,tt}function computeOffsets(i){var s=i.reference,o=i.element,a=i.placement,_=a?getBasePlacement(a):null,$=a?getVariation(a):null,nt=s.x+s.width/2-o.width/2,tt=s.y+s.height/2-o.height/2,ot;switch(_){case top:ot={x:nt,y:s.y-o.height};break;case bottom:ot={x:nt,y:s.y+s.height};break;case right:ot={x:s.x+s.width,y:tt};break;case left:ot={x:s.x-o.width,y:tt};break;default:ot={x:s.x,y:s.y}}var pt=_?getMainAxisFromPlacement(_):null;if(pt!=null){var ut=pt==="y"?"height":"width";switch($){case start:ot[pt]=ot[pt]-(s[ut]/2-o[ut]/2);break;case end:ot[pt]=ot[pt]+(s[ut]/2-o[ut]/2);break}}return ot}function detectOverflow(i,s){s===void 0&&(s={});var o=s,a=o.placement,_=a===void 0?i.placement:a,$=o.strategy,nt=$===void 0?i.strategy:$,tt=o.boundary,ot=tt===void 0?clippingParents:tt,pt=o.rootBoundary,ut=pt===void 0?viewport:pt,mt=o.elementContext,vt=mt===void 0?popper:mt,ht=o.altBoundary,gt=ht===void 0?!1:ht,rt=o.padding,j=rt===void 0?0:rt,_e=mergePaddingObject(typeof j!="number"?j:expandToHashMap(j,basePlacements)),it=vt===popper?reference:popper,st=i.rects.popper,lt=i.elements[gt?it:vt],et=getClippingRect(isElement(lt)?lt:lt.contextElement||getDocumentElement(i.elements.popper),ot,ut,nt),at=getBoundingClientRect(i.elements.reference),ft=computeOffsets({reference:at,element:st,strategy:"absolute",placement:_}),ct=rectToClientRect(Object.assign({},st,ft)),xt=vt===popper?ct:at,dt={top:et.top-xt.top+_e.top,bottom:xt.bottom-et.bottom+_e.bottom,left:et.left-xt.left+_e.left,right:xt.right-et.right+_e.right},_t=i.modifiersData.offset;if(vt===popper&&_t){var Ct=_t[_];Object.keys(dt).forEach(function(Et){var Mt=[right,bottom].indexOf(Et)>=0?1:-1,St=[top,bottom].indexOf(Et)>=0?"y":"x";dt[Et]+=Ct[St]*Mt})}return dt}function computeAutoPlacement(i,s){s===void 0&&(s={});var o=s,a=o.placement,_=o.boundary,$=o.rootBoundary,nt=o.padding,tt=o.flipVariations,ot=o.allowedAutoPlacements,pt=ot===void 0?placements:ot,ut=getVariation(a),mt=ut?tt?variationPlacements:variationPlacements.filter(function(gt){return getVariation(gt)===ut}):basePlacements,vt=mt.filter(function(gt){return pt.indexOf(gt)>=0});vt.length===0&&(vt=mt);var ht=vt.reduce(function(gt,rt){return gt[rt]=detectOverflow(i,{placement:rt,boundary:_,rootBoundary:$,padding:nt})[getBasePlacement(rt)],gt},{});return Object.keys(ht).sort(function(gt,rt){return ht[gt]-ht[rt]})}function getExpandedFallbackPlacements(i){if(getBasePlacement(i)===auto)return[];var s=getOppositePlacement(i);return[getOppositeVariationPlacement(i),s,getOppositeVariationPlacement(s)]}function flip(i){var s=i.state,o=i.options,a=i.name;if(!s.modifiersData[a]._skip){for(var _=o.mainAxis,$=_===void 0?!0:_,nt=o.altAxis,tt=nt===void 0?!0:nt,ot=o.fallbackPlacements,pt=o.padding,ut=o.boundary,mt=o.rootBoundary,vt=o.altBoundary,ht=o.flipVariations,gt=ht===void 0?!0:ht,rt=o.allowedAutoPlacements,j=s.options.placement,_e=getBasePlacement(j),it=_e===j,st=ot||(it||!gt?[getOppositePlacement(j)]:getExpandedFallbackPlacements(j)),lt=[j].concat(st).reduce(function(jt,Zt){return jt.concat(getBasePlacement(Zt)===auto?computeAutoPlacement(s,{placement:Zt,boundary:ut,rootBoundary:mt,padding:pt,flipVariations:gt,allowedAutoPlacements:rt}):Zt)},[]),et=s.rects.reference,at=s.rects.popper,ft=new Map,ct=!0,xt=lt[0],dt=0;dt<lt.length;dt++){var _t=lt[dt],Ct=getBasePlacement(_t),Et=getVariation(_t)===start,Mt=[top,bottom].indexOf(Ct)>=0,St=Mt?"width":"height",Ot=detectOverflow(s,{placement:_t,boundary:ut,rootBoundary:mt,altBoundary:vt,padding:pt}),At=Mt?Et?right:left:Et?bottom:top;et[St]>at[St]&&(At=getOppositePlacement(At));var wt=getOppositePlacement(At),Pt=[];if($&&Pt.push(Ot[Ct]<=0),tt&&Pt.push(Ot[At]<=0,Ot[wt]<=0),Pt.every(function(jt){return jt})){xt=_t,ct=!1;break}ft.set(_t,Pt)}if(ct)for(var Lt=gt?3:1,Rt=function(Zt){var qt=lt.find(function(er){var Yt=ft.get(er);if(Yt)return Yt.slice(0,Zt).every(function(Qt){return Qt})});if(qt)return xt=qt,"break"},Dt=Lt;Dt>0;Dt--){var $t=Rt(Dt);if($t==="break")break}s.placement!==xt&&(s.modifiersData[a]._skip=!0,s.placement=xt,s.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(i,s,o){return o===void 0&&(o={x:0,y:0}),{top:i.top-s.height-o.y,right:i.right-s.width+o.x,bottom:i.bottom-s.height+o.y,left:i.left-s.width-o.x}}function isAnySideFullyClipped(i){return[top,right,bottom,left].some(function(s){return i[s]>=0})}function hide(i){var s=i.state,o=i.name,a=s.rects.reference,_=s.rects.popper,$=s.modifiersData.preventOverflow,nt=detectOverflow(s,{elementContext:"reference"}),tt=detectOverflow(s,{altBoundary:!0}),ot=getSideOffsets(nt,a),pt=getSideOffsets(tt,_,$),ut=isAnySideFullyClipped(ot),mt=isAnySideFullyClipped(pt);s.modifiersData[o]={referenceClippingOffsets:ot,popperEscapeOffsets:pt,isReferenceHidden:ut,hasPopperEscaped:mt},s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-reference-hidden":ut,"data-popper-escaped":mt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(i,s,o){var a=getBasePlacement(i),_=[left,top].indexOf(a)>=0?-1:1,$=typeof o=="function"?o(Object.assign({},s,{placement:i})):o,nt=$[0],tt=$[1];return nt=nt||0,tt=(tt||0)*_,[left,right].indexOf(a)>=0?{x:tt,y:nt}:{x:nt,y:tt}}function offset(i){var s=i.state,o=i.options,a=i.name,_=o.offset,$=_===void 0?[0,0]:_,nt=placements.reduce(function(ut,mt){return ut[mt]=distanceAndSkiddingToXY(mt,s.rects,$),ut},{}),tt=nt[s.placement],ot=tt.x,pt=tt.y;s.modifiersData.popperOffsets!=null&&(s.modifiersData.popperOffsets.x+=ot,s.modifiersData.popperOffsets.y+=pt),s.modifiersData[a]=nt}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(i){var s=i.state,o=i.name;s.modifiersData[o]=computeOffsets({reference:s.rects.reference,element:s.rects.popper,strategy:"absolute",placement:s.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(i){return i==="x"?"y":"x"}function preventOverflow(i){var s=i.state,o=i.options,a=i.name,_=o.mainAxis,$=_===void 0?!0:_,nt=o.altAxis,tt=nt===void 0?!1:nt,ot=o.boundary,pt=o.rootBoundary,ut=o.altBoundary,mt=o.padding,vt=o.tether,ht=vt===void 0?!0:vt,gt=o.tetherOffset,rt=gt===void 0?0:gt,j=detectOverflow(s,{boundary:ot,rootBoundary:pt,padding:mt,altBoundary:ut}),_e=getBasePlacement(s.placement),it=getVariation(s.placement),st=!it,lt=getMainAxisFromPlacement(_e),et=getAltAxis(lt),at=s.modifiersData.popperOffsets,ft=s.rects.reference,ct=s.rects.popper,xt=typeof rt=="function"?rt(Object.assign({},s.rects,{placement:s.placement})):rt,dt=typeof xt=="number"?{mainAxis:xt,altAxis:xt}:Object.assign({mainAxis:0,altAxis:0},xt),_t=s.modifiersData.offset?s.modifiersData.offset[s.placement]:null,Ct={x:0,y:0};if(at){if($){var Et,Mt=lt==="y"?top:left,St=lt==="y"?bottom:right,Ot=lt==="y"?"height":"width",At=at[lt],wt=At+j[Mt],Pt=At-j[St],Lt=ht?-ct[Ot]/2:0,Rt=it===start?ft[Ot]:ct[Ot],Dt=it===start?-ct[Ot]:-ft[Ot],$t=s.elements.arrow,jt=ht&&$t?getLayoutRect($t):{width:0,height:0},Zt=s.modifiersData["arrow#persistent"]?s.modifiersData["arrow#persistent"].padding:getFreshSideObject(),qt=Zt[Mt],er=Zt[St],Yt=within(0,ft[Ot],jt[Ot]),Qt=st?ft[Ot]/2-Lt-Yt-qt-dt.mainAxis:Rt-Yt-qt-dt.mainAxis,cr=st?-ft[Ot]/2+Lt+Yt+er+dt.mainAxis:Dt+Yt+er+dt.mainAxis,lr=s.elements.arrow&&getOffsetParent(s.elements.arrow),gr=lr?lt==="y"?lr.clientTop||0:lr.clientLeft||0:0,rr=(Et=_t==null?void 0:_t[lt])!=null?Et:0,Gt=At+Qt-rr-gr,nr=At+cr-rr,_r=within(ht?min(wt,Gt):wt,At,ht?max(Pt,nr):Pt);at[lt]=_r,Ct[lt]=_r-At}if(tt){var Sr,Ar=lt==="x"?top:left,Or=lt==="x"?bottom:right,Mr=at[et],wr=et==="y"?"height":"width",Tr=Mr+j[Ar],fr=Mr-j[Or],pr=[top,left].indexOf(_e)!==-1,Lr=(Sr=_t==null?void 0:_t[et])!=null?Sr:0,Pr=pr?Tr:Mr-ft[wr]-ct[wr]-Lr+dt.altAxis,Bt=pr?Mr+ft[wr]+ct[wr]-Lr-dt.altAxis:fr,Ut=ht&&pr?withinMaxClamp(Pr,Mr,Bt):within(ht?Pr:Tr,Mr,ht?Bt:fr);at[et]=Ut,Ct[et]=Ut-Mr}s.modifiersData[a]=Ct}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function getNodeScroll(i){return i===getWindow(i)||!isHTMLElement$1(i)?getWindowScroll(i):getHTMLElementScroll(i)}function isElementScaled(i){var s=i.getBoundingClientRect(),o=round$1(s.width)/i.offsetWidth||1,a=round$1(s.height)/i.offsetHeight||1;return o!==1||a!==1}function getCompositeRect(i,s,o){o===void 0&&(o=!1);var a=isHTMLElement$1(s),_=isHTMLElement$1(s)&&isElementScaled(s),$=getDocumentElement(s),nt=getBoundingClientRect(i,_,o),tt={scrollLeft:0,scrollTop:0},ot={x:0,y:0};return(a||!a&&!o)&&((getNodeName(s)!=="body"||isScrollParent($))&&(tt=getNodeScroll(s)),isHTMLElement$1(s)?(ot=getBoundingClientRect(s,!0),ot.x+=s.clientLeft,ot.y+=s.clientTop):$&&(ot.x=getWindowScrollBarX($))),{x:nt.left+tt.scrollLeft-ot.x,y:nt.top+tt.scrollTop-ot.y,width:nt.width,height:nt.height}}function order(i){var s=new Map,o=new Set,a=[];i.forEach(function($){s.set($.name,$)});function _($){o.add($.name);var nt=[].concat($.requires||[],$.requiresIfExists||[]);nt.forEach(function(tt){if(!o.has(tt)){var ot=s.get(tt);ot&&_(ot)}}),a.push($)}return i.forEach(function($){o.has($.name)||_($)}),a}function orderModifiers(i){var s=order(i);return modifierPhases.reduce(function(o,a){return o.concat(s.filter(function(_){return _.phase===a}))},[])}function debounce(i){var s;return function(){return s||(s=new Promise(function(o){Promise.resolve().then(function(){s=void 0,o(i())})})),s}}function mergeByName(i){var s=i.reduce(function(o,a){var _=o[a.name];return o[a.name]=_?Object.assign({},_,a,{options:Object.assign({},_.options,a.options),data:Object.assign({},_.data,a.data)}):a,o},{});return Object.keys(s).map(function(o){return s[o]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return!s.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function popperGenerator(i){i===void 0&&(i={});var s=i,o=s.defaultModifiers,a=o===void 0?[]:o,_=s.defaultOptions,$=_===void 0?DEFAULT_OPTIONS:_;return function(tt,ot,pt){pt===void 0&&(pt=$);var ut={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,$),modifiersData:{},elements:{reference:tt,popper:ot},attributes:{},styles:{}},mt=[],vt=!1,ht={state:ut,setOptions:function(_e){var it=typeof _e=="function"?_e(ut.options):_e;rt(),ut.options=Object.assign({},$,ut.options,it),ut.scrollParents={reference:isElement(tt)?listScrollParents(tt):tt.contextElement?listScrollParents(tt.contextElement):[],popper:listScrollParents(ot)};var st=orderModifiers(mergeByName([].concat(a,ut.options.modifiers)));return ut.orderedModifiers=st.filter(function(lt){return lt.enabled}),gt(),ht.update()},forceUpdate:function(){if(!vt){var _e=ut.elements,it=_e.reference,st=_e.popper;if(areValidElements(it,st)){ut.rects={reference:getCompositeRect(it,getOffsetParent(st),ut.options.strategy==="fixed"),popper:getLayoutRect(st)},ut.reset=!1,ut.placement=ut.options.placement,ut.orderedModifiers.forEach(function(dt){return ut.modifiersData[dt.name]=Object.assign({},dt.data)});for(var lt=0;lt<ut.orderedModifiers.length;lt++){if(ut.reset===!0){ut.reset=!1,lt=-1;continue}var et=ut.orderedModifiers[lt],at=et.fn,ft=et.options,ct=ft===void 0?{}:ft,xt=et.name;typeof at=="function"&&(ut=at({state:ut,options:ct,name:xt,instance:ht})||ut)}}}},update:debounce(function(){return new Promise(function(j){ht.forceUpdate(),j(ut)})}),destroy:function(){rt(),vt=!0}};if(!areValidElements(tt,ot))return ht;ht.setOptions(pt).then(function(j){!vt&&pt.onFirstUpdate&&pt.onFirstUpdate(j)});function gt(){ut.orderedModifiers.forEach(function(j){var _e=j.name,it=j.options,st=it===void 0?{}:it,lt=j.effect;if(typeof lt=="function"){var et=lt({state:ut,name:_e,instance:ht,options:st}),at=function(){};mt.push(et||at)}})}function rt(){mt.forEach(function(j){return j()}),mt=[]}return ht}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});function getContainer$1(i){return typeof i=="function"?i():i}const Portal=reactExports.forwardRef(function i(s,o){const{children:a,container:_,disablePortal:$=!1}=s,[nt,tt]=reactExports.useState(null),ot=useForkRef(reactExports.isValidElement(a)?getReactElementRef(a):null,o);if(useEnhancedEffect(()=>{$||tt(getContainer$1(_)||document.body)},[_,$]),useEnhancedEffect(()=>{if(nt&&!$)return setRef(o,nt),()=>{setRef(o,null)}},[o,nt,$]),$){if(reactExports.isValidElement(a)){const pt={ref:ot};return reactExports.cloneElement(a,pt)}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:a})}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:nt&&reactDomExports.createPortal(a,nt)})});function getPopperUtilityClass(i){return generateUtilityClass("MuiPopper",i)}generateUtilityClasses("MuiPopper",["root"]);function flipPlacement(i,s){if(s==="ltr")return i;switch(i){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return i}}function resolveAnchorEl$1(i){return typeof i=="function"?i():i}function isHTMLElement(i){return i.nodeType!==void 0}const useUtilityClasses$l=i=>{const{classes:s}=i;return composeClasses({root:["root"]},getPopperUtilityClass,s)},defaultPopperOptions={},PopperTooltip=reactExports.forwardRef(function i(s,o){const{anchorEl:a,children:_,direction:$,disablePortal:nt,modifiers:tt,open:ot,placement:pt,popperOptions:ut,popperRef:mt,slotProps:vt={},slots:ht={},TransitionProps:gt,ownerState:rt,...j}=s,_e=reactExports.useRef(null),it=useForkRef(_e,o),st=reactExports.useRef(null),lt=useForkRef(st,mt),et=reactExports.useRef(lt);useEnhancedEffect(()=>{et.current=lt},[lt]),reactExports.useImperativeHandle(mt,()=>st.current,[]);const at=flipPlacement(pt,$),[ft,ct]=reactExports.useState(at),[xt,dt]=reactExports.useState(resolveAnchorEl$1(a));reactExports.useEffect(()=>{st.current&&st.current.forceUpdate()}),reactExports.useEffect(()=>{a&&dt(resolveAnchorEl$1(a))},[a]),useEnhancedEffect(()=>{if(!xt||!ot)return;const St=wt=>{ct(wt.placement)};let Ot=[{name:"preventOverflow",options:{altBoundary:nt}},{name:"flip",options:{altBoundary:nt}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:wt})=>{St(wt)}}];tt!=null&&(Ot=Ot.concat(tt)),ut&&ut.modifiers!=null&&(Ot=Ot.concat(ut.modifiers));const At=createPopper(xt,_e.current,{placement:at,...ut,modifiers:Ot});return et.current(At),()=>{At.destroy(),et.current(null)}},[xt,nt,tt,ot,ut,at]);const _t={placement:ft};gt!==null&&(_t.TransitionProps=gt);const Ct=useUtilityClasses$l(s),Et=ht.root??"div",Mt=useSlotProps({elementType:Et,externalSlotProps:vt.root,externalForwardedProps:j,additionalProps:{role:"tooltip",ref:it},ownerState:s,className:Ct.root});return jsxRuntimeExports.jsx(Et,{...Mt,children:typeof _=="function"?_(_t):_})}),Popper$1=reactExports.forwardRef(function i(s,o){const{anchorEl:a,children:_,container:$,direction:nt="ltr",disablePortal:tt=!1,keepMounted:ot=!1,modifiers:pt,open:ut,placement:mt="bottom",popperOptions:vt=defaultPopperOptions,popperRef:ht,style:gt,transition:rt=!1,slotProps:j={},slots:_e={},...it}=s,[st,lt]=reactExports.useState(!0),et=()=>{lt(!1)},at=()=>{lt(!0)};if(!ot&&!ut&&(!rt||st))return null;let ft;if($)ft=$;else if(a){const dt=resolveAnchorEl$1(a);ft=dt&&isHTMLElement(dt)?ownerDocument(dt).body:ownerDocument(null).body}const ct=!ut&&ot&&(!rt||st)?"none":void 0,xt=rt?{in:ut,onEnter:et,onExited:at}:void 0;return jsxRuntimeExports.jsx(Portal,{disablePortal:tt,container:ft,children:jsxRuntimeExports.jsx(PopperTooltip,{anchorEl:a,direction:nt,disablePortal:tt,modifiers:pt,ref:o,open:rt?!st:ut,placement:mt,popperOptions:vt,popperRef:ht,slotProps:j,slots:_e,...it,style:{position:"fixed",top:0,left:0,display:ct,...gt},TransitionProps:xt,children:_})})}),PopperRoot=styled(Popper$1,{name:"MuiPopper",slot:"Root",overridesResolver:(i,s)=>s.root})({}),Popper=reactExports.forwardRef(function i(s,o){const a=useRtl(),_=useDefaultProps({props:s,name:"MuiPopper"}),{anchorEl:$,component:nt,components:tt,componentsProps:ot,container:pt,disablePortal:ut,keepMounted:mt,modifiers:vt,open:ht,placement:gt,popperOptions:rt,popperRef:j,transition:_e,slots:it,slotProps:st,...lt}=_,et=(it==null?void 0:it.root)??(tt==null?void 0:tt.Root),at={anchorEl:$,container:pt,disablePortal:ut,keepMounted:mt,modifiers:vt,open:ht,placement:gt,popperOptions:rt,popperRef:j,transition:_e,...lt};return jsxRuntimeExports.jsx(PopperRoot,{as:nt,direction:a?"rtl":"ltr",slots:{root:et},slotProps:st??ot,...at,ref:o})});function getStyleValue(i){return parseInt(i,10)||0}const styles$2={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty$1(i){return i==null||Object.keys(i).length===0||i.outerHeightStyle===0&&!i.overflowing}const TextareaAutosize=reactExports.forwardRef(function i(s,o){const{onChange:a,maxRows:_,minRows:$=1,style:nt,value:tt,...ot}=s,{current:pt}=reactExports.useRef(tt!=null),ut=reactExports.useRef(null),mt=useForkRef(o,ut),vt=reactExports.useRef(null),ht=reactExports.useRef(null),gt=reactExports.useCallback(()=>{const _e=ut.current,st=ownerWindow(_e).getComputedStyle(_e);if(st.width==="0px")return{outerHeightStyle:0,overflowing:!1};const lt=ht.current;lt.style.width=st.width,lt.value=_e.value||s.placeholder||"x",lt.value.slice(-1)===`
`&&(lt.value+=" ");const et=st.boxSizing,at=getStyleValue(st.paddingBottom)+getStyleValue(st.paddingTop),ft=getStyleValue(st.borderBottomWidth)+getStyleValue(st.borderTopWidth),ct=lt.scrollHeight;lt.value="x";const xt=lt.scrollHeight;let dt=ct;$&&(dt=Math.max(Number($)*xt,dt)),_&&(dt=Math.min(Number(_)*xt,dt)),dt=Math.max(dt,xt);const _t=dt+(et==="border-box"?at+ft:0),Ct=Math.abs(dt-ct)<=1;return{outerHeightStyle:_t,overflowing:Ct}},[_,$,s.placeholder]),rt=reactExports.useCallback(()=>{const _e=gt();if(isEmpty$1(_e))return;const it=_e.outerHeightStyle,st=ut.current;vt.current!==it&&(vt.current=it,st.style.height=`${it}px`),st.style.overflow=_e.overflowing?"hidden":""},[gt]);useEnhancedEffect(()=>{const _e=()=>{rt()};let it;const st=debounce$1(_e),lt=ut.current,et=ownerWindow(lt);et.addEventListener("resize",st);let at;return typeof ResizeObserver<"u"&&(at=new ResizeObserver(_e),at.observe(lt)),()=>{st.clear(),cancelAnimationFrame(it),et.removeEventListener("resize",st),at&&at.disconnect()}},[gt,rt]),useEnhancedEffect(()=>{rt()});const j=_e=>{pt||rt(),a&&a(_e)};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",{value:tt,onChange:j,ref:mt,rows:$,style:nt,...ot}),jsxRuntimeExports.jsx("textarea",{"aria-hidden":!0,className:s.className,readOnly:!0,ref:ht,tabIndex:-1,style:{...styles$2.shadow,...nt,paddingTop:0,paddingBottom:0}})]})});function isHostComponent(i){return typeof i=="string"}function formControlState({props:i,states:s,muiFormControl:o}){return s.reduce((a,_)=>(a[_]=i[_],o&&typeof i[_]>"u"&&(a[_]=o[_]),a),{})}const FormControlContext=reactExports.createContext(void 0);function useFormControl(){return reactExports.useContext(FormControlContext)}function hasValue(i){return i!=null&&!(Array.isArray(i)&&i.length===0)}function isFilled(i,s=!1){return i&&(hasValue(i.value)&&i.value!==""||s&&hasValue(i.defaultValue)&&i.defaultValue!=="")}function isAdornedStart(i){return i.startAdornment}function getInputBaseUtilityClass(i){return generateUtilityClass("MuiInputBase",i)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var _InputGlobalStyles;const rootOverridesResolver=(i,s)=>{const{ownerState:o}=i;return[s.root,o.formControl&&s.formControl,o.startAdornment&&s.adornedStart,o.endAdornment&&s.adornedEnd,o.error&&s.error,o.size==="small"&&s.sizeSmall,o.multiline&&s.multiline,o.color&&s[`color${capitalize(o.color)}`],o.fullWidth&&s.fullWidth,o.hiddenLabel&&s.hiddenLabel]},inputOverridesResolver=(i,s)=>{const{ownerState:o}=i;return[s.input,o.size==="small"&&s.inputSizeSmall,o.multiline&&s.inputMultiline,o.type==="search"&&s.inputTypeSearch,o.startAdornment&&s.inputAdornedStart,o.endAdornment&&s.inputAdornedEnd,o.hiddenLabel&&s.inputHiddenLabel]},useUtilityClasses$k=i=>{const{classes:s,color:o,disabled:a,error:_,endAdornment:$,focused:nt,formControl:tt,fullWidth:ot,hiddenLabel:pt,multiline:ut,readOnly:mt,size:vt,startAdornment:ht,type:gt}=i,rt={root:["root",`color${capitalize(o)}`,a&&"disabled",_&&"error",ot&&"fullWidth",nt&&"focused",tt&&"formControl",vt&&vt!=="medium"&&`size${capitalize(vt)}`,ut&&"multiline",ht&&"adornedStart",$&&"adornedEnd",pt&&"hiddenLabel",mt&&"readOnly"],input:["input",a&&"disabled",gt==="search"&&"inputTypeSearch",ut&&"inputMultiline",vt==="small"&&"inputSizeSmall",pt&&"inputHiddenLabel",ht&&"inputAdornedStart",$&&"inputAdornedEnd",mt&&"readOnly"]};return composeClasses(rt,getInputBaseUtilityClass,s)},InputBaseRoot=styled("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(memoTheme(({theme:i})=>({...i.typography.body1,color:(i.vars||i).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses.disabled}`]:{color:(i.vars||i).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:s})=>s.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:s,size:o})=>s.multiline&&o==="small",style:{paddingTop:1}},{props:({ownerState:s})=>s.fullWidth,style:{width:"100%"}}]}))),InputBaseInput=styled("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:i})=>{const s=i.palette.mode==="light",o={color:"currentColor",...i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},transition:i.transitions.create("opacity",{duration:i.transitions.duration.shorter})},a={opacity:"0 !important"},_=i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":_,"&:focus::-moz-placeholder":_,"&:focus::-ms-input-placeholder":_},[`&.${inputBaseClasses.disabled}`]:{opacity:1,WebkitTextFillColor:(i.vars||i).palette.text.disabled},variants:[{props:({ownerState:$})=>!$.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:$})=>$.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),InputGlobalStyles=globalCss({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),InputBase=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiInputBase"}),{"aria-describedby":_,autoComplete:$,autoFocus:nt,className:tt,color:ot,components:pt={},componentsProps:ut={},defaultValue:mt,disabled:vt,disableInjectingGlobalStyles:ht,endAdornment:gt,error:rt,fullWidth:j=!1,id:_e,inputComponent:it="input",inputProps:st={},inputRef:lt,margin:et,maxRows:at,minRows:ft,multiline:ct=!1,name:xt,onBlur:dt,onChange:_t,onClick:Ct,onFocus:Et,onKeyDown:Mt,onKeyUp:St,placeholder:Ot,readOnly:At,renderSuffix:wt,rows:Pt,size:Lt,slotProps:Rt={},slots:Dt={},startAdornment:$t,type:jt="text",value:Zt,...qt}=a,er=st.value!=null?st.value:Zt,{current:Yt}=reactExports.useRef(er!=null),Qt=reactExports.useRef(),cr=reactExports.useCallback(Xt=>{},[]),lr=useForkRef(Qt,lt,st.ref,cr),[gr,rr]=reactExports.useState(!1),Gt=useFormControl(),nr=formControlState({props:a,muiFormControl:Gt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});nr.focused=Gt?Gt.focused:gr,reactExports.useEffect(()=>{!Gt&&vt&&gr&&(rr(!1),dt&&dt())},[Gt,vt,gr,dt]);const _r=Gt&&Gt.onFilled,Sr=Gt&&Gt.onEmpty,Ar=reactExports.useCallback(Xt=>{isFilled(Xt)?_r&&_r():Sr&&Sr()},[_r,Sr]);useEnhancedEffect(()=>{Yt&&Ar({value:er})},[er,Ar,Yt]);const Or=Xt=>{Et&&Et(Xt),st.onFocus&&st.onFocus(Xt),Gt&&Gt.onFocus?Gt.onFocus(Xt):rr(!0)},Mr=Xt=>{dt&&dt(Xt),st.onBlur&&st.onBlur(Xt),Gt&&Gt.onBlur?Gt.onBlur(Xt):rr(!1)},wr=(Xt,...Er)=>{if(!Yt){const mr=Xt.target||Qt.current;if(mr==null)throw new Error(formatMuiErrorMessage(1));Ar({value:mr.value})}st.onChange&&st.onChange(Xt,...Er),_t&&_t(Xt,...Er)};reactExports.useEffect(()=>{Ar(Qt.current)},[]);const Tr=Xt=>{Qt.current&&Xt.currentTarget===Xt.target&&Qt.current.focus(),Ct&&Ct(Xt)};let fr=it,pr=st;ct&&fr==="input"&&(Pt?pr={type:void 0,minRows:Pt,maxRows:Pt,...pr}:pr={type:void 0,maxRows:at,minRows:ft,...pr},fr=TextareaAutosize);const Lr=Xt=>{Ar(Xt.animationName==="mui-auto-fill-cancel"?Qt.current:{value:"x"})};reactExports.useEffect(()=>{Gt&&Gt.setAdornedStart(!!$t)},[Gt,$t]);const Pr={...a,color:nr.color||"primary",disabled:nr.disabled,endAdornment:gt,error:nr.error,focused:nr.focused,formControl:Gt,fullWidth:j,hiddenLabel:nr.hiddenLabel,multiline:ct,size:nr.size,startAdornment:$t,type:jt},Bt=useUtilityClasses$k(Pr),Ut=Dt.root||pt.Root||InputBaseRoot,Wt=Rt.root||ut.root||{},ar=Dt.input||pt.Input||InputBaseInput;return pr={...pr,...Rt.input??ut.input},jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[!ht&&typeof InputGlobalStyles=="function"&&(_InputGlobalStyles||(_InputGlobalStyles=jsxRuntimeExports.jsx(InputGlobalStyles,{}))),jsxRuntimeExports.jsxs(Ut,{...Wt,ref:o,onClick:Tr,...qt,...!isHostComponent(Ut)&&{ownerState:{...Pr,...Wt.ownerState}},className:clsx(Bt.root,Wt.className,tt,At&&"MuiInputBase-readOnly"),children:[$t,jsxRuntimeExports.jsx(FormControlContext.Provider,{value:null,children:jsxRuntimeExports.jsx(ar,{"aria-invalid":nr.error,"aria-describedby":_,autoComplete:$,autoFocus:nt,defaultValue:mt,disabled:nr.disabled,id:_e,onAnimationStart:Lr,name:xt,placeholder:Ot,readOnly:At,required:nr.required,rows:Pt,value:er,onKeyDown:Mt,onKeyUp:St,type:jt,...pr,...!isHostComponent(ar)&&{as:fr,ownerState:{...Pr,...pr.ownerState}},ref:lr,className:clsx(Bt.input,pr.className,At&&"MuiInputBase-readOnly"),onBlur:Mr,onChange:wr,onFocus:Or})}),gt,wt?wt({...nr,startAdornment:$t}):null]})]})});function getInputUtilityClass(i){return generateUtilityClass("MuiInput",i)}const inputClasses={...inputBaseClasses,...generateUtilityClasses("MuiInput",["root","underline","input"])};function getOutlinedInputUtilityClass(i){return generateUtilityClass("MuiOutlinedInput",i)}const outlinedInputClasses={...inputBaseClasses,...generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"])};function getFilledInputUtilityClass(i){return generateUtilityClass("MuiFilledInput",i)}const filledInputClasses={...inputBaseClasses,...generateUtilityClasses("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},ArrowDropDownIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function i(s,o){const a=useTheme(),_={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:$,appear:nt=!0,children:tt,easing:ot,in:pt,onEnter:ut,onEntered:mt,onEntering:vt,onExit:ht,onExited:gt,onExiting:rt,style:j,timeout:_e=_,TransitionComponent:it=Transition,...st}=s,lt=reactExports.useRef(null),et=useForkRef(lt,getReactElementRef(tt),o),at=Mt=>St=>{if(Mt){const Ot=lt.current;St===void 0?Mt(Ot):Mt(Ot,St)}},ft=at(vt),ct=at((Mt,St)=>{reflow(Mt);const Ot=getTransitionProps({style:j,timeout:_e,easing:ot},{mode:"enter"});Mt.style.webkitTransition=a.transitions.create("opacity",Ot),Mt.style.transition=a.transitions.create("opacity",Ot),ut&&ut(Mt,St)}),xt=at(mt),dt=at(rt),_t=at(Mt=>{const St=getTransitionProps({style:j,timeout:_e,easing:ot},{mode:"exit"});Mt.style.webkitTransition=a.transitions.create("opacity",St),Mt.style.transition=a.transitions.create("opacity",St),ht&&ht(Mt)}),Ct=at(gt),Et=Mt=>{$&&$(lt.current,Mt)};return jsxRuntimeExports.jsx(it,{appear:nt,in:pt,nodeRef:lt,onEnter:ct,onEntered:xt,onEntering:ft,onExit:_t,onExited:Ct,onExiting:dt,addEndListener:Et,timeout:_e,...st,children:(Mt,St)=>reactExports.cloneElement(tt,{style:{opacity:0,visibility:Mt==="exited"&&!pt?"hidden":void 0,...styles$1[Mt],...j,...tt.props.style},ref:et,...St})})});function getBackdropUtilityClass(i){return generateUtilityClass("MuiBackdrop",i)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const removeOwnerState=i=>{const{ownerState:s,...o}=i;return o},useUtilityClasses$j=i=>{const{classes:s,invisible:o}=i;return composeClasses({root:["root",o&&"invisible"]},getBackdropUtilityClass,s)},BackdropRoot=styled("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,o.invisible&&s.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Backdrop=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiBackdrop"}),{children:_,className:$,component:nt="div",invisible:tt=!1,open:ot,components:pt={},componentsProps:ut={},slotProps:mt={},slots:vt={},TransitionComponent:ht,transitionDuration:gt,...rt}=a,j={...a,component:nt,invisible:tt},_e=useUtilityClasses$j(j),it={transition:ht,root:pt.Root,...vt},st={...ut,...mt},lt={slots:it,slotProps:st},[et,at]=useSlot("root",{elementType:BackdropRoot,externalForwardedProps:lt,className:clsx(_e.root,$),ownerState:j}),[ft,ct]=useSlot("transition",{elementType:Fade,externalForwardedProps:lt,ownerState:j}),xt=removeOwnerState(ct);return jsxRuntimeExports.jsx(ft,{in:ot,timeout:gt,...rt,...xt,children:jsxRuntimeExports.jsx(et,{"aria-hidden":!0,...at,classes:_e,ref:o,children:_})})}),boxClasses=generateUtilityClasses("MuiBox",["root"]),defaultTheme=createTheme(),Box=createBox({themeId:THEME_ID,defaultTheme,defaultClassName:boxClasses.root,generateClassName:ClassNameGenerator.generate});function getButtonUtilityClass(i){return generateUtilityClass("MuiButton",i)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),ButtonGroupContext=reactExports.createContext({}),ButtonGroupButtonContext=reactExports.createContext(void 0),useUtilityClasses$i=i=>{const{color:s,disableElevation:o,fullWidth:a,size:_,variant:$,classes:nt}=i,tt={root:["root",$,`${$}${capitalize(s)}`,`size${capitalize(_)}`,`${$}Size${capitalize(_)}`,`color${capitalize(s)}`,o&&"disableElevation",a&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${capitalize(_)}`],endIcon:["icon","endIcon",`iconSize${capitalize(_)}`]},ot=composeClasses(tt,getButtonUtilityClass,nt);return{...nt,...ot}},commonIconStyles=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],ButtonRoot=styled(ButtonBase,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiButton",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,s[o.variant],s[`${o.variant}${capitalize(o.color)}`],s[`size${capitalize(o.size)}`],s[`${o.variant}Size${capitalize(o.size)}`],o.color==="inherit"&&s.colorInherit,o.disableElevation&&s.disableElevation,o.fullWidth&&s.fullWidth]}})(memoTheme(({theme:i})=>{const s=i.palette.mode==="light"?i.palette.grey[300]:i.palette.grey[800],o=i.palette.mode==="light"?i.palette.grey.A100:i.palette.grey[700];return{...i.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${buttonClasses.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(i.vars||i).shadows[2],"&:hover":{boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2]}},"&:active":{boxShadow:(i.vars||i).shadows[8]},[`&.${buttonClasses.focusVisible}`]:{boxShadow:(i.vars||i).shadows[6]},[`&.${buttonClasses.disabled}`]:{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${buttonClasses.disabled}`]:{border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([a])=>({props:{color:a},style:{"--variant-textColor":(i.vars||i).palette[a].main,"--variant-outlinedColor":(i.vars||i).palette[a].main,"--variant-outlinedBorder":i.vars?`rgba(${i.vars.palette[a].mainChannel} / 0.5)`:alpha(i.palette[a].main,.5),"--variant-containedColor":(i.vars||i).palette[a].contrastText,"--variant-containedBg":(i.vars||i).palette[a].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(i.vars||i).palette[a].dark,"--variant-textBg":i.vars?`rgba(${i.vars.palette[a].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette[a].main,i.palette.action.hoverOpacity),"--variant-outlinedBorder":(i.vars||i).palette[a].main,"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette[a].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette[a].main,i.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedBg:s,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedHoverBg:o,"--variant-textBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette.text.primary,i.palette.action.hoverOpacity),"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette.text.primary,i.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:i.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),ButtonStartIcon=styled("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.startIcon,s[`iconSize${capitalize(o.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...commonIconStyles]}),ButtonEndIcon=styled("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.endIcon,s[`iconSize${capitalize(o.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...commonIconStyles]}),Button=reactExports.forwardRef(function i(s,o){const a=reactExports.useContext(ButtonGroupContext),_=reactExports.useContext(ButtonGroupButtonContext),$=resolveProps(a,s),nt=useDefaultProps({props:$,name:"MuiButton"}),{children:tt,color:ot="primary",component:pt="button",className:ut,disabled:mt=!1,disableElevation:vt=!1,disableFocusRipple:ht=!1,endIcon:gt,focusVisibleClassName:rt,fullWidth:j=!1,size:_e="medium",startIcon:it,type:st,variant:lt="text",...et}=nt,at={...nt,color:ot,component:pt,disabled:mt,disableElevation:vt,disableFocusRipple:ht,fullWidth:j,size:_e,type:st,variant:lt},ft=useUtilityClasses$i(at),ct=it&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:ft.startIcon,ownerState:at,children:it}),xt=gt&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:ft.endIcon,ownerState:at,children:gt}),dt=_||"";return jsxRuntimeExports.jsxs(ButtonRoot,{ownerState:at,className:clsx(a.className,ft.root,ut,dt),component:pt,disabled:mt,focusRipple:!ht,focusVisibleClassName:clsx(ft.focusVisible,rt),ref:o,type:st,...et,classes:ft,children:[ct,tt,xt]})});function isOverflowing(i){const s=ownerDocument(i);return s.body===i?ownerWindow(i).innerWidth>s.documentElement.clientWidth:i.scrollHeight>i.clientHeight}function ariaHidden(i,s){s?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden")}function getPaddingRight(i){return parseInt(ownerWindow(i).getComputedStyle(i).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(i){const o=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(i.tagName),a=i.tagName==="INPUT"&&i.getAttribute("type")==="hidden";return o||a}function ariaHiddenSiblings(i,s,o,a,_){const $=[s,o,...a];[].forEach.call(i.children,nt=>{const tt=!$.includes(nt),ot=!isAriaHiddenForbiddenOnElement(nt);tt&&ot&&ariaHidden(nt,_)})}function findIndexOf(i,s){let o=-1;return i.some((a,_)=>s(a)?(o=_,!0):!1),o}function handleContainer(i,s){const o=[],a=i.container;if(!s.disableScrollLock){if(isOverflowing(a)){const nt=getScrollbarSize(ownerWindow(a));o.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${getPaddingRight(a)+nt}px`;const tt=ownerDocument(a).querySelectorAll(".mui-fixed");[].forEach.call(tt,ot=>{o.push({value:ot.style.paddingRight,property:"padding-right",el:ot}),ot.style.paddingRight=`${getPaddingRight(ot)+nt}px`})}let $;if(a.parentNode instanceof DocumentFragment)$=ownerDocument(a).body;else{const nt=a.parentElement,tt=ownerWindow(a);$=(nt==null?void 0:nt.nodeName)==="HTML"&&tt.getComputedStyle(nt).overflowY==="scroll"?nt:a}o.push({value:$.style.overflow,property:"overflow",el:$},{value:$.style.overflowX,property:"overflow-x",el:$},{value:$.style.overflowY,property:"overflow-y",el:$}),$.style.overflow="hidden"}return()=>{o.forEach(({value:$,el:nt,property:tt})=>{$?nt.style.setProperty(tt,$):nt.style.removeProperty(tt)})}}function getHiddenSiblings(i){const s=[];return[].forEach.call(i.children,o=>{o.getAttribute("aria-hidden")==="true"&&s.push(o)}),s}class ModalManager{constructor(){this.modals=[],this.containers=[]}add(s,o){let a=this.modals.indexOf(s);if(a!==-1)return a;a=this.modals.length,this.modals.push(s),s.modalRef&&ariaHidden(s.modalRef,!1);const _=getHiddenSiblings(o);ariaHiddenSiblings(o,s.mount,s.modalRef,_,!0);const $=findIndexOf(this.containers,nt=>nt.container===o);return $!==-1?(this.containers[$].modals.push(s),a):(this.containers.push({modals:[s],container:o,restore:null,hiddenSiblings:_}),a)}mount(s,o){const a=findIndexOf(this.containers,$=>$.modals.includes(s)),_=this.containers[a];_.restore||(_.restore=handleContainer(_,o))}remove(s,o=!0){const a=this.modals.indexOf(s);if(a===-1)return a;const _=findIndexOf(this.containers,nt=>nt.modals.includes(s)),$=this.containers[_];if($.modals.splice($.modals.indexOf(s),1),this.modals.splice(a,1),$.modals.length===0)$.restore&&$.restore(),s.modalRef&&ariaHidden(s.modalRef,o),ariaHiddenSiblings($.container,s.mount,s.modalRef,$.hiddenSiblings,!1),this.containers.splice(_,1);else{const nt=$.modals[$.modals.length-1];nt.modalRef&&ariaHidden(nt.modalRef,!1)}return a}isTopModal(s){return this.modals.length>0&&this.modals[this.modals.length-1]===s}}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(i){const s=parseInt(i.getAttribute("tabindex")||"",10);return Number.isNaN(s)?i.contentEditable==="true"||(i.nodeName==="AUDIO"||i.nodeName==="VIDEO"||i.nodeName==="DETAILS")&&i.getAttribute("tabindex")===null?0:i.tabIndex:s}function isNonTabbableRadio(i){if(i.tagName!=="INPUT"||i.type!=="radio"||!i.name)return!1;const s=a=>i.ownerDocument.querySelector(`input[type="radio"]${a}`);let o=s(`[name="${i.name}"]:checked`);return o||(o=s(`[name="${i.name}"]`)),o!==i}function isNodeMatchingSelectorFocusable(i){return!(i.disabled||i.tagName==="INPUT"&&i.type==="hidden"||isNonTabbableRadio(i))}function defaultGetTabbable(i){const s=[],o=[];return Array.from(i.querySelectorAll(candidatesSelector)).forEach((a,_)=>{const $=getTabIndex(a);$===-1||!isNodeMatchingSelectorFocusable(a)||($===0?s.push(a):o.push({documentOrder:_,tabIndex:$,node:a}))}),o.sort((a,_)=>a.tabIndex===_.tabIndex?a.documentOrder-_.documentOrder:a.tabIndex-_.tabIndex).map(a=>a.node).concat(s)}function defaultIsEnabled(){return!0}function FocusTrap(i){const{children:s,disableAutoFocus:o=!1,disableEnforceFocus:a=!1,disableRestoreFocus:_=!1,getTabbable:$=defaultGetTabbable,isEnabled:nt=defaultIsEnabled,open:tt}=i,ot=reactExports.useRef(!1),pt=reactExports.useRef(null),ut=reactExports.useRef(null),mt=reactExports.useRef(null),vt=reactExports.useRef(null),ht=reactExports.useRef(!1),gt=reactExports.useRef(null),rt=useForkRef(getReactElementRef(s),gt),j=reactExports.useRef(null);reactExports.useEffect(()=>{!tt||!gt.current||(ht.current=!o)},[o,tt]),reactExports.useEffect(()=>{if(!tt||!gt.current)return;const st=ownerDocument(gt.current);return gt.current.contains(st.activeElement)||(gt.current.hasAttribute("tabIndex")||gt.current.setAttribute("tabIndex","-1"),ht.current&&gt.current.focus()),()=>{_||(mt.current&&mt.current.focus&&(ot.current=!0,mt.current.focus()),mt.current=null)}},[tt]),reactExports.useEffect(()=>{if(!tt||!gt.current)return;const st=ownerDocument(gt.current),lt=ft=>{j.current=ft,!(a||!nt()||ft.key!=="Tab")&&st.activeElement===gt.current&&ft.shiftKey&&(ot.current=!0,ut.current&&ut.current.focus())},et=()=>{var xt,dt;const ft=gt.current;if(ft===null)return;if(!st.hasFocus()||!nt()||ot.current){ot.current=!1;return}if(ft.contains(st.activeElement)||a&&st.activeElement!==pt.current&&st.activeElement!==ut.current)return;if(st.activeElement!==vt.current)vt.current=null;else if(vt.current!==null)return;if(!ht.current)return;let ct=[];if((st.activeElement===pt.current||st.activeElement===ut.current)&&(ct=$(gt.current)),ct.length>0){const _t=!!((xt=j.current)!=null&&xt.shiftKey&&((dt=j.current)==null?void 0:dt.key)==="Tab"),Ct=ct[0],Et=ct[ct.length-1];typeof Ct!="string"&&typeof Et!="string"&&(_t?Et.focus():Ct.focus())}else ft.focus()};st.addEventListener("focusin",et),st.addEventListener("keydown",lt,!0);const at=setInterval(()=>{st.activeElement&&st.activeElement.tagName==="BODY"&&et()},50);return()=>{clearInterval(at),st.removeEventListener("focusin",et),st.removeEventListener("keydown",lt,!0)}},[o,a,_,nt,tt,$]);const _e=st=>{mt.current===null&&(mt.current=st.relatedTarget),ht.current=!0,vt.current=st.target;const lt=s.props.onFocus;lt&&lt(st)},it=st=>{mt.current===null&&(mt.current=st.relatedTarget),ht.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:tt?0:-1,onFocus:it,ref:pt,"data-testid":"sentinelStart"}),reactExports.cloneElement(s,{ref:rt,onFocus:_e}),jsxRuntimeExports.jsx("div",{tabIndex:tt?0:-1,onFocus:it,ref:ut,"data-testid":"sentinelEnd"})]})}function getContainer(i){return typeof i=="function"?i():i}function getHasTransition(i){return i?i.props.hasOwnProperty("in"):!1}const manager=new ModalManager;function useModal(i){const{container:s,disableEscapeKeyDown:o=!1,disableScrollLock:a=!1,closeAfterTransition:_=!1,onTransitionEnter:$,onTransitionExited:nt,children:tt,onClose:ot,open:pt,rootRef:ut}=i,mt=reactExports.useRef({}),vt=reactExports.useRef(null),ht=reactExports.useRef(null),gt=useForkRef(ht,ut),[rt,j]=reactExports.useState(!pt),_e=getHasTransition(tt);let it=!0;(i["aria-hidden"]==="false"||i["aria-hidden"]===!1)&&(it=!1);const st=()=>ownerDocument(vt.current),lt=()=>(mt.current.modalRef=ht.current,mt.current.mount=vt.current,mt.current),et=()=>{manager.mount(lt(),{disableScrollLock:a}),ht.current&&(ht.current.scrollTop=0)},at=useEventCallback(()=>{const St=getContainer(s)||st().body;manager.add(lt(),St),ht.current&&et()}),ft=()=>manager.isTopModal(lt()),ct=useEventCallback(St=>{vt.current=St,St&&(pt&&ft()?et():ht.current&&ariaHidden(ht.current,it))}),xt=reactExports.useCallback(()=>{manager.remove(lt(),it)},[it]);reactExports.useEffect(()=>()=>{xt()},[xt]),reactExports.useEffect(()=>{pt?at():(!_e||!_)&&xt()},[pt,xt,_e,_,at]);const dt=St=>Ot=>{var At;(At=St.onKeyDown)==null||At.call(St,Ot),!(Ot.key!=="Escape"||Ot.which===229||!ft())&&(o||(Ot.stopPropagation(),ot&&ot(Ot,"escapeKeyDown")))},_t=St=>Ot=>{var At;(At=St.onClick)==null||At.call(St,Ot),Ot.target===Ot.currentTarget&&ot&&ot(Ot,"backdropClick")};return{getRootProps:(St={})=>{const Ot=extractEventHandlers(i);delete Ot.onTransitionEnter,delete Ot.onTransitionExited;const At={...Ot,...St};return{role:"presentation",...At,onKeyDown:dt(At),ref:gt}},getBackdropProps:(St={})=>{const Ot=St;return{"aria-hidden":!0,...Ot,onClick:_t(Ot),open:pt}},getTransitionProps:()=>{const St=()=>{j(!1),$&&$()},Ot=()=>{j(!0),nt&&nt(),_&&xt()};return{onEnter:createChainedFunction(St,tt==null?void 0:tt.props.onEnter),onExited:createChainedFunction(Ot,tt==null?void 0:tt.props.onExited)}},rootRef:gt,portalRef:ct,isTopModal:ft,exited:rt,hasTransition:_e}}function getModalUtilityClass(i){return generateUtilityClass("MuiModal",i)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const useUtilityClasses$h=i=>{const{open:s,exited:o,classes:a}=i;return composeClasses({root:["root",!s&&o&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,a)},ModalRoot=styled("div",{name:"MuiModal",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,!o.open&&o.exited&&s.hidden]}})(memoTheme(({theme:i})=>({position:"fixed",zIndex:(i.vars||i).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:s})=>!s.open&&s.exited,style:{visibility:"hidden"}}]}))),ModalBackdrop=styled(Backdrop,{name:"MuiModal",slot:"Backdrop",overridesResolver:(i,s)=>s.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({name:"MuiModal",props:s}),{BackdropComponent:_=ModalBackdrop,BackdropProps:$,classes:nt,className:tt,closeAfterTransition:ot=!1,children:pt,container:ut,component:mt,components:vt={},componentsProps:ht={},disableAutoFocus:gt=!1,disableEnforceFocus:rt=!1,disableEscapeKeyDown:j=!1,disablePortal:_e=!1,disableRestoreFocus:it=!1,disableScrollLock:st=!1,hideBackdrop:lt=!1,keepMounted:et=!1,onBackdropClick:at,onClose:ft,onTransitionEnter:ct,onTransitionExited:xt,open:dt,slotProps:_t={},slots:Ct={},theme:Et,...Mt}=a,St={...a,closeAfterTransition:ot,disableAutoFocus:gt,disableEnforceFocus:rt,disableEscapeKeyDown:j,disablePortal:_e,disableRestoreFocus:it,disableScrollLock:st,hideBackdrop:lt,keepMounted:et},{getRootProps:Ot,getBackdropProps:At,getTransitionProps:wt,portalRef:Pt,isTopModal:Lt,exited:Rt,hasTransition:Dt}=useModal({...St,rootRef:o}),$t={...St,exited:Rt},jt=useUtilityClasses$h($t),Zt={};if(pt.props.tabIndex===void 0&&(Zt.tabIndex="-1"),Dt){const{onEnter:gr,onExited:rr}=wt();Zt.onEnter=gr,Zt.onExited=rr}const qt={...Mt,slots:{root:vt.Root,backdrop:vt.Backdrop,...Ct},slotProps:{...ht,..._t}},[er,Yt]=useSlot("root",{elementType:ModalRoot,externalForwardedProps:qt,getSlotProps:Ot,additionalProps:{ref:o,as:mt},ownerState:$t,className:clsx(tt,jt==null?void 0:jt.root,!$t.open&&$t.exited&&(jt==null?void 0:jt.hidden))}),[Qt,cr]=useSlot("backdrop",{elementType:_,externalForwardedProps:qt,additionalProps:$,getSlotProps:gr=>At({...gr,onClick:rr=>{at&&at(rr),gr!=null&&gr.onClick&&gr.onClick(rr)}}),className:clsx($==null?void 0:$.className,jt==null?void 0:jt.backdrop),ownerState:$t}),lr=useForkRef($==null?void 0:$.ref,cr.ref);return!et&&!dt&&(!Dt||Rt)?null:jsxRuntimeExports.jsx(Portal,{ref:Pt,container:ut,disablePortal:_e,children:jsxRuntimeExports.jsxs(er,{...Yt,children:[!lt&&_?jsxRuntimeExports.jsx(Qt,{...cr,ref:lr}):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:rt,disableAutoFocus:gt,disableRestoreFocus:it,isEnabled:Lt,open:dt,children:reactExports.cloneElement(pt,Zt)})]})})}),useUtilityClasses$g=i=>{const{classes:s,disableUnderline:o,startAdornment:a,endAdornment:_,size:$,hiddenLabel:nt,multiline:tt}=i,ot={root:["root",!o&&"underline",a&&"adornedStart",_&&"adornedEnd",$==="small"&&`size${capitalize($)}`,nt&&"hiddenLabel",tt&&"multiline"],input:["input"]},pt=composeClasses(ot,getFilledInputUtilityClass,s);return{...s,...pt}},FilledInputRoot=styled(InputBaseRoot,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[...rootOverridesResolver(i,s),!o.disableUnderline&&s.underline]}})(memoTheme(({theme:i})=>{const s=i.palette.mode==="light",o=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",_=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",$=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:_,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:a}},[`&.${filledInputClasses.focused}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:a},[`&.${filledInputClasses.disabled}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:$},variants:[{props:({ownerState:nt})=>!nt.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses.disabled}, .${filledInputClasses.error}):before`]:{borderBottom:`1px solid ${(i.vars||i).palette.text.primary}`},[`&.${filledInputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([nt])=>{var tt;return{props:{disableUnderline:!1,color:nt},style:{"&::after":{borderBottom:`2px solid ${(tt=(i.vars||i).palette[nt])==null?void 0:tt.main}`}}}}),{props:({ownerState:nt})=>nt.startAdornment,style:{paddingLeft:12}},{props:({ownerState:nt})=>nt.endAdornment,style:{paddingRight:12}},{props:({ownerState:nt})=>nt.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:nt,size:tt})=>nt.multiline&&tt==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:nt})=>nt.multiline&&nt.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:nt})=>nt.multiline&&nt.hiddenLabel&&nt.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),FilledInputInput=styled(InputBaseInput,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:i})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}},{props:({ownerState:s})=>s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:s})=>s.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),FilledInput=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiFilledInput"}),{disableUnderline:_=!1,components:$={},componentsProps:nt,fullWidth:tt=!1,hiddenLabel:ot,inputComponent:pt="input",multiline:ut=!1,slotProps:mt,slots:vt={},type:ht="text",...gt}=a,rt={...a,disableUnderline:_,fullWidth:tt,inputComponent:pt,multiline:ut,type:ht},j=useUtilityClasses$g(a),_e={root:{ownerState:rt},input:{ownerState:rt}},it=mt??nt?deepmerge(_e,mt??nt):_e,st=vt.root??$.Root??FilledInputRoot,lt=vt.input??$.Input??FilledInputInput;return jsxRuntimeExports.jsx(InputBase,{slots:{root:st,input:lt},componentsProps:it,fullWidth:tt,inputComponent:pt,multiline:ut,ref:o,type:ht,...gt,classes:j})});FilledInput&&(FilledInput.muiName="Input");function getFormControlUtilityClasses(i){return generateUtilityClass("MuiFormControl",i)}generateUtilityClasses("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const useUtilityClasses$f=i=>{const{classes:s,margin:o,fullWidth:a}=i,_={root:["root",o!=="none"&&`margin${capitalize(o)}`,a&&"fullWidth"]};return composeClasses(_,getFormControlUtilityClasses,s)},FormControlRoot=styled("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:i},s)=>({...s.root,...s[`margin${capitalize(i.margin)}`],...i.fullWidth&&s.fullWidth})})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),FormControl=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiFormControl"}),{children:_,className:$,color:nt="primary",component:tt="div",disabled:ot=!1,error:pt=!1,focused:ut,fullWidth:mt=!1,hiddenLabel:vt=!1,margin:ht="none",required:gt=!1,size:rt="medium",variant:j="outlined",..._e}=a,it={...a,color:nt,component:tt,disabled:ot,error:pt,fullWidth:mt,hiddenLabel:vt,margin:ht,required:gt,size:rt,variant:j},st=useUtilityClasses$f(it),[lt,et]=reactExports.useState(()=>{let Et=!1;return _&&reactExports.Children.forEach(_,Mt=>{if(!isMuiElement(Mt,["Input","Select"]))return;const St=isMuiElement(Mt,["Select"])?Mt.props.input:Mt;St&&isAdornedStart(St.props)&&(Et=!0)}),Et}),[at,ft]=reactExports.useState(()=>{let Et=!1;return _&&reactExports.Children.forEach(_,Mt=>{isMuiElement(Mt,["Input","Select"])&&(isFilled(Mt.props,!0)||isFilled(Mt.props.inputProps,!0))&&(Et=!0)}),Et}),[ct,xt]=reactExports.useState(!1);ot&&ct&&xt(!1);const dt=ut!==void 0&&!ot?ut:ct;let _t;reactExports.useRef(!1);const Ct=reactExports.useMemo(()=>({adornedStart:lt,setAdornedStart:et,color:nt,disabled:ot,error:pt,filled:at,focused:dt,fullWidth:mt,hiddenLabel:vt,size:rt,onBlur:()=>{xt(!1)},onEmpty:()=>{ft(!1)},onFilled:()=>{ft(!0)},onFocus:()=>{xt(!0)},registerEffect:_t,required:gt,variant:j}),[lt,nt,ot,pt,at,dt,mt,vt,_t,gt,rt,j]);return jsxRuntimeExports.jsx(FormControlContext.Provider,{value:Ct,children:jsxRuntimeExports.jsx(FormControlRoot,{as:tt,ownerState:it,className:clsx(st.root,$),ref:o,..._e,children:_})})});function getFormHelperTextUtilityClasses(i){return generateUtilityClass("MuiFormHelperText",i)}const formHelperTextClasses=generateUtilityClasses("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var _span$2;const useUtilityClasses$e=i=>{const{classes:s,contained:o,size:a,disabled:_,error:$,filled:nt,focused:tt,required:ot}=i,pt={root:["root",_&&"disabled",$&&"error",a&&`size${capitalize(a)}`,o&&"contained",tt&&"focused",nt&&"filled",ot&&"required"]};return composeClasses(pt,getFormHelperTextUtilityClasses,s)},FormHelperTextRoot=styled("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,o.size&&s[`size${capitalize(o.size)}`],o.contained&&s.contained,o.filled&&s.filled]}})(memoTheme(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${formHelperTextClasses.error}`]:{color:(i.vars||i).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:s})=>s.contained,style:{marginLeft:14,marginRight:14}}]}))),FormHelperText=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiFormHelperText"}),{children:_,className:$,component:nt="p",disabled:tt,error:ot,filled:pt,focused:ut,margin:mt,required:vt,variant:ht,...gt}=a,rt=useFormControl(),j=formControlState({props:a,muiFormControl:rt,states:["variant","size","disabled","error","filled","focused","required"]}),_e={...a,component:nt,contained:j.variant==="filled"||j.variant==="outlined",variant:j.variant,size:j.size,disabled:j.disabled,error:j.error,filled:j.filled,focused:j.focused,required:j.required};delete _e.ownerState;const it=useUtilityClasses$e(_e);return jsxRuntimeExports.jsx(FormHelperTextRoot,{as:nt,className:clsx(it.root,$),ref:o,...gt,ownerState:_e,children:_===" "?_span$2||(_span$2=jsxRuntimeExports.jsx("span",{className:"notranslate",children:""})):_})});function getFormLabelUtilityClasses(i){return generateUtilityClass("MuiFormLabel",i)}const formLabelClasses=generateUtilityClasses("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),useUtilityClasses$d=i=>{const{classes:s,color:o,focused:a,disabled:_,error:$,filled:nt,required:tt}=i,ot={root:["root",`color${capitalize(o)}`,_&&"disabled",$&&"error",nt&&"filled",a&&"focused",tt&&"required"],asterisk:["asterisk",$&&"error"]};return composeClasses(ot,getFormLabelUtilityClasses,s)},FormLabelRoot=styled("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:i},s)=>({...s.root,...i.color==="secondary"&&s.colorSecondary,...i.filled&&s.filled})})(memoTheme(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([s])=>({props:{color:s},style:{[`&.${formLabelClasses.focused}`]:{color:(i.vars||i).palette[s].main}}})),{props:{},style:{[`&.${formLabelClasses.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${formLabelClasses.error}`]:{color:(i.vars||i).palette.error.main}}}]}))),AsteriskComponent=styled("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(i,s)=>s.asterisk})(memoTheme(({theme:i})=>({[`&.${formLabelClasses.error}`]:{color:(i.vars||i).palette.error.main}}))),FormLabel=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiFormLabel"}),{children:_,className:$,color:nt,component:tt="label",disabled:ot,error:pt,filled:ut,focused:mt,required:vt,...ht}=a,gt=useFormControl(),rt=formControlState({props:a,muiFormControl:gt,states:["color","required","focused","disabled","error","filled"]}),j={...a,color:rt.color||"primary",component:tt,disabled:rt.disabled,error:rt.error,filled:rt.filled,focused:rt.focused,required:rt.required},_e=useUtilityClasses$d(j);return jsxRuntimeExports.jsxs(FormLabelRoot,{as:tt,ownerState:j,className:clsx(_e.root,$),ref:o,...ht,children:[_,rt.required&&jsxRuntimeExports.jsxs(AsteriskComponent,{ownerState:j,"aria-hidden":!0,className:_e.asterisk,children:["","*"]})]})}),Grid2=createGrid({createStyledComponent:styled("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(i,s)=>s.root}),componentName:"MuiGrid2",useThemeProps:i=>useThemeProps({props:i,name:"MuiGrid2"})});function getScale(i){return`scale(${i}, ${i**2})`}const styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function i(s,o){const{addEndListener:a,appear:_=!0,children:$,easing:nt,in:tt,onEnter:ot,onEntered:pt,onEntering:ut,onExit:mt,onExited:vt,onExiting:ht,style:gt,timeout:rt="auto",TransitionComponent:j=Transition,..._e}=s,it=useTimeout(),st=reactExports.useRef(),lt=useTheme(),et=reactExports.useRef(null),at=useForkRef(et,getReactElementRef($),o),ft=St=>Ot=>{if(St){const At=et.current;Ot===void 0?St(At):St(At,Ot)}},ct=ft(ut),xt=ft((St,Ot)=>{reflow(St);const{duration:At,delay:wt,easing:Pt}=getTransitionProps({style:gt,timeout:rt,easing:nt},{mode:"enter"});let Lt;rt==="auto"?(Lt=lt.transitions.getAutoHeightDuration(St.clientHeight),st.current=Lt):Lt=At,St.style.transition=[lt.transitions.create("opacity",{duration:Lt,delay:wt}),lt.transitions.create("transform",{duration:isWebKit154?Lt:Lt*.666,delay:wt,easing:Pt})].join(","),ot&&ot(St,Ot)}),dt=ft(pt),_t=ft(ht),Ct=ft(St=>{const{duration:Ot,delay:At,easing:wt}=getTransitionProps({style:gt,timeout:rt,easing:nt},{mode:"exit"});let Pt;rt==="auto"?(Pt=lt.transitions.getAutoHeightDuration(St.clientHeight),st.current=Pt):Pt=Ot,St.style.transition=[lt.transitions.create("opacity",{duration:Pt,delay:At}),lt.transitions.create("transform",{duration:isWebKit154?Pt:Pt*.666,delay:isWebKit154?At:At||Pt*.333,easing:wt})].join(","),St.style.opacity=0,St.style.transform=getScale(.75),mt&&mt(St)}),Et=ft(vt),Mt=St=>{rt==="auto"&&it.start(st.current||0,St),a&&a(et.current,St)};return jsxRuntimeExports.jsx(j,{appear:_,in:tt,nodeRef:et,onEnter:xt,onEntered:dt,onEntering:ct,onExit:Ct,onExited:Et,onExiting:_t,addEndListener:Mt,timeout:rt==="auto"?null:rt,..._e,children:(St,Ot)=>reactExports.cloneElement($,{style:{opacity:0,transform:getScale(.75),visibility:St==="exited"&&!tt?"hidden":void 0,...styles[St],...gt,...$.props.style},ref:at,...Ot})})});Grow&&(Grow.muiSupportAuto=!0);const useUtilityClasses$c=i=>{const{classes:s,disableUnderline:o}=i,_=composeClasses({root:["root",!o&&"underline"],input:["input"]},getInputUtilityClass,s);return{...s,..._}},InputRoot=styled(InputBaseRoot,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiInput",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[...rootOverridesResolver(i,s),!o.disableUnderline&&s.underline]}})(memoTheme(({theme:i})=>{let o=i.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return i.vars&&(o=`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:a})=>a.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses.disabled}, .${inputClasses.error}):before`]:{borderBottom:`2px solid ${(i.vars||i).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${inputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([a])=>({props:{color:a,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(i.vars||i).palette[a].main}`}}}))]}})),InputInput=styled(InputBaseInput,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiInput"}),{disableUnderline:_=!1,components:$={},componentsProps:nt,fullWidth:tt=!1,inputComponent:ot="input",multiline:pt=!1,slotProps:ut,slots:mt={},type:vt="text",...ht}=a,gt=useUtilityClasses$c(a),j={root:{ownerState:{disableUnderline:_}}},_e=ut??nt?deepmerge(ut??nt,j):j,it=mt.root??$.Root??InputRoot,st=mt.input??$.Input??InputInput;return jsxRuntimeExports.jsx(InputBase,{slots:{root:it,input:st},slotProps:_e,fullWidth:tt,inputComponent:ot,multiline:pt,ref:o,type:vt,...ht,classes:gt})});Input&&(Input.muiName="Input");function getInputLabelUtilityClasses(i){return generateUtilityClass("MuiInputLabel",i)}generateUtilityClasses("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const useUtilityClasses$b=i=>{const{classes:s,formControl:o,size:a,shrink:_,disableAnimation:$,variant:nt,required:tt}=i,ot={root:["root",o&&"formControl",!$&&"animated",_&&"shrink",a&&a!=="normal"&&`size${capitalize(a)}`,nt],asterisk:[tt&&"asterisk"]},pt=composeClasses(ot,getInputLabelUtilityClasses,s);return{...s,...pt}},InputLabelRoot=styled(FormLabel,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[{[`& .${formLabelClasses.asterisk}`]:s.asterisk},s.root,o.formControl&&s.formControl,o.size==="small"&&s.sizeSmall,o.shrink&&s.shrink,!o.disableAnimation&&s.animated,o.focused&&s.focused,s[o.variant]]}})(memoTheme(({theme:i})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:s})=>s.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:s})=>s.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:s})=>!s.disableAnimation,style:{transition:i.transitions.create(["color","transform","max-width"],{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:s,ownerState:o})=>s==="filled"&&o.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:s,ownerState:o,size:a})=>s==="filled"&&o.shrink&&a==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:s,ownerState:o})=>s==="outlined"&&o.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),InputLabel=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({name:"MuiInputLabel",props:s}),{disableAnimation:_=!1,margin:$,shrink:nt,variant:tt,className:ot,...pt}=a,ut=useFormControl();let mt=nt;typeof mt>"u"&&ut&&(mt=ut.filled||ut.focused||ut.adornedStart);const vt=formControlState({props:a,muiFormControl:ut,states:["size","variant","required","focused"]}),ht={...a,disableAnimation:_,formControl:ut,shrink:mt,size:vt.size,variant:vt.variant,required:vt.required,focused:vt.focused},gt=useUtilityClasses$b(ht);return jsxRuntimeExports.jsx(InputLabelRoot,{"data-shrink":mt,ref:o,className:clsx(gt.root,ot),...pt,ownerState:ht,classes:gt})}),ListContext=reactExports.createContext({});function getListUtilityClass(i){return generateUtilityClass("MuiList",i)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const useUtilityClasses$a=i=>{const{classes:s,disablePadding:o,dense:a,subheader:_}=i;return composeClasses({root:["root",!o&&"padding",a&&"dense",_&&"subheader"]},getListUtilityClass,s)},ListRoot=styled("ul",{name:"MuiList",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,!o.disablePadding&&s.padding,o.dense&&s.dense,o.subheader&&s.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:i})=>!i.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:i})=>i.subheader,style:{paddingTop:0}}]}),List=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiList"}),{children:_,className:$,component:nt="ul",dense:tt=!1,disablePadding:ot=!1,subheader:pt,...ut}=a,mt=reactExports.useMemo(()=>({dense:tt}),[tt]),vt={...a,component:nt,dense:tt,disablePadding:ot},ht=useUtilityClasses$a(vt);return jsxRuntimeExports.jsx(ListContext.Provider,{value:mt,children:jsxRuntimeExports.jsxs(ListRoot,{as:nt,className:clsx(ht.root,$),ref:o,ownerState:vt,...ut,children:[pt,_]})})});function nextItem(i,s,o){return i===s?i.firstChild:s&&s.nextElementSibling?s.nextElementSibling:o?null:i.firstChild}function previousItem(i,s,o){return i===s?o?i.firstChild:i.lastChild:s&&s.previousElementSibling?s.previousElementSibling:o?null:i.lastChild}function textCriteriaMatches(i,s){if(s===void 0)return!0;let o=i.innerText;return o===void 0&&(o=i.textContent),o=o.trim().toLowerCase(),o.length===0?!1:s.repeating?o[0]===s.keys[0]:o.startsWith(s.keys.join(""))}function moveFocus(i,s,o,a,_,$){let nt=!1,tt=_(i,s,s?o:!1);for(;tt;){if(tt===i.firstChild){if(nt)return!1;nt=!0}const ot=a?!1:tt.disabled||tt.getAttribute("aria-disabled")==="true";if(!tt.hasAttribute("tabindex")||!textCriteriaMatches(tt,$)||ot)tt=_(i,tt,o);else return tt.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function i(s,o){const{actions:a,autoFocus:_=!1,autoFocusItem:$=!1,children:nt,className:tt,disabledItemsFocusable:ot=!1,disableListWrap:pt=!1,onKeyDown:ut,variant:mt="selectedMenu",...vt}=s,ht=reactExports.useRef(null),gt=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect(()=>{_&&ht.current.focus()},[_]),reactExports.useImperativeHandle(a,()=>({adjustStyleForScrollbar:(st,{direction:lt})=>{const et=!ht.current.style.width;if(st.clientHeight<ht.current.clientHeight&&et){const at=`${getScrollbarSize(ownerWindow(st))}px`;ht.current.style[lt==="rtl"?"paddingLeft":"paddingRight"]=at,ht.current.style.width=`calc(100% + ${at})`}return ht.current}}),[]);const rt=st=>{const lt=ht.current,et=st.key;if(st.ctrlKey||st.metaKey||st.altKey){ut&&ut(st);return}const ft=ownerDocument(lt).activeElement;if(et==="ArrowDown")st.preventDefault(),moveFocus(lt,ft,pt,ot,nextItem);else if(et==="ArrowUp")st.preventDefault(),moveFocus(lt,ft,pt,ot,previousItem);else if(et==="Home")st.preventDefault(),moveFocus(lt,null,pt,ot,nextItem);else if(et==="End")st.preventDefault(),moveFocus(lt,null,pt,ot,previousItem);else if(et.length===1){const ct=gt.current,xt=et.toLowerCase(),dt=performance.now();ct.keys.length>0&&(dt-ct.lastTime>500?(ct.keys=[],ct.repeating=!0,ct.previousKeyMatched=!0):ct.repeating&&xt!==ct.keys[0]&&(ct.repeating=!1)),ct.lastTime=dt,ct.keys.push(xt);const _t=ft&&!ct.repeating&&textCriteriaMatches(ft,ct);ct.previousKeyMatched&&(_t||moveFocus(lt,ft,!1,ot,nextItem,ct))?st.preventDefault():ct.previousKeyMatched=!1}ut&&ut(st)},j=useForkRef(ht,o);let _e=-1;reactExports.Children.forEach(nt,(st,lt)=>{if(!reactExports.isValidElement(st)){_e===lt&&(_e+=1,_e>=nt.length&&(_e=-1));return}st.props.disabled||(mt==="selectedMenu"&&st.props.selected||_e===-1)&&(_e=lt),_e===lt&&(st.props.disabled||st.props.muiSkipListHighlight||st.type.muiSkipListHighlight)&&(_e+=1,_e>=nt.length&&(_e=-1))});const it=reactExports.Children.map(nt,(st,lt)=>{if(lt===_e){const et={};return $&&(et.autoFocus=!0),st.props.tabIndex===void 0&&mt==="selectedMenu"&&(et.tabIndex=0),reactExports.cloneElement(st,et)}return st});return jsxRuntimeExports.jsx(List,{role:"menu",ref:j,className:tt,onKeyDown:rt,tabIndex:_?0:-1,...vt,children:it})});function getPopoverUtilityClass(i){return generateUtilityClass("MuiPopover",i)}generateUtilityClasses("MuiPopover",["root","paper"]);function getOffsetTop(i,s){let o=0;return typeof s=="number"?o=s:s==="center"?o=i.height/2:s==="bottom"&&(o=i.height),o}function getOffsetLeft(i,s){let o=0;return typeof s=="number"?o=s:s==="center"?o=i.width/2:s==="right"&&(o=i.width),o}function getTransformOriginValue(i){return[i.horizontal,i.vertical].map(s=>typeof s=="number"?`${s}px`:s).join(" ")}function resolveAnchorEl(i){return typeof i=="function"?i():i}const useUtilityClasses$9=i=>{const{classes:s}=i;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,s)},PopoverRoot=styled(Modal,{name:"MuiPopover",slot:"Root",overridesResolver:(i,s)=>s.root})({}),PopoverPaper=styled(Paper,{name:"MuiPopover",slot:"Paper",overridesResolver:(i,s)=>s.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiPopover"}),{action:_,anchorEl:$,anchorOrigin:nt={vertical:"top",horizontal:"left"},anchorPosition:tt,anchorReference:ot="anchorEl",children:pt,className:ut,container:mt,elevation:vt=8,marginThreshold:ht=16,open:gt,PaperProps:rt={},slots:j={},slotProps:_e={},transformOrigin:it={vertical:"top",horizontal:"left"},TransitionComponent:st=Grow,transitionDuration:lt="auto",TransitionProps:{onEntering:et,...at}={},disableScrollLock:ft=!1,...ct}=a,xt=(_e==null?void 0:_e.paper)??rt,dt=reactExports.useRef(),_t={...a,anchorOrigin:nt,anchorReference:ot,elevation:vt,marginThreshold:ht,externalPaperSlotProps:xt,transformOrigin:it,TransitionComponent:st,transitionDuration:lt,TransitionProps:at},Ct=useUtilityClasses$9(_t),Et=reactExports.useCallback(()=>{if(ot==="anchorPosition")return tt;const cr=resolveAnchorEl($),gr=(cr&&cr.nodeType===1?cr:ownerDocument(dt.current).body).getBoundingClientRect();return{top:gr.top+getOffsetTop(gr,nt.vertical),left:gr.left+getOffsetLeft(gr,nt.horizontal)}},[$,nt.horizontal,nt.vertical,tt,ot]),Mt=reactExports.useCallback(cr=>({vertical:getOffsetTop(cr,it.vertical),horizontal:getOffsetLeft(cr,it.horizontal)}),[it.horizontal,it.vertical]),St=reactExports.useCallback(cr=>{const lr={width:cr.offsetWidth,height:cr.offsetHeight},gr=Mt(lr);if(ot==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(gr)};const rr=Et();let Gt=rr.top-gr.vertical,nr=rr.left-gr.horizontal;const _r=Gt+lr.height,Sr=nr+lr.width,Ar=ownerWindow(resolveAnchorEl($)),Or=Ar.innerHeight-ht,Mr=Ar.innerWidth-ht;if(ht!==null&&Gt<ht){const wr=Gt-ht;Gt-=wr,gr.vertical+=wr}else if(ht!==null&&_r>Or){const wr=_r-Or;Gt-=wr,gr.vertical+=wr}if(ht!==null&&nr<ht){const wr=nr-ht;nr-=wr,gr.horizontal+=wr}else if(Sr>Mr){const wr=Sr-Mr;nr-=wr,gr.horizontal+=wr}return{top:`${Math.round(Gt)}px`,left:`${Math.round(nr)}px`,transformOrigin:getTransformOriginValue(gr)}},[$,ot,Et,Mt,ht]),[Ot,At]=reactExports.useState(gt),wt=reactExports.useCallback(()=>{const cr=dt.current;if(!cr)return;const lr=St(cr);lr.top!==null&&cr.style.setProperty("top",lr.top),lr.left!==null&&(cr.style.left=lr.left),cr.style.transformOrigin=lr.transformOrigin,At(!0)},[St]);reactExports.useEffect(()=>(ft&&window.addEventListener("scroll",wt),()=>window.removeEventListener("scroll",wt)),[$,ft,wt]);const Pt=(cr,lr)=>{et&&et(cr,lr),wt()},Lt=()=>{At(!1)};reactExports.useEffect(()=>{gt&&wt()}),reactExports.useImperativeHandle(_,()=>gt?{updatePosition:()=>{wt()}}:null,[gt,wt]),reactExports.useEffect(()=>{if(!gt)return;const cr=debounce$1(()=>{wt()}),lr=ownerWindow($);return lr.addEventListener("resize",cr),()=>{cr.clear(),lr.removeEventListener("resize",cr)}},[$,gt,wt]);let Rt=lt;lt==="auto"&&!st.muiSupportAuto&&(Rt=void 0);const Dt=mt||($?ownerDocument(resolveAnchorEl($)).body:void 0),$t={slots:j,slotProps:{..._e,paper:xt}},[jt,Zt]=useSlot("paper",{elementType:PopoverPaper,externalForwardedProps:$t,additionalProps:{elevation:vt,className:clsx(Ct.paper,xt==null?void 0:xt.className),style:Ot?xt.style:{...xt.style,opacity:0}},ownerState:_t}),[qt,{slotProps:er,...Yt}]=useSlot("root",{elementType:PopoverRoot,externalForwardedProps:$t,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:Dt,open:gt},ownerState:_t,className:clsx(Ct.root,ut)}),Qt=useForkRef(dt,Zt.ref);return jsxRuntimeExports.jsx(qt,{...Yt,...!isHostComponent(qt)&&{slotProps:er,disableScrollLock:ft},...ct,ref:o,children:jsxRuntimeExports.jsx(st,{appear:!0,in:gt,onEntering:Pt,onExited:Lt,timeout:Rt,...at,children:jsxRuntimeExports.jsx(jt,{...Zt,ref:Qt,children:pt})})})});function getMenuUtilityClass(i){return generateUtilityClass("MuiMenu",i)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$8=i=>{const{classes:s}=i;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,s)},MenuRoot=styled(Popover,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(i,s)=>s.root})({}),MenuPaper=styled(PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:(i,s)=>s.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled(MenuList,{name:"MuiMenu",slot:"List",overridesResolver:(i,s)=>s.list})({outline:0}),Menu=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiMenu"}),{autoFocus:_=!0,children:$,className:nt,disableAutoFocusItem:tt=!1,MenuListProps:ot={},onClose:pt,open:ut,PaperProps:mt={},PopoverClasses:vt,transitionDuration:ht="auto",TransitionProps:{onEntering:gt,...rt}={},variant:j="selectedMenu",slots:_e={},slotProps:it={},...st}=a,lt=useRtl(),et={...a,autoFocus:_,disableAutoFocusItem:tt,MenuListProps:ot,onEntering:gt,PaperProps:mt,transitionDuration:ht,TransitionProps:rt,variant:j},at=useUtilityClasses$8(et),ft=_&&!tt&&ut,ct=reactExports.useRef(null),xt=(Ot,At)=>{ct.current&&ct.current.adjustStyleForScrollbar(Ot,{direction:lt?"rtl":"ltr"}),gt&&gt(Ot,At)},dt=Ot=>{Ot.key==="Tab"&&(Ot.preventDefault(),pt&&pt(Ot,"tabKeyDown"))};let _t=-1;reactExports.Children.map($,(Ot,At)=>{reactExports.isValidElement(Ot)&&(Ot.props.disabled||(j==="selectedMenu"&&Ot.props.selected||_t===-1)&&(_t=At))});const Ct=_e.paper??MenuPaper,Et=it.paper??mt,Mt=useSlotProps({elementType:_e.root,externalSlotProps:it.root,ownerState:et,className:[at.root,nt]}),St=useSlotProps({elementType:Ct,externalSlotProps:Et,ownerState:et,className:at.paper});return jsxRuntimeExports.jsx(MenuRoot,{onClose:pt,anchorOrigin:{vertical:"bottom",horizontal:lt?"right":"left"},transformOrigin:lt?RTL_ORIGIN:LTR_ORIGIN,slots:{paper:Ct,root:_e.root},slotProps:{root:Mt,paper:St},open:ut,ref:o,transitionDuration:ht,TransitionProps:{onEntering:xt,...rt},ownerState:et,...st,classes:vt,children:jsxRuntimeExports.jsx(MenuMenuList,{onKeyDown:dt,actions:ct,autoFocus:_&&(_t===-1||tt),autoFocusItem:ft,variant:j,...ot,className:clsx(at.list,ot.className),children:$})})});function getNativeSelectUtilityClasses(i){return generateUtilityClass("MuiNativeSelect",i)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),useUtilityClasses$7=i=>{const{classes:s,variant:o,disabled:a,multiple:_,open:$,error:nt}=i,tt={select:["select",o,a&&"disabled",_&&"multiple",nt&&"error"],icon:["icon",`icon${capitalize(o)}`,$&&"iconOpen",a&&"disabled"]};return composeClasses(tt,getNativeSelectUtilityClasses,s)},StyledSelectSelect=styled("select")(({theme:i})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${nativeSelectClasses.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(i.vars||i).palette.background.paper},variants:[{props:({ownerState:s})=>s.variant!=="filled"&&s.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}}}]})),NativeSelectSelect=styled(StyledSelectSelect,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.select,s[o.variant],o.error&&s.error,{[`&.${nativeSelectClasses.multiple}`]:s.multiple}]}})({}),StyledSelectIcon=styled("svg")(({theme:i})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(i.vars||i).palette.action.active,[`&.${nativeSelectClasses.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:({ownerState:s})=>s.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),NativeSelectIcon=styled(StyledSelectIcon,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.icon,o.variant&&s[`icon${capitalize(o.variant)}`],o.open&&s.iconOpen]}})({}),NativeSelectInput=reactExports.forwardRef(function i(s,o){const{className:a,disabled:_,error:$,IconComponent:nt,inputRef:tt,variant:ot="standard",...pt}=s,ut={...s,disabled:_,variant:ot,error:$},mt=useUtilityClasses$7(ut);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(NativeSelectSelect,{ownerState:ut,className:clsx(mt.select,a),disabled:_,ref:tt||o,...pt}),s.multiple?null:jsxRuntimeExports.jsx(NativeSelectIcon,{as:nt,ownerState:ut,className:mt.icon})]})});var _span$1;const NotchedOutlineRoot$1=styled("fieldset",{shouldForwardProp:rootShouldForwardProp})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled("legend",{shouldForwardProp:rootShouldForwardProp})(memoTheme(({theme:i})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:s})=>!s.withLabel,style:{padding:0,lineHeight:"11px",transition:i.transitions.create("width",{duration:150,easing:i.transitions.easing.easeOut})}},{props:({ownerState:s})=>s.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:i.transitions.create("max-width",{duration:50,easing:i.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:s})=>s.withLabel&&s.notched,style:{maxWidth:"100%",transition:i.transitions.create("max-width",{duration:100,easing:i.transitions.easing.easeOut,delay:50})}}]})));function NotchedOutline(i){const{children:s,classes:o,className:a,label:_,notched:$,...nt}=i,tt=_!=null&&_!=="",ot={...i,notched:$,withLabel:tt};return jsxRuntimeExports.jsx(NotchedOutlineRoot$1,{"aria-hidden":!0,className:a,ownerState:ot,...nt,children:jsxRuntimeExports.jsx(NotchedOutlineLegend,{ownerState:ot,children:tt?jsxRuntimeExports.jsx("span",{children:_}):_span$1||(_span$1=jsxRuntimeExports.jsx("span",{className:"notranslate",children:""}))})})}const useUtilityClasses$6=i=>{const{classes:s}=i,a=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,s);return{...s,...a}},OutlinedInputRoot=styled(InputBaseRoot,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(memoTheme(({theme:i})=>{const s=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(i.vars||i).shape.borderRadius,[`&:hover .${outlinedInputClasses.notchedOutline}`]:{borderColor:(i.vars||i).palette.text.primary},[`&.${outlinedInputClasses.focused} .${outlinedInputClasses.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([o])=>({props:{color:o},style:{[`&.${outlinedInputClasses.focused} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(i.vars||i).palette[o].main}}})),{props:{},style:{"@media (hover: none)":{[`&:hover .${outlinedInputClasses.notchedOutline}`]:{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:s}},[`&.${outlinedInputClasses.error} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(i.vars||i).palette.error.main},[`&.${outlinedInputClasses.disabled} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(i.vars||i).palette.action.disabled}}},{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:14}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:14}},{props:({ownerState:o})=>o.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:o,size:a})=>o.multiline&&a==="small",style:{padding:"8.5px 14px"}}]}})),NotchedOutlineRoot=styled(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(i,s)=>s.notchedOutline})(memoTheme(({theme:i})=>{const s=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:s}})),OutlinedInputInput=styled(InputBaseInput,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:i})=>({padding:"16.5px 14px",...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:s})=>s.multiline,style:{padding:0}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}}]}))),OutlinedInput=reactExports.forwardRef(function i(s,o){var a;const _=useDefaultProps({props:s,name:"MuiOutlinedInput"}),{components:$={},fullWidth:nt=!1,inputComponent:tt="input",label:ot,multiline:pt=!1,notched:ut,slots:mt={},type:vt="text",...ht}=_,gt=useUtilityClasses$6(_),rt=useFormControl(),j=formControlState({props:_,muiFormControl:rt,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_e={..._,color:j.color||"primary",disabled:j.disabled,error:j.error,focused:j.focused,formControl:rt,fullWidth:nt,hiddenLabel:j.hiddenLabel,multiline:pt,size:j.size,type:vt},it=mt.root??$.Root??OutlinedInputRoot,st=mt.input??$.Input??OutlinedInputInput;return jsxRuntimeExports.jsx(InputBase,{slots:{root:it,input:st},renderSuffix:lt=>jsxRuntimeExports.jsx(NotchedOutlineRoot,{ownerState:_e,className:gt.notchedOutline,label:ot!=null&&ot!==""&&j.required?a||(a=jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[ot,"","*"]})):ot,notched:typeof ut<"u"?ut:!!(lt.startAdornment||lt.filled||lt.focused)}),fullWidth:nt,inputComponent:tt,multiline:pt,ref:o,type:vt,...ht,classes:{...gt,notchedOutline:null}})});OutlinedInput&&(OutlinedInput.muiName="Input");function getSelectUtilityClasses(i){return generateUtilityClass("MuiSelect",i)}const selectClasses=generateUtilityClasses("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _span;const SelectSelect=styled(StyledSelectSelect,{name:"MuiSelect",slot:"Select",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[{[`&.${selectClasses.select}`]:s.select},{[`&.${selectClasses.select}`]:s[o.variant]},{[`&.${selectClasses.error}`]:s.error},{[`&.${selectClasses.multiple}`]:s.multiple}]}})({[`&.${selectClasses.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled(StyledSelectIcon,{name:"MuiSelect",slot:"Icon",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.icon,o.variant&&s[`icon${capitalize(o.variant)}`],o.open&&s.iconOpen]}})({}),SelectNativeInput=styled("input",{shouldForwardProp:i=>slotShouldForwardProp(i)&&i!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(i,s)=>s.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(i,s){return typeof s=="object"&&s!==null?i===s:String(i)===String(s)}function isEmpty(i){return i==null||typeof i=="string"&&!i.trim()}const useUtilityClasses$5=i=>{const{classes:s,variant:o,disabled:a,multiple:_,open:$,error:nt}=i,tt={select:["select",o,a&&"disabled",_&&"multiple",nt&&"error"],icon:["icon",`icon${capitalize(o)}`,$&&"iconOpen",a&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(tt,getSelectUtilityClasses,s)},SelectInput=reactExports.forwardRef(function i(s,o){var mr;const{"aria-describedby":a,"aria-label":_,autoFocus:$,autoWidth:nt,children:tt,className:ot,defaultOpen:pt,defaultValue:ut,disabled:mt,displayEmpty:vt,error:ht=!1,IconComponent:gt,inputRef:rt,labelId:j,MenuProps:_e={},multiple:it,name:st,onBlur:lt,onChange:et,onClose:at,onFocus:ft,onOpen:ct,open:xt,readOnly:dt,renderValue:_t,SelectDisplayProps:Ct={},tabIndex:Et,type:Mt,value:St,variant:Ot="standard",...At}=s,[wt,Pt]=useControlled({controlled:St,default:ut,name:"Select"}),[Lt,Rt]=useControlled({controlled:xt,default:pt,name:"Select"}),Dt=reactExports.useRef(null),$t=reactExports.useRef(null),[jt,Zt]=reactExports.useState(null),{current:qt}=reactExports.useRef(xt!=null),[er,Yt]=reactExports.useState(),Qt=useForkRef(o,rt),cr=reactExports.useCallback(It=>{$t.current=It,It&&Zt(It)},[]),lr=jt==null?void 0:jt.parentNode;reactExports.useImperativeHandle(Qt,()=>({focus:()=>{$t.current.focus()},node:Dt.current,value:wt}),[wt]),reactExports.useEffect(()=>{pt&&Lt&&jt&&!qt&&(Yt(nt?null:lr.clientWidth),$t.current.focus())},[jt,nt]),reactExports.useEffect(()=>{$&&$t.current.focus()},[$]),reactExports.useEffect(()=>{if(!j)return;const It=ownerDocument($t.current).getElementById(j);if(It){const Jt=()=>{getSelection().isCollapsed&&$t.current.focus()};return It.addEventListener("click",Jt),()=>{It.removeEventListener("click",Jt)}}},[j]);const gr=(It,Jt)=>{It?ct&&ct(Jt):at&&at(Jt),qt||(Yt(nt?null:lr.clientWidth),Rt(It))},rr=It=>{It.button===0&&(It.preventDefault(),$t.current.focus(),gr(!0,It))},Gt=It=>{gr(!1,It)},nr=reactExports.Children.toArray(tt),_r=It=>{const Jt=nr.find(sr=>sr.props.value===It.target.value);Jt!==void 0&&(Pt(Jt.props.value),et&&et(It,Jt))},Sr=It=>Jt=>{let sr;if(Jt.currentTarget.hasAttribute("tabindex")){if(it){sr=Array.isArray(wt)?wt.slice():[];const Cr=wt.indexOf(It.props.value);Cr===-1?sr.push(It.props.value):sr.splice(Cr,1)}else sr=It.props.value;if(It.props.onClick&&It.props.onClick(Jt),wt!==sr&&(Pt(sr),et)){const Cr=Jt.nativeEvent||Jt,tr=new Cr.constructor(Cr.type,Cr);Object.defineProperty(tr,"target",{writable:!0,value:{value:sr,name:st}}),et(tr,It)}it||gr(!1,Jt)}},Ar=It=>{dt||[" ","ArrowUp","ArrowDown","Enter"].includes(It.key)&&(It.preventDefault(),gr(!0,It))},Or=jt!==null&&Lt,Mr=It=>{!Or&&lt&&(Object.defineProperty(It,"target",{writable:!0,value:{value:wt,name:st}}),lt(It))};delete At["aria-invalid"];let wr,Tr;const fr=[];let pr=!1;(isFilled({value:wt})||vt)&&(_t?wr=_t(wt):pr=!0);const Lr=nr.map(It=>{if(!reactExports.isValidElement(It))return null;let Jt;if(it){if(!Array.isArray(wt))throw new Error(formatMuiErrorMessage(2));Jt=wt.some(sr=>areEqualValues(sr,It.props.value)),Jt&&pr&&fr.push(It.props.children)}else Jt=areEqualValues(wt,It.props.value),Jt&&pr&&(Tr=It.props.children);return reactExports.cloneElement(It,{"aria-selected":Jt?"true":"false",onClick:Sr(It),onKeyUp:sr=>{sr.key===" "&&sr.preventDefault(),It.props.onKeyUp&&It.props.onKeyUp(sr)},role:"option",selected:Jt,value:void 0,"data-value":It.props.value})});pr&&(it?fr.length===0?wr=null:wr=fr.reduce((It,Jt,sr)=>(It.push(Jt),sr<fr.length-1&&It.push(", "),It),[]):wr=Tr);let Pr=er;!nt&&qt&&jt&&(Pr=lr.clientWidth);let Bt;typeof Et<"u"?Bt=Et:Bt=mt?null:0;const Ut=Ct.id||(st?`mui-component-select-${st}`:void 0),Wt={...s,variant:Ot,value:wt,open:Or,error:ht},ar=useUtilityClasses$5(Wt),Xt={..._e.PaperProps,...(mr=_e.slotProps)==null?void 0:mr.paper},Er=useId();return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectSelect,{as:"div",ref:cr,tabIndex:Bt,role:"combobox","aria-controls":Er,"aria-disabled":mt?"true":void 0,"aria-expanded":Or?"true":"false","aria-haspopup":"listbox","aria-label":_,"aria-labelledby":[j,Ut].filter(Boolean).join(" ")||void 0,"aria-describedby":a,onKeyDown:Ar,onMouseDown:mt||dt?null:rr,onBlur:Mr,onFocus:ft,...Ct,ownerState:Wt,className:clsx(Ct.className,ar.select,ot),id:Ut,children:isEmpty(wr)?_span||(_span=jsxRuntimeExports.jsx("span",{className:"notranslate",children:""})):wr}),jsxRuntimeExports.jsx(SelectNativeInput,{"aria-invalid":ht,value:Array.isArray(wt)?wt.join(","):wt,name:st,ref:Dt,"aria-hidden":!0,onChange:_r,tabIndex:-1,disabled:mt,className:ar.nativeInput,autoFocus:$,...At,ownerState:Wt}),jsxRuntimeExports.jsx(SelectIcon,{as:gt,className:ar.icon,ownerState:Wt}),jsxRuntimeExports.jsx(Menu,{id:`menu-${st||""}`,anchorEl:lr,open:Or,onClose:Gt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},..._e,MenuListProps:{"aria-labelledby":j,role:"listbox","aria-multiselectable":it?"true":void 0,disableListWrap:!0,id:Er,..._e.MenuListProps},slotProps:{..._e.slotProps,paper:{...Xt,style:{minWidth:Pr,...Xt!=null?Xt.style:null}}},children:Lr})]})}),useUtilityClasses$4=i=>{const{classes:s}=i;return s},styledRootConfig={name:"MuiSelect",overridesResolver:(i,s)=>s.root,shouldForwardProp:i=>rootShouldForwardProp(i)&&i!=="variant",slot:"Root"},StyledInput=styled(Input,styledRootConfig)(""),StyledOutlinedInput=styled(OutlinedInput,styledRootConfig)(""),StyledFilledInput=styled(FilledInput,styledRootConfig)(""),Select=reactExports.forwardRef(function i(s,o){const a=useThemeProps({name:"MuiSelect",props:s}),{autoWidth:_=!1,children:$,classes:nt={},className:tt,defaultOpen:ot=!1,displayEmpty:pt=!1,IconComponent:ut=ArrowDropDownIcon,id:mt,input:vt,inputProps:ht,label:gt,labelId:rt,MenuProps:j,multiple:_e=!1,native:it=!1,onClose:st,onOpen:lt,open:et,renderValue:at,SelectDisplayProps:ft,variant:ct="outlined",...xt}=a,dt=it?NativeSelectInput:SelectInput,_t=useFormControl(),Ct=formControlState({props:a,muiFormControl:_t,states:["variant","error"]}),Et=Ct.variant||ct,Mt={...a,variant:Et,classes:nt},St=useUtilityClasses$4(Mt),{root:Ot,...At}=St,wt=vt||{standard:jsxRuntimeExports.jsx(StyledInput,{ownerState:Mt}),outlined:jsxRuntimeExports.jsx(StyledOutlinedInput,{label:gt,ownerState:Mt}),filled:jsxRuntimeExports.jsx(StyledFilledInput,{ownerState:Mt})}[Et],Pt=useForkRef(o,getReactElementRef(wt));return jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(wt,{inputComponent:dt,inputProps:{children:$,error:Ct.error,IconComponent:ut,variant:Et,type:void 0,multiple:_e,...it?{id:mt}:{autoWidth:_,defaultOpen:ot,displayEmpty:pt,labelId:rt,MenuProps:j,onClose:st,onOpen:lt,open:et,renderValue:at,SelectDisplayProps:{id:mt,...ft}},...ht,classes:ht?deepmerge(At,ht.classes):At,...vt?vt.props.inputProps:{}},...(_e&&it||pt)&&Et==="outlined"?{notched:!0}:{},ref:Pt,className:clsx(wt.props.className,tt,St.root),...!vt&&{variant:Et},...xt})})});Select.muiName="Select";function getTooltipUtilityClass(i){return generateUtilityClass("MuiTooltip",i)}const tooltipClasses=generateUtilityClasses("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function round(i){return Math.round(i*1e5)/1e5}const useUtilityClasses$3=i=>{const{classes:s,disableInteractive:o,arrow:a,touch:_,placement:$}=i,nt={popper:["popper",!o&&"popperInteractive",a&&"popperArrow"],tooltip:["tooltip",a&&"tooltipArrow",_&&"touch",`tooltipPlacement${capitalize($.split("-")[0])}`],arrow:["arrow"]};return composeClasses(nt,getTooltipUtilityClass,s)},TooltipPopper=styled(Popper,{name:"MuiTooltip",slot:"Popper",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.popper,!o.disableInteractive&&s.popperInteractive,o.arrow&&s.popperArrow,!o.open&&s.popperClose]}})(memoTheme(({theme:i})=>({zIndex:(i.vars||i).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:s})=>!s.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:s})=>!s,style:{pointerEvents:"none"}},{props:({ownerState:s})=>s.arrow,style:{[`&[data-popper-placement*="bottom"] .${tooltipClasses.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${tooltipClasses.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${tooltipClasses.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${tooltipClasses.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:s})=>s.arrow&&!s.isRtl,style:{[`&[data-popper-placement*="right"] .${tooltipClasses.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!!s.isRtl,style:{[`&[data-popper-placement*="right"] .${tooltipClasses.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!s.isRtl,style:{[`&[data-popper-placement*="left"] .${tooltipClasses.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!!s.isRtl,style:{[`&[data-popper-placement*="left"] .${tooltipClasses.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),TooltipTooltip=styled("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.tooltip,o.touch&&s.touch,o.arrow&&s.tooltipArrow,s[`tooltipPlacement${capitalize(o.placement.split("-")[0])}`]]}})(memoTheme(({theme:i})=>({backgroundColor:i.vars?i.vars.palette.Tooltip.bg:alpha(i.palette.grey[700],.92),borderRadius:(i.vars||i).shape.borderRadius,color:(i.vars||i).palette.common.white,fontFamily:i.typography.fontFamily,padding:"4px 8px",fontSize:i.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:i.typography.fontWeightMedium,[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${tooltipClasses.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${tooltipClasses.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:s})=>s.arrow,style:{position:"relative",margin:0}},{props:({ownerState:s})=>s.touch,style:{padding:"8px 16px",fontSize:i.typography.pxToRem(14),lineHeight:`${round(16/14)}em`,fontWeight:i.typography.fontWeightRegular}},{props:({ownerState:s})=>!s.isRtl,style:{[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:s})=>!s.isRtl&&s.touch,style:{[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:s})=>!!s.isRtl,style:{[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:s})=>!!s.isRtl&&s.touch,style:{[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:s})=>s.touch,style:{[`.${tooltipClasses.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:s})=>s.touch,style:{[`.${tooltipClasses.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),TooltipArrow=styled("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(i,s)=>s.arrow})(memoTheme(({theme:i})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:i.vars?i.vars.palette.Tooltip.bg:alpha(i.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let hystersisOpen=!1;const hystersisTimer=new Timeout;let cursorPosition={x:0,y:0};function composeEventHandler(i,s){return(o,...a)=>{s&&s(o,...a),i(o,...a)}}const Tooltip=reactExports.forwardRef(function i(s,o){var ur,or,Ft;const a=useDefaultProps({props:s,name:"MuiTooltip"}),{arrow:_=!1,children:$,classes:nt,components:tt={},componentsProps:ot={},describeChild:pt=!1,disableFocusListener:ut=!1,disableHoverListener:mt=!1,disableInteractive:vt=!1,disableTouchListener:ht=!1,enterDelay:gt=100,enterNextDelay:rt=0,enterTouchDelay:j=700,followCursor:_e=!1,id:it,leaveDelay:st=0,leaveTouchDelay:lt=1500,onClose:et,onOpen:at,open:ft,placement:ct="bottom",PopperComponent:xt,PopperProps:dt={},slotProps:_t={},slots:Ct={},title:Et,TransitionComponent:Mt=Grow,TransitionProps:St,...Ot}=a,At=reactExports.isValidElement($)?$:jsxRuntimeExports.jsx("span",{children:$}),wt=useTheme(),Pt=useRtl(),[Lt,Rt]=reactExports.useState(),[Dt,$t]=reactExports.useState(null),jt=reactExports.useRef(!1),Zt=vt||_e,qt=useTimeout(),er=useTimeout(),Yt=useTimeout(),Qt=useTimeout(),[cr,lr]=useControlled({controlled:ft,default:!1,name:"Tooltip",state:"open"});let gr=cr;const rr=useId(it),Gt=reactExports.useRef(),nr=useEventCallback(()=>{Gt.current!==void 0&&(document.body.style.WebkitUserSelect=Gt.current,Gt.current=void 0),Qt.clear()});reactExports.useEffect(()=>nr,[nr]);const _r=Ht=>{hystersisTimer.clear(),hystersisOpen=!0,lr(!0),at&&!gr&&at(Ht)},Sr=useEventCallback(Ht=>{hystersisTimer.start(800+st,()=>{hystersisOpen=!1}),lr(!1),et&&gr&&et(Ht),qt.start(wt.transitions.duration.shortest,()=>{jt.current=!1})}),Ar=Ht=>{jt.current&&Ht.type!=="touchstart"||(Lt&&Lt.removeAttribute("title"),er.clear(),Yt.clear(),gt||hystersisOpen&&rt?er.start(hystersisOpen?rt:gt,()=>{_r(Ht)}):_r(Ht))},Or=Ht=>{er.clear(),Yt.start(st,()=>{Sr(Ht)})},[,Mr]=reactExports.useState(!1),wr=Ht=>{isFocusVisible(Ht.target)||(Mr(!1),Or(Ht))},Tr=Ht=>{Lt||Rt(Ht.currentTarget),isFocusVisible(Ht.target)&&(Mr(!0),Ar(Ht))},fr=Ht=>{jt.current=!0;const hr=At.props;hr.onTouchStart&&hr.onTouchStart(Ht)},pr=Ht=>{fr(Ht),Yt.clear(),qt.clear(),nr(),Gt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Qt.start(j,()=>{document.body.style.WebkitUserSelect=Gt.current,Ar(Ht)})},Lr=Ht=>{At.props.onTouchEnd&&At.props.onTouchEnd(Ht),nr(),Yt.start(lt,()=>{Sr(Ht)})};reactExports.useEffect(()=>{if(!gr)return;function Ht(hr){hr.key==="Escape"&&Sr(hr)}return document.addEventListener("keydown",Ht),()=>{document.removeEventListener("keydown",Ht)}},[Sr,gr]);const Pr=useForkRef(getReactElementRef(At),Rt,o);!Et&&Et!==0&&(gr=!1);const Bt=reactExports.useRef(),Ut=Ht=>{const hr=At.props;hr.onMouseMove&&hr.onMouseMove(Ht),cursorPosition={x:Ht.clientX,y:Ht.clientY},Bt.current&&Bt.current.update()},Wt={},ar=typeof Et=="string";pt?(Wt.title=!gr&&ar&&!mt?Et:null,Wt["aria-describedby"]=gr?rr:null):(Wt["aria-label"]=ar?Et:null,Wt["aria-labelledby"]=gr&&!ar?rr:null);const Xt={...Wt,...Ot,...At.props,className:clsx(Ot.className,At.props.className),onTouchStart:fr,ref:Pr,..._e?{onMouseMove:Ut}:{}},Er={};ht||(Xt.onTouchStart=pr,Xt.onTouchEnd=Lr),mt||(Xt.onMouseOver=composeEventHandler(Ar,Xt.onMouseOver),Xt.onMouseLeave=composeEventHandler(Or,Xt.onMouseLeave),Zt||(Er.onMouseOver=Ar,Er.onMouseLeave=Or)),ut||(Xt.onFocus=composeEventHandler(Tr,Xt.onFocus),Xt.onBlur=composeEventHandler(wr,Xt.onBlur),Zt||(Er.onFocus=Tr,Er.onBlur=wr));const mr=reactExports.useMemo(()=>{var hr;let Ht=[{name:"arrow",enabled:!!Dt,options:{element:Dt,padding:4}}];return(hr=dt.popperOptions)!=null&&hr.modifiers&&(Ht=Ht.concat(dt.popperOptions.modifiers)),{...dt.popperOptions,modifiers:Ht}},[Dt,dt]),It={...a,isRtl:Pt,arrow:_,disableInteractive:Zt,placement:ct,PopperComponentProp:xt,touch:jt.current},Jt=useUtilityClasses$3(It),sr=Ct.popper??tt.Popper??TooltipPopper,Cr=Ct.transition??tt.Transition??Mt??Grow,tr=Ct.tooltip??tt.Tooltip??TooltipTooltip,vr=Ct.arrow??tt.Arrow??TooltipArrow,kt=appendOwnerState(sr,{...dt,..._t.popper??ot.popper,className:clsx(Jt.popper,dt==null?void 0:dt.className,(ur=_t.popper??ot.popper)==null?void 0:ur.className)},It),br=appendOwnerState(Cr,{...St,..._t.transition??ot.transition},It),Dr=appendOwnerState(tr,{..._t.tooltip??ot.tooltip,className:clsx(Jt.tooltip,(or=_t.tooltip??ot.tooltip)==null?void 0:or.className)},It),Tt=appendOwnerState(vr,{..._t.arrow??ot.arrow,className:clsx(Jt.arrow,(Ft=_t.arrow??ot.arrow)==null?void 0:Ft.className)},It);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[reactExports.cloneElement(At,Xt),jsxRuntimeExports.jsx(sr,{as:xt??Popper,placement:ct,anchorEl:_e?{getBoundingClientRect:()=>({top:cursorPosition.y,left:cursorPosition.x,right:cursorPosition.x,bottom:cursorPosition.y,width:0,height:0})}:Lt,popperRef:Bt,open:Lt?gr:!1,id:rr,transition:!0,...Er,...kt,popperOptions:mr,children:({TransitionProps:Ht})=>jsxRuntimeExports.jsx(Cr,{timeout:wt.transitions.duration.shorter,...Ht,...br,children:jsxRuntimeExports.jsxs(tr,{...Dr,children:[Et,_?jsxRuntimeExports.jsx(vr,{...Tt,ref:$t}):null]})})})]})});function getTextFieldUtilityClass(i){return generateUtilityClass("MuiTextField",i)}generateUtilityClasses("MuiTextField",["root"]);const variantComponent={standard:Input,filled:FilledInput,outlined:OutlinedInput},useUtilityClasses$2=i=>{const{classes:s}=i;return composeClasses({root:["root"]},getTextFieldUtilityClass,s)},TextFieldRoot=styled(FormControl,{name:"MuiTextField",slot:"Root",overridesResolver:(i,s)=>s.root})({}),TextField=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiTextField"}),{autoComplete:_,autoFocus:$=!1,children:nt,className:tt,color:ot="primary",defaultValue:pt,disabled:ut=!1,error:mt=!1,FormHelperTextProps:vt,fullWidth:ht=!1,helperText:gt,id:rt,InputLabelProps:j,inputProps:_e,InputProps:it,inputRef:st,label:lt,maxRows:et,minRows:at,multiline:ft=!1,name:ct,onBlur:xt,onChange:dt,onFocus:_t,placeholder:Ct,required:Et=!1,rows:Mt,select:St=!1,SelectProps:Ot,slots:At={},slotProps:wt={},type:Pt,value:Lt,variant:Rt="outlined",...Dt}=a,$t={...a,autoFocus:$,color:ot,disabled:ut,error:mt,fullWidth:ht,multiline:ft,required:Et,select:St,variant:Rt},jt=useUtilityClasses$2($t),Zt=useId(rt),qt=gt&&Zt?`${Zt}-helper-text`:void 0,er=lt&&Zt?`${Zt}-label`:void 0,Yt=variantComponent[Rt],Qt={slots:At,slotProps:{input:it,inputLabel:j,htmlInput:_e,formHelperText:vt,select:Ot,...wt}},cr={},lr=Qt.slotProps.inputLabel;Rt==="outlined"&&(lr&&typeof lr.shrink<"u"&&(cr.notched=lr.shrink),cr.label=lt),St&&((!Ot||!Ot.native)&&(cr.id=void 0),cr["aria-describedby"]=void 0);const[gr,rr]=useSlot("input",{elementType:Yt,externalForwardedProps:Qt,additionalProps:cr,ownerState:$t}),[Gt,nr]=useSlot("inputLabel",{elementType:InputLabel,externalForwardedProps:Qt,ownerState:$t}),[_r,Sr]=useSlot("htmlInput",{elementType:"input",externalForwardedProps:Qt,ownerState:$t}),[Ar,Or]=useSlot("formHelperText",{elementType:FormHelperText,externalForwardedProps:Qt,ownerState:$t}),[Mr,wr]=useSlot("select",{elementType:Select,externalForwardedProps:Qt,ownerState:$t}),Tr=jsxRuntimeExports.jsx(gr,{"aria-describedby":qt,autoComplete:_,autoFocus:$,defaultValue:pt,fullWidth:ht,multiline:ft,name:ct,rows:Mt,maxRows:et,minRows:at,type:Pt,value:Lt,id:Zt,inputRef:st,onBlur:xt,onChange:dt,onFocus:_t,placeholder:Ct,inputProps:Sr,slots:{input:At.htmlInput?_r:void 0},...rr});return jsxRuntimeExports.jsxs(TextFieldRoot,{className:clsx(jt.root,tt),disabled:ut,error:mt,fullWidth:ht,ref:o,required:Et,color:ot,variant:Rt,ownerState:$t,...Dt,children:[lt!=null&&lt!==""&&jsxRuntimeExports.jsx(Gt,{htmlFor:Zt,id:er,...nr,children:lt}),St?jsxRuntimeExports.jsx(Mr,{"aria-describedby":qt,id:Zt,labelId:er,value:Lt,input:Tr,...wr,children:nt}):Tr,gt&&jsxRuntimeExports.jsx(Ar,{id:qt,...Or,children:gt})]})});function getToggleButtonUtilityClass(i){return generateUtilityClass("MuiToggleButton",i)}const toggleButtonClasses=generateUtilityClasses("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),ToggleButtonGroupContext=reactExports.createContext({}),ToggleButtonGroupButtonContext=reactExports.createContext(void 0);function isValueSelected(i,s){return s===void 0||i===void 0?!1:Array.isArray(s)?s.includes(i):i===s}const useUtilityClasses$1=i=>{const{classes:s,fullWidth:o,selected:a,disabled:_,size:$,color:nt}=i,tt={root:["root",a&&"selected",_&&"disabled",o&&"fullWidth",`size${capitalize($)}`,nt]};return composeClasses(tt,getToggleButtonUtilityClass,s)},ToggleButtonRoot=styled(ButtonBase,{name:"MuiToggleButton",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,s[`size${capitalize(o.size)}`]]}})(memoTheme(({theme:i})=>({...i.typography.button,borderRadius:(i.vars||i).shape.borderRadius,padding:11,border:`1px solid ${(i.vars||i).palette.divider}`,color:(i.vars||i).palette.action.active,[`&.${toggleButtonClasses.disabled}`]:{color:(i.vars||i).palette.action.disabled,border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${toggleButtonClasses.selected}`]:{color:(i.vars||i).palette.text.primary,backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette.text.primary,i.palette.action.selectedOpacity),"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:alpha(i.palette.text.primary,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette.text.primary,i.palette.action.selectedOpacity)}}}}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([s])=>({props:{color:s},style:{[`&.${toggleButtonClasses.selected}`]:{color:(i.vars||i).palette[s].main,backgroundColor:i.vars?`rgba(${i.vars.palette[s].mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette[s].main,i.palette.action.selectedOpacity),"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette[s].mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:alpha(i.palette[s].main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette[s].mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette[s].main,i.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:i.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:i.typography.pxToRem(15)}}]}))),ToggleButton=reactExports.forwardRef(function i(s,o){const{value:a,..._}=reactExports.useContext(ToggleButtonGroupContext),$=reactExports.useContext(ToggleButtonGroupButtonContext),nt=resolveProps({..._,selected:isValueSelected(s.value,a)},s),tt=useDefaultProps({props:nt,name:"MuiToggleButton"}),{children:ot,className:pt,color:ut="standard",disabled:mt=!1,disableFocusRipple:vt=!1,fullWidth:ht=!1,onChange:gt,onClick:rt,selected:j,size:_e="medium",value:it,...st}=tt,lt={...tt,color:ut,disabled:mt,disableFocusRipple:vt,fullWidth:ht,size:_e},et=useUtilityClasses$1(lt),at=ct=>{rt&&(rt(ct,it),ct.defaultPrevented)||gt&&gt(ct,it)},ft=$||"";return jsxRuntimeExports.jsx(ToggleButtonRoot,{className:clsx(_.className,et.root,pt,ft),disabled:mt,focusRipple:!vt,ref:o,onClick:at,onChange:gt,value:it,ownerState:lt,"aria-pressed":j,...st,children:ot})});function getToggleButtonGroupUtilityClass(i){return generateUtilityClass("MuiToggleButtonGroup",i)}const toggleButtonGroupClasses=generateUtilityClasses("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),useUtilityClasses=i=>{const{classes:s,orientation:o,fullWidth:a,disabled:_}=i,$={root:["root",o,a&&"fullWidth"],grouped:["grouped",`grouped${capitalize(o)}`,_&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return composeClasses($,getToggleButtonGroupUtilityClass,s)},ToggleButtonGroupRoot=styled("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[{[`& .${toggleButtonGroupClasses.grouped}`]:s.grouped},{[`& .${toggleButtonGroupClasses.grouped}`]:s[`grouped${capitalize(o.orientation)}`]},{[`& .${toggleButtonGroupClasses.firstButton}`]:s.firstButton},{[`& .${toggleButtonGroupClasses.lastButton}`]:s.lastButton},{[`& .${toggleButtonGroupClasses.middleButton}`]:s.middleButton},s.root,o.orientation==="vertical"&&s.vertical,o.fullWidth&&s.fullWidth]}})(memoTheme(({theme:i})=>({display:"inline-flex",borderRadius:(i.vars||i).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${toggleButtonGroupClasses.grouped}`]:{[`&.${toggleButtonGroupClasses.selected} + .${toggleButtonGroupClasses.grouped}.${toggleButtonGroupClasses.selected}`]:{borderTop:0,marginTop:0}},[`& .${toggleButtonGroupClasses.firstButton},& .${toggleButtonGroupClasses.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${toggleButtonGroupClasses.lastButton},& .${toggleButtonGroupClasses.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${toggleButtonGroupClasses.lastButton}.${toggleButtonClasses.disabled},& .${toggleButtonGroupClasses.middleButton}.${toggleButtonClasses.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${toggleButtonGroupClasses.grouped}`]:{[`&.${toggleButtonGroupClasses.selected} + .${toggleButtonGroupClasses.grouped}.${toggleButtonGroupClasses.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${toggleButtonGroupClasses.firstButton},& .${toggleButtonGroupClasses.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${toggleButtonGroupClasses.lastButton},& .${toggleButtonGroupClasses.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${toggleButtonGroupClasses.lastButton}.${toggleButtonClasses.disabled},& .${toggleButtonGroupClasses.middleButton}.${toggleButtonClasses.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),ToggleButtonGroup=reactExports.forwardRef(function i(s,o){const a=useDefaultProps({props:s,name:"MuiToggleButtonGroup"}),{children:_,className:$,color:nt="standard",disabled:tt=!1,exclusive:ot=!1,fullWidth:pt=!1,onChange:ut,orientation:mt="horizontal",size:vt="medium",value:ht,...gt}=a,rt={...a,disabled:tt,fullWidth:pt,orientation:mt,size:vt},j=useUtilityClasses(rt),_e=reactExports.useCallback((ft,ct)=>{if(!ut)return;const xt=ht&&ht.indexOf(ct);let dt;ht&&xt>=0?(dt=ht.slice(),dt.splice(xt,1)):dt=ht?ht.concat(ct):[ct],ut(ft,dt)},[ut,ht]),it=reactExports.useCallback((ft,ct)=>{ut&&ut(ft,ht===ct?null:ct)},[ut,ht]),st=reactExports.useMemo(()=>({className:j.grouped,onChange:ot?it:_e,value:ht,size:vt,fullWidth:pt,color:nt,disabled:tt}),[j.grouped,ot,it,_e,ht,vt,pt,nt,tt]),lt=getValidReactChildren(_),et=lt.length,at=ft=>{const ct=ft===0,xt=ft===et-1;return ct&&xt?"":ct?j.firstButton:xt?j.lastButton:j.middleButton};return jsxRuntimeExports.jsx(ToggleButtonGroupRoot,{role:"group",className:clsx(j.root,$),ref:o,ownerState:rt,...gt,children:jsxRuntimeExports.jsx(ToggleButtonGroupContext.Provider,{value:st,children:lt.map((ft,ct)=>jsxRuntimeExports.jsx(ToggleButtonGroupButtonContext.Provider,{value:at(ct),children:ft},ct))})})});function MoleculeDataTextArea(i){const s=i.moleculedata.split(`
`),[o,a]=reactExports.useState(Number(s[0])),[_,$]=reactExports.useState(s[1]),[nt,tt]=reactExports.useState(s.slice(2).join(`
`)),[ot,pt]=reactExports.useState([""]),[ut,mt]=reactExports.useState(!1);function vt(gt){const rt=gt.split(`
`);let j="";for(let _e=0;_e<rt.length;_e++){const it=rt[_e].split(/\b\s+/).filter(st=>st);it.length!=0&&(it.length!=4&&(j=j+"Wrong number of items on line "+(_e+1)+`
`,mt(!0)),/^[a-zA-Z]+$/.test(it[0])||(j=j+"Invalid chemical on line "+(_e+1)+`
`,mt(!0)),(!/^[+-]?[0-9]{1,}(?:\.[0-9]{1,})?$/.test(it[1])||!/^[+-]?[0-9]{1,}(?:\.[0-9]{1,})?$/.test(it[2])||!/^[+-]?[0-9]{1,}(?:\.[0-9]{1,})?$/.test(it[3]))&&(j=j+"Invalid number on line "+(_e+1)+`
`,mt(!0)))}return j}function ht(){const gt=vt(nt);if(gt=="")mt(!1),i.setmoleculeData(o+`
`+_+`
`+nt.split(`
`).filter(rt=>rt).join(`
`));else{const rt=gt.split(`
`);rt.length=rt.length-1,pt(rt)}}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TextField,{id:"atomBox",label:"Atoms",value:o,sx:{m:2,width:"64px"},disabled:!0}),jsxRuntimeExports.jsx(TextField,{id:"Comment/Lattice",label:"Comment/Lattice",value:_,sx:{m:2,width:"calc(100% - 128px)"},onChange:gt=>$(gt.target.value)}),jsxRuntimeExports.jsx(TextField,{id:"datafilebox",label:"Molecule Data",multiline:!0,rows:20,value:nt,sx:{m:2,width:"100%"},onChange:gt=>{a(gt.target.value.split(`
`).filter(rt=>rt).length),tt(gt.target.value)}}),jsxRuntimeExports.jsx(Button,{variant:"contained",sx:{m:2,width:"100%"},onClick:ht,children:"Render"}),ut?jsxRuntimeExports.jsx(Alert,{variant:"filled",sx:{m:2,width:"100%"},severity:"error",children:jsxRuntimeExports.jsx("ul",{style:{padding:0},children:ot.map((gt,rt)=>jsxRuntimeExports.jsx("li",{style:{listStyle:"none"},children:gt},rt))})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})]})}const CircleOutlinedIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CircleOutlined"),HorizontalRuleOutlinedIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M4 11h16v2H4z"}),"HorizontalRuleOutlined");function StyleToggle(i){const s=(o,a)=>{a!==null&&i.setStyle(a)};return jsxRuntimeExports.jsxs(ToggleButtonGroup,{value:i.style,exclusive:!0,onChange:s,"aria-label":"Style Choice",children:[jsxRuntimeExports.jsx(Tooltip,{title:"Stick Style",arrow:!0,children:jsxRuntimeExports.jsx(ToggleButton,{value:"Stick","aria-label":"Stick",children:jsxRuntimeExports.jsx(HorizontalRuleOutlinedIcon,{})})}),jsxRuntimeExports.jsx(Tooltip,{title:"Sphere Style",arrow:!0,children:jsxRuntimeExports.jsx(ToggleButton,{value:"Sphere","aria-label":"Sphere",children:jsxRuntimeExports.jsx(CircleOutlinedIcon,{})})})]})}function App(){const[i,s]=reactExports.useState("#3465A4"),[o,a]=reactExports.useState("Stick"),[_,$]=reactExports.useState(`12
Benzene molecule
C   0.000000  1.402720  0.000000
H   0.000000  2.490290  0.000000
C  -1.214790  0.701360  0.000000
H  -2.156660  1.245150  0.000000
C  -1.214790 -0.701360  0.000000
H  -2.156660 -1.245150  0.000000
C   0.000000 -1.402720  0.000000
H   0.000000 -2.490290  0.000000
C   1.214790 -0.701360  0.000000
H   2.156660 -1.245150  0.000000
C   1.214790  0.701360  0.000000
H   2.156660  1.245150  0.000000`);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{variant:"h1",sx:{textAlign:"center"},children:"3D Molecule Viewer"}),jsxRuntimeExports.jsxs(Grid2,{container:!0,spacing:2,sx:{},children:[jsxRuntimeExports.jsxs(Grid2,{size:6,sx:{display:"grid",gridAutoRows:"80% 20%",margin:2,gap:3},children:[jsxRuntimeExports.jsx(Molecule3D,{color:i,moleculedata:_,style:o},i),jsxRuntimeExports.jsxs(Box,{sx:{textAlign:"center"},children:[jsxRuntimeExports.jsx(Tooltip,{title:"Change Background Colour",arrow:!0,children:jsxRuntimeExports.jsx("input",{style:{margin:"50px"},type:"color",value:i,onChange:nt=>{s(nt.target.value)}})}),jsxRuntimeExports.jsx(StyleToggle,{style:o,setStyle:a})]})]}),jsxRuntimeExports.jsx(Grid2,{size:5,children:jsxRuntimeExports.jsx("div",{style:{position:"relative"},children:jsxRuntimeExports.jsx(MoleculeDataTextArea,{moleculedata:_,setmoleculeData:$})})})]})]})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
