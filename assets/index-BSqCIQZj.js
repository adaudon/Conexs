var Ju=Object.defineProperty;var qu=(i,s,o)=>s in i?Ju(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o;var _i=(i,s,o)=>qu(i,typeof s!="symbol"?s+"":s,o);function _mergeNamespaces(i,s){for(var o=0;o<s.length;o++){const a=s[o];if(typeof a!="string"&&!Array.isArray(a)){for(const _ in a)if(_!=="default"&&!(_ in i)){const j=Object.getOwnPropertyDescriptor(a,_);j&&Object.defineProperty(i,_,j.get?j:{enumerable:!0,get:()=>a[_]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))a(_);new MutationObserver(_=>{for(const j of _)if(j.type==="childList")for(const rt of j.addedNodes)rt.tagName==="LINK"&&rt.rel==="modulepreload"&&a(rt)}).observe(document,{childList:!0,subtree:!0});function o(_){const j={};return _.integrity&&(j.integrity=_.integrity),_.referrerPolicy&&(j.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?j.credentials="include":_.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function a(_){if(_.ep)return;_.ep=!0;const j=o(_);fetch(_.href,j)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(i){return i===null||typeof i!="object"?null:(i=z$2&&i[z$2]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,s,o){var a,_={},j=null,rt=null;if(s!=null)for(a in s.ref!==void 0&&(rt=s.ref),s.key!==void 0&&(j=""+s.key),s)J.call(s,a)&&!L$1.hasOwnProperty(a)&&(_[a]=s[a]);var tt=arguments.length-2;if(tt===1)_.children=o;else if(1<tt){for(var it=Array(tt),dt=0;dt<tt;dt++)it[dt]=arguments[dt+2];_.children=it}if(i&&i.defaultProps)for(a in tt=i.defaultProps,tt)_[a]===void 0&&(_[a]=tt[a]);return{$$typeof:l$3,type:i,key:j,ref:rt,props:_,_owner:K$1.current}}function N$1(i,s){return{$$typeof:l$3,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$3}function escape(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(o){return s[o]})}var P$1=/\/+/g;function Q$1(i,s){return typeof i=="object"&&i!==null&&i.key!=null?escape(""+i.key):s.toString(36)}function R$1(i,s,o,a,_){var j=typeof i;(j==="undefined"||j==="boolean")&&(i=null);var rt=!1;if(i===null)rt=!0;else switch(j){case"string":case"number":rt=!0;break;case"object":switch(i.$$typeof){case l$3:case n$3:rt=!0}}if(rt)return rt=i,_=_(rt),i=a===""?"."+Q$1(rt,0):a,I$1(_)?(o="",i!=null&&(o=i.replace(P$1,"$&/")+"/"),R$1(_,s,o,"",function(dt){return dt})):_!=null&&(O$1(_)&&(_=N$1(_,o+(!_.key||rt&&rt.key===_.key?"":(""+_.key).replace(P$1,"$&/")+"/")+i)),s.push(_)),1;if(rt=0,a=a===""?".":a+":",I$1(i))for(var tt=0;tt<i.length;tt++){j=i[tt];var it=a+Q$1(j,tt);rt+=R$1(j,s,o,it,_)}else if(it=A$2(i),typeof it=="function")for(i=it.call(i),tt=0;!(j=i.next()).done;)j=j.value,it=a+Q$1(j,tt++),rt+=R$1(j,s,o,it,_);else if(j==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return rt}function S$1(i,s,o){if(i==null)return i;var a=[],_=0;return R$1(i,a,"","",function(j){return s.call(o,j,_++)}),a}function T$1(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(o){(i._status===0||i._status===-1)&&(i._status=1,i._result=o)},function(o){(i._status===0||i._status===-1)&&(i._status=2,i._result=o)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,s,o){S$1(i,function(){s.apply(this,arguments)},o)},count:function(i){var s=0;return S$1(i,function(){s++}),s},toArray:function(i){return S$1(i,function(s){return s})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(i,s,o){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var a=C$1({},i.props),_=i.key,j=i.ref,rt=i._owner;if(s!=null){if(s.ref!==void 0&&(j=s.ref,rt=K$1.current),s.key!==void 0&&(_=""+s.key),i.type&&i.type.defaultProps)var tt=i.type.defaultProps;for(it in s)J.call(s,it)&&!L$1.hasOwnProperty(it)&&(a[it]=s[it]===void 0&&tt!==void 0?tt[it]:s[it])}var it=arguments.length-2;if(it===1)a.children=o;else if(1<it){tt=Array(it);for(var dt=0;dt<it;dt++)tt[dt]=arguments[dt+2];a.children=tt}return{$$typeof:l$3,type:i.type,key:_,ref:j,props:a,_owner:rt}};react_production_min.createContext=function(i){return i={$$typeof:u$1,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$2,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var s=M$1.bind(null,i);return s.type=i,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$3,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,s){return{$$typeof:x$1,type:i,compare:s===void 0?null:s}};react_production_min.startTransition=function(i){var s=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=s}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(i,s){return U$1.current.useCallback(i,s)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,s){return U$1.current.useEffect(i,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,s,o){return U$1.current.useImperativeHandle(i,s,o)};react_production_min.useInsertionEffect=function(i,s){return U$1.current.useInsertionEffect(i,s)};react_production_min.useLayoutEffect=function(i,s){return U$1.current.useLayoutEffect(i,s)};react_production_min.useMemo=function(i,s){return U$1.current.useMemo(i,s)};react_production_min.useReducer=function(i,s,o){return U$1.current.useReducer(i,s,o)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,s,o){return U$1.current.useSyncExternalStore(i,s,o)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$2=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(i,s,o){var a,_={},j=null,rt=null;o!==void 0&&(j=""+o),s.key!==void 0&&(j=""+s.key),s.ref!==void 0&&(rt=s.ref);for(a in s)m$3.call(s,a)&&!p$3.hasOwnProperty(a)&&(_[a]=s[a]);if(i&&i.defaultProps)for(a in s=i.defaultProps,s)_[a]===void 0&&(_[a]=s[a]);return{$$typeof:k$2,type:i,key:j,ref:rt,props:_,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(Ct,Pt){var Lt=Ct.length;Ct.push(Pt);e:for(;0<Lt;){var Ot=Lt-1>>>1,It=Ct[Ot];if(0<_(It,Pt))Ct[Ot]=Pt,Ct[Lt]=It,Lt=Ot;else break e}}function o(Ct){return Ct.length===0?null:Ct[0]}function a(Ct){if(Ct.length===0)return null;var Pt=Ct[0],Lt=Ct.pop();if(Lt!==Pt){Ct[0]=Lt;e:for(var Ot=0,It=Ct.length,$t=It>>>1;Ot<$t;){var jt=2*(Ot+1)-1,Zt=Ct[jt],qt=jt+1,er=Ct[qt];if(0>_(Zt,Lt))qt<It&&0>_(er,Zt)?(Ct[Ot]=er,Ct[qt]=Lt,Ot=qt):(Ct[Ot]=Zt,Ct[jt]=Lt,Ot=jt);else if(qt<It&&0>_(er,Lt))Ct[Ot]=er,Ct[qt]=Lt,Ot=qt;else break e}}return Pt}function _(Ct,Pt){var Lt=Ct.sortIndex-Pt.sortIndex;return Lt!==0?Lt:Ct.id-Pt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var j=performance;i.unstable_now=function(){return j.now()}}else{var rt=Date,tt=rt.now();i.unstable_now=function(){return rt.now()-tt}}var it=[],dt=[],lt=1,gt=null,vt=3,ht=!1,mt=!1,nt=!1,$=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ot(Ct){for(var Pt=o(dt);Pt!==null;){if(Pt.callback===null)a(dt);else if(Pt.startTime<=Ct)a(dt),Pt.sortIndex=Pt.expirationTime,s(it,Pt);else break;Pt=o(dt)}}function ut(Ct){if(nt=!1,ot(Ct),!mt)if(o(it)!==null)mt=!0,At(et);else{var Pt=o(dt);Pt!==null&&Rt(ut,Pt.startTime-Ct)}}function et(Ct,Pt){mt=!1,nt&&(nt=!1,_e(ct),ct=-1),ht=!0;var Lt=vt;try{for(ot(Pt),gt=o(it);gt!==null&&(!(gt.expirationTime>Pt)||Ct&&!_t());){var Ot=gt.callback;if(typeof Ot=="function"){gt.callback=null,vt=gt.priorityLevel;var It=Ot(gt.expirationTime<=Pt);Pt=i.unstable_now(),typeof It=="function"?gt.callback=It:gt===o(it)&&a(it),ot(Pt)}else a(it);gt=o(it)}if(gt!==null)var $t=!0;else{var jt=o(dt);jt!==null&&Rt(ut,jt.startTime-Pt),$t=!1}return $t}finally{gt=null,vt=Lt,ht=!1}}var at=!1,pt=null,ct=-1,yt=5,ft=-1;function _t(){return!(i.unstable_now()-ft<yt)}function wt(){if(pt!==null){var Ct=i.unstable_now();ft=Ct;var Pt=!0;try{Pt=pt(!0,Ct)}finally{Pt?Et():(at=!1,pt=null)}}else at=!1}var Et;if(typeof st=="function")Et=function(){st(wt)};else if(typeof MessageChannel<"u"){var Mt=new MessageChannel,St=Mt.port2;Mt.port1.onmessage=wt,Et=function(){St.postMessage(null)}}else Et=function(){$(wt,0)};function At(Ct){pt=Ct,at||(at=!0,Et())}function Rt(Ct,Pt){ct=$(function(){Ct(i.unstable_now())},Pt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Ct){Ct.callback=null},i.unstable_continueExecution=function(){mt||ht||(mt=!0,At(et))},i.unstable_forceFrameRate=function(Ct){0>Ct||125<Ct?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):yt=0<Ct?Math.floor(1e3/Ct):5},i.unstable_getCurrentPriorityLevel=function(){return vt},i.unstable_getFirstCallbackNode=function(){return o(it)},i.unstable_next=function(Ct){switch(vt){case 1:case 2:case 3:var Pt=3;break;default:Pt=vt}var Lt=vt;vt=Pt;try{return Ct()}finally{vt=Lt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Ct,Pt){switch(Ct){case 1:case 2:case 3:case 4:case 5:break;default:Ct=3}var Lt=vt;vt=Ct;try{return Pt()}finally{vt=Lt}},i.unstable_scheduleCallback=function(Ct,Pt,Lt){var Ot=i.unstable_now();switch(typeof Lt=="object"&&Lt!==null?(Lt=Lt.delay,Lt=typeof Lt=="number"&&0<Lt?Ot+Lt:Ot):Lt=Ot,Ct){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=Lt+It,Ct={id:lt++,callback:Pt,priorityLevel:Ct,startTime:Lt,expirationTime:It,sortIndex:-1},Lt>Ot?(Ct.sortIndex=Lt,s(dt,Ct),o(it)===null&&Ct===o(dt)&&(nt?(_e(ct),ct=-1):nt=!0,Rt(ut,Lt-Ot))):(Ct.sortIndex=It,s(it,Ct),mt||ht||(mt=!0,At(et))),Ct},i.unstable_shouldYield=_t,i.unstable_wrapCallback=function(Ct){var Pt=vt;return function(){var Lt=vt;vt=Pt;try{return Ct.apply(this,arguments)}finally{vt=Lt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,s){ha(i,s),ha(i+"Capture",s)}function ha(i,s){for(ea[i]=s,i=0;i<s.length;i++)da.add(s[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,s,o,a){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,s,o,a){if(s===null||typeof s>"u"||pa(i,s,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$2(i,s,o,a,_,j,rt){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=_,this.mustUseProperty=o,this.propertyName=i,this.type=s,this.sanitizeURL=j,this.removeEmptyString=rt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z$1[i]=new v$2(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];z$1[s]=new v$2(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z$1[i]=new v$2(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z$1[i]=new v$2(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z$1[i]=new v$2(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z$1[i]=new v$2(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z$1[i]=new v$2(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z$1[i]=new v$2(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z$1[i]=new v$2(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ra,sa);z$1[s]=new v$2(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ra,sa);z$1[s]=new v$2(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ra,sa);z$1[s]=new v$2(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z$1[i]=new v$2(i,1,!1,i.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z$1[i]=new v$2(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,s,o,a){var _=z$1.hasOwnProperty(s)?z$1[s]:null;(_!==null?_.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,o,_,a)&&(o=null),a||_===null?oa(s)&&(o===null?i.removeAttribute(s):i.setAttribute(s,""+o)):_.mustUseProperty?i[_.propertyName]=o===null?_.type===3?!1:"":o:(s=_.attributeName,a=_.attributeNamespace,o===null?i.removeAttribute(s):(_=_.type,o=_===3||_===4&&o===!0?"":""+o,a?i.setAttributeNS(a,s,o):i.setAttribute(s,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A$1=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+i}var Na=!1;function Oa(i,s){if(!i||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(dt){var a=dt}Reflect.construct(i,[],s)}else{try{s.call()}catch(dt){a=dt}i.call(s.prototype)}else{try{throw Error()}catch(dt){a=dt}i()}}catch(dt){if(dt&&a&&typeof dt.stack=="string"){for(var _=dt.stack.split(`
`),j=a.stack.split(`
`),rt=_.length-1,tt=j.length-1;1<=rt&&0<=tt&&_[rt]!==j[tt];)tt--;for(;1<=rt&&0<=tt;rt--,tt--)if(_[rt]!==j[tt]){if(rt!==1||tt!==1)do if(rt--,tt--,0>tt||_[rt]!==j[tt]){var it=`
`+_[rt].replace(" at new "," at ");return i.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",i.displayName)),it}while(1<=rt&&0<=tt);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return s=i.displayName||null,s!==null?s:Qa(i.type)||"Memo";case Ha:s=i._payload,i=i._init;try{return Qa(i(s))}catch{}}return null}function Ra(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(i){var s=Ta(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),a=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var _=o.get,j=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return _.call(this)},set:function(rt){a=""+rt,j.call(this,rt)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(rt){a=""+rt},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),a="";return i&&(a=Ta(i)?i.checked?"true":"false":i.value),i=a,i!==o?(s.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,s){var o=s.checked;return A$1({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??i._wrapperState.initialChecked})}function Za(i,s){var o=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;o=Sa(s.value!=null?s.value:o),i._wrapperState={initialChecked:a,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(i,s){s=s.checked,s!=null&&ta(i,"checked",s,!1)}function bb(i,s){ab(i,s);var o=Sa(s.value),a=s.type;if(o!=null)a==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+o):i.value!==""+o&&(i.value=""+o);else if(a==="submit"||a==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?cb(i,s.type,o):s.hasOwnProperty("defaultValue")&&cb(i,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function db(i,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,o||s===i.value||(i.value=s),i.defaultValue=s}o=i.name,o!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,o!==""&&(i.name=o)}function cb(i,s,o){(s!=="number"||Xa(i.ownerDocument)!==i)&&(o==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+o&&(i.defaultValue=""+o))}var eb=Array.isArray;function fb(i,s,o,a){if(i=i.options,s){s={};for(var _=0;_<o.length;_++)s["$"+o[_]]=!0;for(o=0;o<i.length;o++)_=s.hasOwnProperty("$"+i[o].value),i[o].selected!==_&&(i[o].selected=_),_&&a&&(i[o].defaultSelected=!0)}else{for(o=""+Sa(o),s=null,_=0;_<i.length;_++){if(i[_].value===o){i[_].selected=!0,a&&(i[_].defaultSelected=!0);return}s!==null||i[_].disabled||(s=i[_])}s!==null&&(s.selected=!0)}}function gb(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(p$2(92));if(eb(o)){if(1<o.length)throw Error(p$2(93));o=o[0]}s=o}s==null&&(s=""),o=s}i._wrapperState={initialValue:Sa(o)}}function ib(i,s){var o=Sa(s.value),a=Sa(s.defaultValue);o!=null&&(o=""+o,o!==i.value&&(i.value=o),s.defaultValue==null&&i.defaultValue!==o&&(i.defaultValue=o)),a!=null&&(i.defaultValue=""+a)}function jb(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,a,_){MSApp.execUnsafeLocalFunction(function(){return i(s,o,a,_)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ob(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),pb[s]=pb[i]})});function rb(i,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||pb.hasOwnProperty(i)&&pb[i]?(""+s).trim():s+"px"}function sb(i,s){i=i.style;for(var o in s)if(s.hasOwnProperty(o)){var a=o.indexOf("--")===0,_=rb(o,s[o],a);o==="float"&&(o="cssFloat"),a?i.setProperty(o,_):i[o]=_}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,s){if(s){if(tb[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$2(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$2(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$2(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$2(62))}}function vb(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$2(280));var s=i.stateNode;s&&(s=Db(s),yb(i.stateNode,i.type,s))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,s=Ab;if(Ab=zb=null,Bb(i),s)for(i=0;i<s.length;i++)Bb(s[i])}}function Gb(i,s){return i(s)}function Hb(){}var Ib=!1;function Jb(i,s,o){if(Ib)return i(s,o);Ib=!0;try{return Gb(i,s,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,s){var o=i.stateNode;if(o===null)return null;var a=Db(o);if(a===null)return null;o=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(i=i.type,a=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!a;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(p$2(231,s,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,s,o,a,_,j,rt,tt,it){var dt=Array.prototype.slice.call(arguments,3);try{s.apply(o,dt)}catch(lt){this.onError(lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,s,o,a,_,j,rt,tt,it){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,s,o,a,_,j,rt,tt,it){if(Tb.apply(this,arguments),Ob){if(Ob){var dt=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=dt)}}function Vb(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function Wb(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$2(188))}function Yb(i){var s=i.alternate;if(!s){if(s=Vb(i),s===null)throw Error(p$2(188));return s!==i?null:i}for(var o=i,a=s;;){var _=o.return;if(_===null)break;var j=_.alternate;if(j===null){if(a=_.return,a!==null){o=a;continue}break}if(_.child===j.child){for(j=_.child;j;){if(j===o)return Xb(_),i;if(j===a)return Xb(_),s;j=j.sibling}throw Error(p$2(188))}if(o.return!==a.return)o=_,a=j;else{for(var rt=!1,tt=_.child;tt;){if(tt===o){rt=!0,o=_,a=j;break}if(tt===a){rt=!0,a=_,o=j;break}tt=tt.sibling}if(!rt){for(tt=j.child;tt;){if(tt===o){rt=!0,o=j,a=_;break}if(tt===a){rt=!0,a=j,o=_;break}tt=tt.sibling}if(!rt)throw Error(p$2(189))}}if(o.alternate!==a)throw Error(p$2(190))}if(o.tag!==3)throw Error(p$2(188));return o.stateNode.current===o?i:s}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=$b(i);if(s!==null)return s;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,s){var o=i.pendingLanes;if(o===0)return 0;var a=0,_=i.suspendedLanes,j=i.pingedLanes,rt=o&268435455;if(rt!==0){var tt=rt&~_;tt!==0?a=tc(tt):(j&=rt,j!==0&&(a=tc(j)))}else rt=o&~_,rt!==0?a=tc(rt):j!==0&&(a=tc(j));if(a===0)return 0;if(s!==0&&s!==a&&!(s&_)&&(_=a&-a,j=s&-s,_>=j||_===16&&(j&4194240)!==0))return s;if(a&4&&(a|=o&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=a;0<s;)o=31-oc(s),_=1<<o,a|=i[o],s&=~_;return a}function vc(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,s){for(var o=i.suspendedLanes,a=i.pingedLanes,_=i.expirationTimes,j=i.pendingLanes;0<j;){var rt=31-oc(j),tt=1<<rt,it=_[rt];it===-1?(!(tt&o)||tt&a)&&(_[rt]=vc(tt,s)):it<=s&&(i.expiredLanes|=tt),j&=~tt}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ac(i,s,o){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-oc(s),i[s]=o}function Bc(i,s){var o=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var a=i.eventTimes;for(i=i.expirationTimes;0<o;){var _=31-oc(o),j=1<<_;s[_]=0,a[_]=-1,i[_]=-1,o&=~j}}function Cc(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var a=31-oc(o),_=1<<a;_&s|i[a]&s&&(i[a]|=s),o&=~_}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,s){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(i,s,o,a,_,j){return i===null||i.nativeEvent!==j?(i={blockedOn:s,domEventName:o,eventSystemFlags:a,nativeEvent:j,targetContainers:[_]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),i):(i.eventSystemFlags|=a,s=i.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),i)}function Uc(i,s,o,a,_){switch(s){case"focusin":return Lc=Tc(Lc,i,s,o,a,_),!0;case"dragenter":return Mc=Tc(Mc,i,s,o,a,_),!0;case"mouseover":return Nc=Tc(Nc,i,s,o,a,_),!0;case"pointerover":var j=_.pointerId;return Oc.set(j,Tc(Oc.get(j)||null,i,s,o,a,_)),!0;case"gotpointercapture":return j=_.pointerId,Pc.set(j,Tc(Pc.get(j)||null,i,s,o,a,_)),!0}return!1}function Vc(i){var s=Wc(i.target);if(s!==null){var o=Vb(s);if(o!==null){if(s=o.tag,s===13){if(s=Wb(o),s!==null){i.blockedOn=s,Ic(i.priority,function(){Gc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Yc(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(o===null){o=i.nativeEvent;var a=new o.constructor(o.type,o);wb=a,o.target.dispatchEvent(a),wb=null}else return s=Cb(o),s!==null&&Fc(s),i.blockedOn=o,!1;s.shift()}return!0}function Zc(i,s,o){Xc(i)&&o.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function s(_){return ad(_,i)}if(0<Kc.length){ad(Kc[0],i);for(var o=1;o<Kc.length;o++){var a=Kc[o];a.blockedOn===i&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(s),Pc.forEach(s),o=0;o<Qc.length;o++)a=Qc[o],a.blockedOn===i&&(a.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,s,o,a){var _=C,j=cd.transition;cd.transition=null;try{C=1,fd(i,s,o,a)}finally{C=_,cd.transition=j}}function gd(i,s,o,a){var _=C,j=cd.transition;cd.transition=null;try{C=4,fd(i,s,o,a)}finally{C=_,cd.transition=j}}function fd(i,s,o,a){if(dd){var _=Yc(i,s,o,a);if(_===null)hd(i,s,a,id,o),Sc(i,a);else if(Uc(_,i,s,o,a))a.stopPropagation();else if(Sc(i,a),s&4&&-1<Rc.indexOf(i)){for(;_!==null;){var j=Cb(_);if(j!==null&&Ec(j),j=Yc(i,s,o,a),j===null&&hd(i,s,a,id,o),j===_)break;_=j}_!==null&&a.stopPropagation()}else hd(i,s,a,null,o)}}var id=null;function Yc(i,s,o,a){if(id=null,i=xb(a),i=Wc(i),i!==null)if(s=Vb(i),s===null)i=null;else if(o=s.tag,o===13){if(i=Wb(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,s=ld,o=s.length,a,_="value"in kd?kd.value:kd.textContent,j=_.length;for(i=0;i<o&&s[i]===_[i];i++);var rt=o-i;for(a=1;a<=rt&&s[o-a]===_[j-a];a++);return md=_.slice(i,1<a?1-a:void 0)}function od(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function s(o,a,_,j,rt){this._reactName=o,this._targetInst=_,this.type=a,this.nativeEvent=j,this.target=rt,this.currentTarget=null;for(var tt in i)i.hasOwnProperty(tt)&&(o=i[tt],this[tt]=o?o(j):j[tt]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Od[i])?!!s[i]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(i){if(i.key){var s=Md[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,s){switch(i){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return i=s.data,i===ee&&fe?null:i;default:return null}}function ke(i,s){if(ie)return i==="compositionend"||!ae&&ge(i,s)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!le[i.type]:s==="textarea"}function ne(i,s,o,a){Eb(a),s=oe(s,"onChange"),0<s.length&&(o=new td("onChange","change",null,o,a),i.push({event:o,listeners:s}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var s=ue(i);if(Wa(s))return i}function ve(i,s){if(i==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,i,xb(i)),Jb(re,s)}}function Ce(i,s,o){i==="focusin"?(Ae(),pe=s,qe=o,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,s){if(i==="click")return te(s)}function Fe(i,s){if(i==="input"||i==="change")return te(s)}function Ge(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,s){if(He(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),a=Object.keys(s);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var _=o[a];if(!ja.call(s,_)||!He(i[_],s[_]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,s){var o=Je(i);i=0;for(var a;o;){if(o.nodeType===3){if(a=i+o.textContent.length,i<=s&&a>=s)return{node:o,offset:s-i};i=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je(o)}}function Le(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Le(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var i=window,s=Xa();s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Xa(i.document)}return s}function Ne(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Oe(i){var s=Me(),o=i.focusedElem,a=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(a!==null&&Ne(o)){if(s=a.start,i=a.end,i===void 0&&(i=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(i,o.value.length);else if(i=(s=o.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var _=o.textContent.length,j=Math.min(a.start,_);a=a.end===void 0?j:Math.min(a.end,_),!i.extend&&j>a&&(_=a,a=j,j=_),_=Ke(o,j);var rt=Ke(o,a);_&&rt&&(i.rangeCount!==1||i.anchorNode!==_.node||i.anchorOffset!==_.offset||i.focusNode!==rt.node||i.focusOffset!==rt.offset)&&(s=s.createRange(),s.setStart(_.node,_.offset),i.removeAllRanges(),j>a?(i.addRange(s),i.extend(rt.node,rt.offset)):(s.setEnd(rt.node,rt.offset),i.addRange(s)))}}for(s=[],i=o;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)i=s[o],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,s,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,o),i.push({event:s,listeners:a}),s.target=Qe)))}function Ve(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var s=We[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ye)return Xe[i]=s[o];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,s){df.set(i,s),fa(s,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,s,o){var a=i.type||"unknown-event";i.currentTarget=o,Ub(a,s,void 0,i),i.currentTarget=null}function se(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var a=i[o],_=a.event;a=a.listeners;e:{var j=void 0;if(s)for(var rt=a.length-1;0<=rt;rt--){var tt=a[rt],it=tt.instance,dt=tt.currentTarget;if(tt=tt.listener,it!==j&&_.isPropagationStopped())break e;nf(_,tt,dt),j=it}else for(rt=0;rt<a.length;rt++){if(tt=a[rt],it=tt.instance,dt=tt.currentTarget,tt=tt.listener,it!==j&&_.isPropagationStopped())break e;nf(_,tt,dt),j=it}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,s){var o=s[of];o===void 0&&(o=s[of]=new Set);var a=i+"__bubble";o.has(a)||(pf(s,i,2,!1),o.add(a))}function qf(i,s,o){var a=0;s&&(a|=4),pf(o,i,a,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,i),qf(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(i,s,o,a){switch(jd(s)){case 1:var _=ed;break;case 4:_=gd;break;default:_=fd}o=_.bind(null,s,o,i),_=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),a?_!==void 0?i.addEventListener(s,o,{capture:!0,passive:_}):i.addEventListener(s,o,!0):_!==void 0?i.addEventListener(s,o,{passive:_}):i.addEventListener(s,o,!1)}function hd(i,s,o,a,_){var j=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var rt=a.tag;if(rt===3||rt===4){var tt=a.stateNode.containerInfo;if(tt===_||tt.nodeType===8&&tt.parentNode===_)break;if(rt===4)for(rt=a.return;rt!==null;){var it=rt.tag;if((it===3||it===4)&&(it=rt.stateNode.containerInfo,it===_||it.nodeType===8&&it.parentNode===_))return;rt=rt.return}for(;tt!==null;){if(rt=Wc(tt),rt===null)return;if(it=rt.tag,it===5||it===6){a=j=rt;continue e}tt=tt.parentNode}}a=a.return}Jb(function(){var dt=j,lt=xb(o),gt=[];e:{var vt=df.get(i);if(vt!==void 0){var ht=td,mt=i;switch(i){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":ht=Rd;break;case"focusin":mt="focus",ht=Fd;break;case"focusout":mt="blur",ht=Fd;break;case"beforeblur":case"afterblur":ht=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Vd;break;case $e:case af:case bf:ht=Hd;break;case cf:ht=Xd;break;case"scroll":ht=vd;break;case"wheel":ht=Zd;break;case"copy":case"cut":case"paste":ht=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Td}var nt=(s&4)!==0,$=!nt&&i==="scroll",_e=nt?vt!==null?vt+"Capture":null:vt;nt=[];for(var st=dt,ot;st!==null;){ot=st;var ut=ot.stateNode;if(ot.tag===5&&ut!==null&&(ot=ut,_e!==null&&(ut=Kb(st,_e),ut!=null&&nt.push(tf(st,ut,ot)))),$)break;st=st.return}0<nt.length&&(vt=new ht(vt,mt,null,o,lt),gt.push({event:vt,listeners:nt}))}}if(!(s&7)){e:{if(vt=i==="mouseover"||i==="pointerover",ht=i==="mouseout"||i==="pointerout",vt&&o!==wb&&(mt=o.relatedTarget||o.fromElement)&&(Wc(mt)||mt[uf]))break e;if((ht||vt)&&(vt=lt.window===lt?lt:(vt=lt.ownerDocument)?vt.defaultView||vt.parentWindow:window,ht?(mt=o.relatedTarget||o.toElement,ht=dt,mt=mt?Wc(mt):null,mt!==null&&($=Vb(mt),mt!==$||mt.tag!==5&&mt.tag!==6)&&(mt=null)):(ht=null,mt=dt),ht!==mt)){if(nt=Bd,ut="onMouseLeave",_e="onMouseEnter",st="mouse",(i==="pointerout"||i==="pointerover")&&(nt=Td,ut="onPointerLeave",_e="onPointerEnter",st="pointer"),$=ht==null?vt:ue(ht),ot=mt==null?vt:ue(mt),vt=new nt(ut,st+"leave",ht,o,lt),vt.target=$,vt.relatedTarget=ot,ut=null,Wc(lt)===dt&&(nt=new nt(_e,st+"enter",mt,o,lt),nt.target=ot,nt.relatedTarget=$,ut=nt),$=ut,ht&&mt)t:{for(nt=ht,_e=mt,st=0,ot=nt;ot;ot=vf(ot))st++;for(ot=0,ut=_e;ut;ut=vf(ut))ot++;for(;0<st-ot;)nt=vf(nt),st--;for(;0<ot-st;)_e=vf(_e),ot--;for(;st--;){if(nt===_e||_e!==null&&nt===_e.alternate)break t;nt=vf(nt),_e=vf(_e)}nt=null}else nt=null;ht!==null&&wf(gt,vt,ht,nt,!1),mt!==null&&$!==null&&wf(gt,$,mt,nt,!0)}}e:{if(vt=dt?ue(dt):window,ht=vt.nodeName&&vt.nodeName.toLowerCase(),ht==="select"||ht==="input"&&vt.type==="file")var et=ve;else if(me(vt))if(we)et=Fe;else{et=De;var at=Ce}else(ht=vt.nodeName)&&ht.toLowerCase()==="input"&&(vt.type==="checkbox"||vt.type==="radio")&&(et=Ee);if(et&&(et=et(i,dt))){ne(gt,et,o,lt);break e}at&&at(i,vt,dt),i==="focusout"&&(at=vt._wrapperState)&&at.controlled&&vt.type==="number"&&cb(vt,"number",vt.value)}switch(at=dt?ue(dt):window,i){case"focusin":(me(at)||at.contentEditable==="true")&&(Qe=at,Re=dt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(gt,o,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(gt,o,lt)}var pt;if(ae)e:{switch(i){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else ie?ge(i,o)&&(ct="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ct="onCompositionStart");ct&&(de&&o.locale!=="ko"&&(ie||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&ie&&(pt=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),at=oe(dt,ct),0<at.length&&(ct=new Ld(ct,i,null,o,lt),gt.push({event:ct,listeners:at}),pt?ct.data=pt:(pt=he(o),pt!==null&&(ct.data=pt)))),(pt=ce?je(i,o):ke(i,o))&&(dt=oe(dt,"onBeforeInput"),0<dt.length&&(lt=new Ld("onBeforeInput","beforeinput",null,o,lt),gt.push({event:lt,listeners:dt}),lt.data=pt))}se(gt,s)})}function tf(i,s,o){return{instance:i,listener:s,currentTarget:o}}function oe(i,s){for(var o=s+"Capture",a=[];i!==null;){var _=i,j=_.stateNode;_.tag===5&&j!==null&&(_=j,j=Kb(i,o),j!=null&&a.unshift(tf(i,j,_)),j=Kb(i,s),j!=null&&a.push(tf(i,j,_))),i=i.return}return a}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,s,o,a,_){for(var j=s._reactName,rt=[];o!==null&&o!==a;){var tt=o,it=tt.alternate,dt=tt.stateNode;if(it!==null&&it===a)break;tt.tag===5&&dt!==null&&(tt=dt,_?(it=Kb(o,j),it!=null&&rt.unshift(tf(o,it,tt))):_||(it=Kb(o,j),it!=null&&rt.push(tf(o,it,tt)))),o=o.return}rt.length!==0&&i.push({event:s,listeners:rt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,s,o){if(s=zf(s),zf(i)!==s&&o)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,s){var o=s,a=0;do{var _=o.nextSibling;if(i.removeChild(o),_&&_.nodeType===8)if(o=_.data,o==="/$"){if(a===0){i.removeChild(_),bd(s);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=_}while(o);bd(s)}function Lf(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var s=i[Of];if(s)return s;for(var o=i.parentNode;o;){if(s=o[uf]||o[Of]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Mf(i);i!==null;){if(o=i[Of])return o;i=Mf(i)}return s}i=o,o=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$2(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,s){Tf++,Sf[Tf]=i.current,i.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,s){var o=i.type.contextTypes;if(!o)return Vf;var a=i.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var _={},j;for(j in o)_[j]=s[j];return a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=_),_}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,s,o){if(H.current!==Vf)throw Error(p$2(168));G(H,s),G(Wf,o)}function bg(i,s,o){var a=i.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var _ in a)if(!(_ in s))throw Error(p$2(108,Ra(i)||"Unknown",_));return A$1({},o,a)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,s,o){var a=i.stateNode;if(!a)throw Error(p$2(169));o?(i=bg(i,s,Xf),a.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,s=C;try{var o=eg;for(C=1;i<o.length;i++){var a=o[i];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(_){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),_}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,s){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=s}function ug(i,s,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var a=rg;i=sg;var _=32-oc(a)-1;a&=~(1<<_),o+=1;var j=32-oc(s)+_;if(30<j){var rt=_-_%5;j=(a&(1<<rt)-1).toString(32),a>>=rt,_-=rt,rg=1<<32-oc(s)+_|o<<_|a,sg=j+i}else rg=1<<j|o<<_|a,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,s){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=i,s=i.deletions,s===null?(i.deletions=[o],i.flags|=16):s.push(o)}function Cg(i,s){switch(i.tag){case 5:var o=i.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xg=i,yg=Lf(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xg=i,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=s,o.return=i,i.child=o,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var s=yg;if(s){var o=s;if(!Cg(i,s)){if(Dg(i))throw Error(p$2(418));s=Lf(o.nextSibling);var a=xg;s&&Cg(i,s)?Ag(a,o):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$2(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ef(i.type,i.memoizedProps)),s&&(s=yg)){if(Dg(i))throw Hg(),Error(p$2(418));for(;s;)Ag(i,s),s=Lf(s.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$2(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"){if(s===0){yg=Lf(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,s,o){if(i=o.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p$2(309));var a=o.stateNode}if(!a)throw Error(p$2(147,i));var _=a,j=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===j?s.ref:(s=function(rt){var tt=_.refs;rt===null?delete tt[j]:tt[j]=rt},s._stringRef=j,s)}if(typeof i!="string")throw Error(p$2(284));if(!o._owner)throw Error(p$2(290,i))}return i}function Mg(i,s){throw i=Object.prototype.toString.call(s),Error(p$2(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Ng(i){var s=i._init;return s(i._payload)}function Og(i){function s(_e,st){if(i){var ot=_e.deletions;ot===null?(_e.deletions=[st],_e.flags|=16):ot.push(st)}}function o(_e,st){if(!i)return null;for(;st!==null;)s(_e,st),st=st.sibling;return null}function a(_e,st){for(_e=new Map;st!==null;)st.key!==null?_e.set(st.key,st):_e.set(st.index,st),st=st.sibling;return _e}function _(_e,st){return _e=Pg(_e,st),_e.index=0,_e.sibling=null,_e}function j(_e,st,ot){return _e.index=ot,i?(ot=_e.alternate,ot!==null?(ot=ot.index,ot<st?(_e.flags|=2,st):ot):(_e.flags|=2,st)):(_e.flags|=1048576,st)}function rt(_e){return i&&_e.alternate===null&&(_e.flags|=2),_e}function tt(_e,st,ot,ut){return st===null||st.tag!==6?(st=Qg(ot,_e.mode,ut),st.return=_e,st):(st=_(st,ot),st.return=_e,st)}function it(_e,st,ot,ut){var et=ot.type;return et===ya?lt(_e,st,ot.props.children,ut,ot.key):st!==null&&(st.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===Ha&&Ng(et)===st.type)?(ut=_(st,ot.props),ut.ref=Lg(_e,st,ot),ut.return=_e,ut):(ut=Rg(ot.type,ot.key,ot.props,null,_e.mode,ut),ut.ref=Lg(_e,st,ot),ut.return=_e,ut)}function dt(_e,st,ot,ut){return st===null||st.tag!==4||st.stateNode.containerInfo!==ot.containerInfo||st.stateNode.implementation!==ot.implementation?(st=Sg(ot,_e.mode,ut),st.return=_e,st):(st=_(st,ot.children||[]),st.return=_e,st)}function lt(_e,st,ot,ut,et){return st===null||st.tag!==7?(st=Tg(ot,_e.mode,ut,et),st.return=_e,st):(st=_(st,ot),st.return=_e,st)}function gt(_e,st,ot){if(typeof st=="string"&&st!==""||typeof st=="number")return st=Qg(""+st,_e.mode,ot),st.return=_e,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case va:return ot=Rg(st.type,st.key,st.props,null,_e.mode,ot),ot.ref=Lg(_e,null,st),ot.return=_e,ot;case wa:return st=Sg(st,_e.mode,ot),st.return=_e,st;case Ha:var ut=st._init;return gt(_e,ut(st._payload),ot)}if(eb(st)||Ka(st))return st=Tg(st,_e.mode,ot,null),st.return=_e,st;Mg(_e,st)}return null}function vt(_e,st,ot,ut){var et=st!==null?st.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number")return et!==null?null:tt(_e,st,""+ot,ut);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:return ot.key===et?it(_e,st,ot,ut):null;case wa:return ot.key===et?dt(_e,st,ot,ut):null;case Ha:return et=ot._init,vt(_e,st,et(ot._payload),ut)}if(eb(ot)||Ka(ot))return et!==null?null:lt(_e,st,ot,ut,null);Mg(_e,ot)}return null}function ht(_e,st,ot,ut,et){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return _e=_e.get(ot)||null,tt(st,_e,""+ut,et);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return _e=_e.get(ut.key===null?ot:ut.key)||null,it(st,_e,ut,et);case wa:return _e=_e.get(ut.key===null?ot:ut.key)||null,dt(st,_e,ut,et);case Ha:var at=ut._init;return ht(_e,st,ot,at(ut._payload),et)}if(eb(ut)||Ka(ut))return _e=_e.get(ot)||null,lt(st,_e,ut,et,null);Mg(st,ut)}return null}function mt(_e,st,ot,ut){for(var et=null,at=null,pt=st,ct=st=0,yt=null;pt!==null&&ct<ot.length;ct++){pt.index>ct?(yt=pt,pt=null):yt=pt.sibling;var ft=vt(_e,pt,ot[ct],ut);if(ft===null){pt===null&&(pt=yt);break}i&&pt&&ft.alternate===null&&s(_e,pt),st=j(ft,st,ct),at===null?et=ft:at.sibling=ft,at=ft,pt=yt}if(ct===ot.length)return o(_e,pt),I&&tg(_e,ct),et;if(pt===null){for(;ct<ot.length;ct++)pt=gt(_e,ot[ct],ut),pt!==null&&(st=j(pt,st,ct),at===null?et=pt:at.sibling=pt,at=pt);return I&&tg(_e,ct),et}for(pt=a(_e,pt);ct<ot.length;ct++)yt=ht(pt,_e,ct,ot[ct],ut),yt!==null&&(i&&yt.alternate!==null&&pt.delete(yt.key===null?ct:yt.key),st=j(yt,st,ct),at===null?et=yt:at.sibling=yt,at=yt);return i&&pt.forEach(function(_t){return s(_e,_t)}),I&&tg(_e,ct),et}function nt(_e,st,ot,ut){var et=Ka(ot);if(typeof et!="function")throw Error(p$2(150));if(ot=et.call(ot),ot==null)throw Error(p$2(151));for(var at=et=null,pt=st,ct=st=0,yt=null,ft=ot.next();pt!==null&&!ft.done;ct++,ft=ot.next()){pt.index>ct?(yt=pt,pt=null):yt=pt.sibling;var _t=vt(_e,pt,ft.value,ut);if(_t===null){pt===null&&(pt=yt);break}i&&pt&&_t.alternate===null&&s(_e,pt),st=j(_t,st,ct),at===null?et=_t:at.sibling=_t,at=_t,pt=yt}if(ft.done)return o(_e,pt),I&&tg(_e,ct),et;if(pt===null){for(;!ft.done;ct++,ft=ot.next())ft=gt(_e,ft.value,ut),ft!==null&&(st=j(ft,st,ct),at===null?et=ft:at.sibling=ft,at=ft);return I&&tg(_e,ct),et}for(pt=a(_e,pt);!ft.done;ct++,ft=ot.next())ft=ht(pt,_e,ct,ft.value,ut),ft!==null&&(i&&ft.alternate!==null&&pt.delete(ft.key===null?ct:ft.key),st=j(ft,st,ct),at===null?et=ft:at.sibling=ft,at=ft);return i&&pt.forEach(function(wt){return s(_e,wt)}),I&&tg(_e,ct),et}function $(_e,st,ot,ut){if(typeof ot=="object"&&ot!==null&&ot.type===ya&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:e:{for(var et=ot.key,at=st;at!==null;){if(at.key===et){if(et=ot.type,et===ya){if(at.tag===7){o(_e,at.sibling),st=_(at,ot.props.children),st.return=_e,_e=st;break e}}else if(at.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===Ha&&Ng(et)===at.type){o(_e,at.sibling),st=_(at,ot.props),st.ref=Lg(_e,at,ot),st.return=_e,_e=st;break e}o(_e,at);break}else s(_e,at);at=at.sibling}ot.type===ya?(st=Tg(ot.props.children,_e.mode,ut,ot.key),st.return=_e,_e=st):(ut=Rg(ot.type,ot.key,ot.props,null,_e.mode,ut),ut.ref=Lg(_e,st,ot),ut.return=_e,_e=ut)}return rt(_e);case wa:e:{for(at=ot.key;st!==null;){if(st.key===at)if(st.tag===4&&st.stateNode.containerInfo===ot.containerInfo&&st.stateNode.implementation===ot.implementation){o(_e,st.sibling),st=_(st,ot.children||[]),st.return=_e,_e=st;break e}else{o(_e,st);break}else s(_e,st);st=st.sibling}st=Sg(ot,_e.mode,ut),st.return=_e,_e=st}return rt(_e);case Ha:return at=ot._init,$(_e,st,at(ot._payload),ut)}if(eb(ot))return mt(_e,st,ot,ut);if(Ka(ot))return nt(_e,st,ot,ut);Mg(_e,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"?(ot=""+ot,st!==null&&st.tag===6?(o(_e,st.sibling),st=_(st,ot),st.return=_e,_e=st):(o(_e,st),st=Qg(ot,_e.mode,ut),st.return=_e,_e=st),rt(_e)):o(_e,st)}return $}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var s=Wg.current;E(Wg),i._currentValue=s}function bh(i,s,o){for(;i!==null;){var a=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),i===o)break;i=i.return}}function ch(i,s){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(dh=!0),i.firstContext=null)}function eh(i){var s=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return s}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,s,o,a){var _=s.interleaved;return _===null?(o.next=o,gh(s)):(o.next=_.next,_.next=o),s.interleaved=o,ih(i,a)}function ih(i,s){i.lanes|=s;var o=i.alternate;for(o!==null&&(o.lanes|=s),o=i,i=i.return;i!==null;)i.childLanes|=s,o=i.alternate,o!==null&&(o.childLanes|=s),o=i,i=i.return;return o.tag===3?o.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(i,s,o){var a=i.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var _=a.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),a.pending=s,ih(i,o)}return _=a.interleaved,_===null?(s.next=s,gh(a)):(s.next=_.next,_.next=s),a.interleaved=s,ih(i,o)}function oh(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}function ph(i,s){var o=i.updateQueue,a=i.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var _=null,j=null;if(o=o.firstBaseUpdate,o!==null){do{var rt={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};j===null?_=j=rt:j=j.next=rt,o=o.next}while(o!==null);j===null?_=j=s:j=j.next=s}else _=j=s;o={baseState:a.baseState,firstBaseUpdate:_,lastBaseUpdate:j,shared:a.shared,effects:a.effects},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}function qh(i,s,o,a){var _=i.updateQueue;jh=!1;var j=_.firstBaseUpdate,rt=_.lastBaseUpdate,tt=_.shared.pending;if(tt!==null){_.shared.pending=null;var it=tt,dt=it.next;it.next=null,rt===null?j=dt:rt.next=dt,rt=it;var lt=i.alternate;lt!==null&&(lt=lt.updateQueue,tt=lt.lastBaseUpdate,tt!==rt&&(tt===null?lt.firstBaseUpdate=dt:tt.next=dt,lt.lastBaseUpdate=it))}if(j!==null){var gt=_.baseState;rt=0,lt=dt=it=null,tt=j;do{var vt=tt.lane,ht=tt.eventTime;if((a&vt)===vt){lt!==null&&(lt=lt.next={eventTime:ht,lane:0,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null});e:{var mt=i,nt=tt;switch(vt=s,ht=o,nt.tag){case 1:if(mt=nt.payload,typeof mt=="function"){gt=mt.call(ht,gt,vt);break e}gt=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=nt.payload,vt=typeof mt=="function"?mt.call(ht,gt,vt):mt,vt==null)break e;gt=A$1({},gt,vt);break e;case 2:jh=!0}}tt.callback!==null&&tt.lane!==0&&(i.flags|=64,vt=_.effects,vt===null?_.effects=[tt]:vt.push(tt))}else ht={eventTime:ht,lane:vt,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},lt===null?(dt=lt=ht,it=gt):lt=lt.next=ht,rt|=vt;if(tt=tt.next,tt===null){if(tt=_.shared.pending,tt===null)break;vt=tt,tt=vt.next,vt.next=null,_.lastBaseUpdate=vt,_.shared.pending=null}}while(!0);if(lt===null&&(it=gt),_.baseState=it,_.firstBaseUpdate=dt,_.lastBaseUpdate=lt,s=_.shared.interleaved,s!==null){_=s;do rt|=_.lane,_=_.next;while(_!==s)}else j===null&&(_.shared.lanes=0);rh|=rt,i.lanes=rt,i.memoizedState=gt}}function sh(i,s,o){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var a=i[s],_=a.callback;if(_!==null){if(a.callback=null,a=o,typeof _!="function")throw Error(p$2(191,_));_.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p$2(174));return i}function yh(i,s){switch(G(wh,s),G(vh,i),G(uh,th),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=lb(s,i)}E(uh),G(uh,s)}function zh(){E(uh),E(vh),E(wh)}function Ah(i){xh(wh.current);var s=xh(uh.current),o=lb(s,i.type);s!==o&&(G(vh,i),G(uh,o))}function Bh(i){vh.current===i&&(E(uh),E(vh))}var L=Uf(0);function Ch(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$2(321))}function Mh(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!He(i[o],s[o]))return!1;return!0}function Nh(i,s,o,a,_,j){if(Hh=j,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=o(a,_),Jh){j=0;do{if(Jh=!1,Kh=0,25<=j)throw Error(p$2(301));j+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,i=o(a,_)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p$2(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=i;else{if(i===null)throw Error(p$2(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,s){return typeof s=="function"?s(i):s}function Wh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p$2(311));o.lastRenderedReducer=i;var a=N,_=a.baseQueue,j=o.pending;if(j!==null){if(_!==null){var rt=_.next;_.next=j.next,j.next=rt}a.baseQueue=_=j,o.pending=null}if(_!==null){j=_.next,a=a.baseState;var tt=rt=null,it=null,dt=j;do{var lt=dt.lane;if((Hh&lt)===lt)it!==null&&(it=it.next={lane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),a=dt.hasEagerState?dt.eagerState:i(a,dt.action);else{var gt={lane:lt,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null};it===null?(tt=it=gt,rt=a):it=it.next=gt,M.lanes|=lt,rh|=lt}dt=dt.next}while(dt!==null&&dt!==j);it===null?rt=a:it.next=tt,He(a,s.memoizedState)||(dh=!0),s.memoizedState=a,s.baseState=rt,s.baseQueue=it,o.lastRenderedState=a}if(i=o.interleaved,i!==null){_=i;do j=_.lane,M.lanes|=j,rh|=j,_=_.next;while(_!==i)}else _===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Xh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p$2(311));o.lastRenderedReducer=i;var a=o.dispatch,_=o.pending,j=s.memoizedState;if(_!==null){o.pending=null;var rt=_=_.next;do j=i(j,rt.action),rt=rt.next;while(rt!==_);He(j,s.memoizedState)||(dh=!0),s.memoizedState=j,s.baseQueue===null&&(s.baseState=j),o.lastRenderedState=j}return[j,a]}function Yh(){}function Zh(i,s){var o=M,a=Uh(),_=s(),j=!He(a.memoizedState,_);if(j&&(a.memoizedState=_,dh=!0),a=a.queue,$h(ai.bind(null,o,a,i),[i]),a.getSnapshot!==s||j||O!==null&&O.memoizedState.tag&1){if(o.flags|=2048,bi(9,ci.bind(null,o,a,_,s),void 0,null),Q===null)throw Error(p$2(349));Hh&30||di(o,s,_)}return _}function di(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function ci(i,s,o,a){s.value=o,s.getSnapshot=a,ei(s)&&fi(i)}function ai(i,s,o){return o(function(){ei(s)&&fi(i)})}function ei(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!He(i,o)}catch{return!0}}function fi(i){var s=ih(i,1);s!==null&&gi(s,i,1,-1)}function hi(i){var s=Th();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},s.queue=i,i=i.dispatch=ii.bind(null,M,i),[s.memoizedState,i]}function bi(i,s,o,a){return i={tag:i,create:s,destroy:o,deps:a,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=i.next=i):(o=s.lastEffect,o===null?s.lastEffect=i.next=i:(a=o.next,o.next=i,i.next=a,s.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,s,o,a){var _=Th();M.flags|=i,_.memoizedState=bi(1|s,o,void 0,a===void 0?null:a)}function li(i,s,o,a){var _=Uh();a=a===void 0?null:a;var j=void 0;if(N!==null){var rt=N.memoizedState;if(j=rt.destroy,a!==null&&Mh(a,rt.deps)){_.memoizedState=bi(s,o,j,a);return}}M.flags|=i,_.memoizedState=bi(1|s,o,j,a)}function mi(i,s){return ki(8390656,8,i,s)}function $h(i,s){return li(2048,8,i,s)}function ni(i,s){return li(4,2,i,s)}function oi(i,s){return li(4,4,i,s)}function pi(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function qi(i,s,o){return o=o!=null?o.concat([i]):null,li(4,4,pi.bind(null,s,i),o)}function ri(){}function si(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(o.memoizedState=[i,s],i)}function ti(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(i=i(),o.memoizedState=[i,s],i)}function ui(i,s,o){return Hh&21?(He(o,s)||(o=yc(),M.lanes|=o,rh|=o,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=o)}function vi(i,s){var o=C;C=o!==0&&4>o?o:4,i(!0);var a=Gh.transition;Gh.transition={};try{i(!1),s()}finally{C=o,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(i,s,o){var a=yi(i);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(s,o);else if(o=hh(i,s,o,a),o!==null){var _=R();gi(o,i,a,_),Bi(o,s,a)}}function ii(i,s,o){var a=yi(i),_={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(s,_);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=s.lastRenderedReducer,j!==null))try{var rt=s.lastRenderedState,tt=j(rt,o);if(_.hasEagerState=!0,_.eagerState=tt,He(tt,rt)){var it=s.interleaved;it===null?(_.next=_,gh(s)):(_.next=it.next,it.next=_),s.interleaved=_;return}}catch{}finally{}o=hh(i,s,_,a),o!==null&&(_=R(),gi(o,i,a,_),Bi(o,s,a))}}function zi(i){var s=i.alternate;return i===M||s!==null&&s===M}function Ai(i,s){Jh=Ih=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Bi(i,s,o){if(o&4194240){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,s){return Th().memoizedState=[i,s===void 0?null:s],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,s,o){return o=o!=null?o.concat([i]):null,ki(4194308,4,pi.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ki(4194308,4,i,s)},useInsertionEffect:function(i,s){return ki(4,2,i,s)},useMemo:function(i,s){var o=Th();return s=s===void 0?null:s,i=i(),o.memoizedState=[i,s],i},useReducer:function(i,s,o){var a=Th();return s=o!==void 0?o(s):s,a.memoizedState=a.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},a.queue=i,i=i.dispatch=xi.bind(null,M,i),[a.memoizedState,i]},useRef:function(i){var s=Th();return i={current:i},s.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),s=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,o){var a=M,_=Th();if(I){if(o===void 0)throw Error(p$2(407));o=o()}else{if(o=s(),Q===null)throw Error(p$2(349));Hh&30||di(a,s,o)}_.memoizedState=o;var j={value:o,getSnapshot:s};return _.queue=j,mi(ai.bind(null,a,j,i),[i]),a.flags|=2048,bi(9,ci.bind(null,a,j,o,s),void 0,null),o},useId:function(){var i=Th(),s=Q.identifierPrefix;if(I){var o=sg,a=rg;o=(a&~(1<<32-oc(a)-1)).toString(32)+o,s=":"+s+"R"+o,o=Kh++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Lh++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return ui(s,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return N===null?s.memoizedState=i:ui(s,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,s){if(i&&i.defaultProps){s=A$1({},s),i=i.defaultProps;for(var o in i)s[o]===void 0&&(s[o]=i[o]);return s}return s}function Di(i,s,o,a){s=i.memoizedState,o=o(a,s),o=o==null?s:A$1({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var a=R(),_=yi(i),j=mh(a,_);j.payload=s,o!=null&&(j.callback=o),s=nh(i,j,_),s!==null&&(gi(s,i,_,a),oh(s,i,_))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var a=R(),_=yi(i),j=mh(a,_);j.tag=1,j.payload=s,o!=null&&(j.callback=o),s=nh(i,j,_),s!==null&&(gi(s,i,_,a),oh(s,i,_))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=R(),a=yi(i),_=mh(o,a);_.tag=2,s!=null&&(_.callback=s),s=nh(i,_,a),s!==null&&(gi(s,i,a,o),oh(s,i,a))}};function Fi(i,s,o,a,_,j,rt){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(a,j,rt):s.prototype&&s.prototype.isPureReactComponent?!Ie(o,a)||!Ie(_,j):!0}function Gi(i,s,o){var a=!1,_=Vf,j=s.contextType;return typeof j=="object"&&j!==null?j=eh(j):(_=Zf(s)?Xf:H.current,a=s.contextTypes,j=(a=a!=null)?Yf(i,_):Vf),s=new s(o,j),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,i.stateNode=s,s._reactInternals=i,a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=_,i.__reactInternalMemoizedMaskedChildContext=j),s}function Hi(i,s,o,a){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,a),s.state!==i&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(i,s,o,a){var _=i.stateNode;_.props=o,_.state=i.memoizedState,_.refs={},kh(i);var j=s.contextType;typeof j=="object"&&j!==null?_.context=eh(j):(j=Zf(s)?Xf:H.current,_.context=Yf(i,j)),_.state=i.memoizedState,j=s.getDerivedStateFromProps,typeof j=="function"&&(Di(i,s,j,o),_.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(s=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),s!==_.state&&Ei.enqueueReplaceState(_,_.state,null),qh(i,o,_,a),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,s){try{var o="",a=s;do o+=Pa(a),a=a.return;while(a);var _=o}catch(j){_=`
Error generating stack: `+j.message+`
`+j.stack}return{value:i,source:s,stack:_,digest:null}}function Ki(i,s,o){return{value:i,source:null,stack:o??null,digest:s??null}}function Li(i,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,s,o){o=mh(-1,o),o.tag=3,o.payload={element:null};var a=s.value;return o.callback=function(){Oi||(Oi=!0,Pi=a),Li(i,s)},o}function Qi(i,s,o){o=mh(-1,o),o.tag=3;var a=i.type.getDerivedStateFromError;if(typeof a=="function"){var _=s.value;o.payload=function(){return a(_)},o.callback=function(){Li(i,s)}}var j=i.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(o.callback=function(){Li(i,s),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var rt=s.stack;this.componentDidCatch(s.value,{componentStack:rt!==null?rt:""})}),o}function Si(i,s,o){var a=i.pingCache;if(a===null){a=i.pingCache=new Mi;var _=new Set;a.set(s,_)}else _=a.get(s),_===void 0&&(_=new Set,a.set(s,_));_.has(o)||(_.add(o),i=Ti.bind(null,i,s,o),s.then(i,i))}function Ui(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Vi(i,s,o,a,_){return i.mode&1?(i.flags|=65536,i.lanes=_,i):(i===s?i.flags|=65536:(i.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=mh(-1,1),s.tag=2,nh(o,s,1))),o.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,s,o,a){s.child=i===null?Vg(s,null,o,a):Ug(s,i.child,o,a)}function Yi(i,s,o,a,_){o=o.render;var j=s.ref;return ch(s,_),a=Nh(i,s,o,a,j,_),o=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,Zi(i,s,_)):(I&&o&&vg(s),s.flags|=1,Xi(i,s,a,_),s.child)}function $i(i,s,o,a,_){if(i===null){var j=o.type;return typeof j=="function"&&!aj(j)&&j.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=j,bj(i,s,j,a,_)):(i=Rg(o.type,null,a,s,s.mode,_),i.ref=s.ref,i.return=s,s.child=i)}if(j=i.child,!(i.lanes&_)){var rt=j.memoizedProps;if(o=o.compare,o=o!==null?o:Ie,o(rt,a)&&i.ref===s.ref)return Zi(i,s,_)}return s.flags|=1,i=Pg(j,a),i.ref=s.ref,i.return=s,s.child=i}function bj(i,s,o,a,_){if(i!==null){var j=i.memoizedProps;if(Ie(j,a)&&i.ref===s.ref)if(dh=!1,s.pendingProps=a=j,(i.lanes&_)!==0)i.flags&131072&&(dh=!0);else return s.lanes=i.lanes,Zi(i,s,_)}return cj(i,s,o,a,_)}function dj(i,s,o){var a=s.pendingProps,_=a.children,j=i!==null?i.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=o;else{if(!(o&1073741824))return i=j!==null?j.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=j!==null?j.baseLanes:o,G(ej,fj),fj|=a}else j!==null?(a=j.baseLanes|o,s.memoizedState=null):a=o,G(ej,fj),fj|=a;return Xi(i,s,_,o),s.child}function gj(i,s){var o=s.ref;(i===null&&o!==null||i!==null&&i.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function cj(i,s,o,a,_){var j=Zf(o)?Xf:H.current;return j=Yf(s,j),ch(s,_),o=Nh(i,s,o,a,j,_),a=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~_,Zi(i,s,_)):(I&&a&&vg(s),s.flags|=1,Xi(i,s,o,_),s.child)}function hj(i,s,o,a,_){if(Zf(o)){var j=!0;cg(s)}else j=!1;if(ch(s,_),s.stateNode===null)ij(i,s),Gi(s,o,a),Ii(s,o,a,_),a=!0;else if(i===null){var rt=s.stateNode,tt=s.memoizedProps;rt.props=tt;var it=rt.context,dt=o.contextType;typeof dt=="object"&&dt!==null?dt=eh(dt):(dt=Zf(o)?Xf:H.current,dt=Yf(s,dt));var lt=o.getDerivedStateFromProps,gt=typeof lt=="function"||typeof rt.getSnapshotBeforeUpdate=="function";gt||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(tt!==a||it!==dt)&&Hi(s,rt,a,dt),jh=!1;var vt=s.memoizedState;rt.state=vt,qh(s,a,rt,_),it=s.memoizedState,tt!==a||vt!==it||Wf.current||jh?(typeof lt=="function"&&(Di(s,o,lt,a),it=s.memoizedState),(tt=jh||Fi(s,o,tt,a,vt,it,dt))?(gt||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&(s.flags|=4194308)):(typeof rt.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=it),rt.props=a,rt.state=it,rt.context=dt,a=tt):(typeof rt.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{rt=s.stateNode,lh(i,s),tt=s.memoizedProps,dt=s.type===s.elementType?tt:Ci(s.type,tt),rt.props=dt,gt=s.pendingProps,vt=rt.context,it=o.contextType,typeof it=="object"&&it!==null?it=eh(it):(it=Zf(o)?Xf:H.current,it=Yf(s,it));var ht=o.getDerivedStateFromProps;(lt=typeof ht=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(tt!==gt||vt!==it)&&Hi(s,rt,a,it),jh=!1,vt=s.memoizedState,rt.state=vt,qh(s,a,rt,_);var mt=s.memoizedState;tt!==gt||vt!==mt||Wf.current||jh?(typeof ht=="function"&&(Di(s,o,ht,a),mt=s.memoizedState),(dt=jh||Fi(s,o,dt,a,vt,mt,it)||!1)?(lt||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(a,mt,it),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(a,mt,it)),typeof rt.componentDidUpdate=="function"&&(s.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof rt.componentDidUpdate!="function"||tt===i.memoizedProps&&vt===i.memoizedState||(s.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||tt===i.memoizedProps&&vt===i.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=mt),rt.props=a,rt.state=mt,rt.context=it,a=dt):(typeof rt.componentDidUpdate!="function"||tt===i.memoizedProps&&vt===i.memoizedState||(s.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||tt===i.memoizedProps&&vt===i.memoizedState||(s.flags|=1024),a=!1)}return jj(i,s,o,a,j,_)}function jj(i,s,o,a,_,j){gj(i,s);var rt=(s.flags&128)!==0;if(!a&&!rt)return _&&dg(s,o,!1),Zi(i,s,j);a=s.stateNode,Wi.current=s;var tt=rt&&typeof o.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,i!==null&&rt?(s.child=Ug(s,i.child,null,j),s.child=Ug(s,null,tt,j)):Xi(i,s,tt,j),s.memoizedState=a.state,_&&dg(s,o,!0),s.child}function kj(i){var s=i.stateNode;s.pendingContext?ag(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(i,s.context,!1),yh(i,s.containerInfo)}function lj(i,s,o,a,_){return Ig(),Jg(_),s.flags|=256,Xi(i,s,o,a),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,s,o){var a=s.pendingProps,_=L.current,j=!1,rt=(s.flags&128)!==0,tt;if((tt=rt)||(tt=i!==null&&i.memoizedState===null?!1:(_&2)!==0),tt?(j=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(_|=1),G(L,_&1),i===null)return Eg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(rt=a.children,i=a.fallback,j?(a=s.mode,j=s.child,rt={mode:"hidden",children:rt},!(a&1)&&j!==null?(j.childLanes=0,j.pendingProps=rt):j=pj(rt,a,0,null),i=Tg(i,a,o,null),j.return=s,i.return=s,j.sibling=i,s.child=j,s.child.memoizedState=nj(o),s.memoizedState=mj,i):qj(s,rt));if(_=i.memoizedState,_!==null&&(tt=_.dehydrated,tt!==null))return rj(i,s,rt,a,tt,_,o);if(j){j=a.fallback,rt=s.mode,_=i.child,tt=_.sibling;var it={mode:"hidden",children:a.children};return!(rt&1)&&s.child!==_?(a=s.child,a.childLanes=0,a.pendingProps=it,s.deletions=null):(a=Pg(_,it),a.subtreeFlags=_.subtreeFlags&14680064),tt!==null?j=Pg(tt,j):(j=Tg(j,rt,o,null),j.flags|=2),j.return=s,a.return=s,a.sibling=j,s.child=a,a=j,j=s.child,rt=i.child.memoizedState,rt=rt===null?nj(o):{baseLanes:rt.baseLanes|o,cachePool:null,transitions:rt.transitions},j.memoizedState=rt,j.childLanes=i.childLanes&~o,s.memoizedState=mj,a}return j=i.child,i=j.sibling,a=Pg(j,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=o),a.return=s,a.sibling=null,i!==null&&(o=s.deletions,o===null?(s.deletions=[i],s.flags|=16):o.push(i)),s.child=a,s.memoizedState=null,a}function qj(i,s){return s=pj({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function sj(i,s,o,a){return a!==null&&Jg(a),Ug(s,i.child,null,o),i=qj(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function rj(i,s,o,a,_,j,rt){if(o)return s.flags&256?(s.flags&=-257,a=Ki(Error(p$2(422))),sj(i,s,rt,a)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(j=a.fallback,_=s.mode,a=pj({mode:"visible",children:a.children},_,0,null),j=Tg(j,_,rt,null),j.flags|=2,a.return=s,j.return=s,a.sibling=j,s.child=a,s.mode&1&&Ug(s,i.child,null,rt),s.child.memoizedState=nj(rt),s.memoizedState=mj,j);if(!(s.mode&1))return sj(i,s,rt,null);if(_.data==="$!"){if(a=_.nextSibling&&_.nextSibling.dataset,a)var tt=a.dgst;return a=tt,j=Error(p$2(419)),a=Ki(j,a,void 0),sj(i,s,rt,a)}if(tt=(rt&i.childLanes)!==0,dh||tt){if(a=Q,a!==null){switch(rt&-rt){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(a.suspendedLanes|rt)?0:_,_!==0&&_!==j.retryLane&&(j.retryLane=_,ih(i,_),gi(a,i,_,-1))}return tj(),a=Ki(Error(p$2(421))),sj(i,s,rt,a)}return _.data==="$?"?(s.flags|=128,s.child=i.child,s=uj.bind(null,i),_._reactRetry=s,null):(i=j.treeContext,yg=Lf(_.nextSibling),xg=s,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=s),s=qj(s,a.children),s.flags|=4096,s)}function vj(i,s,o){i.lanes|=s;var a=i.alternate;a!==null&&(a.lanes|=s),bh(i.return,s,o)}function wj(i,s,o,a,_){var j=i.memoizedState;j===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:_}:(j.isBackwards=s,j.rendering=null,j.renderingStartTime=0,j.last=a,j.tail=o,j.tailMode=_)}function xj(i,s,o){var a=s.pendingProps,_=a.revealOrder,j=a.tail;if(Xi(i,s,a.children,o),a=L.current,a&2)a=a&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,o,s);else if(i.tag===19)vj(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}a&=1}if(G(L,a),!(s.mode&1))s.memoizedState=null;else switch(_){case"forwards":for(o=s.child,_=null;o!==null;)i=o.alternate,i!==null&&Ch(i)===null&&(_=o),o=o.sibling;o=_,o===null?(_=s.child,s.child=null):(_=o.sibling,o.sibling=null),wj(s,!1,_,o,j);break;case"backwards":for(o=null,_=s.child,s.child=null;_!==null;){if(i=_.alternate,i!==null&&Ch(i)===null){s.child=_;break}i=_.sibling,_.sibling=o,o=_,_=i}wj(s,!0,o,null,j);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Zi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),rh|=s.lanes,!(o&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(p$2(153));if(s.child!==null){for(i=s.child,o=Pg(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Pg(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function yj(i,s,o){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,_=s.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=_;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):o&s.child.childLanes?oj(i,s,o):(G(L,L.current&1),i=Zi(i,s,o),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(a=(o&s.childLanes)!==0,i.flags&128){if(a)return xj(i,s,o);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return s.lanes=0,dj(i,s,o)}return Zi(i,s,o)}var zj,Aj,Bj,Cj;zj=function(i,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Aj=function(){};Bj=function(i,s,o,a){var _=i.memoizedProps;if(_!==a){i=s.stateNode,xh(uh.current);var j=null;switch(o){case"input":_=Ya(i,_),a=Ya(i,a),j=[];break;case"select":_=A$1({},_,{value:void 0}),a=A$1({},a,{value:void 0}),j=[];break;case"textarea":_=gb(i,_),a=gb(i,a),j=[];break;default:typeof _.onClick!="function"&&typeof a.onClick=="function"&&(i.onclick=Bf)}ub(o,a);var rt;o=null;for(dt in _)if(!a.hasOwnProperty(dt)&&_.hasOwnProperty(dt)&&_[dt]!=null)if(dt==="style"){var tt=_[dt];for(rt in tt)tt.hasOwnProperty(rt)&&(o||(o={}),o[rt]="")}else dt!=="dangerouslySetInnerHTML"&&dt!=="children"&&dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&dt!=="autoFocus"&&(ea.hasOwnProperty(dt)?j||(j=[]):(j=j||[]).push(dt,null));for(dt in a){var it=a[dt];if(tt=_!=null?_[dt]:void 0,a.hasOwnProperty(dt)&&it!==tt&&(it!=null||tt!=null))if(dt==="style")if(tt){for(rt in tt)!tt.hasOwnProperty(rt)||it&&it.hasOwnProperty(rt)||(o||(o={}),o[rt]="");for(rt in it)it.hasOwnProperty(rt)&&tt[rt]!==it[rt]&&(o||(o={}),o[rt]=it[rt])}else o||(j||(j=[]),j.push(dt,o)),o=it;else dt==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,tt=tt?tt.__html:void 0,it!=null&&tt!==it&&(j=j||[]).push(dt,it)):dt==="children"?typeof it!="string"&&typeof it!="number"||(j=j||[]).push(dt,""+it):dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(dt)?(it!=null&&dt==="onScroll"&&D("scroll",i),j||tt===it||(j=[])):(j=j||[]).push(dt,it))}o&&(j=j||[]).push("style",o);var dt=j;(s.updateQueue=dt)&&(s.flags|=4)}};Cj=function(i,s,o,a){o!==a&&(s.flags|=4)};function Dj(i,s){if(!I)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:a.sibling=null}}function S(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,a=0;if(s)for(var _=i.child;_!==null;)o|=_.lanes|_.childLanes,a|=_.subtreeFlags&14680064,a|=_.flags&14680064,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)o|=_.lanes|_.childLanes,a|=_.subtreeFlags,a|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=a,i.childLanes=o,s}function Ej(i,s,o){var a=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return a=s.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Gg(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,s),S(s),null;case 5:Bh(s);var _=xh(wh.current);if(o=s.type,i!==null&&s.stateNode!=null)Bj(i,s,o,a,_),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(p$2(166));return S(s),null}if(i=xh(uh.current),Gg(s)){a=s.stateNode,o=s.type;var j=s.memoizedProps;switch(a[Of]=s,a[Pf]=j,i=(s.mode&1)!==0,o){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(_=0;_<lf.length;_++)D(lf[_],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,j),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!j.multiple},D("invalid",a);break;case"textarea":hb(a,j),D("invalid",a)}ub(o,j),_=null;for(var rt in j)if(j.hasOwnProperty(rt)){var tt=j[rt];rt==="children"?typeof tt=="string"?a.textContent!==tt&&(j.suppressHydrationWarning!==!0&&Af(a.textContent,tt,i),_=["children",tt]):typeof tt=="number"&&a.textContent!==""+tt&&(j.suppressHydrationWarning!==!0&&Af(a.textContent,tt,i),_=["children",""+tt]):ea.hasOwnProperty(rt)&&tt!=null&&rt==="onScroll"&&D("scroll",a)}switch(o){case"input":Va(a),db(a,j,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(a.onclick=Bf)}a=_,s.updateQueue=a,a!==null&&(s.flags|=4)}else{rt=_.nodeType===9?_:_.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(o)),i==="http://www.w3.org/1999/xhtml"?o==="script"?(i=rt.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof a.is=="string"?i=rt.createElement(o,{is:a.is}):(i=rt.createElement(o),o==="select"&&(rt=i,a.multiple?rt.multiple=!0:a.size&&(rt.size=a.size))):i=rt.createElementNS(i,o),i[Of]=s,i[Pf]=a,zj(i,s,!1,!1),s.stateNode=i;e:{switch(rt=vb(o,a),o){case"dialog":D("cancel",i),D("close",i),_=a;break;case"iframe":case"object":case"embed":D("load",i),_=a;break;case"video":case"audio":for(_=0;_<lf.length;_++)D(lf[_],i);_=a;break;case"source":D("error",i),_=a;break;case"img":case"image":case"link":D("error",i),D("load",i),_=a;break;case"details":D("toggle",i),_=a;break;case"input":Za(i,a),_=Ya(i,a),D("invalid",i);break;case"option":_=a;break;case"select":i._wrapperState={wasMultiple:!!a.multiple},_=A$1({},a,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,a),_=gb(i,a),D("invalid",i);break;default:_=a}ub(o,_),tt=_;for(j in tt)if(tt.hasOwnProperty(j)){var it=tt[j];j==="style"?sb(i,it):j==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,it!=null&&nb(i,it)):j==="children"?typeof it=="string"?(o!=="textarea"||it!=="")&&ob(i,it):typeof it=="number"&&ob(i,""+it):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(ea.hasOwnProperty(j)?it!=null&&j==="onScroll"&&D("scroll",i):it!=null&&ta(i,j,it,rt))}switch(o){case"input":Va(i),db(i,a,!1);break;case"textarea":Va(i),jb(i);break;case"option":a.value!=null&&i.setAttribute("value",""+Sa(a.value));break;case"select":i.multiple=!!a.multiple,j=a.value,j!=null?fb(i,!!a.multiple,j,!1):a.defaultValue!=null&&fb(i,!!a.multiple,a.defaultValue,!0);break;default:typeof _.onClick=="function"&&(i.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(i&&s.stateNode!=null)Cj(i,s,i.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(p$2(166));if(o=xh(wh.current),xh(uh.current),Gg(s)){if(a=s.stateNode,o=s.memoizedProps,a[Of]=s,(j=a.nodeValue!==o)&&(i=xg,i!==null))switch(i.tag){case 3:Af(a.nodeValue,o,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,o,(i.mode&1)!==0)}j&&(s.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Of]=s,s.stateNode=a}return S(s),null;case 13:if(E(L),a=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,j=!1;else if(j=Gg(s),a!==null&&a.dehydrated!==null){if(i===null){if(!j)throw Error(p$2(318));if(j=s.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(p$2(317));j[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),j=!1}else zg!==null&&(Fj(zg),zg=null),j=!0;if(!j)return s.flags&65536?s:null}return s.flags&128?(s.lanes=o,s):(a=a!==null,a!==(i!==null&&i.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(i,s),i===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),j=s.memoizedState,j===null)return S(s),null;if(a=(s.flags&128)!==0,rt=j.rendering,rt===null)if(a)Dj(j,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(rt=Ch(i),rt!==null){for(s.flags|=128,Dj(j,!1),a=rt.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=o,o=s.child;o!==null;)j=o,i=a,j.flags&=14680066,rt=j.alternate,rt===null?(j.childLanes=0,j.lanes=i,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=rt.childLanes,j.lanes=rt.lanes,j.child=rt.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=rt.memoizedProps,j.memoizedState=rt.memoizedState,j.updateQueue=rt.updateQueue,j.type=rt.type,i=rt.dependencies,j.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o=o.sibling;return G(L,L.current&1|2),s.child}i=i.sibling}j.tail!==null&&B()>Gj&&(s.flags|=128,a=!0,Dj(j,!1),s.lanes=4194304)}else{if(!a)if(i=Ch(rt),i!==null){if(s.flags|=128,a=!0,o=i.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Dj(j,!0),j.tail===null&&j.tailMode==="hidden"&&!rt.alternate&&!I)return S(s),null}else 2*B()-j.renderingStartTime>Gj&&o!==1073741824&&(s.flags|=128,a=!0,Dj(j,!1),s.lanes=4194304);j.isBackwards?(rt.sibling=s.child,s.child=rt):(o=j.last,o!==null?o.sibling=rt:s.child=rt,j.last=rt)}return j.tail!==null?(s=j.tail,j.rendering=s,j.tail=s.sibling,j.renderingStartTime=B(),s.sibling=null,o=L.current,G(L,a?o&1|2:o&1),s):(S(s),null);case 22:case 23:return Hj(),a=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p$2(156,s.tag))}function Ij(i,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(p$2(340));Ig()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,s){var o=i.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){W(i,s,a)}else o.current=null}function Mj(i,s,o){try{o()}catch(a){W(i,s,a)}}var Nj=!1;function Oj(i,s){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var _=a.anchorOffset,j=a.focusNode;a=a.focusOffset;try{o.nodeType,j.nodeType}catch{o=null;break e}var rt=0,tt=-1,it=-1,dt=0,lt=0,gt=i,vt=null;t:for(;;){for(var ht;gt!==o||_!==0&&gt.nodeType!==3||(tt=rt+_),gt!==j||a!==0&&gt.nodeType!==3||(it=rt+a),gt.nodeType===3&&(rt+=gt.nodeValue.length),(ht=gt.firstChild)!==null;)vt=gt,gt=ht;for(;;){if(gt===i)break t;if(vt===o&&++dt===_&&(tt=rt),vt===j&&++lt===a&&(it=rt),(ht=gt.nextSibling)!==null)break;gt=vt,vt=gt.parentNode}gt=ht}o=tt===-1||it===-1?null:{start:tt,end:it}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:i,selectionRange:o},dd=!1,V=s;V!==null;)if(s=V,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,V=i;else for(;V!==null;){s=V;try{var mt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(mt!==null){var nt=mt.memoizedProps,$=mt.memoizedState,_e=s.stateNode,st=_e.getSnapshotBeforeUpdate(s.elementType===s.type?nt:Ci(s.type,nt),$);_e.__reactInternalSnapshotBeforeUpdate=st}break;case 3:var ot=s.stateNode.containerInfo;ot.nodeType===1?ot.textContent="":ot.nodeType===9&&ot.documentElement&&ot.removeChild(ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(ut){W(s,s.return,ut)}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}return mt=Nj,Nj=!1,mt}function Pj(i,s,o){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var _=a=a.next;do{if((_.tag&i)===i){var j=_.destroy;_.destroy=void 0,j!==void 0&&Mj(s,o,j)}_=_.next}while(_!==a)}}function Qj(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&i)===i){var a=o.create;o.destroy=a()}o=o.next}while(o!==s)}}function Rj(i){var s=i.ref;if(s!==null){var o=i.stateNode;switch(i.tag){case 5:i=o;break;default:i=o}typeof s=="function"?s(i):s.current=i}}function Sj(i){var s=i.alternate;s!==null&&(i.alternate=null,Sj(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Bf));else if(a!==4&&(i=i.child,i!==null))for(Vj(i,s,o),i=i.sibling;i!==null;)Vj(i,s,o),i=i.sibling}function Wj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(a!==4&&(i=i.child,i!==null))for(Wj(i,s,o),i=i.sibling;i!==null;)Wj(i,s,o),i=i.sibling}var X=null,Xj=!1;function Yj(i,s,o){for(o=o.child;o!==null;)Zj(i,s,o),o=o.sibling}function Zj(i,s,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U||Lj(o,s);case 6:var a=X,_=Xj;X=null,Yj(i,s,o),X=a,Xj=_,X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?i.parentNode.removeChild(o):i.removeChild(o)):X.removeChild(o.stateNode));break;case 18:X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?Kf(i.parentNode,o):i.nodeType===1&&Kf(i,o),bd(i)):Kf(X,o.stateNode));break;case 4:a=X,_=Xj,X=o.stateNode.containerInfo,Xj=!0,Yj(i,s,o),X=a,Xj=_;break;case 0:case 11:case 14:case 15:if(!U&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){_=a=a.next;do{var j=_,rt=j.destroy;j=j.tag,rt!==void 0&&(j&2||j&4)&&Mj(o,s,rt),_=_.next}while(_!==a)}Yj(i,s,o);break;case 1:if(!U&&(Lj(o,s),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(tt){W(o,s,tt)}Yj(i,s,o);break;case 21:Yj(i,s,o);break;case 22:o.mode&1?(U=(a=U)||o.memoizedState!==null,Yj(i,s,o),U=a):Yj(i,s,o);break;default:Yj(i,s,o)}}function ak(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var o=i.stateNode;o===null&&(o=i.stateNode=new Kj),s.forEach(function(a){var _=bk.bind(null,i,a);o.has(a)||(o.add(a),a.then(_,_))})}}function ck(i,s){var o=s.deletions;if(o!==null)for(var a=0;a<o.length;a++){var _=o[a];try{var j=i,rt=s,tt=rt;e:for(;tt!==null;){switch(tt.tag){case 5:X=tt.stateNode,Xj=!1;break e;case 3:X=tt.stateNode.containerInfo,Xj=!0;break e;case 4:X=tt.stateNode.containerInfo,Xj=!0;break e}tt=tt.return}if(X===null)throw Error(p$2(160));Zj(j,rt,_),X=null,Xj=!1;var it=_.alternate;it!==null&&(it.return=null),_.return=null}catch(dt){W(_,s,dt)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,i),s=s.sibling}function dk(i,s){var o=i.alternate,a=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(s,i),ek(i),a&4){try{Pj(3,i,i.return),Qj(3,i)}catch(nt){W(i,i.return,nt)}try{Pj(5,i,i.return)}catch(nt){W(i,i.return,nt)}}break;case 1:ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return);break;case 5:if(ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return),i.flags&32){var _=i.stateNode;try{ob(_,"")}catch(nt){W(i,i.return,nt)}}if(a&4&&(_=i.stateNode,_!=null)){var j=i.memoizedProps,rt=o!==null?o.memoizedProps:j,tt=i.type,it=i.updateQueue;if(i.updateQueue=null,it!==null)try{tt==="input"&&j.type==="radio"&&j.name!=null&&ab(_,j),vb(tt,rt);var dt=vb(tt,j);for(rt=0;rt<it.length;rt+=2){var lt=it[rt],gt=it[rt+1];lt==="style"?sb(_,gt):lt==="dangerouslySetInnerHTML"?nb(_,gt):lt==="children"?ob(_,gt):ta(_,lt,gt,dt)}switch(tt){case"input":bb(_,j);break;case"textarea":ib(_,j);break;case"select":var vt=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!j.multiple;var ht=j.value;ht!=null?fb(_,!!j.multiple,ht,!1):vt!==!!j.multiple&&(j.defaultValue!=null?fb(_,!!j.multiple,j.defaultValue,!0):fb(_,!!j.multiple,j.multiple?[]:"",!1))}_[Pf]=j}catch(nt){W(i,i.return,nt)}}break;case 6:if(ck(s,i),ek(i),a&4){if(i.stateNode===null)throw Error(p$2(162));_=i.stateNode,j=i.memoizedProps;try{_.nodeValue=j}catch(nt){W(i,i.return,nt)}}break;case 3:if(ck(s,i),ek(i),a&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(nt){W(i,i.return,nt)}break;case 4:ck(s,i),ek(i);break;case 13:ck(s,i),ek(i),_=i.child,_.flags&8192&&(j=_.memoizedState!==null,_.stateNode.isHidden=j,!j||_.alternate!==null&&_.alternate.memoizedState!==null||(fk=B())),a&4&&ak(i);break;case 22:if(lt=o!==null&&o.memoizedState!==null,i.mode&1?(U=(dt=U)||lt,ck(s,i),U=dt):ck(s,i),ek(i),a&8192){if(dt=i.memoizedState!==null,(i.stateNode.isHidden=dt)&&!lt&&i.mode&1)for(V=i,lt=i.child;lt!==null;){for(gt=V=lt;V!==null;){switch(vt=V,ht=vt.child,vt.tag){case 0:case 11:case 14:case 15:Pj(4,vt,vt.return);break;case 1:Lj(vt,vt.return);var mt=vt.stateNode;if(typeof mt.componentWillUnmount=="function"){a=vt,o=vt.return;try{s=a,mt.props=s.memoizedProps,mt.state=s.memoizedState,mt.componentWillUnmount()}catch(nt){W(a,o,nt)}}break;case 5:Lj(vt,vt.return);break;case 22:if(vt.memoizedState!==null){gk(gt);continue}}ht!==null?(ht.return=vt,V=ht):gk(gt)}lt=lt.sibling}e:for(lt=null,gt=i;;){if(gt.tag===5){if(lt===null){lt=gt;try{_=gt.stateNode,dt?(j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(tt=gt.stateNode,it=gt.memoizedProps.style,rt=it!=null&&it.hasOwnProperty("display")?it.display:null,tt.style.display=rb("display",rt))}catch(nt){W(i,i.return,nt)}}}else if(gt.tag===6){if(lt===null)try{gt.stateNode.nodeValue=dt?"":gt.memoizedProps}catch(nt){W(i,i.return,nt)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===i)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===i)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===i)break e;lt===gt&&(lt=null),gt=gt.return}lt===gt&&(lt=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:ck(s,i),ek(i),a&4&&ak(i);break;case 21:break;default:ck(s,i),ek(i)}}function ek(i){var s=i.flags;if(s&2){try{e:{for(var o=i.return;o!==null;){if(Tj(o)){var a=o;break e}o=o.return}throw Error(p$2(160))}switch(a.tag){case 5:var _=a.stateNode;a.flags&32&&(ob(_,""),a.flags&=-33);var j=Uj(i);Wj(i,j,_);break;case 3:case 4:var rt=a.stateNode.containerInfo,tt=Uj(i);Vj(i,tt,rt);break;default:throw Error(p$2(161))}}catch(it){W(i,i.return,it)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function hk(i,s,o){V=i,ik(i)}function ik(i,s,o){for(var a=(i.mode&1)!==0;V!==null;){var _=V,j=_.child;if(_.tag===22&&a){var rt=_.memoizedState!==null||Jj;if(!rt){var tt=_.alternate,it=tt!==null&&tt.memoizedState!==null||U;tt=Jj;var dt=U;if(Jj=rt,(U=it)&&!dt)for(V=_;V!==null;)rt=V,it=rt.child,rt.tag===22&&rt.memoizedState!==null?jk(_):it!==null?(it.return=rt,V=it):jk(_);for(;j!==null;)V=j,ik(j),j=j.sibling;V=_,Jj=tt,U=dt}kk(i)}else _.subtreeFlags&8772&&j!==null?(j.return=_,V=j):kk(i)}}function kk(i){for(;V!==null;){var s=V;if(s.flags&8772){var o=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!U)if(o===null)a.componentDidMount();else{var _=s.elementType===s.type?o.memoizedProps:Ci(s.type,o.memoizedProps);a.componentDidUpdate(_,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var j=s.updateQueue;j!==null&&sh(s,j,a);break;case 3:var rt=s.updateQueue;if(rt!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}sh(s,rt,o)}break;case 5:var tt=s.stateNode;if(o===null&&s.flags&4){o=tt;var it=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":it.autoFocus&&o.focus();break;case"img":it.src&&(o.src=it.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var dt=s.alternate;if(dt!==null){var lt=dt.memoizedState;if(lt!==null){var gt=lt.dehydrated;gt!==null&&bd(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||s.flags&512&&Rj(s)}catch(vt){W(s,s.return,vt)}}if(s===i){V=null;break}if(o=s.sibling,o!==null){o.return=s.return,V=o;break}V=s.return}}function gk(i){for(;V!==null;){var s=V;if(s===i){V=null;break}var o=s.sibling;if(o!==null){o.return=s.return,V=o;break}V=s.return}}function jk(i){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Qj(4,s)}catch(it){W(s,o,it)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var _=s.return;try{a.componentDidMount()}catch(it){W(s,_,it)}}var j=s.return;try{Rj(s)}catch(it){W(s,j,it)}break;case 5:var rt=s.return;try{Rj(s)}catch(it){W(s,rt,it)}}}catch(it){W(s,s.return,it)}if(s===i){V=null;break}var tt=s.sibling;if(tt!==null){tt.return=s.return,V=tt;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,s,o,a){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(i,o,a),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=o),T===4&&Ck(i,Z)),Dk(i,a),o===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,s){var o=i.callbackNode;wc(i,s);var a=uc(i,i===Q?Z:0);if(a===0)o!==null&&bc(o),i.callbackNode=null,i.callbackPriority=0;else if(s=a&-a,i.callbackPriority!==s){if(o!=null&&bc(o),s===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),o=null;else{switch(Dc(a)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Fk(o,Gk.bind(null,i))}i.callbackPriority=s,i.callbackNode=o}}function Gk(i,s){if(Ak=-1,Bk=0,K&6)throw Error(p$2(327));var o=i.callbackNode;if(Hk()&&i.callbackNode!==o)return null;var a=uc(i,i===Q?Z:0);if(a===0)return null;if(a&30||a&i.expiredLanes||s)s=Ik(i,a);else{s=a;var _=K;K|=2;var j=Jk();(Q!==i||Z!==s)&&(uk=null,Gj=B()+500,Kk(i,s));do try{Lk();break}catch(tt){Mk(i,tt)}while(!0);$g(),mk.current=j,K=_,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(_=xc(i),_!==0&&(a=_,s=Nk(i,_))),s===1)throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;if(s===6)Ck(i,a);else{if(_=i.current.alternate,!(a&30)&&!Ok(_)&&(s=Ik(i,a),s===2&&(j=xc(i),j!==0&&(a=j,s=Nk(i,j))),s===1))throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;switch(i.finishedWork=_,i.finishedLanes=a,s){case 0:case 1:throw Error(p$2(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,a),(a&130023424)===a&&(s=fk+500-B(),10<s)){if(uc(i,0)!==0)break;if(_=i.suspendedLanes,(_&a)!==a){R(),i.pingedLanes|=i.suspendedLanes&_;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),s);break}Pk(i,tk,uk);break;case 4:if(Ck(i,a),(a&4194240)===a)break;for(s=i.eventTimes,_=-1;0<a;){var rt=31-oc(a);j=1<<rt,rt=s[rt],rt>_&&(_=rt),a&=~j}if(a=_,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),a);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(i,B()),i.callbackNode===o?Gk.bind(null,i):null}function Nk(i,s){var o=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,s).flags|=256),i=Ik(i,s),i!==2&&(s=tk,tk=o,s!==null&&Fj(s)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var s=i;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var _=o[a],j=_.getSnapshot;_=_.value;try{if(!He(j(),_))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(i,s){for(s&=~rk,s&=~qk,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var o=31-oc(s),a=1<<o;i[o]=-1,s&=~a}}function Ek(i){if(K&6)throw Error(p$2(327));Hk();var s=uc(i,0);if(!(s&1))return Dk(i,B()),null;var o=Ik(i,s);if(i.tag!==0&&o===2){var a=xc(i);a!==0&&(s=a,o=Nk(i,a))}if(o===1)throw o=pk,Kk(i,0),Ck(i,s),Dk(i,B()),o;if(o===6)throw Error(p$2(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,s){var o=K;K|=1;try{return i(s)}finally{K=o,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var o=ok.transition,a=C;try{if(ok.transition=null,C=1,i)return i()}finally{C=a,ok.transition=o,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;if(o!==-1&&(i.timeoutHandle=-1,Gf(o)),Y!==null)for(o=Y.return;o!==null;){var a=o;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}o=o.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(o=fh[s],a=o.interleaved,a!==null){o.interleaved=null;var _=a.next,j=o.pending;if(j!==null){var rt=j.next;j.next=_,a.next=rt}o.pending=a}fh=null}return i}function Mk(i,s){do{var o=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var _=a.queue;_!==null&&(_.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,o===null||o.return===null){T=1,pk=s,Y=null;break}e:{var j=i,rt=o.return,tt=o,it=s;if(s=Z,tt.flags|=32768,it!==null&&typeof it=="object"&&typeof it.then=="function"){var dt=it,lt=tt,gt=lt.tag;if(!(lt.mode&1)&&(gt===0||gt===11||gt===15)){var vt=lt.alternate;vt?(lt.updateQueue=vt.updateQueue,lt.memoizedState=vt.memoizedState,lt.lanes=vt.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var ht=Ui(rt);if(ht!==null){ht.flags&=-257,Vi(ht,rt,tt,j,s),ht.mode&1&&Si(j,dt,s),s=ht,it=dt;var mt=s.updateQueue;if(mt===null){var nt=new Set;nt.add(it),s.updateQueue=nt}else mt.add(it);break e}else{if(!(s&1)){Si(j,dt,s),tj();break e}it=Error(p$2(426))}}else if(I&&tt.mode&1){var $=Ui(rt);if($!==null){!($.flags&65536)&&($.flags|=256),Vi($,rt,tt,j,s),Jg(Ji(it,tt));break e}}j=it=Ji(it,tt),T!==4&&(T=2),sk===null?sk=[j]:sk.push(j),j=rt;do{switch(j.tag){case 3:j.flags|=65536,s&=-s,j.lanes|=s;var _e=Ni(j,it,s);ph(j,_e);break e;case 1:tt=it;var st=j.type,ot=j.stateNode;if(!(j.flags&128)&&(typeof st.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(ot)))){j.flags|=65536,s&=-s,j.lanes|=s;var ut=Qi(j,tt,s);ph(j,ut);break e}}j=j.return}while(j!==null)}Sk(o)}catch(et){s=et,Y===o&&o!==null&&(Y=o=o.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,s){var o=K;K|=2;var a=Jk();(Q!==i||Z!==s)&&(uk=null,Kk(i,s));do try{Tk();break}catch(_){Mk(i,_)}while(!0);if($g(),K=o,mk.current=a,Y!==null)throw Error(p$2(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var s=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,s===null?Sk(i):Y=s,nk.current=null}function Sk(i){var s=i;do{var o=s.alternate;if(i=s.return,s.flags&32768){if(o=Ij(o,s),o!==null){o.flags&=32767,Y=o;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(o=Ej(o,s,fj),o!==null){Y=o;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=i}while(s!==null);T===0&&(T=5)}function Pk(i,s,o){var a=C,_=ok.transition;try{ok.transition=null,C=1,Wk(i,s,o,a)}finally{ok.transition=_,C=a}return null}function Wk(i,s,o,a){do Hk();while(wk!==null);if(K&6)throw Error(p$2(327));o=i.finishedWork;var _=i.finishedLanes;if(o===null)return null;if(i.finishedWork=null,i.finishedLanes=0,o===i.current)throw Error(p$2(177));i.callbackNode=null,i.callbackPriority=0;var j=o.lanes|o.childLanes;if(Bc(i,j),i===Q&&(Y=Q=null,Z=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),j=(o.flags&15990)!==0,o.subtreeFlags&15990||j){j=ok.transition,ok.transition=null;var rt=C;C=1;var tt=K;K|=4,nk.current=null,Oj(i,o),dk(o,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=o,hk(o),dc(),K=tt,C=rt,ok.transition=j}else i.current=o;if(vk&&(vk=!1,wk=i,xk=_),j=i.pendingLanes,j===0&&(Ri=null),mc(o.stateNode),Dk(i,B()),s!==null)for(a=i.onRecoverableError,o=0;o<s.length;o++)_=s[o],a(_.value,{componentStack:_.stack,digest:_.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),j=i.pendingLanes,j&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),s=ok.transition,o=C;try{if(ok.transition=null,C=16>i?16:i,wk===null)var a=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p$2(331));var _=K;for(K|=4,V=i.current;V!==null;){var j=V,rt=j.child;if(V.flags&16){var tt=j.deletions;if(tt!==null){for(var it=0;it<tt.length;it++){var dt=tt[it];for(V=dt;V!==null;){var lt=V;switch(lt.tag){case 0:case 11:case 15:Pj(8,lt,j)}var gt=lt.child;if(gt!==null)gt.return=lt,V=gt;else for(;V!==null;){lt=V;var vt=lt.sibling,ht=lt.return;if(Sj(lt),lt===dt){V=null;break}if(vt!==null){vt.return=ht,V=vt;break}V=ht}}}var mt=j.alternate;if(mt!==null){var nt=mt.child;if(nt!==null){mt.child=null;do{var $=nt.sibling;nt.sibling=null,nt=$}while(nt!==null)}}V=j}}if(j.subtreeFlags&2064&&rt!==null)rt.return=j,V=rt;else e:for(;V!==null;){if(j=V,j.flags&2048)switch(j.tag){case 0:case 11:case 15:Pj(9,j,j.return)}var _e=j.sibling;if(_e!==null){_e.return=j.return,V=_e;break e}V=j.return}}var st=i.current;for(V=st;V!==null;){rt=V;var ot=rt.child;if(rt.subtreeFlags&2064&&ot!==null)ot.return=rt,V=ot;else e:for(rt=st;V!==null;){if(tt=V,tt.flags&2048)try{switch(tt.tag){case 0:case 11:case 15:Qj(9,tt)}}catch(et){W(tt,tt.return,et)}if(tt===rt){V=null;break e}var ut=tt.sibling;if(ut!==null){ut.return=tt.return,V=ut;break e}V=tt.return}}if(K=_,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}a=!0}return a}finally{C=o,ok.transition=s}}return!1}function Xk(i,s,o){s=Ji(o,s),s=Ni(i,s,1),i=nh(i,s,1),s=R(),i!==null&&(Ac(i,1,s),Dk(i,s))}function W(i,s,o){if(i.tag===3)Xk(i,i,o);else for(;s!==null;){if(s.tag===3){Xk(s,i,o);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){i=Ji(o,i),i=Qi(s,i,1),s=nh(s,i,1),i=R(),s!==null&&(Ac(s,1,i),Dk(s,i));break}}s=s.return}}function Ti(i,s,o){var a=i.pingCache;a!==null&&a.delete(s),s=R(),i.pingedLanes|=i.suspendedLanes&o,Q===i&&(Z&o)===o&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=o),Dk(i,s)}function Yk(i,s){s===0&&(i.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var o=R();i=ih(i,s),i!==null&&(Ac(i,s,o),Dk(i,o))}function uj(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Yk(i,o)}function bk(i,s){var o=0;switch(i.tag){case 13:var a=i.stateNode,_=i.memoizedState;_!==null&&(o=_.retryLane);break;case 19:a=i.stateNode;break;default:throw Error(p$2(314))}a!==null&&a.delete(s),Yk(i,o)}var Vk;Vk=function(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&o)&&!(s.flags&128))return dh=!1,yj(i,s,o);dh=!!(i.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;ij(i,s),i=s.pendingProps;var _=Yf(s,H.current);ch(s,o),_=Nh(null,s,a,i,_,o);var j=Sh();return s.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(a)?(j=!0,cg(s)):j=!1,s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,kh(s),_.updater=Ei,s.stateNode=_,_._reactInternals=s,Ii(s,a,i,o),s=jj(null,s,a,!0,j,o)):(s.tag=0,I&&j&&vg(s),Xi(null,s,_,o),s=s.child),s;case 16:a=s.elementType;e:{switch(ij(i,s),i=s.pendingProps,_=a._init,a=_(a._payload),s.type=a,_=s.tag=Zk(a),i=Ci(a,i),_){case 0:s=cj(null,s,a,i,o);break e;case 1:s=hj(null,s,a,i,o);break e;case 11:s=Yi(null,s,a,i,o);break e;case 14:s=$i(null,s,a,Ci(a.type,i),o);break e}throw Error(p$2(306,a,""))}return s;case 0:return a=s.type,_=s.pendingProps,_=s.elementType===a?_:Ci(a,_),cj(i,s,a,_,o);case 1:return a=s.type,_=s.pendingProps,_=s.elementType===a?_:Ci(a,_),hj(i,s,a,_,o);case 3:e:{if(kj(s),i===null)throw Error(p$2(387));a=s.pendingProps,j=s.memoizedState,_=j.element,lh(i,s),qh(s,a,null,o);var rt=s.memoizedState;if(a=rt.element,j.isDehydrated)if(j={element:a,isDehydrated:!1,cache:rt.cache,pendingSuspenseBoundaries:rt.pendingSuspenseBoundaries,transitions:rt.transitions},s.updateQueue.baseState=j,s.memoizedState=j,s.flags&256){_=Ji(Error(p$2(423)),s),s=lj(i,s,a,o,_);break e}else if(a!==_){_=Ji(Error(p$2(424)),s),s=lj(i,s,a,o,_);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,o=Vg(s,null,a,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),a===_){s=Zi(i,s,o);break e}Xi(i,s,a,o)}s=s.child}return s;case 5:return Ah(s),i===null&&Eg(s),a=s.type,_=s.pendingProps,j=i!==null?i.memoizedProps:null,rt=_.children,Ef(a,_)?rt=null:j!==null&&Ef(a,j)&&(s.flags|=32),gj(i,s),Xi(i,s,rt,o),s.child;case 6:return i===null&&Eg(s),null;case 13:return oj(i,s,o);case 4:return yh(s,s.stateNode.containerInfo),a=s.pendingProps,i===null?s.child=Ug(s,null,a,o):Xi(i,s,a,o),s.child;case 11:return a=s.type,_=s.pendingProps,_=s.elementType===a?_:Ci(a,_),Yi(i,s,a,_,o);case 7:return Xi(i,s,s.pendingProps,o),s.child;case 8:return Xi(i,s,s.pendingProps.children,o),s.child;case 12:return Xi(i,s,s.pendingProps.children,o),s.child;case 10:e:{if(a=s.type._context,_=s.pendingProps,j=s.memoizedProps,rt=_.value,G(Wg,a._currentValue),a._currentValue=rt,j!==null)if(He(j.value,rt)){if(j.children===_.children&&!Wf.current){s=Zi(i,s,o);break e}}else for(j=s.child,j!==null&&(j.return=s);j!==null;){var tt=j.dependencies;if(tt!==null){rt=j.child;for(var it=tt.firstContext;it!==null;){if(it.context===a){if(j.tag===1){it=mh(-1,o&-o),it.tag=2;var dt=j.updateQueue;if(dt!==null){dt=dt.shared;var lt=dt.pending;lt===null?it.next=it:(it.next=lt.next,lt.next=it),dt.pending=it}}j.lanes|=o,it=j.alternate,it!==null&&(it.lanes|=o),bh(j.return,o,s),tt.lanes|=o;break}it=it.next}}else if(j.tag===10)rt=j.type===s.type?null:j.child;else if(j.tag===18){if(rt=j.return,rt===null)throw Error(p$2(341));rt.lanes|=o,tt=rt.alternate,tt!==null&&(tt.lanes|=o),bh(rt,o,s),rt=j.sibling}else rt=j.child;if(rt!==null)rt.return=j;else for(rt=j;rt!==null;){if(rt===s){rt=null;break}if(j=rt.sibling,j!==null){j.return=rt.return,rt=j;break}rt=rt.return}j=rt}Xi(i,s,_.children,o),s=s.child}return s;case 9:return _=s.type,a=s.pendingProps.children,ch(s,o),_=eh(_),a=a(_),s.flags|=1,Xi(i,s,a,o),s.child;case 14:return a=s.type,_=Ci(a,s.pendingProps),_=Ci(a.type,_),$i(i,s,a,_,o);case 15:return bj(i,s,s.type,s.pendingProps,o);case 17:return a=s.type,_=s.pendingProps,_=s.elementType===a?_:Ci(a,_),ij(i,s),s.tag=1,Zf(a)?(i=!0,cg(s)):i=!1,ch(s,o),Gi(s,a,_),Ii(s,a,_,o),jj(null,s,a,!0,i,o);case 19:return xj(i,s,o);case 22:return dj(i,s,o)}throw Error(p$2(156,s.tag))};function Fk(i,s){return ac(i,s)}function $k(i,s,o,a){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,s,o,a){return new $k(i,s,o,a)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,s){var o=i.alternate;return o===null?(o=Bg(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&14680064,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o}function Rg(i,s,o,a,_,j){var rt=2;if(a=i,typeof i=="function")aj(i)&&(rt=1);else if(typeof i=="string")rt=5;else e:switch(i){case ya:return Tg(o.children,_,j,s);case za:rt=8,_|=8;break;case Aa:return i=Bg(12,o,s,_|2),i.elementType=Aa,i.lanes=j,i;case Ea:return i=Bg(13,o,s,_),i.elementType=Ea,i.lanes=j,i;case Fa:return i=Bg(19,o,s,_),i.elementType=Fa,i.lanes=j,i;case Ia:return pj(o,_,j,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:rt=10;break e;case Ca:rt=9;break e;case Da:rt=11;break e;case Ga:rt=14;break e;case Ha:rt=16,a=null;break e}throw Error(p$2(130,i==null?i:typeof i,""))}return s=Bg(rt,o,s,_),s.elementType=i,s.type=a,s.lanes=j,s}function Tg(i,s,o,a){return i=Bg(7,i,a,s),i.lanes=o,i}function pj(i,s,o,a){return i=Bg(22,i,a,s),i.elementType=Ia,i.lanes=o,i.stateNode={isHidden:!1},i}function Qg(i,s,o){return i=Bg(6,i,null,s),i.lanes=o,i}function Sg(i,s,o){return s=Bg(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function al(i,s,o,a,_){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function bl(i,s,o,a,_,j,rt,tt,it){return i=new al(i,s,o,tt,it),s===1?(s=1,j===!0&&(s|=8)):s=0,j=Bg(3,null,null,s),i.current=j,j.stateNode=i,j.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(j),i}function cl(i,s,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:i,containerInfo:s,implementation:o}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$2(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$2(171))}if(i.tag===1){var o=i.type;if(Zf(o))return bg(i,o,s)}return s}function el(i,s,o,a,_,j,rt,tt,it){return i=bl(o,a,!0,i,_,j,rt,tt,it),i.context=dl(null),o=i.current,a=R(),_=yi(o),j=mh(a,_),j.callback=s??null,nh(o,j,_),i.current.lanes=_,Ac(i,_,a),Dk(i,a),i}function fl(i,s,o,a){var _=s.current,j=R(),rt=yi(_);return o=dl(o),s.context===null?s.context=o:s.pendingContext=o,s=mh(j,rt),s.payload={element:i},a=a===void 0?null:a,a!==null&&(s.callback=a),i=nh(_,s,rt),i!==null&&(gi(i,_,rt,j),oh(i,_,rt)),rt}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function il(i,s){hl(i,s),(i=i.alternate)&&hl(i,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(p$2(409));fl(i,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Rk(function(){fl(null,i,null,null)}),s[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Qc.length&&s!==0&&s<Qc[o].priority;o++);Qc.splice(o,0,i),o===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,s,o,a,_){if(_){if(typeof a=="function"){var j=a;a=function(){var dt=gl(rt);j.call(dt)}}var rt=el(s,a,i,0,null,!1,!1,"",pl);return i._reactRootContainer=rt,i[uf]=rt.current,sf(i.nodeType===8?i.parentNode:i),Rk(),rt}for(;_=i.lastChild;)i.removeChild(_);if(typeof a=="function"){var tt=a;a=function(){var dt=gl(it);tt.call(dt)}}var it=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=it,i[uf]=it.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(s,it,o,a)}),it}function rl(i,s,o,a,_){var j=o._reactRootContainer;if(j){var rt=j;if(typeof _=="function"){var tt=_;_=function(){var it=gl(rt);tt.call(it)}}fl(s,rt,i,_)}else rt=ql(o,s,i,_,a);return gl(rt)}Ec=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var o=tc(s.pendingLanes);o!==0&&(Cc(s,o|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(i,1);if(a!==null){var _=R();gi(a,i,1,_)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var s=ih(i,134217728);if(s!==null){var o=R();gi(s,i,134217728,o)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var s=yi(i),o=ih(i,s);if(o!==null){var a=R();gi(o,i,s,a)}il(i,s)}};Hc=function(){return C};Ic=function(i,s){var o=C;try{return C=i,s()}finally{C=o}};yb=function(i,s,o){switch(s){case"input":if(bb(i,o),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var a=o[s];if(a!==i&&a.form===i.form){var _=Db(a);if(!_)throw Error(p$2(90));Wa(a),bb(a,_)}}}break;case"textarea":ib(i,o);break;case"select":s=o.value,s!=null&&fb(i,!!o.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p$2(200));return cl(i,s,null,o)};reactDom_production_min.createRoot=function(i,s){if(!nl(i))throw Error(p$2(299));var o=!1,a="",_=kl;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=bl(i,1,!1,null,null,o,!1,a,_),i[uf]=s.current,sf(i.nodeType===8?i.parentNode:i),new ll(s)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(p$2(188)):(i=Object.keys(i).join(","),Error(p$2(268,i)));return i=Zb(s),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,s,o){if(!ol(s))throw Error(p$2(200));return rl(null,i,s,!0,o)};reactDom_production_min.hydrateRoot=function(i,s,o){if(!nl(i))throw Error(p$2(405));var a=o!=null&&o.hydratedSources||null,_=!1,j="",rt=kl;if(o!=null&&(o.unstable_strictMode===!0&&(_=!0),o.identifierPrefix!==void 0&&(j=o.identifierPrefix),o.onRecoverableError!==void 0&&(rt=o.onRecoverableError)),s=el(s,null,i,1,o??null,_,!1,j,rt),i[uf]=s.current,sf(i),a)for(i=0;i<a.length;i++)o=a[i],_=o._getVersion,_=_(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,_]:s.mutableSourceEagerHydrationData.push(o,_);return new ml(s)};reactDom_production_min.render=function(i,s,o){if(!ol(s))throw Error(p$2(200));return rl(null,i,s,!1,o)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p$2(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,s,o,a){if(!ol(o))throw Error(p$2(200));if(i==null||i._reactInternals===void 0)throw Error(p$2(38));return rl(i,s,o,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot,m$2=reactDomExports;createRoot=m$2.createRoot,m$2.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends$3.apply(this,arguments)}var Action;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(i){i===void 0&&(i={});function s(a,_){let{pathname:j,search:rt,hash:tt}=a.location;return createLocation("",{pathname:j,search:rt,hash:tt},_.state&&_.state.usr||null,_.state&&_.state.key||"default")}function o(a,_){return typeof _=="string"?_:createPath(_)}return getUrlBasedHistory(s,o,null,i)}function invariant(i,s){if(i===!1||i===null||typeof i>"u")throw new Error(s)}function warning(i,s){if(!i){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(i,s){return{usr:i.state,key:i.key,idx:s}}function createLocation(i,s,o,a){return o===void 0&&(o=null),_extends$3({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof s=="string"?parsePath(s):s,{state:o,key:s&&s.key||a||createKey()})}function createPath(i){let{pathname:s="/",search:o="",hash:a=""}=i;return o&&o!=="?"&&(s+=o.charAt(0)==="?"?o:"?"+o),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function parsePath(i){let s={};if(i){let o=i.indexOf("#");o>=0&&(s.hash=i.substr(o),i=i.substr(0,o));let a=i.indexOf("?");a>=0&&(s.search=i.substr(a),i=i.substr(0,a)),i&&(s.pathname=i)}return s}function getUrlBasedHistory(i,s,o,a){a===void 0&&(a={});let{window:_=document.defaultView,v5Compat:j=!1}=a,rt=_.history,tt=Action.Pop,it=null,dt=lt();dt==null&&(dt=0,rt.replaceState(_extends$3({},rt.state,{idx:dt}),""));function lt(){return(rt.state||{idx:null}).idx}function gt(){tt=Action.Pop;let $=lt(),_e=$==null?null:$-dt;dt=$,it&&it({action:tt,location:nt.location,delta:_e})}function vt($,_e){tt=Action.Push;let st=createLocation(nt.location,$,_e);dt=lt()+1;let ot=getHistoryState(st,dt),ut=nt.createHref(st);try{rt.pushState(ot,"",ut)}catch(et){if(et instanceof DOMException&&et.name==="DataCloneError")throw et;_.location.assign(ut)}j&&it&&it({action:tt,location:nt.location,delta:1})}function ht($,_e){tt=Action.Replace;let st=createLocation(nt.location,$,_e);dt=lt();let ot=getHistoryState(st,dt),ut=nt.createHref(st);rt.replaceState(ot,"",ut),j&&it&&it({action:tt,location:nt.location,delta:0})}function mt($){let _e=_.location.origin!=="null"?_.location.origin:_.location.href,st=typeof $=="string"?$:createPath($);return st=st.replace(/ $/,"%20"),invariant(_e,"No window.location.(origin|href) available to create URL for href: "+st),new URL(st,_e)}let nt={get action(){return tt},get location(){return i(_,rt)},listen($){if(it)throw new Error("A history only accepts one active listener");return _.addEventListener(PopStateEventType,gt),it=$,()=>{_.removeEventListener(PopStateEventType,gt),it=null}},createHref($){return s(_,$)},createURL:mt,encodeLocation($){let _e=mt($);return{pathname:_e.pathname,search:_e.search,hash:_e.hash}},push:vt,replace:ht,go($){return rt.go($)}};return nt}var ResultType;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(ResultType||(ResultType={}));function matchRoutes(i,s,o){return o===void 0&&(o="/"),matchRoutesImpl(i,s,o,!1)}function matchRoutesImpl(i,s,o,a){let _=typeof s=="string"?parsePath(s):s,j=stripBasename(_.pathname||"/",o);if(j==null)return null;let rt=flattenRoutes(i);rankRouteBranches(rt);let tt=null;for(let it=0;tt==null&&it<rt.length;++it){let dt=decodePath(j);tt=matchRouteBranch(rt[it],dt,a)}return tt}function flattenRoutes(i,s,o,a){s===void 0&&(s=[]),o===void 0&&(o=[]),a===void 0&&(a="");let _=(j,rt,tt)=>{let it={relativePath:tt===void 0?j.path||"":tt,caseSensitive:j.caseSensitive===!0,childrenIndex:rt,route:j};it.relativePath.startsWith("/")&&(invariant(it.relativePath.startsWith(a),'Absolute route path "'+it.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),it.relativePath=it.relativePath.slice(a.length));let dt=joinPaths([a,it.relativePath]),lt=o.concat(it);j.children&&j.children.length>0&&(invariant(j.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+dt+'".')),flattenRoutes(j.children,s,lt,dt)),!(j.path==null&&!j.index)&&s.push({path:dt,score:computeScore(dt,j.index),routesMeta:lt})};return i.forEach((j,rt)=>{var tt;if(j.path===""||!((tt=j.path)!=null&&tt.includes("?")))_(j,rt);else for(let it of explodeOptionalSegments(j.path))_(j,rt,it)}),s}function explodeOptionalSegments(i){let s=i.split("/");if(s.length===0)return[];let[o,...a]=s,_=o.endsWith("?"),j=o.replace(/\?$/,"");if(a.length===0)return _?[j,""]:[j];let rt=explodeOptionalSegments(a.join("/")),tt=[];return tt.push(...rt.map(it=>it===""?j:[j,it].join("/"))),_&&tt.push(...rt),tt.map(it=>i.startsWith("/")&&it===""?"/":it)}function rankRouteBranches(i){i.sort((s,o)=>s.score!==o.score?o.score-s.score:compareIndexes(s.routesMeta.map(a=>a.childrenIndex),o.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=i=>i==="*";function computeScore(i,s){let o=i.split("/"),a=o.length;return o.some(isSplat)&&(a+=splatPenalty),s&&(a+=indexRouteValue),o.filter(_=>!isSplat(_)).reduce((_,j)=>_+(paramRe.test(j)?dynamicSegmentValue:j===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(i,s){return i.length===s.length&&i.slice(0,-1).every((a,_)=>a===s[_])?i[i.length-1]-s[s.length-1]:0}function matchRouteBranch(i,s,o){let{routesMeta:a}=i,_={},j="/",rt=[];for(let tt=0;tt<a.length;++tt){let it=a[tt],dt=tt===a.length-1,lt=j==="/"?s:s.slice(j.length)||"/",gt=matchPath({path:it.relativePath,caseSensitive:it.caseSensitive,end:dt},lt),vt=it.route;if(!gt&&dt&&o&&!a[a.length-1].route.index&&(gt=matchPath({path:it.relativePath,caseSensitive:it.caseSensitive,end:!1},lt)),!gt)return null;Object.assign(_,gt.params),rt.push({params:_,pathname:joinPaths([j,gt.pathname]),pathnameBase:normalizePathname(joinPaths([j,gt.pathnameBase])),route:vt}),gt.pathnameBase!=="/"&&(j=joinPaths([j,gt.pathnameBase]))}return rt}function matchPath(i,s){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[o,a]=compilePath(i.path,i.caseSensitive,i.end),_=s.match(o);if(!_)return null;let j=_[0],rt=j.replace(/(.)\/+$/,"$1"),tt=_.slice(1);return{params:a.reduce((dt,lt,gt)=>{let{paramName:vt,isOptional:ht}=lt;if(vt==="*"){let nt=tt[gt]||"";rt=j.slice(0,j.length-nt.length).replace(/(.)\/+$/,"$1")}const mt=tt[gt];return ht&&!mt?dt[vt]=void 0:dt[vt]=(mt||"").replace(/%2F/g,"/"),dt},{}),pathname:j,pathnameBase:rt,pattern:i}}function compilePath(i,s,o){s===void 0&&(s=!1),o===void 0&&(o=!0),warning(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let a=[],_="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(rt,tt,it)=>(a.push({paramName:tt,isOptional:it!=null}),it?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),_+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?_+="\\/*$":i!==""&&i!=="/"&&(_+="(?:(?=\\/|$))"),[new RegExp(_,s?void 0:"i"),a]}function decodePath(i){try{return i.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),i}}function stripBasename(i,s){if(s==="/")return i;if(!i.toLowerCase().startsWith(s.toLowerCase()))return null;let o=s.endsWith("/")?s.length-1:s.length,a=i.charAt(o);return a&&a!=="/"?null:i.slice(o)||"/"}function resolvePath(i,s){s===void 0&&(s="/");let{pathname:o,search:a="",hash:_=""}=typeof i=="string"?parsePath(i):i;return{pathname:o?o.startsWith("/")?o:resolvePathname(o,s):s,search:normalizeSearch(a),hash:normalizeHash(_)}}function resolvePathname(i,s){let o=s.replace(/\/+$/,"").split("/");return i.split("/").forEach(_=>{_===".."?o.length>1&&o.pop():_!=="."&&o.push(_)}),o.length>1?o.join("/"):"/"}function getInvalidPathError(i,s,o,a){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(i){return i.filter((s,o)=>o===0||s.route.path&&s.route.path.length>0)}function getResolveToMatches(i,s){let o=getPathContributingMatches(i);return s?o.map((a,_)=>_===o.length-1?a.pathname:a.pathnameBase):o.map(a=>a.pathnameBase)}function resolveTo(i,s,o,a){a===void 0&&(a=!1);let _;typeof i=="string"?_=parsePath(i):(_=_extends$3({},i),invariant(!_.pathname||!_.pathname.includes("?"),getInvalidPathError("?","pathname","search",_)),invariant(!_.pathname||!_.pathname.includes("#"),getInvalidPathError("#","pathname","hash",_)),invariant(!_.search||!_.search.includes("#"),getInvalidPathError("#","search","hash",_)));let j=i===""||_.pathname==="",rt=j?"/":_.pathname,tt;if(rt==null)tt=o;else{let gt=s.length-1;if(!a&&rt.startsWith("..")){let vt=rt.split("/");for(;vt[0]==="..";)vt.shift(),gt-=1;_.pathname=vt.join("/")}tt=gt>=0?s[gt]:"/"}let it=resolvePath(_,tt),dt=rt&&rt!=="/"&&rt.endsWith("/"),lt=(j||rt===".")&&o.endsWith("/");return!it.pathname.endsWith("/")&&(dt||lt)&&(it.pathname+="/"),it}const joinPaths=i=>i.join("/").replace(/\/\/+/g,"/"),normalizePathname=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,normalizeHash=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function isRouteErrorResponse(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(i,s){let{relative:o}=s===void 0?{}:s;useInRouterContext()||invariant(!1);let{basename:a,navigator:_}=reactExports.useContext(NavigationContext),{hash:j,pathname:rt,search:tt}=useResolvedPath(i,{relative:o}),it=rt;return a!=="/"&&(it=rt==="/"?a:joinPaths([a,rt])),_.createHref({pathname:it,search:tt,hash:j})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(i){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(i)}function useNavigate(){let{isDataRoute:i}=reactExports.useContext(RouteContext);return i?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let i=reactExports.useContext(DataRouterContext),{basename:s,future:o,navigator:a}=reactExports.useContext(NavigationContext),{matches:_}=reactExports.useContext(RouteContext),{pathname:j}=useLocation(),rt=JSON.stringify(getResolveToMatches(_,o.v7_relativeSplatPath)),tt=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{tt.current=!0}),reactExports.useCallback(function(dt,lt){if(lt===void 0&&(lt={}),!tt.current)return;if(typeof dt=="number"){a.go(dt);return}let gt=resolveTo(dt,JSON.parse(rt),j,lt.relative==="path");i==null&&s!=="/"&&(gt.pathname=gt.pathname==="/"?s:joinPaths([s,gt.pathname])),(lt.replace?a.replace:a.push)(gt,lt.state,lt)},[s,a,rt,j,i])}function useResolvedPath(i,s){let{relative:o}=s===void 0?{}:s,{future:a}=reactExports.useContext(NavigationContext),{matches:_}=reactExports.useContext(RouteContext),{pathname:j}=useLocation(),rt=JSON.stringify(getResolveToMatches(_,a.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(i,JSON.parse(rt),j,o==="path"),[i,rt,j,o])}function useRoutes(i,s){return useRoutesImpl(i,s)}function useRoutesImpl(i,s,o,a){useInRouterContext()||invariant(!1);let{navigator:_}=reactExports.useContext(NavigationContext),{matches:j}=reactExports.useContext(RouteContext),rt=j[j.length-1],tt=rt?rt.params:{};rt&&rt.pathname;let it=rt?rt.pathnameBase:"/";rt&&rt.route;let dt=useLocation(),lt;if(s){var gt;let $=typeof s=="string"?parsePath(s):s;it==="/"||(gt=$.pathname)!=null&&gt.startsWith(it)||invariant(!1),lt=$}else lt=dt;let vt=lt.pathname||"/",ht=vt;if(it!=="/"){let $=it.replace(/^\//,"").split("/");ht="/"+vt.replace(/^\//,"").split("/").slice($.length).join("/")}let mt=matchRoutes(i,{pathname:ht}),nt=_renderMatches(mt&&mt.map($=>Object.assign({},$,{params:Object.assign({},tt,$.params),pathname:joinPaths([it,_.encodeLocation?_.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?it:joinPaths([it,_.encodeLocation?_.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),j,o,a);return s&&nt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},lt),navigationType:Action.Pop}},nt):nt}function DefaultErrorComponent(){let i=useRouteError(),s=isRouteErrorResponse(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),o=i instanceof Error?i.stack:null,_={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),o?reactExports.createElement("pre",{style:_},o):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,o){return o.location!==s.location||o.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:o.error,location:o.location,revalidation:s.revalidation||o.revalidation}}componentDidCatch(s,o){console.error("React Router caught the following error during render",s,o)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(i){let{routeContext:s,match:o,children:a}=i,_=reactExports.useContext(DataRouterContext);return _&&_.static&&_.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(_.staticContext._deepestRenderedBoundaryId=o.route.id),reactExports.createElement(RouteContext.Provider,{value:s},a)}function _renderMatches(i,s,o,a){var _;if(s===void 0&&(s=[]),o===void 0&&(o=null),a===void 0&&(a=null),i==null){var j;if(!o)return null;if(o.errors)i=o.matches;else if((j=a)!=null&&j.v7_partialHydration&&s.length===0&&!o.initialized&&o.matches.length>0)i=o.matches;else return null}let rt=i,tt=(_=o)==null?void 0:_.errors;if(tt!=null){let lt=rt.findIndex(gt=>gt.route.id&&(tt==null?void 0:tt[gt.route.id])!==void 0);lt>=0||invariant(!1),rt=rt.slice(0,Math.min(rt.length,lt+1))}let it=!1,dt=-1;if(o&&a&&a.v7_partialHydration)for(let lt=0;lt<rt.length;lt++){let gt=rt[lt];if((gt.route.HydrateFallback||gt.route.hydrateFallbackElement)&&(dt=lt),gt.route.id){let{loaderData:vt,errors:ht}=o,mt=gt.route.loader&&vt[gt.route.id]===void 0&&(!ht||ht[gt.route.id]===void 0);if(gt.route.lazy||mt){it=!0,dt>=0?rt=rt.slice(0,dt+1):rt=[rt[0]];break}}}return rt.reduceRight((lt,gt,vt)=>{let ht,mt=!1,nt=null,$=null;o&&(ht=tt&&gt.route.id?tt[gt.route.id]:void 0,nt=gt.route.errorElement||defaultErrorElement,it&&(dt<0&&vt===0?(mt=!0,$=null):dt===vt&&(mt=!0,$=gt.route.hydrateFallbackElement||null)));let _e=s.concat(rt.slice(0,vt+1)),st=()=>{let ot;return ht?ot=nt:mt?ot=$:gt.route.Component?ot=reactExports.createElement(gt.route.Component,null):gt.route.element?ot=gt.route.element:ot=lt,reactExports.createElement(RenderedRoute,{match:gt,routeContext:{outlet:lt,matches:_e,isDataRoute:o!=null},children:ot})};return o&&(gt.route.ErrorBoundary||gt.route.errorElement||vt===0)?reactExports.createElement(RenderErrorBoundary,{location:o.location,revalidation:o.revalidation,component:nt,error:ht,children:st(),routeContext:{outlet:null,matches:_e,isDataRoute:!0}}):st()},null)}var DataRouterHook$1=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(DataRouterHook$1||{}),DataRouterStateHook$1=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(DataRouterStateHook$1||{});function useDataRouterContext(i){let s=reactExports.useContext(DataRouterContext);return s||invariant(!1),s}function useDataRouterState(i){let s=reactExports.useContext(DataRouterStateContext);return s||invariant(!1),s}function useRouteContext(i){let s=reactExports.useContext(RouteContext);return s||invariant(!1),s}function useCurrentRouteId(i){let s=useRouteContext(),o=s.matches[s.matches.length-1];return o.route.id||invariant(!1),o.route.id}function useRouteError(){var i;let s=reactExports.useContext(RouteErrorContext),o=useDataRouterState(DataRouterStateHook$1.UseRouteError),a=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return s!==void 0?s:(i=o.errors)==null?void 0:i[a]}function useNavigateStable(){let{router:i}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),s=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),o=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{o.current=!0}),reactExports.useCallback(function(_,j){j===void 0&&(j={}),o.current&&(typeof _=="number"?i.navigate(_):i.navigate(_,_extends$2({fromRouteId:s},j)))},[i,s])}function Route(i){invariant(!1)}function Router(i){let{basename:s="/",children:o=null,location:a,navigationType:_=Action.Pop,navigator:j,static:rt=!1,future:tt}=i;useInRouterContext()&&invariant(!1);let it=s.replace(/^\/*/,"/"),dt=reactExports.useMemo(()=>({basename:it,navigator:j,static:rt,future:_extends$2({v7_relativeSplatPath:!1},tt)}),[it,tt,j,rt]);typeof a=="string"&&(a=parsePath(a));let{pathname:lt="/",search:gt="",hash:vt="",state:ht=null,key:mt="default"}=a,nt=reactExports.useMemo(()=>{let $=stripBasename(lt,it);return $==null?null:{location:{pathname:$,search:gt,hash:vt,state:ht,key:mt},navigationType:_}},[it,lt,gt,vt,ht,mt,_]);return nt==null?null:reactExports.createElement(NavigationContext.Provider,{value:dt},reactExports.createElement(LocationContext.Provider,{children:o,value:nt}))}function Routes(i){let{children:s,location:o}=i;return useRoutes(createRoutesFromChildren(s),o)}new Promise(()=>{});function createRoutesFromChildren(i,s){s===void 0&&(s=[]);let o=[];return reactExports.Children.forEach(i,(a,_)=>{if(!reactExports.isValidElement(a))return;let j=[...s,_];if(a.type===reactExports.Fragment){o.push.apply(o,createRoutesFromChildren(a.props.children,j));return}a.type!==Route&&invariant(!1),!a.props.index||!a.props.children||invariant(!1);let rt={id:a.props.id||j.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(rt.children=createRoutesFromChildren(a.props.children,j)),o.push(rt)}),o}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(i,s){if(i==null)return{};var o={},a=Object.keys(i),_,j;for(j=0;j<a.length;j++)_=a[j],!(s.indexOf(_)>=0)&&(o[_]=i[_]);return o}function isModifiedEvent(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function shouldProcessLinkClick(i,s){return i.button===0&&(!s||s==="_self")&&!isModifiedEvent(i)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(i){let{basename:s,children:o,future:a,window:_}=i,j=reactExports.useRef();j.current==null&&(j.current=createBrowserHistory({window:_,v5Compat:!0}));let rt=j.current,[tt,it]=reactExports.useState({action:rt.action,location:rt.location}),{v7_startTransition:dt}=a||{},lt=reactExports.useCallback(gt=>{dt&&startTransitionImpl?startTransitionImpl(()=>it(gt)):it(gt)},[it,dt]);return reactExports.useLayoutEffect(()=>rt.listen(lt),[rt,lt]),reactExports.createElement(Router,{basename:s,children:o,location:tt.location,navigationType:tt.action,navigator:rt,future:a})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(s,o){let{onClick:a,relative:_,reloadDocument:j,replace:rt,state:tt,target:it,to:dt,preventScrollReset:lt,unstable_viewTransition:gt}=s,vt=_objectWithoutPropertiesLoose$1(s,_excluded),{basename:ht}=reactExports.useContext(NavigationContext),mt,nt=!1;if(typeof dt=="string"&&ABSOLUTE_URL_REGEX.test(dt)&&(mt=dt,isBrowser$1))try{let ot=new URL(window.location.href),ut=dt.startsWith("//")?new URL(ot.protocol+dt):new URL(dt),et=stripBasename(ut.pathname,ht);ut.origin===ot.origin&&et!=null?dt=et+ut.search+ut.hash:nt=!0}catch{}let $=useHref(dt,{relative:_}),_e=useLinkClickHandler(dt,{replace:rt,state:tt,target:it,preventScrollReset:lt,relative:_,unstable_viewTransition:gt});function st(ot){a&&a(ot),ot.defaultPrevented||_e(ot)}return reactExports.createElement("a",_extends$1({},vt,{href:mt||$,onClick:nt||j?a:st,ref:o,target:it}))});var DataRouterHook;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(i,s){let{target:o,replace:a,state:_,preventScrollReset:j,relative:rt,unstable_viewTransition:tt}=s===void 0?{}:s,it=useNavigate(),dt=useLocation(),lt=useResolvedPath(i,{relative:rt});return reactExports.useCallback(gt=>{if(shouldProcessLinkClick(gt,o)){gt.preventDefault();let vt=a!==void 0?a:createPath(dt)===createPath(lt);it(i,{replace:vt,state:_,preventScrollReset:j,relative:rt,unstable_viewTransition:tt})}},[dt,it,lt,a,_,o,i,j,rt,tt])}const common={black:"#000",white:"#fff"},red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function formatMuiErrorMessage(i){let s="https://mui.com/production-error/?code="+i;for(let o=1;o<arguments.length;o+=1)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified MUI error #"+i+"; visit "+s+" for the full message."}const THEME_ID="$$material";function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var a in o)({}).hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i},_extends.apply(null,arguments)}function memoize$1(i){var s=Object.create(null);return function(o){return s[o]===void 0&&(s[o]=i(o)),s[o]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(i){return reactPropsRegex.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),isDevelopment$2=!1;function sheetForTag(i){if(i.sheet)return i.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===i)return document.styleSheets[s]}function createStyleElement(i){var s=document.createElement("style");return s.setAttribute("data-emotion",i.key),i.nonce!==void 0&&s.setAttribute("nonce",i.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var StyleSheet=function(){function i(o){var a=this;this._insertTag=function(_){var j;a.tags.length===0?a.insertionPoint?j=a.insertionPoint.nextSibling:a.prepend?j=a.container.firstChild:j=a.before:j=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(_,j),a.tags.push(_)},this.isSpeedy=o.speedy===void 0?!isDevelopment$2:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var s=i.prototype;return s.hydrate=function(a){a.forEach(this._insertTag)},s.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var _=this.tags[this.tags.length-1];if(this.isSpeedy){var j=sheetForTag(_);try{j.insertRule(a,j.cssRules.length)}catch{}}else _.appendChild(document.createTextNode(a));this.ctr++},s.flush=function(){this.tags.forEach(function(a){var _;return(_=a.parentNode)==null?void 0:_.removeChild(a)}),this.tags=[],this.ctr=0},i}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$2(i,s){return charat(i,0)^45?(((s<<2^charat(i,0))<<2^charat(i,1))<<2^charat(i,2))<<2^charat(i,3):0}function trim(i){return i.trim()}function match(i,s){return(i=s.exec(i))?i[0]:i}function replace(i,s,o){return i.replace(s,o)}function indexof(i,s){return i.indexOf(s)}function charat(i,s){return i.charCodeAt(s)|0}function substr(i,s,o){return i.slice(s,o)}function strlen(i){return i.length}function sizeof(i){return i.length}function append(i,s){return s.push(i),i}function combine(i,s){return i.map(s).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(i,s,o,a,_,j,rt){return{value:i,root:s,parent:o,type:a,props:_,children:j,line,column,length:rt,return:""}}function copy(i,s){return assign(node("",null,null,"",null,null,0),i,{length:-i.length},s)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(i,s){return substr(characters,i,s)}function token(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(i){return line=column=1,length=strlen(characters=i),position=0,[]}function dealloc(i){return characters="",i}function delimit(i){return trim(slice(position-1,delimiter(i===91?i+2:i===40?i+1:i)))}function whitespace(i){for(;(character=peek())&&character<33;)next();return token(i)>2||token(character)>3?"":" "}function escaping(i,s){for(;--s&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(i,caret()+(s<6&&peek()==32&&next()==32))}function delimiter(i){for(;next();)switch(character){case i:return position;case 34:case 39:i!==34&&i!==39&&delimiter(character);break;case 40:i===41&&delimiter(i);break;case 92:next();break}return position}function commenter(i,s){for(;next()&&i+character!==57;)if(i+character===84&&peek()===47)break;return"/*"+slice(s,position-1)+"*"+from(i===47?i:next())}function identifier(i){for(;!token(peek());)next();return slice(i,position)}function compile(i){return dealloc(parse("",null,null,null,[""],i=alloc(i),0,[0],i))}function parse(i,s,o,a,_,j,rt,tt,it){for(var dt=0,lt=0,gt=rt,vt=0,ht=0,mt=0,nt=1,$=1,_e=1,st=0,ot="",ut=_,et=j,at=a,pt=ot;$;)switch(mt=st,st=next()){case 40:if(mt!=108&&charat(pt,gt-1)==58){indexof(pt+=replace(delimit(st),"&","&\f"),"&\f")!=-1&&(_e=-1);break}case 34:case 39:case 91:pt+=delimit(st);break;case 9:case 10:case 13:case 32:pt+=whitespace(mt);break;case 92:pt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),s,o),it);break;default:pt+="/"}break;case 123*nt:tt[dt++]=strlen(pt)*_e;case 125*nt:case 59:case 0:switch(st){case 0:case 125:$=0;case 59+lt:_e==-1&&(pt=replace(pt,/\f/g,"")),ht>0&&strlen(pt)-gt&&append(ht>32?declaration(pt+";",a,o,gt-1):declaration(replace(pt," ","")+";",a,o,gt-2),it);break;case 59:pt+=";";default:if(append(at=ruleset(pt,s,o,dt,lt,_,tt,ot,ut=[],et=[],gt),j),st===123)if(lt===0)parse(pt,s,at,at,ut,j,gt,tt,et);else switch(vt===99&&charat(pt,3)===110?100:vt){case 100:case 108:case 109:case 115:parse(i,at,at,a&&append(ruleset(i,at,at,0,0,_,tt,ot,_,ut=[],gt),et),_,et,gt,tt,a?ut:et);break;default:parse(pt,at,at,at,[""],et,0,tt,et)}}dt=lt=ht=0,nt=_e=1,ot=pt="",gt=rt;break;case 58:gt=1+strlen(pt),ht=mt;default:if(nt<1){if(st==123)--nt;else if(st==125&&nt++==0&&prev()==125)continue}switch(pt+=from(st),st*nt){case 38:_e=lt>0?1:(pt+="\f",-1);break;case 44:tt[dt++]=(strlen(pt)-1)*_e,_e=1;break;case 64:peek()===45&&(pt+=delimit(next())),vt=peek(),lt=gt=strlen(ot=pt+=identifier(caret())),st++;break;case 45:mt===45&&strlen(pt)==2&&(nt=0)}}return j}function ruleset(i,s,o,a,_,j,rt,tt,it,dt,lt){for(var gt=_-1,vt=_===0?j:[""],ht=sizeof(vt),mt=0,nt=0,$=0;mt<a;++mt)for(var _e=0,st=substr(i,gt+1,gt=abs(nt=rt[mt])),ot=i;_e<ht;++_e)(ot=trim(nt>0?vt[_e]+" "+st:replace(st,/&\f/g,vt[_e])))&&(it[$++]=ot);return node(i,s,o,_===0?RULESET:tt,it,dt,lt)}function comment(i,s,o){return node(i,s,o,COMMENT,from(char()),substr(i,2,-2),0)}function declaration(i,s,o,a){return node(i,s,o,DECLARATION,substr(i,0,a),substr(i,a+1,-1),a)}function serialize(i,s){for(var o="",a=sizeof(i),_=0;_<a;_++)o+=s(i[_],_,i,s)||"";return o}function stringify(i,s,o,a){switch(i.type){case LAYER:if(i.children.length)break;case IMPORT:case DECLARATION:return i.return=i.return||i.value;case COMMENT:return"";case KEYFRAMES:return i.return=i.value+"{"+serialize(i.children,a)+"}";case RULESET:i.value=i.props.join(",")}return strlen(o=serialize(i.children,a))?i.return=i.value+"{"+o+"}":""}function middleware(i){var s=sizeof(i);return function(o,a,_,j){for(var rt="",tt=0;tt<s;tt++)rt+=i[tt](o,a,_,j)||"";return rt}}function rulesheet(i){return function(s){s.root||(s=s.return)&&i(s)}}var identifierWithPointTracking=function(s,o,a){for(var _=0,j=0;_=j,j=peek(),_===38&&j===12&&(o[a]=1),!token(j);)next();return slice(s,position)},toRules=function(s,o){var a=-1,_=44;do switch(token(_)){case 0:_===38&&peek()===12&&(o[a]=1),s[a]+=identifierWithPointTracking(position-1,o,a);break;case 2:s[a]+=delimit(_);break;case 4:if(_===44){s[++a]=peek()===58?"&\f":"",o[a]=s[a].length;break}default:s[a]+=from(_)}while(_=next());return s},getRules=function(s,o){return dealloc(toRules(alloc(s),o))},fixedElements=new WeakMap,compat=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var o=s.value,a=s.parent,_=s.column===a.column&&s.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(s.props.length===1&&o.charCodeAt(0)!==58&&!fixedElements.get(a))&&!_){fixedElements.set(s,!0);for(var j=[],rt=getRules(o,j),tt=a.props,it=0,dt=0;it<rt.length;it++)for(var lt=0;lt<tt.length;lt++,dt++)s.props[dt]=j[it]?rt[it].replace(/&\f/g,tt[lt]):tt[lt]+" "+rt[it]}}},removeLabel=function(s){if(s.type==="decl"){var o=s.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(s.return="",s.value="")}};function prefix(i,s){switch(hash$2(i,s)){case 5103:return WEBKIT+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+i+MOZ+i+MS+i+i;case 6828:case 4268:return WEBKIT+i+MS+i+i;case 6165:return WEBKIT+i+MS+"flex-"+i+i;case 5187:return WEBKIT+i+replace(i,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+i;case 5443:return WEBKIT+i+MS+"flex-item-"+replace(i,/flex-|-self/,"")+i;case 4675:return WEBKIT+i+MS+"flex-line-pack"+replace(i,/align-content|flex-|-self/,"")+i;case 5548:return WEBKIT+i+MS+replace(i,"shrink","negative")+i;case 5292:return WEBKIT+i+MS+replace(i,"basis","preferred-size")+i;case 6060:return WEBKIT+"box-"+replace(i,"-grow","")+WEBKIT+i+MS+replace(i,"grow","positive")+i;case 4554:return WEBKIT+replace(i,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+i;case 6187:return replace(replace(replace(i,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),i,"")+i;case 5495:case 3959:return replace(i,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(i,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+i+i;case 4095:case 3583:case 4068:case 2532:return replace(i,/(.+)-inline(.+)/,WEBKIT+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(i)-1-s>6)switch(charat(i,s+1)){case 109:if(charat(i,s+4)!==45)break;case 102:return replace(i,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(i,s+3)==108?"$3":"$2-$3"))+i;case 115:return~indexof(i,"stretch")?prefix(replace(i,"stretch","fill-available"),s)+i:i}break;case 4949:if(charat(i,s+1)!==115)break;case 6444:switch(charat(i,strlen(i)-3-(~indexof(i,"!important")&&10))){case 107:return replace(i,":",":"+WEBKIT)+i;case 101:return replace(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(i,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+i}break;case 5936:switch(charat(i,s+11)){case 114:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return WEBKIT+i+MS+replace(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return WEBKIT+i+MS+i+i}return i}var prefixer=function(s,o,a,_){if(s.length>-1&&!s.return)switch(s.type){case DECLARATION:s.return=prefix(s.value,s.length);break;case KEYFRAMES:return serialize([copy(s,{value:replace(s.value,"@","@"+WEBKIT)})],_);case RULESET:if(s.length)return combine(s.props,function(j){switch(match(j,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(s,{props:[replace(j,/:(read-\w+)/,":"+MOZ+"$1")]})],_);case"::placeholder":return serialize([copy(s,{props:[replace(j,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(s,{props:[replace(j,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(s,{props:[replace(j,/:(plac\w+)/,MS+"input-$1")]})],_)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(s){var o=s.key;if(o==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(nt){var $=nt.getAttribute("data-emotion");$.indexOf(" ")!==-1&&(document.head.appendChild(nt),nt.setAttribute("data-s",""))})}var _=s.stylisPlugins||defaultStylisPlugins,j={},rt,tt=[];rt=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(nt){for(var $=nt.getAttribute("data-emotion").split(" "),_e=1;_e<$.length;_e++)j[$[_e]]=!0;tt.push(nt)});var it,dt=[compat,removeLabel];{var lt,gt=[stringify,rulesheet(function(nt){lt.insert(nt)})],vt=middleware(dt.concat(_,gt)),ht=function($){return serialize(compile($),vt)};it=function($,_e,st,ot){lt=st,ht($?$+"{"+_e.styles+"}":_e.styles),ot&&(mt.inserted[_e.name]=!0)}}var mt={key:o,sheet:new StyleSheet({key:o,container:rt,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:j,registered:{},insert:it};return mt.sheet.hydrate(tt),mt},reactIs$1={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$1=b$1?Symbol.for("react.element"):60103,d$1=b$1?Symbol.for("react.portal"):60106,e$1=b$1?Symbol.for("react.fragment"):60107,f$1=b$1?Symbol.for("react.strict_mode"):60108,g$1=b$1?Symbol.for("react.profiler"):60114,h$1=b$1?Symbol.for("react.provider"):60109,k$1=b$1?Symbol.for("react.context"):60110,l$1=b$1?Symbol.for("react.async_mode"):60111,m$1=b$1?Symbol.for("react.concurrent_mode"):60111,n$1=b$1?Symbol.for("react.forward_ref"):60112,p$1=b$1?Symbol.for("react.suspense"):60113,q$1=b$1?Symbol.for("react.suspense_list"):60120,r$1=b$1?Symbol.for("react.memo"):60115,t$1=b$1?Symbol.for("react.lazy"):60116,v$1=b$1?Symbol.for("react.block"):60121,w=b$1?Symbol.for("react.fundamental"):60117,x=b$1?Symbol.for("react.responder"):60118,y=b$1?Symbol.for("react.scope"):60119;function z(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case c$1:switch(i=i.type,i){case l$1:case m$1:case e$1:case g$1:case f$1:case p$1:return i;default:switch(i=i&&i.$$typeof,i){case k$1:case n$1:case t$1:case r$1:case h$1:return i;default:return s}}case d$1:return s}}}function A(i){return z(i)===m$1}reactIs_production_min$1.AsyncMode=l$1;reactIs_production_min$1.ConcurrentMode=m$1;reactIs_production_min$1.ContextConsumer=k$1;reactIs_production_min$1.ContextProvider=h$1;reactIs_production_min$1.Element=c$1;reactIs_production_min$1.ForwardRef=n$1;reactIs_production_min$1.Fragment=e$1;reactIs_production_min$1.Lazy=t$1;reactIs_production_min$1.Memo=r$1;reactIs_production_min$1.Portal=d$1;reactIs_production_min$1.Profiler=g$1;reactIs_production_min$1.StrictMode=f$1;reactIs_production_min$1.Suspense=p$1;reactIs_production_min$1.isAsyncMode=function(i){return A(i)||z(i)===l$1};reactIs_production_min$1.isConcurrentMode=A;reactIs_production_min$1.isContextConsumer=function(i){return z(i)===k$1};reactIs_production_min$1.isContextProvider=function(i){return z(i)===h$1};reactIs_production_min$1.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c$1};reactIs_production_min$1.isForwardRef=function(i){return z(i)===n$1};reactIs_production_min$1.isFragment=function(i){return z(i)===e$1};reactIs_production_min$1.isLazy=function(i){return z(i)===t$1};reactIs_production_min$1.isMemo=function(i){return z(i)===r$1};reactIs_production_min$1.isPortal=function(i){return z(i)===d$1};reactIs_production_min$1.isProfiler=function(i){return z(i)===g$1};reactIs_production_min$1.isStrictMode=function(i){return z(i)===f$1};reactIs_production_min$1.isSuspense=function(i){return z(i)===p$1};reactIs_production_min$1.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e$1||i===m$1||i===g$1||i===f$1||i===p$1||i===q$1||typeof i=="object"&&i!==null&&(i.$$typeof===t$1||i.$$typeof===r$1||i.$$typeof===h$1||i.$$typeof===k$1||i.$$typeof===n$1||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v$1)};reactIs_production_min$1.typeOf=z;reactIs$1.exports=reactIs_production_min$1;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(i,s,o){var a="";return o.split(" ").forEach(function(_){i[_]!==void 0?s.push(i[_]+";"):_&&(a+=_+" ")}),a}var registerStyles=function(s,o,a){var _=s.key+"-"+o.name;(a===!1||isBrowser===!1)&&s.registered[_]===void 0&&(s.registered[_]=o.styles)},insertStyles=function(s,o,a){registerStyles(s,o,a);var _=s.key+"-"+o.name;if(s.inserted[o.name]===void 0){var j=o;do s.insert(o===j?"."+_:"",j,s.sheet,!0),j=j.next;while(j!==void 0)}};function murmur2(i){for(var s=0,o,a=0,_=i.length;_>=4;++a,_-=4)o=i.charCodeAt(a)&255|(i.charCodeAt(++a)&255)<<8|(i.charCodeAt(++a)&255)<<16|(i.charCodeAt(++a)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,s=(o&65535)*1540483477+((o>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(_){case 3:s^=(i.charCodeAt(a+2)&255)<<16;case 2:s^=(i.charCodeAt(a+1)&255)<<8;case 1:s^=i.charCodeAt(a)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment$1=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(s){return s.charCodeAt(1)===45},isProcessableValue=function(s){return s!=null&&typeof s!="boolean"},processStyleName=memoize$1(function(i){return isCustomProperty(i)?i:i.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(s,o){switch(s){case"animation":case"animationName":if(typeof o=="string")return o.replace(animationRegex,function(a,_,j){return cursor={name:_,styles:j,next:cursor},_})}return unitlessKeys[s]!==1&&!isCustomProperty(s)&&typeof o=="number"&&o!==0?o+"px":o},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(i,s,o){if(o==null)return"";var a=o;if(a.__emotion_styles!==void 0)return a;switch(typeof o){case"boolean":return"";case"object":{var _=o;if(_.anim===1)return cursor={name:_.name,styles:_.styles,next:cursor},_.name;var j=o;if(j.styles!==void 0){var rt=j.next;if(rt!==void 0)for(;rt!==void 0;)cursor={name:rt.name,styles:rt.styles,next:cursor},rt=rt.next;var tt=j.styles+";";return tt}return createStringFromObject(i,s,o)}case"function":{if(i!==void 0){var it=cursor,dt=o(i);return cursor=it,handleInterpolation(i,s,dt)}break}}var lt=o;if(s==null)return lt;var gt=s[lt];return gt!==void 0?gt:lt}function createStringFromObject(i,s,o){var a="";if(Array.isArray(o))for(var _=0;_<o.length;_++)a+=handleInterpolation(i,s,o[_])+";";else for(var j in o){var rt=o[j];if(typeof rt!="object"){var tt=rt;s!=null&&s[tt]!==void 0?a+=j+"{"+s[tt]+"}":isProcessableValue(tt)&&(a+=processStyleName(j)+":"+processStyleValue(j,tt)+";")}else{if(j==="NO_COMPONENT_SELECTOR"&&isDevelopment$1)throw new Error(noComponentSelectorMessage);if(Array.isArray(rt)&&typeof rt[0]=="string"&&(s==null||s[rt[0]]===void 0))for(var it=0;it<rt.length;it++)isProcessableValue(rt[it])&&(a+=processStyleName(j)+":"+processStyleValue(j,rt[it])+";");else{var dt=handleInterpolation(i,s,rt);switch(j){case"animation":case"animationName":{a+=processStyleName(j)+":"+dt+";";break}default:a+=j+"{"+dt+"}"}}}}return a}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(i,s,o){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var a=!0,_="";cursor=void 0;var j=i[0];if(j==null||j.raw===void 0)a=!1,_+=handleInterpolation(o,s,j);else{var rt=j;_+=rt[0]}for(var tt=1;tt<i.length;tt++)if(_+=handleInterpolation(o,s,i[tt]),a){var it=j;_+=it[tt]}labelPattern.lastIndex=0;for(var dt="",lt;(lt=labelPattern.exec(_))!==null;)dt+="-"+lt[1];var gt=murmur2(_)+dt;return{name:gt,styles:_,next:cursor}}var syncFallback=function(s){return s()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(s){return reactExports.forwardRef(function(o,a){var _=reactExports.useContext(EmotionCacheContext);return s(o,_,a)})},ThemeContext=reactExports.createContext({}),Global=withEmotionCache(function(i,s){var o=i.styles,a=serializeStyles([o],void 0,reactExports.useContext(ThemeContext)),_=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var j=s.key+"-global",rt=new s.sheet.constructor({key:j,nonce:s.sheet.nonce,container:s.sheet.container,speedy:s.sheet.isSpeedy}),tt=!1,it=document.querySelector('style[data-emotion="'+j+" "+a.name+'"]');return s.sheet.tags.length&&(rt.before=s.sheet.tags[0]),it!==null&&(tt=!0,it.setAttribute("data-emotion",j),rt.hydrate([it])),_.current=[rt,tt],function(){rt.flush()}},[s]),useInsertionEffectWithLayoutFallback(function(){var j=_.current,rt=j[0],tt=j[1];if(tt){j[1]=!1;return}if(a.next!==void 0&&insertStyles(s,a.next,!0),rt.tags.length){var it=rt.tags[rt.tags.length-1].nextElementSibling;rt.before=it,rt.flush()}s.insert("",a,rt,!1)},[s,a.name]),null});function css(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return serializeStyles(s)}var keyframes=function(){var s=css.apply(void 0,arguments),o="animation-"+s.name;return{name:o,styles:"@keyframes "+o+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(s){return s!=="theme"},getDefaultShouldForwardProp=function(s){return typeof s=="string"&&s.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(s,o,a){var _;if(o){var j=o.shouldForwardProp;_=s.__emotion_forwardProp&&j?function(rt){return s.__emotion_forwardProp(rt)&&j(rt)}:j}return typeof _!="function"&&a&&(_=s.__emotion_forwardProp),_},isDevelopment=!1,Insertion=function(s){var o=s.cache,a=s.serialized,_=s.isStringTag;return registerStyles(o,a,_),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(o,a,_)}),null},createStyled$1=function i(s,o){var a=s.__emotion_real===s,_=a&&s.__emotion_base||s,j,rt;o!==void 0&&(j=o.label,rt=o.target);var tt=composeShouldForwardProps(s,o,a),it=tt||getDefaultShouldForwardProp(_),dt=!it("as");return function(){var lt=arguments,gt=a&&s.__emotion_styles!==void 0?s.__emotion_styles.slice(0):[];if(j!==void 0&&gt.push("label:"+j+";"),lt[0]==null||lt[0].raw===void 0)gt.push.apply(gt,lt);else{gt.push(lt[0][0]);for(var vt=lt.length,ht=1;ht<vt;ht++)gt.push(lt[ht],lt[0][ht])}var mt=withEmotionCache(function(nt,$,_e){var st=dt&&nt.as||_,ot="",ut=[],et=nt;if(nt.theme==null){et={};for(var at in nt)et[at]=nt[at];et.theme=reactExports.useContext(ThemeContext)}typeof nt.className=="string"?ot=getRegisteredStyles($.registered,ut,nt.className):nt.className!=null&&(ot=nt.className+" ");var pt=serializeStyles(gt.concat(ut),$.registered,et);ot+=$.key+"-"+pt.name,rt!==void 0&&(ot+=" "+rt);var ct=dt&&tt===void 0?getDefaultShouldForwardProp(st):it,yt={};for(var ft in nt)dt&&ft==="as"||ct(ft)&&(yt[ft]=nt[ft]);return yt.className=ot,_e&&(yt.ref=_e),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:$,serialized:pt,isStringTag:typeof st=="string"}),reactExports.createElement(st,yt))});return mt.displayName=j!==void 0?j:"Styled("+(typeof _=="string"?_:_.displayName||_.name||"Component")+")",mt.defaultProps=s.defaultProps,mt.__emotion_real=mt,mt.__emotion_base=_,mt.__emotion_styles=gt,mt.__emotion_forwardProp=tt,Object.defineProperty(mt,"toString",{value:function(){return rt===void 0&&isDevelopment?"NO_COMPONENT_SELECTOR":"."+rt}}),mt.withComponent=function(nt,$){return i(nt,_extends({},o,$,{shouldForwardProp:composeShouldForwardProps(mt,$,!0)})).apply(void 0,gt)},mt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(i){newStyled[i]=newStyled(i)});function isEmpty$2(i){return i==null||Object.keys(i).length===0}function GlobalStyles$2(i){const{styles:s,defaultTheme:o={}}=i,a=typeof s=="function"?_=>s(isEmpty$2(_)?o:_):s;return jsxRuntimeExports.jsx(Global,{styles:a})}/**
 * @mui/styled-engine v6.1.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(i,s){return newStyled(i,s)}const internal_processStyles=(i,s)=>{Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=s(i.__emotion_styles))};function isPlainObject(i){if(typeof i!="object"||i===null)return!1;const s=Object.getPrototypeOf(i);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function deepClone(i){if(!isPlainObject(i))return i;const s={};return Object.keys(i).forEach(o=>{s[o]=deepClone(i[o])}),s}function deepmerge(i,s,o={clone:!0}){const a=o.clone?{...i}:i;return isPlainObject(i)&&isPlainObject(s)&&Object.keys(s).forEach(_=>{isPlainObject(s[_])&&Object.prototype.hasOwnProperty.call(i,_)&&isPlainObject(i[_])?a[_]=deepmerge(i[_],s[_],o):o.clone?a[_]=isPlainObject(s[_])?deepClone(s[_]):s[_]:a[_]=s[_]}),a}const sortBreakpointsValues=i=>{const s=Object.keys(i).map(o=>({key:o,val:i[o]}))||[];return s.sort((o,a)=>o.val-a.val),s.reduce((o,a)=>({...o,[a.key]:a.val}),{})};function createBreakpoints(i){const{values:s={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:o="px",step:a=5,..._}=i,j=sortBreakpointsValues(s),rt=Object.keys(j);function tt(vt){return`@media (min-width:${typeof s[vt]=="number"?s[vt]:vt}${o})`}function it(vt){return`@media (max-width:${(typeof s[vt]=="number"?s[vt]:vt)-a/100}${o})`}function dt(vt,ht){const mt=rt.indexOf(ht);return`@media (min-width:${typeof s[vt]=="number"?s[vt]:vt}${o}) and (max-width:${(mt!==-1&&typeof s[rt[mt]]=="number"?s[rt[mt]]:ht)-a/100}${o})`}function lt(vt){return rt.indexOf(vt)+1<rt.length?dt(vt,rt[rt.indexOf(vt)+1]):tt(vt)}function gt(vt){const ht=rt.indexOf(vt);return ht===0?tt(rt[1]):ht===rt.length-1?it(rt[ht]):dt(vt,rt[rt.indexOf(vt)+1]).replace("@media","@media not all and")}return{keys:rt,values:j,up:tt,down:it,between:dt,only:lt,not:gt,unit:o,..._}}function sortContainerQueries(i,s){if(!i.containerQueries)return s;const o=Object.keys(s).filter(a=>a.startsWith("@container")).sort((a,_)=>{var rt,tt;const j=/min-width:\s*([0-9.]+)/;return+(((rt=a.match(j))==null?void 0:rt[1])||0)-+(((tt=_.match(j))==null?void 0:tt[1])||0)});return o.length?o.reduce((a,_)=>{const j=s[_];return delete a[_],a[_]=j,a},{...s}):s}function isCqShorthand(i,s){return s==="@"||s.startsWith("@")&&(i.some(o=>s.startsWith(`@${o}`))||!!s.match(/^@\d/))}function getContainerQuery(i,s){const o=s.match(/^@([^/]+)?\/?(.+)?$/);if(!o)return null;const[,a,_]=o,j=Number.isNaN(+a)?a||0:+a;return i.containerQueries(_).up(j)}function cssContainerQueries(i){const s=(j,rt)=>j.replace("@media",rt?`@container ${rt}`:"@container");function o(j,rt){j.up=(...tt)=>s(i.breakpoints.up(...tt),rt),j.down=(...tt)=>s(i.breakpoints.down(...tt),rt),j.between=(...tt)=>s(i.breakpoints.between(...tt),rt),j.only=(...tt)=>s(i.breakpoints.only(...tt),rt),j.not=(...tt)=>{const it=s(i.breakpoints.not(...tt),rt);return it.includes("not all and")?it.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):it}}const a={},_=j=>(o(a,j),a);return o(_),{...i,containerQueries:_}}const shape={borderRadius:4};function merge(i,s){return s?deepmerge(i,s,{clone:!1}):i}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${values$1[i]}px)`},defaultContainerQueries={containerQueries:i=>({up:s=>{let o=typeof s=="number"?s:values$1[s]||s;return typeof o=="number"&&(o=`${o}px`),i?`@container ${i} (min-width:${o})`:`@container (min-width:${o})`}})};function handleBreakpoints(i,s,o){const a=i.theme||{};if(Array.isArray(s)){const j=a.breakpoints||defaultBreakpoints;return s.reduce((rt,tt,it)=>(rt[j.up(j.keys[it])]=o(s[it]),rt),{})}if(typeof s=="object"){const j=a.breakpoints||defaultBreakpoints;return Object.keys(s).reduce((rt,tt)=>{if(isCqShorthand(j.keys,tt)){const it=getContainerQuery(a.containerQueries?a:defaultContainerQueries,tt);it&&(rt[it]=o(s[tt],tt))}else if(Object.keys(j.values||values$1).includes(tt)){const it=j.up(tt);rt[it]=o(s[tt],tt)}else{const it=tt;rt[it]=s[it]}return rt},{})}return o(s)}function createEmptyBreakpointObject(i={}){var o;return((o=i.keys)==null?void 0:o.reduce((a,_)=>{const j=i.up(_);return a[j]={},a},{}))||{}}function removeUnusedBreakpoints(i,s){return i.reduce((o,a)=>{const _=o[a];return(!_||Object.keys(_).length===0)&&delete o[a],o},s)}function capitalize(i){if(typeof i!="string")throw new Error(formatMuiErrorMessage(7));return i.charAt(0).toUpperCase()+i.slice(1)}function getPath(i,s,o=!0){if(!s||typeof s!="string")return null;if(i&&i.vars&&o){const a=`vars.${s}`.split(".").reduce((_,j)=>_&&_[j]?_[j]:null,i);if(a!=null)return a}return s.split(".").reduce((a,_)=>a&&a[_]!=null?a[_]:null,i)}function getStyleValue$1(i,s,o,a=o){let _;return typeof i=="function"?_=i(o):Array.isArray(i)?_=i[o]||a:_=getPath(i,o)||a,s&&(_=s(_,a,i)),_}function style$1(i){const{prop:s,cssProperty:o=i.prop,themeKey:a,transform:_}=i,j=rt=>{if(rt[s]==null)return null;const tt=rt[s],it=rt.theme,dt=getPath(it,a)||{};return handleBreakpoints(rt,tt,gt=>{let vt=getStyleValue$1(dt,_,gt);return gt===vt&&typeof gt=="string"&&(vt=getStyleValue$1(dt,_,`${s}${gt==="default"?"":capitalize(gt)}`,gt)),o===!1?vt:{[o]:vt}})};return j.propTypes={},j.filterProps=[s],j}function memoize(i){const s={};return o=>(s[o]===void 0&&(s[o]=i(o)),s[o])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(i=>{if(i.length>2)if(aliases[i])i=aliases[i];else return[i];const[s,o]=i.split(""),a=properties[s],_=directions[o]||"";return Array.isArray(_)?_.map(j=>a+j):[a+_]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(i,s,o,a){const _=getPath(i,s,!0)??o;return typeof _=="number"||typeof _=="string"?j=>typeof j=="string"?j:typeof _=="string"?`calc(${j} * ${_})`:_*j:Array.isArray(_)?j=>{if(typeof j=="string")return j;const rt=Math.abs(j),tt=_[rt];return j>=0?tt:typeof tt=="number"?-tt:`-${tt}`}:typeof _=="function"?_:()=>{}}function createUnarySpacing(i){return createUnaryUnit(i,"spacing",8)}function getValue(i,s){return typeof s=="string"||s==null?s:i(s)}function getStyleFromPropValue(i,s){return o=>i.reduce((a,_)=>(a[_]=getValue(s,o),a),{})}function resolveCssProperty(i,s,o,a){if(!s.includes(o))return null;const _=getCssProperties(o),j=getStyleFromPropValue(_,a),rt=i[o];return handleBreakpoints(i,rt,j)}function style(i,s){const o=createUnarySpacing(i.theme);return Object.keys(i).map(a=>resolveCssProperty(i,s,a,o)).reduce(merge,{})}function margin(i){return style(i,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(i){return style(i,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(i=8,s=createUnarySpacing({spacing:i})){if(i.mui)return i;const o=(...a)=>(a.length===0?[1]:a).map(j=>{const rt=s(j);return typeof rt=="number"?`${rt}px`:rt}).join(" ");return o.mui=!0,o}function compose(...i){const s=i.reduce((a,_)=>(_.filterProps.forEach(j=>{a[j]=_}),a),{}),o=a=>Object.keys(a).reduce((_,j)=>s[j]?merge(_,s[j](a)):_,{});return o.propTypes={},o.filterProps=i.reduce((a,_)=>a.concat(_.filterProps),[]),o}function borderTransform(i){return typeof i!="number"?i:`${i}px solid`}function createBorderStyle(i,s){return style$1({prop:i,themeKey:"borders",transform:s})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const s=createUnaryUnit(i.theme,"shape.borderRadius",4),o=a=>({borderRadius:getValue(s,a)});return handleBreakpoints(i,i.borderRadius,o)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=i=>{if(i.gap!==void 0&&i.gap!==null){const s=createUnaryUnit(i.theme,"spacing",8),o=a=>({gap:getValue(s,a)});return handleBreakpoints(i,i.gap,o)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const s=createUnaryUnit(i.theme,"spacing",8),o=a=>({columnGap:getValue(s,a)});return handleBreakpoints(i,i.columnGap,o)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const s=createUnaryUnit(i.theme,"spacing",8),o=a=>({rowGap:getValue(s,a)});return handleBreakpoints(i,i.rowGap,o)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(i,s){return s==="grey"?s:i}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(i){return i<=1&&i!==0?`${i*100}%`:i}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const s=o=>{var _,j,rt,tt,it;const a=((rt=(j=(_=i.theme)==null?void 0:_.breakpoints)==null?void 0:j.values)==null?void 0:rt[o])||values$1[o];return a?((it=(tt=i.theme)==null?void 0:tt.breakpoints)==null?void 0:it.unit)!=="px"?{maxWidth:`${a}${i.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:sizingTransform(o)}};return handleBreakpoints(i,i.maxWidth,s)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function objectsHaveSameKeys(...i){const s=i.reduce((a,_)=>a.concat(Object.keys(_)),[]),o=new Set(s);return i.every(a=>o.size===Object.keys(a).length)}function callIfFn(i,s){return typeof i=="function"?i(s):i}function unstable_createStyleFunctionSx(){function i(o,a,_,j){const rt={[o]:a,theme:_},tt=j[o];if(!tt)return{[o]:a};const{cssProperty:it=o,themeKey:dt,transform:lt,style:gt}=tt;if(a==null)return null;if(dt==="typography"&&a==="inherit")return{[o]:a};const vt=getPath(_,dt)||{};return gt?gt(rt):handleBreakpoints(rt,a,mt=>{let nt=getStyleValue$1(vt,lt,mt);return mt===nt&&typeof mt=="string"&&(nt=getStyleValue$1(vt,lt,`${o}${mt==="default"?"":capitalize(mt)}`,mt)),it===!1?nt:{[it]:nt}})}function s(o){const{sx:a,theme:_={}}=o||{};if(!a)return null;const j=_.unstable_sxConfig??defaultSxConfig;function rt(tt){let it=tt;if(typeof tt=="function")it=tt(_);else if(typeof tt!="object")return tt;if(!it)return null;const dt=createEmptyBreakpointObject(_.breakpoints),lt=Object.keys(dt);let gt=dt;return Object.keys(it).forEach(vt=>{const ht=callIfFn(it[vt],_);if(ht!=null)if(typeof ht=="object")if(j[vt])gt=merge(gt,i(vt,ht,_,j));else{const mt=handleBreakpoints({theme:_},ht,nt=>({[vt]:nt}));objectsHaveSameKeys(mt,ht)?gt[vt]=s({sx:ht,theme:_}):gt=merge(gt,mt)}else gt=merge(gt,i(vt,ht,_,j))}),sortContainerQueries(_,removeUnusedBreakpoints(lt,gt))}return Array.isArray(a)?a.map(rt):rt(a)}return s}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];function applyStyles$2(i,s){var a;const o=this;if(o.vars){if(!((a=o.colorSchemes)!=null&&a[i])||typeof o.getColorSchemeSelector!="function")return{};let _=o.getColorSchemeSelector(i);return _==="&"?s:((_.includes("data-")||_.includes("."))&&(_=`*:where(${_.replace(/\s*&$/,"")}) &`),{[_]:s})}return o.palette.mode===i?s:{}}function createTheme$1(i={},...s){const{breakpoints:o={},palette:a={},spacing:_,shape:j={},...rt}=i,tt=createBreakpoints(o),it=createSpacing(_);let dt=deepmerge({breakpoints:tt,direction:"ltr",components:{},palette:{mode:"light",...a},spacing:it,shape:{...shape,...j}},rt);return dt=cssContainerQueries(dt),dt.applyStyles=applyStyles$2,dt=s.reduce((lt,gt)=>deepmerge(lt,gt),dt),dt.unstable_sxConfig={...defaultSxConfig,...rt==null?void 0:rt.unstable_sxConfig},dt.unstable_sx=function(gt){return styleFunctionSx({sx:gt,theme:this})},dt}function isObjectEmpty$1(i){return Object.keys(i).length===0}function useTheme$2(i=null){const s=reactExports.useContext(ThemeContext);return!s||isObjectEmpty$1(s)?i:s}const systemDefaultTheme$1=createTheme$1();function useTheme$1(i=systemDefaultTheme$1){return useTheme$2(i)}function GlobalStyles$1({styles:i,themeId:s,defaultTheme:o={}}){const a=useTheme$1(o),_=typeof i=="function"?i(s&&a[s]||a):i;return jsxRuntimeExports.jsx(GlobalStyles$2,{styles:_})}const splitProps=i=>{var a;const s={systemProps:{},otherProps:{}},o=((a=i==null?void 0:i.theme)==null?void 0:a.unstable_sxConfig)??defaultSxConfig;return Object.keys(i).forEach(_=>{o[_]?s.systemProps[_]=i[_]:s.otherProps[_]=i[_]}),s};function extendSxProp$1(i){const{sx:s,...o}=i,{systemProps:a,otherProps:_}=splitProps(o);let j;return Array.isArray(s)?j=[a,...s]:typeof s=="function"?j=(...rt)=>{const tt=s(...rt);return isPlainObject(tt)?{...a,...tt}:a}:j={...a,...s},{..._,sx:j}}const defaultGenerator=i=>i,createClassNameGenerator=()=>{let i=defaultGenerator;return{configure(s){i=s},generate(s){return i(s)},reset(){i=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator();function r(i){var s,o,a="";if(typeof i=="string"||typeof i=="number")a+=i;else if(typeof i=="object")if(Array.isArray(i)){var _=i.length;for(s=0;s<_;s++)i[s]&&(o=r(i[s]))&&(a&&(a+=" "),a+=o)}else for(o in i)i[o]&&(a&&(a+=" "),a+=o);return a}function clsx(){for(var i,s,o=0,a="",_=arguments.length;o<_;o++)(i=arguments[o])&&(s=r(i))&&(a&&(a+=" "),a+=s);return a}function createBox(i={}){const{themeId:s,defaultTheme:o,defaultClassName:a="MuiBox-root",generateClassName:_}=i,j=styled$2("div",{shouldForwardProp:tt=>tt!=="theme"&&tt!=="sx"&&tt!=="as"})(styleFunctionSx);return reactExports.forwardRef(function(it,dt){const lt=useTheme$1(o),{className:gt,component:vt="div",...ht}=extendSxProp$1(it);return jsxRuntimeExports.jsx(j,{as:vt,ref:dt,className:clsx(gt,_?_(a):a),theme:s&&lt[s]||lt,...ht})})}const globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(i,s,o="Mui"){const a=globalStateClasses[s];return a?`${o}-${a}`:`${ClassNameGenerator.generate(i)}-${s}`}function generateUtilityClasses(i,s,o="Mui"){const a={};return s.forEach(_=>{a[_]=generateUtilityClass(i,_,o)}),a}var reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v(i){if(typeof i=="object"&&i!==null){var s=i.$$typeof;switch(s){case b:switch(i=i.type,i){case d:case f:case e:case m:case n:return i;default:switch(i=i&&i.$$typeof,i){case k:case h:case l:case q:case p:case g:return i;default:return s}}case c:return s}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(i){return v(i)===h};reactIs_production_min.isContextProvider=function(i){return v(i)===g};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===b};reactIs_production_min.isForwardRef=function(i){return v(i)===l};reactIs_production_min.isFragment=function(i){return v(i)===d};reactIs_production_min.isLazy=function(i){return v(i)===q};reactIs_production_min.isMemo=function(i){return v(i)===p};reactIs_production_min.isPortal=function(i){return v(i)===c};reactIs_production_min.isProfiler=function(i){return v(i)===f};reactIs_production_min.isStrictMode=function(i){return v(i)===e};reactIs_production_min.isSuspense=function(i){return v(i)===m};reactIs_production_min.isSuspenseList=function(i){return v(i)===n};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===d||i===f||i===e||i===m||i===n||i===t||typeof i=="object"&&i!==null&&(i.$$typeof===q||i.$$typeof===p||i.$$typeof===g||i.$$typeof===h||i.$$typeof===l||i.$$typeof===u||i.getModuleId!==void 0)};reactIs_production_min.typeOf=v;const systemDefaultTheme=createTheme$1();function shouldForwardProp(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}function resolveTheme(i,s,o){return isObjectEmpty(s)?o:s[i]||s}const PROCESSED_PROPS=Symbol("mui.processed_props");function attachTheme(i,s,o){if(PROCESSED_PROPS in i)return i[PROCESSED_PROPS];const a={...i,theme:resolveTheme(s,i.theme,o)};return i[PROCESSED_PROPS]=a,a[PROCESSED_PROPS]=a,a}function defaultOverridesResolver(i){return i?(s,o)=>o[i]:null}function processStyle(i,s){var a;const o=typeof i=="function"?i(s):i;if(Array.isArray(o))return o.flatMap(_=>processStyle(_,s));if(Array.isArray(o==null?void 0:o.variants)){const{variants:_,...j}=o;let rt=j,tt;e:for(let it=0;it<_.length;it+=1){const dt=_[it];if(typeof dt.props=="function"){if(tt??(tt={...s,...s.ownerState,ownerState:s.ownerState}),!dt.props(tt))continue}else for(const lt in dt.props)if(s[lt]!==dt.props[lt]&&((a=s.ownerState)==null?void 0:a[lt])!==dt.props[lt])continue e;Array.isArray(rt)||(rt=[rt]),typeof dt.style=="function"?(tt??(tt={...s,...s.ownerState,ownerState:s.ownerState}),rt.push(dt.style(tt))):rt.push(dt.style)}return rt}return o}function createStyled(i={}){const{themeId:s,defaultTheme:o=systemDefaultTheme,rootShouldForwardProp:a=shouldForwardProp,slotShouldForwardProp:_=shouldForwardProp}=i,j=tt=>styleFunctionSx(attachTheme(tt,s,o));return j.__mui_systemSx=!0,(tt,it={})=>{internal_processStyles(tt,at=>at.filter(pt=>!(pt!=null&&pt.__mui_systemSx)));const{name:dt,slot:lt,skipVariantsResolver:gt,skipSx:vt,overridesResolver:ht=defaultOverridesResolver(lowercaseFirstLetter(lt)),...mt}=it,nt=gt!==void 0?gt:lt&&lt!=="Root"&&lt!=="root"||!1,$=vt||!1;let _e,st=shouldForwardProp;lt==="Root"||lt==="root"?st=a:lt?st=_:isStringTag(tt)&&(st=void 0);const ot=styled$2(tt,{shouldForwardProp:st,label:_e,...mt}),ut=at=>typeof at=="function"&&at.__emotion_real!==at||isPlainObject(at)?pt=>processStyle(at,attachTheme(pt,s,o)):at,et=(at,...pt)=>{let ct=ut(at);const yt=pt?pt.map(ut):[];dt&&ht&&yt.push(wt=>{const Et=resolveTheme(s,wt.theme,o);if(!Et.components||!Et.components[dt]||!Et.components[dt].styleOverrides)return null;const Mt=Et.components[dt].styleOverrides,St={},At=attachTheme(wt,s,o);for(const Rt in Mt)St[Rt]=processStyle(Mt[Rt],At);return ht(wt,St)}),dt&&!nt&&yt.push(wt=>{var St,At;const Et=resolveTheme(s,wt.theme,o),Mt=(At=(St=Et==null?void 0:Et.components)==null?void 0:St[dt])==null?void 0:At.variants;return Mt?processStyle({variants:Mt},attachTheme(wt,s,o)):null}),$||yt.push(j);const ft=yt.length-pt.length;if(Array.isArray(at)&&ft>0){const wt=new Array(ft).fill("");ct=[...at,...wt],ct.raw=[...at.raw,...wt]}const _t=ot(ct,...yt);return tt.muiName&&(_t.muiName=tt.muiName),_t};return ot.withConfig&&(et.withConfig=ot.withConfig),et}}function isObjectEmpty(i){for(const s in i)return!1;return!0}function isStringTag(i){return typeof i=="string"&&i.charCodeAt(0)>96}function lowercaseFirstLetter(i){return i&&i.charAt(0).toLowerCase()+i.slice(1)}const styled$1=createStyled();function resolveProps(i,s){const o={...s};for(const a in i)if(Object.prototype.hasOwnProperty.call(i,a)){const _=a;if(_==="components"||_==="slots")o[_]={...i[_],...o[_]};else if(_==="componentsProps"||_==="slotProps"){const j=i[_],rt=s[_];if(!rt)o[_]=j||{};else if(!j)o[_]=rt;else{o[_]={...rt};for(const tt in j)if(Object.prototype.hasOwnProperty.call(j,tt)){const it=tt;o[_][it]=resolveProps(j[it],rt[it])}}}else o[_]===void 0&&(o[_]=i[_])}return o}function getThemeProps$1(i){const{theme:s,name:o,props:a}=i;return!s||!s.components||!s.components[o]||!s.components[o].defaultProps?a:resolveProps(s.components[o].defaultProps,a)}function useThemeProps$1({props:i,name:s,defaultTheme:o,themeId:a}){let _=useTheme$1(o);return a&&(_=_[a]||_),getThemeProps$1({theme:_,name:s,props:i})}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function clamp(i,s=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER){return Math.max(s,Math.min(i,o))}function clampWrapper(i,s=0,o=1){return clamp(i,s,o)}function hexToRgb(i){i=i.slice(1);const s=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let o=i.match(s);return o&&o[0].length===1&&(o=o.map(a=>a+a)),o?`rgb${o.length===4?"a":""}(${o.map((a,_)=>_<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(i){if(i.type)return i;if(i.charAt(0)==="#")return decomposeColor(hexToRgb(i));const s=i.indexOf("("),o=i.substring(0,s);if(!["rgb","rgba","hsl","hsla","color"].includes(o))throw new Error(formatMuiErrorMessage(9,i));let a=i.substring(s+1,i.length-1),_;if(o==="color"){if(a=a.split(" "),_=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(_))throw new Error(formatMuiErrorMessage(10,_))}else a=a.split(",");return a=a.map(j=>parseFloat(j)),{type:o,values:a,colorSpace:_}}const colorChannel=i=>{const s=decomposeColor(i);return s.values.slice(0,3).map((o,a)=>s.type.includes("hsl")&&a!==0?`${o}%`:o).join(" ")},private_safeColorChannel=(i,s)=>{try{return colorChannel(i)}catch{return i}};function recomposeColor(i){const{type:s,colorSpace:o}=i;let{values:a}=i;return s.includes("rgb")?a=a.map((_,j)=>j<3?parseInt(_,10):_):s.includes("hsl")&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),s.includes("color")?a=`${o} ${a.join(" ")}`:a=`${a.join(", ")}`,`${s}(${a})`}function hslToRgb(i){i=decomposeColor(i);const{values:s}=i,o=s[0],a=s[1]/100,_=s[2]/100,j=a*Math.min(_,1-_),rt=(dt,lt=(dt+o/30)%12)=>_-j*Math.max(Math.min(lt-3,9-lt,1),-1);let tt="rgb";const it=[Math.round(rt(0)*255),Math.round(rt(8)*255),Math.round(rt(4)*255)];return i.type==="hsla"&&(tt+="a",it.push(s[3])),recomposeColor({type:tt,values:it})}function getLuminance(i){i=decomposeColor(i);let s=i.type==="hsl"||i.type==="hsla"?decomposeColor(hslToRgb(i)).values:i.values;return s=s.map(o=>(i.type!=="color"&&(o/=255),o<=.03928?o/12.92:((o+.055)/1.055)**2.4)),Number((.2126*s[0]+.7152*s[1]+.0722*s[2]).toFixed(3))}function getContrastRatio(i,s){const o=getLuminance(i),a=getLuminance(s);return(Math.max(o,a)+.05)/(Math.min(o,a)+.05)}function alpha(i,s){return i=decomposeColor(i),s=clampWrapper(s),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${s}`:i.values[3]=s,recomposeColor(i)}function private_safeAlpha(i,s,o){try{return alpha(i,s)}catch{return i}}function darken(i,s){if(i=decomposeColor(i),s=clampWrapper(s),i.type.includes("hsl"))i.values[2]*=1-s;else if(i.type.includes("rgb")||i.type.includes("color"))for(let o=0;o<3;o+=1)i.values[o]*=1-s;return recomposeColor(i)}function private_safeDarken(i,s,o){try{return darken(i,s)}catch{return i}}function lighten(i,s){if(i=decomposeColor(i),s=clampWrapper(s),i.type.includes("hsl"))i.values[2]+=(100-i.values[2])*s;else if(i.type.includes("rgb"))for(let o=0;o<3;o+=1)i.values[o]+=(255-i.values[o])*s;else if(i.type.includes("color"))for(let o=0;o<3;o+=1)i.values[o]+=(1-i.values[o])*s;return recomposeColor(i)}function private_safeLighten(i,s,o){try{return lighten(i,s)}catch{return i}}function emphasize(i,s=.15){return getLuminance(i)>.5?darken(i,s):lighten(i,s)}function private_safeEmphasize(i,s,o){try{return emphasize(i,s)}catch{return i}}function createChainedFunction(...i){return i.reduce((s,o)=>o==null?s:function(..._){s.apply(this,_),o.apply(this,_)},()=>{})}function debounce$1(i,s=166){let o;function a(..._){const j=()=>{i.apply(this,_)};clearTimeout(o),o=setTimeout(j,s)}return a.clear=()=>{clearTimeout(o)},a}function isMuiElement(i,s){var o,a,_;return reactExports.isValidElement(i)&&s.indexOf(i.type.muiName??((_=(a=(o=i.type)==null?void 0:o._payload)==null?void 0:a.value)==null?void 0:_.muiName))!==-1}function ownerDocument(i){return i&&i.ownerDocument||document}function ownerWindow(i){return ownerDocument(i).defaultView||window}function setRef(i,s){typeof i=="function"?i(s):i&&(i.current=s)}let globalId=0;function useGlobalId(i){const[s,o]=reactExports.useState(i),a=i||s;return reactExports.useEffect(()=>{s==null&&(globalId+=1,o(`mui-${globalId}`))},[s]),a}const safeReact={...React$1},maybeReactUseId=safeReact.useId;function useId(i){if(maybeReactUseId!==void 0){const s=maybeReactUseId();return i??s}return useGlobalId(i)}function useControlled({controlled:i,default:s,name:o,state:a="value"}){const{current:_}=reactExports.useRef(i!==void 0),[j,rt]=reactExports.useState(s),tt=_?i:j,it=reactExports.useCallback(dt=>{_||rt(dt)},[]);return[tt,it]}function useEventCallback(i){const s=reactExports.useRef(i);return useEnhancedEffect(()=>{s.current=i}),reactExports.useRef((...o)=>(0,s.current)(...o)).current}function useForkRef(...i){return reactExports.useMemo(()=>i.every(s=>s==null)?null:s=>{i.forEach(o=>{setRef(o,s)})},i)}const UNINITIALIZED={};function useLazyRef(i,s){const o=reactExports.useRef(UNINITIALIZED);return o.current===UNINITIALIZED&&(o.current=i(s)),o}const EMPTY=[];function useOnMount(i){reactExports.useEffect(i,EMPTY)}class Timeout{constructor(){_i(this,"currentId",null);_i(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_i(this,"disposeEffect",()=>this.clear)}static create(){return new Timeout}start(s,o){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,o()},s)}}function useTimeout(){const i=useLazyRef(Timeout.create).current;return useOnMount(i.disposeEffect),i}function isFocusVisible(i){try{return i.matches(":focus-visible")}catch{}return!1}function getScrollbarSize(i=window){const s=i.document.documentElement.clientWidth;return i.innerWidth-s}function getValidReactChildren(i){return reactExports.Children.toArray(i).filter(s=>reactExports.isValidElement(s))}function composeClasses(i,s,o=void 0){const a={};for(const _ in i){const j=i[_];let rt="",tt=!0;for(let it=0;it<j.length;it+=1){const dt=j[it];dt&&(rt+=(tt===!0?"":" ")+s(dt),tt=!1,o&&o[dt]&&(rt+=" "+o[dt]))}a[_]=rt}return a}function isHostComponent$1(i){return typeof i=="string"}function appendOwnerState(i,s,o){return i===void 0||isHostComponent$1(i)?s:{...s,ownerState:{...s.ownerState,...o}}}function extractEventHandlers(i,s=[]){if(i===void 0)return{};const o={};return Object.keys(i).filter(a=>a.match(/^on[A-Z]/)&&typeof i[a]=="function"&&!s.includes(a)).forEach(a=>{o[a]=i[a]}),o}function omitEventHandlers(i){if(i===void 0)return{};const s={};return Object.keys(i).filter(o=>!(o.match(/^on[A-Z]/)&&typeof i[o]=="function")).forEach(o=>{s[o]=i[o]}),s}function mergeSlotProps(i){const{getSlotProps:s,additionalProps:o,externalSlotProps:a,externalForwardedProps:_,className:j}=i;if(!s){const ht=clsx(o==null?void 0:o.className,j,_==null?void 0:_.className,a==null?void 0:a.className),mt={...o==null?void 0:o.style,..._==null?void 0:_.style,...a==null?void 0:a.style},nt={...o,..._,...a};return ht.length>0&&(nt.className=ht),Object.keys(mt).length>0&&(nt.style=mt),{props:nt,internalRef:void 0}}const rt=extractEventHandlers({..._,...a}),tt=omitEventHandlers(a),it=omitEventHandlers(_),dt=s(rt),lt=clsx(dt==null?void 0:dt.className,o==null?void 0:o.className,j,_==null?void 0:_.className,a==null?void 0:a.className),gt={...dt==null?void 0:dt.style,...o==null?void 0:o.style,..._==null?void 0:_.style,...a==null?void 0:a.style},vt={...dt,...o,...it,...tt};return lt.length>0&&(vt.className=lt),Object.keys(gt).length>0&&(vt.style=gt),{props:vt,internalRef:dt.ref}}function resolveComponentProps(i,s,o){return typeof i=="function"?i(s,o):i}function useSlotProps(i){var gt;const{elementType:s,externalSlotProps:o,ownerState:a,skipResolvingSlotProps:_=!1,...j}=i,rt=_?{}:resolveComponentProps(o,a),{props:tt,internalRef:it}=mergeSlotProps({...j,externalSlotProps:rt}),dt=useForkRef(it,rt==null?void 0:rt.ref,(gt=i.additionalProps)==null?void 0:gt.ref);return appendOwnerState(s,{...tt,ref:dt},a)}function getReactElementRef(i){var s;return parseInt(reactExports.version,10)>=19?(s=i.props)==null?void 0:s.ref:i==null?void 0:i.ref}const RtlContext=reactExports.createContext(),useRtl=()=>reactExports.useContext(RtlContext)??!1,PropsContext=reactExports.createContext(void 0);function getThemeProps(i){const{theme:s,name:o,props:a}=i;if(!s||!s.components||!s.components[o])return a;const _=s.components[o];return _.defaultProps?resolveProps(_.defaultProps,a):!_.styleOverrides&&!_.variants?resolveProps(_,a):a}function useDefaultProps$1({props:i,name:s}){const o=reactExports.useContext(PropsContext);return getThemeProps({props:i,name:s,theme:{components:o}})}function createGetCssVar$1(i=""){function s(...a){if(!a.length)return"";const _=a[0];return typeof _=="string"&&!_.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${i?`${i}-`:""}${_}${s(...a.slice(1))})`:`, ${_}`}return(a,..._)=>`var(--${i?`${i}-`:""}${a}${s(..._)})`}const assignNestedKeys=(i,s,o,a=[])=>{let _=i;s.forEach((j,rt)=>{rt===s.length-1?Array.isArray(_)?_[Number(j)]=o:_&&typeof _=="object"&&(_[j]=o):_&&typeof _=="object"&&(_[j]||(_[j]=a.includes(j)?[]:{}),_=_[j])})},walkObjectDeep=(i,s,o)=>{function a(_,j=[],rt=[]){Object.entries(_).forEach(([tt,it])=>{(!o||o&&!o([...j,tt]))&&it!=null&&(typeof it=="object"&&Object.keys(it).length>0?a(it,[...j,tt],Array.isArray(it)?[...rt,tt]:rt):s([...j,tt],it,rt))})}a(i)},getCssValue=(i,s)=>typeof s=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(a=>i.includes(a))||i[i.length-1].toLowerCase().includes("opacity")?s:`${s}px`:s;function cssVarsParser(i,s){const{prefix:o,shouldSkipGeneratingVar:a}=s||{},_={},j={},rt={};return walkObjectDeep(i,(tt,it,dt)=>{if((typeof it=="string"||typeof it=="number")&&(!a||!a(tt,it))){const lt=`--${o?`${o}-`:""}${tt.join("-")}`,gt=getCssValue(tt,it);Object.assign(_,{[lt]:gt}),assignNestedKeys(j,tt,`var(${lt})`,dt),assignNestedKeys(rt,tt,`var(${lt}, ${gt})`,dt)}},tt=>tt[0]==="vars"),{css:_,vars:j,varsWithDefaults:rt}}function prepareCssVars(i,s={}){const{getSelector:o=$,disableCssColorScheme:a,colorSchemeSelector:_}=s,{colorSchemes:j={},components:rt,defaultColorScheme:tt="light",...it}=i,{vars:dt,css:lt,varsWithDefaults:gt}=cssVarsParser(it,s);let vt=gt;const ht={},{[tt]:mt,...nt}=j;if(Object.entries(nt||{}).forEach(([ot,ut])=>{const{vars:et,css:at,varsWithDefaults:pt}=cssVarsParser(ut,s);vt=deepmerge(vt,pt),ht[ot]={css:at,vars:et}}),mt){const{css:ot,vars:ut,varsWithDefaults:et}=cssVarsParser(mt,s);vt=deepmerge(vt,et),ht[tt]={css:ot,vars:ut}}function $(ot,ut){var at,pt;let et=_;if(_==="class"&&(et=".%s"),_==="data"&&(et="[data-%s]"),_!=null&&_.startsWith("data-")&&!_.includes("%s")&&(et=`[${_}="%s"]`),ot){if(et==="media")return i.defaultColorScheme===ot?":root":{[`@media (prefers-color-scheme: ${((pt=(at=j[ot])==null?void 0:at.palette)==null?void 0:pt.mode)||ot})`]:{":root":ut}};if(et)return i.defaultColorScheme===ot?`:root, ${et.replace("%s",String(ot))}`:et.replace("%s",String(ot))}return":root"}return{vars:vt,generateThemeVars:()=>{let ot={...dt};return Object.entries(ht).forEach(([,{vars:ut}])=>{ot=deepmerge(ot,ut)}),ot},generateStyleSheets:()=>{var ct,yt;const ot=[],ut=i.defaultColorScheme||"light";function et(ft,_t){Object.keys(_t).length&&ot.push(typeof ft=="string"?{[ft]:{..._t}}:ft)}et(o(void 0,{...lt}),lt);const{[ut]:at,...pt}=ht;if(at){const{css:ft}=at,_t=(yt=(ct=j[ut])==null?void 0:ct.palette)==null?void 0:yt.mode,wt=!a&&_t?{colorScheme:_t,...ft}:{...ft};et(o(ut,{...wt}),wt)}return Object.entries(pt).forEach(([ft,{css:_t}])=>{var Mt,St;const wt=(St=(Mt=j[ft])==null?void 0:Mt.palette)==null?void 0:St.mode,Et=!a&&wt?{colorScheme:wt,..._t}:{..._t};et(o(ft,{...Et}),Et)}),ot}}}function createGetColorSchemeSelector(i){return function(o){return i==="media"?`@media (prefers-color-scheme: ${o})`:i?i.startsWith("data-")&&!i.includes("%s")?`[${i}="${o}"] &`:i==="class"?`.${o} &`:i==="data"?`[data-${o}] &`:`${i.replace("%s",o)} &`:"&"}}const filterBreakpointKeys=(i,s)=>i.filter(o=>s.includes(o)),traverseBreakpoints=(i,s,o)=>{const a=i.keys[0];Array.isArray(s)?s.forEach((_,j)=>{o((rt,tt)=>{j<=i.keys.length-1&&(j===0?Object.assign(rt,tt):rt[i.up(i.keys[j])]=tt)},_)}):s&&typeof s=="object"?(Object.keys(s).length>i.keys.length?i.keys:filterBreakpointKeys(i.keys,Object.keys(s))).forEach(j=>{if(i.keys.includes(j)){const rt=s[j];rt!==void 0&&o((tt,it)=>{a===j?Object.assign(tt,it):tt[i.up(j)]=it},rt)}}):(typeof s=="number"||typeof s=="string")&&o((_,j)=>{Object.assign(_,j)},s)};function appendLevel(i){return i?`Level${i}`:""}function isNestedContainer(i){return i.unstable_level>0&&i.container}function createGetSelfSpacing(i){return function(o){return`var(--Grid-${o}Spacing${appendLevel(i.unstable_level)})`}}function createGetParentSpacing(i){return function(o){return i.unstable_level===0?`var(--Grid-${o}Spacing)`:`var(--Grid-${o}Spacing${appendLevel(i.unstable_level-1)})`}}function getParentColumns(i){return i.unstable_level===0?"var(--Grid-columns)":`var(--Grid-columns${appendLevel(i.unstable_level-1)})`}const generateGridSizeStyles=({theme:i,ownerState:s})=>{const o=createGetParentSpacing(s),a={};return traverseBreakpoints(i.breakpoints,s.size,(_,j)=>{let rt={};j==="grow"&&(rt={flexBasis:0,flexGrow:1,maxWidth:"100%"}),j==="auto"&&(rt={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof j=="number"&&(rt={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${j} / ${getParentColumns(s)} - (${getParentColumns(s)} - ${j}) * (${o("column")} / ${getParentColumns(s)}))`}),_(a,rt)}),a},generateGridOffsetStyles=({theme:i,ownerState:s})=>{const o=createGetParentSpacing(s),a={};return traverseBreakpoints(i.breakpoints,s.offset,(_,j)=>{let rt={};j==="auto"&&(rt={marginLeft:"auto"}),typeof j=="number"&&(rt={marginLeft:j===0?"0px":`calc(100% * ${j} / ${getParentColumns(s)} + ${o("column")} * ${j} / ${getParentColumns(s)})`}),_(a,rt)}),a},generateGridColumnsStyles=({theme:i,ownerState:s})=>{if(!s.container)return{};const o=isNestedContainer(s)?{[`--Grid-columns${appendLevel(s.unstable_level)}`]:getParentColumns(s)}:{"--Grid-columns":12};return traverseBreakpoints(i.breakpoints,s.columns,(a,_)=>{a(o,{[`--Grid-columns${appendLevel(s.unstable_level)}`]:_})}),o},generateGridRowSpacingStyles=({theme:i,ownerState:s})=>{if(!s.container)return{};const o=createGetParentSpacing(s),a=isNestedContainer(s)?{[`--Grid-rowSpacing${appendLevel(s.unstable_level)}`]:o("row")}:{};return traverseBreakpoints(i.breakpoints,s.rowSpacing,(_,j)=>{var rt;_(a,{[`--Grid-rowSpacing${appendLevel(s.unstable_level)}`]:typeof j=="string"?j:(rt=i.spacing)==null?void 0:rt.call(i,j)})}),a},generateGridColumnSpacingStyles=({theme:i,ownerState:s})=>{if(!s.container)return{};const o=createGetParentSpacing(s),a=isNestedContainer(s)?{[`--Grid-columnSpacing${appendLevel(s.unstable_level)}`]:o("column")}:{};return traverseBreakpoints(i.breakpoints,s.columnSpacing,(_,j)=>{var rt;_(a,{[`--Grid-columnSpacing${appendLevel(s.unstable_level)}`]:typeof j=="string"?j:(rt=i.spacing)==null?void 0:rt.call(i,j)})}),a},generateGridDirectionStyles=({theme:i,ownerState:s})=>{if(!s.container)return{};const o={};return traverseBreakpoints(i.breakpoints,s.direction,(a,_)=>{a(o,{flexDirection:_})}),o},generateGridStyles=({ownerState:i})=>{const s=createGetSelfSpacing(i);return{minWidth:0,boxSizing:"border-box",...i.container&&{display:"flex",flexWrap:"wrap",...i.wrap&&i.wrap!=="wrap"&&{flexWrap:i.wrap},gap:`${s("row")} ${s("column")}`}}},generateSizeClassNames=i=>{const s=[];return Object.entries(i).forEach(([o,a])=>{a!==!1&&a!==void 0&&s.push(`grid-${o}-${String(a)}`)}),s},generateSpacingClassNames=(i,s="xs")=>{function o(a){return a===void 0?!1:typeof a=="string"&&!Number.isNaN(Number(a))||typeof a=="number"&&a>0}if(o(i))return[`spacing-${s}-${String(i)}`];if(typeof i=="object"&&!Array.isArray(i)){const a=[];return Object.entries(i).forEach(([_,j])=>{o(j)&&a.push(`spacing-${_}-${String(j)}`)}),a}return[]},generateDirectionClasses=i=>i===void 0?[]:typeof i=="object"?Object.entries(i).map(([s,o])=>`direction-${s}-${o}`):[`direction-xs-${String(i)}`],defaultTheme$2=createTheme$1(),defaultCreateStyledComponent=styled$1("div",{name:"MuiGrid",slot:"Root",overridesResolver:(i,s)=>s.root});function useThemePropsDefault(i){return useThemeProps$1({props:i,name:"MuiGrid",defaultTheme:defaultTheme$2})}function createGrid(i={}){const{createStyledComponent:s=defaultCreateStyledComponent,useThemeProps:o=useThemePropsDefault,componentName:a="MuiGrid"}=i,_=(it,dt)=>{const{container:lt,direction:gt,spacing:vt,wrap:ht,size:mt}=it,nt={root:["root",lt&&"container",ht!=="wrap"&&`wrap-xs-${String(ht)}`,...generateDirectionClasses(gt),...generateSizeClassNames(mt),...lt?generateSpacingClassNames(vt,dt.breakpoints.keys[0]):[]]};return composeClasses(nt,$=>generateUtilityClass(a,$),{})};function j(it,dt,lt=()=>!0){const gt={};return it===null||(Array.isArray(it)?it.forEach((vt,ht)=>{vt!==null&&lt(vt)&&dt.keys[ht]&&(gt[dt.keys[ht]]=vt)}):typeof it=="object"?Object.keys(it).forEach(vt=>{const ht=it[vt];ht!=null&&lt(ht)&&(gt[vt]=ht)}):gt[dt.keys[0]]=it),gt}const rt=s(generateGridColumnsStyles,generateGridColumnSpacingStyles,generateGridRowSpacingStyles,generateGridSizeStyles,generateGridDirectionStyles,generateGridStyles,generateGridOffsetStyles),tt=reactExports.forwardRef(function(dt,lt){const gt=useTheme$1(),vt=o(dt),ht=extendSxProp$1(vt),{className:mt,children:nt,columns:$=12,container:_e=!1,component:st="div",direction:ot="row",wrap:ut="wrap",size:et={},offset:at={},spacing:pt=0,rowSpacing:ct=pt,columnSpacing:yt=pt,unstable_level:ft=0,..._t}=ht,wt=j(et,gt.breakpoints,Lt=>Lt!==!1),Et=j(at,gt.breakpoints),Mt=dt.columns??(ft?void 0:$),St=dt.spacing??(ft?void 0:pt),At=dt.rowSpacing??dt.spacing??(ft?void 0:ct),Rt=dt.columnSpacing??dt.spacing??(ft?void 0:yt),Ct={...ht,level:ft,columns:Mt,container:_e,direction:ot,wrap:ut,spacing:St,rowSpacing:At,columnSpacing:Rt,size:wt,offset:Et},Pt=_(Ct,gt);return jsxRuntimeExports.jsx(rt,{ref:lt,as:st,ownerState:Ct,className:clsx(Pt.root,mt),..._t,children:reactExports.Children.map(nt,Lt=>{var Ot;return reactExports.isValidElement(Lt)&&isMuiElement(Lt,["Grid"])?reactExports.cloneElement(Lt,{unstable_level:((Ot=Lt.props)==null?void 0:Ot.unstable_level)??ft+1}):Lt})})});return tt.muiName="Grid",tt}const light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common.white,default:common.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(i,s,o,a){const _=a.light||a,j=a.dark||a*1.5;i[s]||(i.hasOwnProperty(o)?i[s]=i[o]:s==="light"?i.light=lighten(i.main,_):s==="dark"&&(i.dark=darken(i.main,j)))}function getDefaultPrimary(i="light"){return i==="dark"?{main:blue[200],light:blue[50],dark:blue[400]}:{main:blue[700],light:blue[400],dark:blue[800]}}function getDefaultSecondary(i="light"){return i==="dark"?{main:purple[200],light:purple[50],dark:purple[400]}:{main:purple[500],light:purple[300],dark:purple[700]}}function getDefaultError(i="light"){return i==="dark"?{main:red[500],light:red[300],dark:red[700]}:{main:red[700],light:red[400],dark:red[800]}}function getDefaultInfo(i="light"){return i==="dark"?{main:lightBlue[400],light:lightBlue[300],dark:lightBlue[700]}:{main:lightBlue[700],light:lightBlue[500],dark:lightBlue[900]}}function getDefaultSuccess(i="light"){return i==="dark"?{main:green[400],light:green[300],dark:green[700]}:{main:green[800],light:green[500],dark:green[900]}}function getDefaultWarning(i="light"){return i==="dark"?{main:orange[400],light:orange[300],dark:orange[700]}:{main:"#ed6c02",light:orange[500],dark:orange[900]}}function createPalette(i){const{mode:s="light",contrastThreshold:o=3,tonalOffset:a=.2,..._}=i,j=i.primary||getDefaultPrimary(s),rt=i.secondary||getDefaultSecondary(s),tt=i.error||getDefaultError(s),it=i.info||getDefaultInfo(s),dt=i.success||getDefaultSuccess(s),lt=i.warning||getDefaultWarning(s);function gt(nt){return getContrastRatio(nt,dark.text.primary)>=o?dark.text.primary:light.text.primary}const vt=({color:nt,name:$,mainShade:_e=500,lightShade:st=300,darkShade:ot=700})=>{if(nt={...nt},!nt.main&&nt[_e]&&(nt.main=nt[_e]),!nt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,$?` (${$})`:"",_e));if(typeof nt.main!="string")throw new Error(formatMuiErrorMessage(12,$?` (${$})`:"",JSON.stringify(nt.main)));return addLightOrDark(nt,"light",st,a),addLightOrDark(nt,"dark",ot,a),nt.contrastText||(nt.contrastText=gt(nt.main)),nt},ht={dark,light};return deepmerge({common:{...common},mode:s,primary:vt({color:j,name:"primary"}),secondary:vt({color:rt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:vt({color:tt,name:"error"}),warning:vt({color:lt,name:"warning"}),info:vt({color:it,name:"info"}),success:vt({color:dt,name:"success"}),grey,contrastThreshold:o,getContrastText:gt,augmentColor:vt,tonalOffset:a,...ht[s]},_)}function prepareTypographyVars(i){const s={};return Object.entries(i).forEach(a=>{const[_,j]=a;typeof j=="object"&&(s[_]=`${j.fontStyle?`${j.fontStyle} `:""}${j.fontVariant?`${j.fontVariant} `:""}${j.fontWeight?`${j.fontWeight} `:""}${j.fontStretch?`${j.fontStretch} `:""}${j.fontSize||""}${j.lineHeight?`/${j.lineHeight} `:""}${j.fontFamily||""}`)}),s}function createMixins(i,s){return{toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}},...s}}function round$2(i){return Math.round(i*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(i,s){const{fontFamily:o=defaultFontFamily,fontSize:a=14,fontWeightLight:_=300,fontWeightRegular:j=400,fontWeightMedium:rt=500,fontWeightBold:tt=700,htmlFontSize:it=16,allVariants:dt,pxToRem:lt,...gt}=typeof s=="function"?s(i):s,vt=a/14,ht=lt||($=>`${$/it*vt}rem`),mt=($,_e,st,ot,ut)=>({fontFamily:o,fontWeight:$,fontSize:ht(_e),lineHeight:st,...o===defaultFontFamily?{letterSpacing:`${round$2(ot/_e)}em`}:{},...ut,...dt}),nt={h1:mt(_,96,1.167,-1.5),h2:mt(_,60,1.2,-.5),h3:mt(j,48,1.167,0),h4:mt(j,34,1.235,.25),h5:mt(j,24,1.334,0),h6:mt(rt,20,1.6,.15),subtitle1:mt(j,16,1.75,.15),subtitle2:mt(rt,14,1.57,.1),body1:mt(j,16,1.5,.15),body2:mt(j,14,1.43,.15),button:mt(rt,14,1.75,.4,caseAllCaps),caption:mt(j,12,1.66,.4),overline:mt(j,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge({htmlFontSize:it,pxToRem:ht,fontFamily:o,fontSize:a,fontWeightLight:_,fontWeightRegular:j,fontWeightMedium:rt,fontWeightBold:tt,...nt},gt,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(i){return`${Math.round(i)}ms`}function getAutoHeightDuration(i){if(!i)return 0;const s=i/36;return Math.min(Math.round((4+15*s**.25+s/5)*10),3e3)}function createTransitions(i){const s={...easing,...i.easing},o={...duration,...i.duration};return{getAutoHeightDuration,create:(_=["all"],j={})=>{const{duration:rt=o.standard,easing:tt=s.easeInOut,delay:it=0,...dt}=j;return(Array.isArray(_)?_:[_]).map(lt=>`${lt} ${typeof rt=="string"?rt:formatMs(rt)} ${tt} ${typeof it=="string"?it:formatMs(it)}`).join(",")},...i,easing:s,duration:o}}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function createThemeNoVars(i={},...s){const{breakpoints:o,mixins:a={},spacing:_,palette:j={},transitions:rt={},typography:tt={},shape:it,...dt}=i;if(i.vars)throw new Error(formatMuiErrorMessage(20));const lt=createPalette(j),gt=createTheme$1(i);let vt=deepmerge(gt,{mixins:createMixins(gt.breakpoints,a),palette:lt,shadows:shadows.slice(),typography:createTypography(lt,tt),transitions:createTransitions(rt),zIndex:{...zIndex}});return vt=deepmerge(vt,dt),vt=s.reduce((ht,mt)=>deepmerge(ht,mt),vt),vt.unstable_sxConfig={...defaultSxConfig,...dt==null?void 0:dt.unstable_sxConfig},vt.unstable_sx=function(mt){return styleFunctionSx({sx:mt,theme:this})},vt}function getOverlayAlpha(i){let s;return i<1?s=5.11916*i**2:s=4.5*Math.log(i+1)+2,Math.round(s*10)/1e3}const defaultDarkOverlays=[...Array(25)].map((i,s)=>{if(s===0)return"none";const o=getOverlayAlpha(s);return`linear-gradient(rgba(255 255 255 / ${o}), rgba(255 255 255 / ${o}))`});function getOpacity(i){return{inputPlaceholder:i==="dark"?.5:.42,inputUnderline:i==="dark"?.7:.42,switchTrackDisabled:i==="dark"?.2:.12,switchTrack:i==="dark"?.3:.38}}function getOverlays(i){return i==="dark"?defaultDarkOverlays:[]}function createColorScheme(i){const{palette:s={mode:"light"},opacity:o,overlays:a,..._}=i,j=createPalette(s);return{palette:j,opacity:{...getOpacity(j.mode),...o},overlays:a||getOverlays(j.mode),..._}}function shouldSkipGeneratingVar(i){var s;return!!i[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!i[0].match(/sxConfig$/)||i[0]==="palette"&&!!((s=i[1])!=null&&s.match(/(mode|contrastThreshold|tonalOffset)/))}const excludeVariablesFromRoot=i=>[...[...Array(25)].map((s,o)=>`--${i?`${i}-`:""}overlays-${o}`),`--${i?`${i}-`:""}palette-AppBar-darkBg`,`--${i?`${i}-`:""}palette-AppBar-darkColor`],defaultGetSelector=i=>(s,o)=>{const a=i.rootSelector||":root",_=i.colorSchemeSelector;let j=_;if(_==="class"&&(j=".%s"),_==="data"&&(j="[data-%s]"),_!=null&&_.startsWith("data-")&&!_.includes("%s")&&(j=`[${_}="%s"]`),i.defaultColorScheme===s){if(s==="dark"){const rt={};return excludeVariablesFromRoot(i.cssVarPrefix).forEach(tt=>{rt[tt]=o[tt],delete o[tt]}),j==="media"?{[a]:o,"@media (prefers-color-scheme: dark)":{[a]:rt}}:j?{[j.replace("%s",s)]:rt,[`${a}, ${j.replace("%s",s)}`]:o}:{[a]:{...o,...rt}}}if(j&&j!=="media")return`${a}, ${j.replace("%s",String(s))}`}else if(s){if(j==="media")return{[`@media (prefers-color-scheme: ${String(s)})`]:{[a]:o}};if(j)return j.replace("%s",String(s))}return a};function isSerializable(i){return isPlainObject(i)||typeof i>"u"||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||Array.isArray(i)}function stringifyTheme(i={}){const s={...i};function o(a){const _=Object.entries(a);for(let j=0;j<_.length;j++){const[rt,tt]=_[j];!isSerializable(tt)||rt.startsWith("unstable_")?delete a[rt]:isPlainObject(tt)&&(a[rt]={...tt},o(a[rt]))}}return o(s),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(s,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function assignNode(i,s){s.forEach(o=>{i[o]||(i[o]={})})}function setColor(i,s,o){!i[s]&&o&&(i[s]=o)}function toRgb(i){return!i||!i.startsWith("hsl")?i:hslToRgb(i)}function setColorChannel(i,s){`${s}Channel`in i||(i[`${s}Channel`]=private_safeColorChannel(toRgb(i[s]),`MUI: Can't create \`palette.${s}Channel\` because \`palette.${s}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${s}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function getSpacingVal(i){return typeof i=="number"?`${i}px`:typeof i=="string"||typeof i=="function"||Array.isArray(i)?i:"8px"}const silent=i=>{try{return i()}catch{}},createGetCssVar=(i="mui")=>createGetCssVar$1(i);function attachColorScheme$1(i,s,o,a){if(!s)return;s=s===!0?{}:s;const _=a==="dark"?"dark":"light";if(!o){i[a]=createColorScheme({...s,palette:{mode:_,...s==null?void 0:s.palette}});return}const{palette:j,...rt}=createThemeNoVars({...o,palette:{mode:_,...s==null?void 0:s.palette}});return i[a]={...s,palette:j,opacity:{...getOpacity(_),...s==null?void 0:s.opacity},overlays:(s==null?void 0:s.overlays)||getOverlays(_)},rt}function createThemeWithVars(i={},...s){const{colorSchemes:o={light:!0},defaultColorScheme:a,disableCssColorScheme:_=!1,cssVarPrefix:j="mui",shouldSkipGeneratingVar:rt=shouldSkipGeneratingVar,colorSchemeSelector:tt=o.light&&o.dark?"media":void 0,rootSelector:it=":root",...dt}=i,lt=Object.keys(o)[0],gt=a||(o.light&&lt!=="light"?"light":lt),vt=createGetCssVar(j),{[gt]:ht,light:mt,dark:nt,...$}=o,_e={...$};let st=ht;if((gt==="dark"&&!("dark"in o)||gt==="light"&&!("light"in o))&&(st=!0),!st)throw new Error(formatMuiErrorMessage(21,gt));const ot=attachColorScheme$1(_e,st,dt,gt);mt&&!_e.light&&attachColorScheme$1(_e,mt,void 0,"light"),nt&&!_e.dark&&attachColorScheme$1(_e,nt,void 0,"dark");let ut={defaultColorScheme:gt,...ot,cssVarPrefix:j,colorSchemeSelector:tt,rootSelector:it,getCssVar:vt,colorSchemes:_e,font:{...prepareTypographyVars(ot.typography),...ot.font},spacing:getSpacingVal(dt.spacing)};Object.keys(ut.colorSchemes).forEach(yt=>{const ft=ut.colorSchemes[yt].palette,_t=wt=>{const Et=wt.split("-"),Mt=Et[1],St=Et[2];return vt(wt,ft[Mt][St])};if(ft.mode==="light"&&(setColor(ft.common,"background","#fff"),setColor(ft.common,"onBackground","#000")),ft.mode==="dark"&&(setColor(ft.common,"background","#000"),setColor(ft.common,"onBackground","#fff")),assignNode(ft,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),ft.mode==="light"){setColor(ft.Alert,"errorColor",private_safeDarken(ft.error.light,.6)),setColor(ft.Alert,"infoColor",private_safeDarken(ft.info.light,.6)),setColor(ft.Alert,"successColor",private_safeDarken(ft.success.light,.6)),setColor(ft.Alert,"warningColor",private_safeDarken(ft.warning.light,.6)),setColor(ft.Alert,"errorFilledBg",_t("palette-error-main")),setColor(ft.Alert,"infoFilledBg",_t("palette-info-main")),setColor(ft.Alert,"successFilledBg",_t("palette-success-main")),setColor(ft.Alert,"warningFilledBg",_t("palette-warning-main")),setColor(ft.Alert,"errorFilledColor",silent(()=>ft.getContrastText(ft.error.main))),setColor(ft.Alert,"infoFilledColor",silent(()=>ft.getContrastText(ft.info.main))),setColor(ft.Alert,"successFilledColor",silent(()=>ft.getContrastText(ft.success.main))),setColor(ft.Alert,"warningFilledColor",silent(()=>ft.getContrastText(ft.warning.main))),setColor(ft.Alert,"errorStandardBg",private_safeLighten(ft.error.light,.9)),setColor(ft.Alert,"infoStandardBg",private_safeLighten(ft.info.light,.9)),setColor(ft.Alert,"successStandardBg",private_safeLighten(ft.success.light,.9)),setColor(ft.Alert,"warningStandardBg",private_safeLighten(ft.warning.light,.9)),setColor(ft.Alert,"errorIconColor",_t("palette-error-main")),setColor(ft.Alert,"infoIconColor",_t("palette-info-main")),setColor(ft.Alert,"successIconColor",_t("palette-success-main")),setColor(ft.Alert,"warningIconColor",_t("palette-warning-main")),setColor(ft.AppBar,"defaultBg",_t("palette-grey-100")),setColor(ft.Avatar,"defaultBg",_t("palette-grey-400")),setColor(ft.Button,"inheritContainedBg",_t("palette-grey-300")),setColor(ft.Button,"inheritContainedHoverBg",_t("palette-grey-A100")),setColor(ft.Chip,"defaultBorder",_t("palette-grey-400")),setColor(ft.Chip,"defaultAvatarColor",_t("palette-grey-700")),setColor(ft.Chip,"defaultIconColor",_t("palette-grey-700")),setColor(ft.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),setColor(ft.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),setColor(ft.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),setColor(ft.LinearProgress,"primaryBg",private_safeLighten(ft.primary.main,.62)),setColor(ft.LinearProgress,"secondaryBg",private_safeLighten(ft.secondary.main,.62)),setColor(ft.LinearProgress,"errorBg",private_safeLighten(ft.error.main,.62)),setColor(ft.LinearProgress,"infoBg",private_safeLighten(ft.info.main,.62)),setColor(ft.LinearProgress,"successBg",private_safeLighten(ft.success.main,.62)),setColor(ft.LinearProgress,"warningBg",private_safeLighten(ft.warning.main,.62)),setColor(ft.Skeleton,"bg",`rgba(${_t("palette-text-primaryChannel")} / 0.11)`),setColor(ft.Slider,"primaryTrack",private_safeLighten(ft.primary.main,.62)),setColor(ft.Slider,"secondaryTrack",private_safeLighten(ft.secondary.main,.62)),setColor(ft.Slider,"errorTrack",private_safeLighten(ft.error.main,.62)),setColor(ft.Slider,"infoTrack",private_safeLighten(ft.info.main,.62)),setColor(ft.Slider,"successTrack",private_safeLighten(ft.success.main,.62)),setColor(ft.Slider,"warningTrack",private_safeLighten(ft.warning.main,.62));const wt=private_safeEmphasize(ft.background.default,.8);setColor(ft.SnackbarContent,"bg",wt),setColor(ft.SnackbarContent,"color",silent(()=>ft.getContrastText(wt))),setColor(ft.SpeedDialAction,"fabHoverBg",private_safeEmphasize(ft.background.paper,.15)),setColor(ft.StepConnector,"border",_t("palette-grey-400")),setColor(ft.StepContent,"border",_t("palette-grey-400")),setColor(ft.Switch,"defaultColor",_t("palette-common-white")),setColor(ft.Switch,"defaultDisabledColor",_t("palette-grey-100")),setColor(ft.Switch,"primaryDisabledColor",private_safeLighten(ft.primary.main,.62)),setColor(ft.Switch,"secondaryDisabledColor",private_safeLighten(ft.secondary.main,.62)),setColor(ft.Switch,"errorDisabledColor",private_safeLighten(ft.error.main,.62)),setColor(ft.Switch,"infoDisabledColor",private_safeLighten(ft.info.main,.62)),setColor(ft.Switch,"successDisabledColor",private_safeLighten(ft.success.main,.62)),setColor(ft.Switch,"warningDisabledColor",private_safeLighten(ft.warning.main,.62)),setColor(ft.TableCell,"border",private_safeLighten(private_safeAlpha(ft.divider,1),.88)),setColor(ft.Tooltip,"bg",private_safeAlpha(ft.grey[700],.92))}if(ft.mode==="dark"){setColor(ft.Alert,"errorColor",private_safeLighten(ft.error.light,.6)),setColor(ft.Alert,"infoColor",private_safeLighten(ft.info.light,.6)),setColor(ft.Alert,"successColor",private_safeLighten(ft.success.light,.6)),setColor(ft.Alert,"warningColor",private_safeLighten(ft.warning.light,.6)),setColor(ft.Alert,"errorFilledBg",_t("palette-error-dark")),setColor(ft.Alert,"infoFilledBg",_t("palette-info-dark")),setColor(ft.Alert,"successFilledBg",_t("palette-success-dark")),setColor(ft.Alert,"warningFilledBg",_t("palette-warning-dark")),setColor(ft.Alert,"errorFilledColor",silent(()=>ft.getContrastText(ft.error.dark))),setColor(ft.Alert,"infoFilledColor",silent(()=>ft.getContrastText(ft.info.dark))),setColor(ft.Alert,"successFilledColor",silent(()=>ft.getContrastText(ft.success.dark))),setColor(ft.Alert,"warningFilledColor",silent(()=>ft.getContrastText(ft.warning.dark))),setColor(ft.Alert,"errorStandardBg",private_safeDarken(ft.error.light,.9)),setColor(ft.Alert,"infoStandardBg",private_safeDarken(ft.info.light,.9)),setColor(ft.Alert,"successStandardBg",private_safeDarken(ft.success.light,.9)),setColor(ft.Alert,"warningStandardBg",private_safeDarken(ft.warning.light,.9)),setColor(ft.Alert,"errorIconColor",_t("palette-error-main")),setColor(ft.Alert,"infoIconColor",_t("palette-info-main")),setColor(ft.Alert,"successIconColor",_t("palette-success-main")),setColor(ft.Alert,"warningIconColor",_t("palette-warning-main")),setColor(ft.AppBar,"defaultBg",_t("palette-grey-900")),setColor(ft.AppBar,"darkBg",_t("palette-background-paper")),setColor(ft.AppBar,"darkColor",_t("palette-text-primary")),setColor(ft.Avatar,"defaultBg",_t("palette-grey-600")),setColor(ft.Button,"inheritContainedBg",_t("palette-grey-800")),setColor(ft.Button,"inheritContainedHoverBg",_t("palette-grey-700")),setColor(ft.Chip,"defaultBorder",_t("palette-grey-700")),setColor(ft.Chip,"defaultAvatarColor",_t("palette-grey-300")),setColor(ft.Chip,"defaultIconColor",_t("palette-grey-300")),setColor(ft.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),setColor(ft.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),setColor(ft.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),setColor(ft.LinearProgress,"primaryBg",private_safeDarken(ft.primary.main,.5)),setColor(ft.LinearProgress,"secondaryBg",private_safeDarken(ft.secondary.main,.5)),setColor(ft.LinearProgress,"errorBg",private_safeDarken(ft.error.main,.5)),setColor(ft.LinearProgress,"infoBg",private_safeDarken(ft.info.main,.5)),setColor(ft.LinearProgress,"successBg",private_safeDarken(ft.success.main,.5)),setColor(ft.LinearProgress,"warningBg",private_safeDarken(ft.warning.main,.5)),setColor(ft.Skeleton,"bg",`rgba(${_t("palette-text-primaryChannel")} / 0.13)`),setColor(ft.Slider,"primaryTrack",private_safeDarken(ft.primary.main,.5)),setColor(ft.Slider,"secondaryTrack",private_safeDarken(ft.secondary.main,.5)),setColor(ft.Slider,"errorTrack",private_safeDarken(ft.error.main,.5)),setColor(ft.Slider,"infoTrack",private_safeDarken(ft.info.main,.5)),setColor(ft.Slider,"successTrack",private_safeDarken(ft.success.main,.5)),setColor(ft.Slider,"warningTrack",private_safeDarken(ft.warning.main,.5));const wt=private_safeEmphasize(ft.background.default,.98);setColor(ft.SnackbarContent,"bg",wt),setColor(ft.SnackbarContent,"color",silent(()=>ft.getContrastText(wt))),setColor(ft.SpeedDialAction,"fabHoverBg",private_safeEmphasize(ft.background.paper,.15)),setColor(ft.StepConnector,"border",_t("palette-grey-600")),setColor(ft.StepContent,"border",_t("palette-grey-600")),setColor(ft.Switch,"defaultColor",_t("palette-grey-300")),setColor(ft.Switch,"defaultDisabledColor",_t("palette-grey-600")),setColor(ft.Switch,"primaryDisabledColor",private_safeDarken(ft.primary.main,.55)),setColor(ft.Switch,"secondaryDisabledColor",private_safeDarken(ft.secondary.main,.55)),setColor(ft.Switch,"errorDisabledColor",private_safeDarken(ft.error.main,.55)),setColor(ft.Switch,"infoDisabledColor",private_safeDarken(ft.info.main,.55)),setColor(ft.Switch,"successDisabledColor",private_safeDarken(ft.success.main,.55)),setColor(ft.Switch,"warningDisabledColor",private_safeDarken(ft.warning.main,.55)),setColor(ft.TableCell,"border",private_safeDarken(private_safeAlpha(ft.divider,1),.68)),setColor(ft.Tooltip,"bg",private_safeAlpha(ft.grey[700],.92))}setColorChannel(ft.background,"default"),setColorChannel(ft.background,"paper"),setColorChannel(ft.common,"background"),setColorChannel(ft.common,"onBackground"),setColorChannel(ft,"divider"),Object.keys(ft).forEach(wt=>{const Et=ft[wt];Et&&typeof Et=="object"&&(Et.main&&setColor(ft[wt],"mainChannel",private_safeColorChannel(toRgb(Et.main))),Et.light&&setColor(ft[wt],"lightChannel",private_safeColorChannel(toRgb(Et.light))),Et.dark&&setColor(ft[wt],"darkChannel",private_safeColorChannel(toRgb(Et.dark))),Et.contrastText&&setColor(ft[wt],"contrastTextChannel",private_safeColorChannel(toRgb(Et.contrastText))),wt==="text"&&(setColorChannel(ft[wt],"primary"),setColorChannel(ft[wt],"secondary")),wt==="action"&&(Et.active&&setColorChannel(ft[wt],"active"),Et.selected&&setColorChannel(ft[wt],"selected")))})}),ut=s.reduce((yt,ft)=>deepmerge(yt,ft),ut);const et={prefix:j,disableCssColorScheme:_,shouldSkipGeneratingVar:rt,getSelector:defaultGetSelector(ut)},{vars:at,generateThemeVars:pt,generateStyleSheets:ct}=prepareCssVars(ut,et);return ut.vars=at,Object.entries(ut.colorSchemes[ut.defaultColorScheme]).forEach(([yt,ft])=>{ut[yt]=ft}),ut.generateThemeVars=pt,ut.generateStyleSheets=ct,ut.generateSpacing=function(){return createSpacing(dt.spacing,createUnarySpacing(this))},ut.getColorSchemeSelector=createGetColorSchemeSelector(tt),ut.spacing=ut.generateSpacing(),ut.shouldSkipGeneratingVar=rt,ut.unstable_sxConfig={...defaultSxConfig,...dt==null?void 0:dt.unstable_sxConfig},ut.unstable_sx=function(ft){return styleFunctionSx({sx:ft,theme:this})},ut.toRuntimeSource=stringifyTheme,ut}function attachColorScheme(i,s,o){i.colorSchemes&&o&&(i.colorSchemes[s]={...o!==!0&&o,palette:createPalette({...o===!0?{}:o.palette,mode:s})})}function createTheme(i={},...s){const{palette:o,cssVariables:a=!1,colorSchemes:_=o?void 0:{light:!0},defaultColorScheme:j=o==null?void 0:o.mode,...rt}=i,tt=j||"light",it=_==null?void 0:_[tt],dt={..._,...o?{[tt]:{...typeof it!="boolean"&&it,palette:o}}:void 0};if(a===!1){if(!("colorSchemes"in i))return createThemeNoVars(i,...s);let lt=o;"palette"in i||dt[tt]&&(dt[tt]!==!0?lt=dt[tt].palette:tt==="dark"&&(lt={mode:"dark"}));const gt=createThemeNoVars({...i,palette:lt},...s);return gt.defaultColorScheme=tt,gt.colorSchemes=dt,gt.palette.mode==="light"&&(gt.colorSchemes.light={...dt.light!==!0&&dt.light,palette:gt.palette},attachColorScheme(gt,"dark",dt.dark)),gt.palette.mode==="dark"&&(gt.colorSchemes.dark={...dt.dark!==!0&&dt.dark,palette:gt.palette},attachColorScheme(gt,"light",dt.light)),gt}return!o&&!("light"in dt)&&tt==="light"&&(dt.light=!0),createThemeWithVars({...rt,colorSchemes:dt,defaultColorScheme:tt,...typeof a!="boolean"&&a},...s)}const defaultTheme$1=createTheme();function useTheme(){const i=useTheme$1(defaultTheme$1);return i[THEME_ID]||i}function useThemeProps({props:i,name:s}){return useThemeProps$1({props:i,name:s,defaultTheme:defaultTheme$1,themeId:THEME_ID})}function slotShouldForwardProp(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const rootShouldForwardProp=i=>slotShouldForwardProp(i)&&i!=="classes",styled=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp});function GlobalStyles(i){return jsxRuntimeExports.jsx(GlobalStyles$1,{...i,defaultTheme:defaultTheme$1,themeId:THEME_ID})}function globalCss(i){return function(o){return jsxRuntimeExports.jsx(GlobalStyles,{styles:typeof i=="function"?a=>i({theme:a,...o}):i})}}function internal_createExtendSxProp(){return extendSxProp$1}const arg={theme:void 0};function memoTheme(i){let s,o;return a=>{let _=s;return(_===void 0||a.theme!==o)&&(arg.theme=a.theme,_=i(arg),s=_,o=a.theme),_}}function useDefaultProps(i){return useDefaultProps$1(i)}function getSvgIconUtilityClass(i){return generateUtilityClass("MuiSvgIcon",i)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const useUtilityClasses$x=i=>{const{color:s,fontSize:o,classes:a}=i,_={root:["root",s!=="inherit"&&`color${capitalize(s)}`,`fontSize${capitalize(o)}`]};return composeClasses(_,getSvgIconUtilityClass,a)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,o.color!=="inherit"&&s[`color${capitalize(o.color)}`],s[`fontSize${capitalize(o.fontSize)}`]]}})(memoTheme(({theme:i})=>{var s,o,a,_,j,rt,tt,it,dt,lt,gt,vt,ht,mt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(_=(s=i.transitions)==null?void 0:s.create)==null?void 0:_.call(s,"fill",{duration:(a=(o=(i.vars??i).transitions)==null?void 0:o.duration)==null?void 0:a.shorter}),variants:[{props:nt=>!nt.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((rt=(j=i.typography)==null?void 0:j.pxToRem)==null?void 0:rt.call(j,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((it=(tt=i.typography)==null?void 0:tt.pxToRem)==null?void 0:it.call(tt,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((lt=(dt=i.typography)==null?void 0:dt.pxToRem)==null?void 0:lt.call(dt,35))||"2.1875rem"}},...Object.entries((i.vars??i).palette).filter(([,nt])=>nt&&nt.main).map(([nt])=>{var $,_e;return{props:{color:nt},style:{color:(_e=($=(i.vars??i).palette)==null?void 0:$[nt])==null?void 0:_e.main}}}),{props:{color:"action"},style:{color:(vt=(gt=(i.vars??i).palette)==null?void 0:gt.action)==null?void 0:vt.active}},{props:{color:"disabled"},style:{color:(mt=(ht=(i.vars??i).palette)==null?void 0:ht.action)==null?void 0:mt.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),SvgIcon=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiSvgIcon"}),{children:_,className:j,color:rt="inherit",component:tt="svg",fontSize:it="medium",htmlColor:dt,inheritViewBox:lt=!1,titleAccess:gt,viewBox:vt="0 0 24 24",...ht}=a,mt=reactExports.isValidElement(_)&&_.type==="svg",nt={...a,color:rt,component:tt,fontSize:it,instanceFontSize:s.fontSize,inheritViewBox:lt,viewBox:vt,hasSvgAsChild:mt},$={};lt||($.viewBox=vt);const _e=useUtilityClasses$x(nt);return jsxRuntimeExports.jsxs(SvgIconRoot,{as:tt,className:clsx(_e.root,j),focusable:"false",color:dt,"aria-hidden":gt?void 0:!0,role:gt?"img":void 0,ref:o,...$,...ht,...mt&&_.props,ownerState:nt,children:[mt?_.props.children:_,gt?jsxRuntimeExports.jsx("title",{children:gt}):null]})});SvgIcon&&(SvgIcon.muiName="SvgIcon");function createSvgIcon(i,s){function o(a,_){return jsxRuntimeExports.jsx(SvgIcon,{"data-testid":`${s}Icon`,ref:_,...a,children:i})}return o.muiName=SvgIcon.muiName,reactExports.memo(reactExports.forwardRef(o))}function _objectWithoutPropertiesLoose(i,s){if(i==null)return{};var o={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(s.includes(a))continue;o[a]=i[a]}return o}function _setPrototypeOf(i,s){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},_setPrototypeOf(i,s)}function _inheritsLoose(i,s){i.prototype=Object.create(s.prototype),i.prototype.constructor=i,_setPrototypeOf(i,s)}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(s){return s.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(i){_inheritsLoose(s,i);function s(a,_){var j;j=i.call(this,a,_)||this;var rt=_,tt=rt&&!rt.isMounting?a.enter:a.appear,it;return j.appearStatus=null,a.in?tt?(it=EXITED,j.appearStatus=ENTERING):it=ENTERED:a.unmountOnExit||a.mountOnEnter?it=UNMOUNTED:it=EXITED,j.state={status:it},j.nextCallback=null,j}s.getDerivedStateFromProps=function(_,j){var rt=_.in;return rt&&j.status===UNMOUNTED?{status:EXITED}:null};var o=s.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(_){var j=null;if(_!==this.props){var rt=this.state.status;this.props.in?rt!==ENTERING&&rt!==ENTERED&&(j=ENTERING):(rt===ENTERING||rt===ENTERED)&&(j=EXITING)}this.updateStatus(!1,j)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var _=this.props.timeout,j,rt,tt;return j=rt=tt=_,_!=null&&typeof _!="number"&&(j=_.exit,rt=_.enter,tt=_.appear!==void 0?_.appear:rt),{exit:j,enter:rt,appear:tt}},o.updateStatus=function(_,j){if(_===void 0&&(_=!1),j!==null)if(this.cancelNextCallback(),j===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var rt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);rt&&forceReflow(rt)}this.performEnter(_)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},o.performEnter=function(_){var j=this,rt=this.props.enter,tt=this.context?this.context.isMounting:_,it=this.props.nodeRef?[tt]:[ReactDOM.findDOMNode(this),tt],dt=it[0],lt=it[1],gt=this.getTimeouts(),vt=tt?gt.appear:gt.enter;if(!_&&!rt||config.disabled){this.safeSetState({status:ENTERED},function(){j.props.onEntered(dt)});return}this.props.onEnter(dt,lt),this.safeSetState({status:ENTERING},function(){j.props.onEntering(dt,lt),j.onTransitionEnd(vt,function(){j.safeSetState({status:ENTERED},function(){j.props.onEntered(dt,lt)})})})},o.performExit=function(){var _=this,j=this.props.exit,rt=this.getTimeouts(),tt=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!j||config.disabled){this.safeSetState({status:EXITED},function(){_.props.onExited(tt)});return}this.props.onExit(tt),this.safeSetState({status:EXITING},function(){_.props.onExiting(tt),_.onTransitionEnd(rt.exit,function(){_.safeSetState({status:EXITED},function(){_.props.onExited(tt)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(_,j){j=this.setNextCallback(j),this.setState(_,j)},o.setNextCallback=function(_){var j=this,rt=!0;return this.nextCallback=function(tt){rt&&(rt=!1,j.nextCallback=null,_(tt))},this.nextCallback.cancel=function(){rt=!1},this.nextCallback},o.onTransitionEnd=function(_,j){this.setNextCallback(j);var rt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),tt=_==null&&!this.props.addEndListener;if(!rt||tt){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var it=this.props.nodeRef?[this.nextCallback]:[rt,this.nextCallback],dt=it[0],lt=it[1];this.props.addEndListener(dt,lt)}_!=null&&setTimeout(this.nextCallback,_)},o.render=function(){var _=this.state.status;if(_===UNMOUNTED)return null;var j=this.props,rt=j.children;j.in,j.mountOnEnter,j.unmountOnExit,j.appear,j.enter,j.exit,j.timeout,j.addEndListener,j.onEnter,j.onEntering,j.onEntered,j.onExit,j.onExiting,j.onExited,j.nodeRef;var tt=_objectWithoutPropertiesLoose(j,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof rt=="function"?rt(_,tt):React.cloneElement(React.Children.only(rt),tt))},s}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function getChildMapping(i,s){var o=function(j){return s&&reactExports.isValidElement(j)?s(j):j},a=Object.create(null);return i&&reactExports.Children.map(i,function(_){return _}).forEach(function(_){a[_.key]=o(_)}),a}function mergeChildMappings(i,s){i=i||{},s=s||{};function o(lt){return lt in s?s[lt]:i[lt]}var a=Object.create(null),_=[];for(var j in i)j in s?_.length&&(a[j]=_,_=[]):_.push(j);var rt,tt={};for(var it in s){if(a[it])for(rt=0;rt<a[it].length;rt++){var dt=a[it][rt];tt[a[it][rt]]=o(dt)}tt[it]=o(it)}for(rt=0;rt<_.length;rt++)tt[_[rt]]=o(_[rt]);return tt}function getProp(i,s,o){return o[s]!=null?o[s]:i.props[s]}function getInitialChildMapping(i,s){return getChildMapping(i.children,function(o){return reactExports.cloneElement(o,{onExited:s.bind(null,o),in:!0,appear:getProp(o,"appear",i),enter:getProp(o,"enter",i),exit:getProp(o,"exit",i)})})}function getNextChildMapping(i,s,o){var a=getChildMapping(i.children),_=mergeChildMappings(s,a);return Object.keys(_).forEach(function(j){var rt=_[j];if(reactExports.isValidElement(rt)){var tt=j in s,it=j in a,dt=s[j],lt=reactExports.isValidElement(dt)&&!dt.props.in;it&&(!tt||lt)?_[j]=reactExports.cloneElement(rt,{onExited:o.bind(null,rt),in:!0,exit:getProp(rt,"exit",i),enter:getProp(rt,"enter",i)}):!it&&tt&&!lt?_[j]=reactExports.cloneElement(rt,{in:!1}):it&&tt&&reactExports.isValidElement(dt)&&(_[j]=reactExports.cloneElement(rt,{onExited:o.bind(null,rt),in:dt.props.in,exit:getProp(rt,"exit",i),enter:getProp(rt,"enter",i)}))}}),_}var values=Object.values||function(i){return Object.keys(i).map(function(s){return i[s]})},defaultProps={component:"div",childFactory:function(s){return s}},TransitionGroup=function(i){_inheritsLoose(s,i);function s(a,_){var j;j=i.call(this,a,_)||this;var rt=j.handleExited.bind(_assertThisInitialized(j));return j.state={contextValue:{isMounting:!0},handleExited:rt,firstRender:!0},j}var o=s.prototype;return o.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},o.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(_,j){var rt=j.children,tt=j.handleExited,it=j.firstRender;return{children:it?getInitialChildMapping(_,tt):getNextChildMapping(_,rt,tt),firstRender:!1}},o.handleExited=function(_,j){var rt=getChildMapping(this.props.children);_.key in rt||(_.props.onExited&&_.props.onExited(j),this.mounted&&this.setState(function(tt){var it=_extends({},tt.children);return delete it[_.key],{children:it}}))},o.render=function(){var _=this.props,j=_.component,rt=_.childFactory,tt=_objectWithoutPropertiesLoose(_,["component","childFactory"]),it=this.state.contextValue,dt=values(this.state.children).map(rt);return delete tt.appear,delete tt.enter,delete tt.exit,j===null?React.createElement(TransitionGroupContext.Provider,{value:it},dt):React.createElement(TransitionGroupContext.Provider,{value:it},React.createElement(j,tt,dt))},s}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const reflow=i=>i.scrollTop;function getTransitionProps(i,s){const{timeout:o,easing:a,style:_={}}=i;return{duration:_.transitionDuration??(typeof o=="number"?o:o[s.mode]||0),easing:_.transitionTimingFunction??(typeof a=="object"?a[s.mode]:a),delay:_.transitionDelay}}function getPaperUtilityClass(i){return generateUtilityClass("MuiPaper",i)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const useUtilityClasses$w=i=>{const{square:s,elevation:o,variant:a,classes:_}=i,j={root:["root",a,!s&&"rounded",a==="elevation"&&`elevation${o}`]};return composeClasses(j,getPaperUtilityClass,_)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,s[o.variant],!o.square&&s.rounded,o.variant==="elevation"&&s[`elevation${o.elevation}`]]}})(memoTheme(({theme:i})=>({backgroundColor:(i.vars||i).palette.background.paper,color:(i.vars||i).palette.text.primary,transition:i.transitions.create("box-shadow"),variants:[{props:({ownerState:s})=>!s.square,style:{borderRadius:i.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(i.vars||i).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Paper=reactExports.forwardRef(function(s,o){var ht;const a=useDefaultProps({props:s,name:"MuiPaper"}),_=useTheme(),{className:j,component:rt="div",elevation:tt=1,square:it=!1,variant:dt="elevation",...lt}=a,gt={...a,component:rt,elevation:tt,square:it,variant:dt},vt=useUtilityClasses$w(gt);return jsxRuntimeExports.jsx(PaperRoot,{as:rt,ownerState:gt,className:clsx(vt.root,j),ref:o,...lt,style:{...dt==="elevation"&&{"--Paper-shadow":(_.vars||_).shadows[tt],..._.vars&&{"--Paper-overlay":(ht=_.vars.overlays)==null?void 0:ht[tt]},...!_.vars&&_.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${alpha("#fff",getOverlayAlpha(tt))}, ${alpha("#fff",getOverlayAlpha(tt))})`}},...lt.style}})});function useSlot(i,s){const{className:o,elementType:a,ownerState:_,externalForwardedProps:j,getSlotOwnerState:rt,internalForwardedProps:tt,...it}=s,{component:dt,slots:lt={[i]:void 0},slotProps:gt={[i]:void 0},...vt}=j,ht=lt[i]||a,mt=resolveComponentProps(gt[i],_),{props:{component:nt,...$},internalRef:_e}=mergeSlotProps({className:o,...it,externalForwardedProps:i==="root"?vt:void 0,externalSlotProps:mt}),st=useForkRef(_e,mt==null?void 0:mt.ref,s.ref),ot=rt?rt($):{},ut={..._,...ot},et=i==="root"?nt||dt:nt,at=appendOwnerState(ht,{...i==="root"&&!dt&&!lt[i]&&tt,...i!=="root"&&!lt[i]&&tt,...$,...et&&{as:et},ref:st},ut);return Object.keys(ot).forEach(pt=>{delete at[pt]}),[ht,at]}class LazyRipple{constructor(){_i(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new LazyRipple}static use(){const s=useLazyRef(LazyRipple.create).current,[o,a]=reactExports.useState(!1);return s.shouldMount=o,s.setShouldMount=a,reactExports.useEffect(s.mountEffect,[o]),s}mount(){return this.mounted||(this.mounted=createControlledPromise(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...s){this.mount().then(()=>{var o;return(o=this.ref.current)==null?void 0:o.start(...s)})}stop(...s){this.mount().then(()=>{var o;return(o=this.ref.current)==null?void 0:o.stop(...s)})}pulsate(...s){this.mount().then(()=>{var o;return(o=this.ref.current)==null?void 0:o.pulsate(...s)})}}function useLazyRipple(){return LazyRipple.use()}function createControlledPromise(){let i,s;const o=new Promise((a,_)=>{i=a,s=_});return o.resolve=i,o.reject=s,o}function Ripple(i){const{className:s,classes:o,pulsate:a=!1,rippleX:_,rippleY:j,rippleSize:rt,in:tt,onExited:it,timeout:dt}=i,[lt,gt]=reactExports.useState(!1),vt=clsx(s,o.ripple,o.rippleVisible,a&&o.ripplePulsate),ht={width:rt,height:rt,top:-(rt/2)+j,left:-(rt/2)+_},mt=clsx(o.child,lt&&o.childLeaving,a&&o.childPulsate);return!tt&&!lt&&gt(!0),reactExports.useEffect(()=>{if(!tt&&it!=null){const nt=setTimeout(it,dt);return()=>{clearTimeout(nt)}}},[it,tt,dt]),jsxRuntimeExports.jsx("span",{className:vt,style:ht,children:jsxRuntimeExports.jsx("span",{className:mt})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,exitKeyframe=keyframes`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,pulsateKeyframe=keyframes`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,TouchRippleRoot=styled("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${touchRippleClasses.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${enterKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  &.${touchRippleClasses.ripplePulsate} {
    animation-duration: ${({theme:i})=>i.transitions.duration.shorter}ms;
  }

  & .${touchRippleClasses.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${touchRippleClasses.childLeaving} {
    opacity: 0;
    animation-name: ${exitKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  & .${touchRippleClasses.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${pulsateKeyframe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,TouchRipple=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiTouchRipple"}),{center:_=!1,classes:j={},className:rt,...tt}=a,[it,dt]=reactExports.useState([]),lt=reactExports.useRef(0),gt=reactExports.useRef(null);reactExports.useEffect(()=>{gt.current&&(gt.current(),gt.current=null)},[it]);const vt=reactExports.useRef(!1),ht=useTimeout(),mt=reactExports.useRef(null),nt=reactExports.useRef(null),$=reactExports.useCallback(ut=>{const{pulsate:et,rippleX:at,rippleY:pt,rippleSize:ct,cb:yt}=ut;dt(ft=>[...ft,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(j.ripple,touchRippleClasses.ripple),rippleVisible:clsx(j.rippleVisible,touchRippleClasses.rippleVisible),ripplePulsate:clsx(j.ripplePulsate,touchRippleClasses.ripplePulsate),child:clsx(j.child,touchRippleClasses.child),childLeaving:clsx(j.childLeaving,touchRippleClasses.childLeaving),childPulsate:clsx(j.childPulsate,touchRippleClasses.childPulsate)},timeout:DURATION,pulsate:et,rippleX:at,rippleY:pt,rippleSize:ct},lt.current)]),lt.current+=1,gt.current=yt},[j]),_e=reactExports.useCallback((ut={},et={},at=()=>{})=>{const{pulsate:pt=!1,center:ct=_||et.pulsate,fakeElement:yt=!1}=et;if((ut==null?void 0:ut.type)==="mousedown"&&vt.current){vt.current=!1;return}(ut==null?void 0:ut.type)==="touchstart"&&(vt.current=!0);const ft=yt?null:nt.current,_t=ft?ft.getBoundingClientRect():{width:0,height:0,left:0,top:0};let wt,Et,Mt;if(ct||ut===void 0||ut.clientX===0&&ut.clientY===0||!ut.clientX&&!ut.touches)wt=Math.round(_t.width/2),Et=Math.round(_t.height/2);else{const{clientX:St,clientY:At}=ut.touches&&ut.touches.length>0?ut.touches[0]:ut;wt=Math.round(St-_t.left),Et=Math.round(At-_t.top)}if(ct)Mt=Math.sqrt((2*_t.width**2+_t.height**2)/3),Mt%2===0&&(Mt+=1);else{const St=Math.max(Math.abs((ft?ft.clientWidth:0)-wt),wt)*2+2,At=Math.max(Math.abs((ft?ft.clientHeight:0)-Et),Et)*2+2;Mt=Math.sqrt(St**2+At**2)}ut!=null&&ut.touches?mt.current===null&&(mt.current=()=>{$({pulsate:pt,rippleX:wt,rippleY:Et,rippleSize:Mt,cb:at})},ht.start(DELAY_RIPPLE,()=>{mt.current&&(mt.current(),mt.current=null)})):$({pulsate:pt,rippleX:wt,rippleY:Et,rippleSize:Mt,cb:at})},[_,$,ht]),st=reactExports.useCallback(()=>{_e({},{pulsate:!0})},[_e]),ot=reactExports.useCallback((ut,et)=>{if(ht.clear(),(ut==null?void 0:ut.type)==="touchend"&&mt.current){mt.current(),mt.current=null,ht.start(0,()=>{ot(ut,et)});return}mt.current=null,dt(at=>at.length>0?at.slice(1):at),gt.current=et},[ht]);return reactExports.useImperativeHandle(o,()=>({pulsate:st,start:_e,stop:ot}),[st,_e,ot]),jsxRuntimeExports.jsx(TouchRippleRoot,{className:clsx(touchRippleClasses.root,j.root,rt),ref:nt,...tt,children:jsxRuntimeExports.jsx(TransitionGroup,{component:null,exit:!0,children:it})})});function getButtonBaseUtilityClass(i){return generateUtilityClass("MuiButtonBase",i)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),useUtilityClasses$v=i=>{const{disabled:s,focusVisible:o,focusVisibleClassName:a,classes:_}=i,rt=composeClasses({root:["root",s&&"disabled",o&&"focusVisible"]},getButtonBaseUtilityClass,_);return o&&a&&(rt.root+=` ${a}`),rt},ButtonBaseRoot=styled("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(i,s)=>s.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiButtonBase"}),{action:_,centerRipple:j=!1,children:rt,className:tt,component:it="button",disabled:dt=!1,disableRipple:lt=!1,disableTouchRipple:gt=!1,focusRipple:vt=!1,focusVisibleClassName:ht,LinkComponent:mt="a",onBlur:nt,onClick:$,onContextMenu:_e,onDragLeave:st,onFocus:ot,onFocusVisible:ut,onKeyDown:et,onKeyUp:at,onMouseDown:pt,onMouseLeave:ct,onMouseUp:yt,onTouchEnd:ft,onTouchMove:_t,onTouchStart:wt,tabIndex:Et=0,TouchRippleProps:Mt,touchRippleRef:St,type:At,...Rt}=a,Ct=reactExports.useRef(null),Pt=useLazyRipple(),Lt=useForkRef(Pt.ref,St),[Ot,It]=reactExports.useState(!1);dt&&Ot&&It(!1),reactExports.useImperativeHandle(_,()=>({focusVisible:()=>{It(!0),Ct.current.focus()}}),[]);const $t=Pt.shouldMount&&!lt&&!dt;reactExports.useEffect(()=>{Ot&&vt&&!lt&&Pt.pulsate()},[lt,vt,Ot,Pt]);function jt(fr,pr,Lr=gt){return useEventCallback(Or=>(pr&&pr(Or),Lr||Pt[fr](Or),!0))}const Zt=jt("start",pt),qt=jt("stop",_e),er=jt("stop",st),Yt=jt("stop",yt),Qt=jt("stop",fr=>{Ot&&fr.preventDefault(),ct&&ct(fr)}),cr=jt("start",wt),lr=jt("stop",ft),gr=jt("stop",_t),rr=jt("stop",fr=>{isFocusVisible(fr.target)||It(!1),nt&&nt(fr)},!1),Gt=useEventCallback(fr=>{Ct.current||(Ct.current=fr.currentTarget),isFocusVisible(fr.target)&&(It(!0),ut&&ut(fr)),ot&&ot(fr)}),nr=()=>{const fr=Ct.current;return it&&it!=="button"&&!(fr.tagName==="A"&&fr.href)},_r=useEventCallback(fr=>{vt&&!fr.repeat&&Ot&&fr.key===" "&&Pt.stop(fr,()=>{Pt.start(fr)}),fr.target===fr.currentTarget&&nr()&&fr.key===" "&&fr.preventDefault(),et&&et(fr),fr.target===fr.currentTarget&&nr()&&fr.key==="Enter"&&!dt&&(fr.preventDefault(),$&&$(fr))}),Sr=useEventCallback(fr=>{vt&&fr.key===" "&&Ot&&!fr.defaultPrevented&&Pt.stop(fr,()=>{Pt.pulsate(fr)}),at&&at(fr),$&&fr.target===fr.currentTarget&&nr()&&fr.key===" "&&!fr.defaultPrevented&&$(fr)});let Ar=it;Ar==="button"&&(Rt.href||Rt.to)&&(Ar=mt);const Rr={};Ar==="button"?(Rr.type=At===void 0?"button":At,Rr.disabled=dt):(!Rt.href&&!Rt.to&&(Rr.role="button"),dt&&(Rr["aria-disabled"]=dt));const Mr=useForkRef(o,Ct),wr={...a,centerRipple:j,component:it,disabled:dt,disableRipple:lt,disableTouchRipple:gt,focusRipple:vt,tabIndex:Et,focusVisible:Ot},Tr=useUtilityClasses$v(wr);return jsxRuntimeExports.jsxs(ButtonBaseRoot,{as:Ar,className:clsx(Tr.root,tt),ownerState:wr,onBlur:rr,onClick:$,onContextMenu:qt,onFocus:Gt,onKeyDown:_r,onKeyUp:Sr,onMouseDown:Zt,onMouseLeave:Qt,onMouseUp:Yt,onDragLeave:er,onTouchEnd:lr,onTouchMove:gr,onTouchStart:cr,ref:Mr,tabIndex:dt?-1:Et,type:At,...Rr,...Rt,children:[rt,$t?jsxRuntimeExports.jsx(TouchRipple,{ref:Lt,center:j,...Mt}):null]})});function hasCorrectMainProperty(i){return typeof i.main=="string"}function checkSimplePaletteColorValues(i,s=[]){if(!hasCorrectMainProperty(i))return!1;for(const o of s)if(!i.hasOwnProperty(o)||typeof i[o]!="string")return!1;return!0}function createSimplePaletteValueFilter(i=[]){return([,s])=>s&&checkSimplePaletteColorValues(s,i)}function getAlertUtilityClass(i){return generateUtilityClass("MuiAlert",i)}const alertClasses=generateUtilityClasses("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function getIconButtonUtilityClass(i){return generateUtilityClass("MuiIconButton",i)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),useUtilityClasses$u=i=>{const{classes:s,disabled:o,color:a,edge:_,size:j}=i,rt={root:["root",o&&"disabled",a!=="default"&&`color${capitalize(a)}`,_&&`edge${capitalize(_)}`,`size${capitalize(j)}`]};return composeClasses(rt,getIconButtonUtilityClass,s)},IconButtonRoot=styled(ButtonBase,{name:"MuiIconButton",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,o.color!=="default"&&s[`color${capitalize(o.color)}`],o.edge&&s[`edge${capitalize(o.edge)}`],s[`size${capitalize(o.size)}`]]}})(memoTheme(({theme:i})=>({textAlign:"center",flex:"0 0 auto",fontSize:i.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(i.vars||i).palette.action.active,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),variants:[{props:{disableRipple:!1},style:{"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette.action.active,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),memoTheme(({theme:i})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([s])=>({props:{color:s},style:{color:(i.vars||i).palette[s].main}})),...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([s])=>({props:{color:s,disableRipple:!1},style:{"&:hover":{backgroundColor:i.vars?`rgba(${(i.vars||i).palette[s].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha((i.vars||i).palette[s].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}})),{props:{size:"small"},style:{padding:5,fontSize:i.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:i.typography.pxToRem(28)}}],[`&.${iconButtonClasses.disabled}`]:{backgroundColor:"transparent",color:(i.vars||i).palette.action.disabled}}))),IconButton=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiIconButton"}),{edge:_=!1,children:j,className:rt,color:tt="default",disabled:it=!1,disableFocusRipple:dt=!1,disableRipple:lt=!1,size:gt="medium",...vt}=a,ht={...a,edge:_,color:tt,disabled:it,disableFocusRipple:dt,disableRipple:lt,size:gt},mt=useUtilityClasses$u(ht);return jsxRuntimeExports.jsx(IconButtonRoot,{className:clsx(mt.root,rt),centerRipple:!0,focusRipple:!dt,disabled:it,disableRipple:lt,ref:o,...vt,ownerState:ht,children:j})}),SuccessOutlinedIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ReportProblemOutlinedIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ErrorOutlineIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),InfoOutlinedIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ClearIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),useUtilityClasses$t=i=>{const{variant:s,color:o,severity:a,classes:_}=i,j={root:["root",`color${capitalize(o||a)}`,`${s}${capitalize(o||a)}`,`${s}`],icon:["icon"],message:["message"],action:["action"]};return composeClasses(j,getAlertUtilityClass,_)},AlertRoot=styled(Paper,{name:"MuiAlert",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,s[o.variant],s[`${o.variant}${capitalize(o.color||o.severity)}`]]}})(memoTheme(({theme:i})=>{const s=i.palette.mode==="light"?darken:lighten,o=i.palette.mode==="light"?lighten:darken;return{...i.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(i.palette).filter(createSimplePaletteValueFilter(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"standard"},style:{color:i.vars?i.vars.palette.Alert[`${a}Color`]:s(i.palette[a].light,.6),backgroundColor:i.vars?i.vars.palette.Alert[`${a}StandardBg`]:o(i.palette[a].light,.9),[`& .${alertClasses.icon}`]:i.vars?{color:i.vars.palette.Alert[`${a}IconColor`]}:{color:i.palette[a].main}}})),...Object.entries(i.palette).filter(createSimplePaletteValueFilter(["light"])).map(([a])=>({props:{colorSeverity:a,variant:"outlined"},style:{color:i.vars?i.vars.palette.Alert[`${a}Color`]:s(i.palette[a].light,.6),border:`1px solid ${(i.vars||i).palette[a].light}`,[`& .${alertClasses.icon}`]:i.vars?{color:i.vars.palette.Alert[`${a}IconColor`]}:{color:i.palette[a].main}}})),...Object.entries(i.palette).filter(createSimplePaletteValueFilter(["dark"])).map(([a])=>({props:{colorSeverity:a,variant:"filled"},style:{fontWeight:i.typography.fontWeightMedium,...i.vars?{color:i.vars.palette.Alert[`${a}FilledColor`],backgroundColor:i.vars.palette.Alert[`${a}FilledBg`]}:{backgroundColor:i.palette.mode==="dark"?i.palette[a].dark:i.palette[a].main,color:i.palette.getContrastText(i.palette[a].main)}}}))]}})),AlertIcon=styled("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(i,s)=>s.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),AlertMessage=styled("div",{name:"MuiAlert",slot:"Message",overridesResolver:(i,s)=>s.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),AlertAction=styled("div",{name:"MuiAlert",slot:"Action",overridesResolver:(i,s)=>s.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),defaultIconMapping={success:jsxRuntimeExports.jsx(SuccessOutlinedIcon,{fontSize:"inherit"}),warning:jsxRuntimeExports.jsx(ReportProblemOutlinedIcon,{fontSize:"inherit"}),error:jsxRuntimeExports.jsx(ErrorOutlineIcon,{fontSize:"inherit"}),info:jsxRuntimeExports.jsx(InfoOutlinedIcon,{fontSize:"inherit"})},Alert=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiAlert"}),{action:_,children:j,className:rt,closeText:tt="Close",color:it,components:dt={},componentsProps:lt={},icon:gt,iconMapping:vt=defaultIconMapping,onClose:ht,role:mt="alert",severity:nt="success",slotProps:$={},slots:_e={},variant:st="standard",...ot}=a,ut={...a,color:it,severity:nt,variant:st,colorSeverity:it||nt},et=useUtilityClasses$t(ut),at={slots:{closeButton:dt.CloseButton,closeIcon:dt.CloseIcon,..._e},slotProps:{...lt,...$}},[pt,ct]=useSlot("closeButton",{elementType:IconButton,externalForwardedProps:at,ownerState:ut}),[yt,ft]=useSlot("closeIcon",{elementType:ClearIcon,externalForwardedProps:at,ownerState:ut});return jsxRuntimeExports.jsxs(AlertRoot,{role:mt,elevation:0,ownerState:ut,className:clsx(et.root,rt),ref:o,...ot,children:[gt!==!1?jsxRuntimeExports.jsx(AlertIcon,{ownerState:ut,className:et.icon,children:gt||vt[nt]||defaultIconMapping[nt]}):null,jsxRuntimeExports.jsx(AlertMessage,{ownerState:ut,className:et.message,children:j}),_!=null?jsxRuntimeExports.jsx(AlertAction,{ownerState:ut,className:et.action,children:_}):null,_==null&&ht?jsxRuntimeExports.jsx(AlertAction,{ownerState:ut,className:et.action,children:jsxRuntimeExports.jsx(pt,{size:"small","aria-label":tt,title:tt,color:"inherit",onClick:ht,...ct,children:jsxRuntimeExports.jsx(yt,{fontSize:"small",...ft})})}):null]})});function getTypographyUtilityClass(i){return generateUtilityClass("MuiTypography",i)}const typographyClasses=generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),v6Colors={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},extendSxProp=internal_createExtendSxProp(),useUtilityClasses$s=i=>{const{align:s,gutterBottom:o,noWrap:a,paragraph:_,variant:j,classes:rt}=i,tt={root:["root",j,i.align!=="inherit"&&`align${capitalize(s)}`,o&&"gutterBottom",a&&"noWrap",_&&"paragraph"]};return composeClasses(tt,getTypographyUtilityClass,rt)},TypographyRoot=styled("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,o.variant&&s[o.variant],o.align!=="inherit"&&s[`align${capitalize(o.align)}`],o.noWrap&&s.noWrap,o.gutterBottom&&s.gutterBottom,o.paragraph&&s.paragraph]}})(memoTheme(({theme:i})=>{var s;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(i.typography).filter(([o,a])=>o!=="inherit"&&a&&typeof a=="object").map(([o,a])=>({props:{variant:o},style:a})),...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([o])=>({props:{color:o},style:{color:(i.vars||i).palette[o].main}})),...Object.entries(((s=i.palette)==null?void 0:s.text)||{}).filter(([,o])=>typeof o=="string").map(([o])=>({props:{color:`text${capitalize(o)}`},style:{color:(i.vars||i).palette.text[o]}})),{props:({ownerState:o})=>o.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:o})=>o.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:o})=>o.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:o})=>o.paragraph,style:{marginBottom:16}}]}})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Typography=reactExports.forwardRef(function(s,o){const{color:a,..._}=useDefaultProps({props:s,name:"MuiTypography"}),j=!v6Colors[a],rt=extendSxProp({..._,...j&&{color:a}}),{align:tt="inherit",className:it,component:dt,gutterBottom:lt=!1,noWrap:gt=!1,paragraph:vt=!1,variant:ht="body1",variantMapping:mt=defaultVariantMapping,...nt}=rt,$={...rt,align:tt,color:a,className:it,component:dt,gutterBottom:lt,noWrap:gt,paragraph:vt,variant:ht,variantMapping:mt},_e=dt||(vt?"p":mt[ht]||defaultVariantMapping[ht])||"span",st=useUtilityClasses$s($);return jsxRuntimeExports.jsx(TypographyRoot,{as:_e,ref:o,className:clsx(st.root,it),...nt,ownerState:$,style:{...tt!=="inherit"&&{"--Typography-textAlign":tt},...nt.style}})});var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(i,s){return i.concat([s+"-"+start,s+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(i,s){return i.concat([s,s+"-"+start,s+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(i){return i?(i.nodeName||"").toLowerCase():null}function getWindow(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var s=i.ownerDocument;return s&&s.defaultView||window}return i}function isElement(i){var s=getWindow(i).Element;return i instanceof s||i instanceof Element}function isHTMLElement$1(i){var s=getWindow(i).HTMLElement;return i instanceof s||i instanceof HTMLElement}function isShadowRoot(i){if(typeof ShadowRoot>"u")return!1;var s=getWindow(i).ShadowRoot;return i instanceof s||i instanceof ShadowRoot}function applyStyles(i){var s=i.state;Object.keys(s.elements).forEach(function(o){var a=s.styles[o]||{},_=s.attributes[o]||{},j=s.elements[o];!isHTMLElement$1(j)||!getNodeName(j)||(Object.assign(j.style,a),Object.keys(_).forEach(function(rt){var tt=_[rt];tt===!1?j.removeAttribute(rt):j.setAttribute(rt,tt===!0?"":tt)}))})}function effect$2(i){var s=i.state,o={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,o.popper),s.styles=o,s.elements.arrow&&Object.assign(s.elements.arrow.style,o.arrow),function(){Object.keys(s.elements).forEach(function(a){var _=s.elements[a],j=s.attributes[a]||{},rt=Object.keys(s.styles.hasOwnProperty(a)?s.styles[a]:o[a]),tt=rt.reduce(function(it,dt){return it[dt]="",it},{});!isHTMLElement$1(_)||!getNodeName(_)||(Object.assign(_.style,tt),Object.keys(j).forEach(function(it){_.removeAttribute(it)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(i){return i.split("-")[0]}var max=Math.max,min=Math.min,round$1=Math.round;function getUAString(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(s){return s.brand+"/"+s.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(i,s,o){s===void 0&&(s=!1),o===void 0&&(o=!1);var a=i.getBoundingClientRect(),_=1,j=1;s&&isHTMLElement$1(i)&&(_=i.offsetWidth>0&&round$1(a.width)/i.offsetWidth||1,j=i.offsetHeight>0&&round$1(a.height)/i.offsetHeight||1);var rt=isElement(i)?getWindow(i):window,tt=rt.visualViewport,it=!isLayoutViewport()&&o,dt=(a.left+(it&&tt?tt.offsetLeft:0))/_,lt=(a.top+(it&&tt?tt.offsetTop:0))/j,gt=a.width/_,vt=a.height/j;return{width:gt,height:vt,top:lt,right:dt+gt,bottom:lt+vt,left:dt,x:dt,y:lt}}function getLayoutRect(i){var s=getBoundingClientRect(i),o=i.offsetWidth,a=i.offsetHeight;return Math.abs(s.width-o)<=1&&(o=s.width),Math.abs(s.height-a)<=1&&(a=s.height),{x:i.offsetLeft,y:i.offsetTop,width:o,height:a}}function contains(i,s){var o=s.getRootNode&&s.getRootNode();if(i.contains(s))return!0;if(o&&isShadowRoot(o)){var a=s;do{if(a&&i.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function getComputedStyle(i){return getWindow(i).getComputedStyle(i)}function isTableElement(i){return["table","td","th"].indexOf(getNodeName(i))>=0}function getDocumentElement(i){return((isElement(i)?i.ownerDocument:i.document)||window.document).documentElement}function getParentNode(i){return getNodeName(i)==="html"?i:i.assignedSlot||i.parentNode||(isShadowRoot(i)?i.host:null)||getDocumentElement(i)}function getTrueOffsetParent(i){return!isHTMLElement$1(i)||getComputedStyle(i).position==="fixed"?null:i.offsetParent}function getContainingBlock(i){var s=/firefox/i.test(getUAString()),o=/Trident/i.test(getUAString());if(o&&isHTMLElement$1(i)){var a=getComputedStyle(i);if(a.position==="fixed")return null}var _=getParentNode(i);for(isShadowRoot(_)&&(_=_.host);isHTMLElement$1(_)&&["html","body"].indexOf(getNodeName(_))<0;){var j=getComputedStyle(_);if(j.transform!=="none"||j.perspective!=="none"||j.contain==="paint"||["transform","perspective"].indexOf(j.willChange)!==-1||s&&j.willChange==="filter"||s&&j.filter&&j.filter!=="none")return _;_=_.parentNode}return null}function getOffsetParent(i){for(var s=getWindow(i),o=getTrueOffsetParent(i);o&&isTableElement(o)&&getComputedStyle(o).position==="static";)o=getTrueOffsetParent(o);return o&&(getNodeName(o)==="html"||getNodeName(o)==="body"&&getComputedStyle(o).position==="static")?s:o||getContainingBlock(i)||s}function getMainAxisFromPlacement(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function within(i,s,o){return max(i,min(s,o))}function withinMaxClamp(i,s,o){var a=within(i,s,o);return a>o?o:a}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(i){return Object.assign({},getFreshSideObject(),i)}function expandToHashMap(i,s){return s.reduce(function(o,a){return o[a]=i,o},{})}var toPaddingObject=function(s,o){return s=typeof s=="function"?s(Object.assign({},o.rects,{placement:o.placement})):s,mergePaddingObject(typeof s!="number"?s:expandToHashMap(s,basePlacements))};function arrow(i){var s,o=i.state,a=i.name,_=i.options,j=o.elements.arrow,rt=o.modifiersData.popperOffsets,tt=getBasePlacement(o.placement),it=getMainAxisFromPlacement(tt),dt=[left,right].indexOf(tt)>=0,lt=dt?"height":"width";if(!(!j||!rt)){var gt=toPaddingObject(_.padding,o),vt=getLayoutRect(j),ht=it==="y"?top:left,mt=it==="y"?bottom:right,nt=o.rects.reference[lt]+o.rects.reference[it]-rt[it]-o.rects.popper[lt],$=rt[it]-o.rects.reference[it],_e=getOffsetParent(j),st=_e?it==="y"?_e.clientHeight||0:_e.clientWidth||0:0,ot=nt/2-$/2,ut=gt[ht],et=st-vt[lt]-gt[mt],at=st/2-vt[lt]/2+ot,pt=within(ut,at,et),ct=it;o.modifiersData[a]=(s={},s[ct]=pt,s.centerOffset=pt-at,s)}}function effect$1(i){var s=i.state,o=i.options,a=o.element,_=a===void 0?"[data-popper-arrow]":a;_!=null&&(typeof _=="string"&&(_=s.elements.popper.querySelector(_),!_)||contains(s.elements.popper,_)&&(s.elements.arrow=_))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(i){return i.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(i,s){var o=i.x,a=i.y,_=s.devicePixelRatio||1;return{x:round$1(o*_)/_||0,y:round$1(a*_)/_||0}}function mapToStyles(i){var s,o=i.popper,a=i.popperRect,_=i.placement,j=i.variation,rt=i.offsets,tt=i.position,it=i.gpuAcceleration,dt=i.adaptive,lt=i.roundOffsets,gt=i.isFixed,vt=rt.x,ht=vt===void 0?0:vt,mt=rt.y,nt=mt===void 0?0:mt,$=typeof lt=="function"?lt({x:ht,y:nt}):{x:ht,y:nt};ht=$.x,nt=$.y;var _e=rt.hasOwnProperty("x"),st=rt.hasOwnProperty("y"),ot=left,ut=top,et=window;if(dt){var at=getOffsetParent(o),pt="clientHeight",ct="clientWidth";if(at===getWindow(o)&&(at=getDocumentElement(o),getComputedStyle(at).position!=="static"&&tt==="absolute"&&(pt="scrollHeight",ct="scrollWidth")),at=at,_===top||(_===left||_===right)&&j===end){ut=bottom;var yt=gt&&at===et&&et.visualViewport?et.visualViewport.height:at[pt];nt-=yt-a.height,nt*=it?1:-1}if(_===left||(_===top||_===bottom)&&j===end){ot=right;var ft=gt&&at===et&&et.visualViewport?et.visualViewport.width:at[ct];ht-=ft-a.width,ht*=it?1:-1}}var _t=Object.assign({position:tt},dt&&unsetSides),wt=lt===!0?roundOffsetsByDPR({x:ht,y:nt},getWindow(o)):{x:ht,y:nt};if(ht=wt.x,nt=wt.y,it){var Et;return Object.assign({},_t,(Et={},Et[ut]=st?"0":"",Et[ot]=_e?"0":"",Et.transform=(et.devicePixelRatio||1)<=1?"translate("+ht+"px, "+nt+"px)":"translate3d("+ht+"px, "+nt+"px, 0)",Et))}return Object.assign({},_t,(s={},s[ut]=st?nt+"px":"",s[ot]=_e?ht+"px":"",s.transform="",s))}function computeStyles(i){var s=i.state,o=i.options,a=o.gpuAcceleration,_=a===void 0?!0:a,j=o.adaptive,rt=j===void 0?!0:j,tt=o.roundOffsets,it=tt===void 0?!0:tt,dt={placement:getBasePlacement(s.placement),variation:getVariation(s.placement),popper:s.elements.popper,popperRect:s.rects.popper,gpuAcceleration:_,isFixed:s.options.strategy==="fixed"};s.modifiersData.popperOffsets!=null&&(s.styles.popper=Object.assign({},s.styles.popper,mapToStyles(Object.assign({},dt,{offsets:s.modifiersData.popperOffsets,position:s.options.strategy,adaptive:rt,roundOffsets:it})))),s.modifiersData.arrow!=null&&(s.styles.arrow=Object.assign({},s.styles.arrow,mapToStyles(Object.assign({},dt,{offsets:s.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:it})))),s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-placement":s.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(i){var s=i.state,o=i.instance,a=i.options,_=a.scroll,j=_===void 0?!0:_,rt=a.resize,tt=rt===void 0?!0:rt,it=getWindow(s.elements.popper),dt=[].concat(s.scrollParents.reference,s.scrollParents.popper);return j&&dt.forEach(function(lt){lt.addEventListener("scroll",o.update,passive)}),tt&&it.addEventListener("resize",o.update,passive),function(){j&&dt.forEach(function(lt){lt.removeEventListener("scroll",o.update,passive)}),tt&&it.removeEventListener("resize",o.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(i){return i.replace(/left|right|bottom|top/g,function(s){return hash$1[s]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(i){return i.replace(/start|end/g,function(s){return hash[s]})}function getWindowScroll(i){var s=getWindow(i),o=s.pageXOffset,a=s.pageYOffset;return{scrollLeft:o,scrollTop:a}}function getWindowScrollBarX(i){return getBoundingClientRect(getDocumentElement(i)).left+getWindowScroll(i).scrollLeft}function getViewportRect(i,s){var o=getWindow(i),a=getDocumentElement(i),_=o.visualViewport,j=a.clientWidth,rt=a.clientHeight,tt=0,it=0;if(_){j=_.width,rt=_.height;var dt=isLayoutViewport();(dt||!dt&&s==="fixed")&&(tt=_.offsetLeft,it=_.offsetTop)}return{width:j,height:rt,x:tt+getWindowScrollBarX(i),y:it}}function getDocumentRect(i){var s,o=getDocumentElement(i),a=getWindowScroll(i),_=(s=i.ownerDocument)==null?void 0:s.body,j=max(o.scrollWidth,o.clientWidth,_?_.scrollWidth:0,_?_.clientWidth:0),rt=max(o.scrollHeight,o.clientHeight,_?_.scrollHeight:0,_?_.clientHeight:0),tt=-a.scrollLeft+getWindowScrollBarX(i),it=-a.scrollTop;return getComputedStyle(_||o).direction==="rtl"&&(tt+=max(o.clientWidth,_?_.clientWidth:0)-j),{width:j,height:rt,x:tt,y:it}}function isScrollParent(i){var s=getComputedStyle(i),o=s.overflow,a=s.overflowX,_=s.overflowY;return/auto|scroll|overlay|hidden/.test(o+_+a)}function getScrollParent(i){return["html","body","#document"].indexOf(getNodeName(i))>=0?i.ownerDocument.body:isHTMLElement$1(i)&&isScrollParent(i)?i:getScrollParent(getParentNode(i))}function listScrollParents(i,s){var o;s===void 0&&(s=[]);var a=getScrollParent(i),_=a===((o=i.ownerDocument)==null?void 0:o.body),j=getWindow(a),rt=_?[j].concat(j.visualViewport||[],isScrollParent(a)?a:[]):a,tt=s.concat(rt);return _?tt:tt.concat(listScrollParents(getParentNode(rt)))}function rectToClientRect(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function getInnerBoundingClientRect(i,s){var o=getBoundingClientRect(i,!1,s==="fixed");return o.top=o.top+i.clientTop,o.left=o.left+i.clientLeft,o.bottom=o.top+i.clientHeight,o.right=o.left+i.clientWidth,o.width=i.clientWidth,o.height=i.clientHeight,o.x=o.left,o.y=o.top,o}function getClientRectFromMixedType(i,s,o){return s===viewport?rectToClientRect(getViewportRect(i,o)):isElement(s)?getInnerBoundingClientRect(s,o):rectToClientRect(getDocumentRect(getDocumentElement(i)))}function getClippingParents(i){var s=listScrollParents(getParentNode(i)),o=["absolute","fixed"].indexOf(getComputedStyle(i).position)>=0,a=o&&isHTMLElement$1(i)?getOffsetParent(i):i;return isElement(a)?s.filter(function(_){return isElement(_)&&contains(_,a)&&getNodeName(_)!=="body"}):[]}function getClippingRect(i,s,o,a){var _=s==="clippingParents"?getClippingParents(i):[].concat(s),j=[].concat(_,[o]),rt=j[0],tt=j.reduce(function(it,dt){var lt=getClientRectFromMixedType(i,dt,a);return it.top=max(lt.top,it.top),it.right=min(lt.right,it.right),it.bottom=min(lt.bottom,it.bottom),it.left=max(lt.left,it.left),it},getClientRectFromMixedType(i,rt,a));return tt.width=tt.right-tt.left,tt.height=tt.bottom-tt.top,tt.x=tt.left,tt.y=tt.top,tt}function computeOffsets(i){var s=i.reference,o=i.element,a=i.placement,_=a?getBasePlacement(a):null,j=a?getVariation(a):null,rt=s.x+s.width/2-o.width/2,tt=s.y+s.height/2-o.height/2,it;switch(_){case top:it={x:rt,y:s.y-o.height};break;case bottom:it={x:rt,y:s.y+s.height};break;case right:it={x:s.x+s.width,y:tt};break;case left:it={x:s.x-o.width,y:tt};break;default:it={x:s.x,y:s.y}}var dt=_?getMainAxisFromPlacement(_):null;if(dt!=null){var lt=dt==="y"?"height":"width";switch(j){case start:it[dt]=it[dt]-(s[lt]/2-o[lt]/2);break;case end:it[dt]=it[dt]+(s[lt]/2-o[lt]/2);break}}return it}function detectOverflow(i,s){s===void 0&&(s={});var o=s,a=o.placement,_=a===void 0?i.placement:a,j=o.strategy,rt=j===void 0?i.strategy:j,tt=o.boundary,it=tt===void 0?clippingParents:tt,dt=o.rootBoundary,lt=dt===void 0?viewport:dt,gt=o.elementContext,vt=gt===void 0?popper:gt,ht=o.altBoundary,mt=ht===void 0?!1:ht,nt=o.padding,$=nt===void 0?0:nt,_e=mergePaddingObject(typeof $!="number"?$:expandToHashMap($,basePlacements)),st=vt===popper?reference:popper,ot=i.rects.popper,ut=i.elements[mt?st:vt],et=getClippingRect(isElement(ut)?ut:ut.contextElement||getDocumentElement(i.elements.popper),it,lt,rt),at=getBoundingClientRect(i.elements.reference),pt=computeOffsets({reference:at,element:ot,strategy:"absolute",placement:_}),ct=rectToClientRect(Object.assign({},ot,pt)),yt=vt===popper?ct:at,ft={top:et.top-yt.top+_e.top,bottom:yt.bottom-et.bottom+_e.bottom,left:et.left-yt.left+_e.left,right:yt.right-et.right+_e.right},_t=i.modifiersData.offset;if(vt===popper&&_t){var wt=_t[_];Object.keys(ft).forEach(function(Et){var Mt=[right,bottom].indexOf(Et)>=0?1:-1,St=[top,bottom].indexOf(Et)>=0?"y":"x";ft[Et]+=wt[St]*Mt})}return ft}function computeAutoPlacement(i,s){s===void 0&&(s={});var o=s,a=o.placement,_=o.boundary,j=o.rootBoundary,rt=o.padding,tt=o.flipVariations,it=o.allowedAutoPlacements,dt=it===void 0?placements:it,lt=getVariation(a),gt=lt?tt?variationPlacements:variationPlacements.filter(function(mt){return getVariation(mt)===lt}):basePlacements,vt=gt.filter(function(mt){return dt.indexOf(mt)>=0});vt.length===0&&(vt=gt);var ht=vt.reduce(function(mt,nt){return mt[nt]=detectOverflow(i,{placement:nt,boundary:_,rootBoundary:j,padding:rt})[getBasePlacement(nt)],mt},{});return Object.keys(ht).sort(function(mt,nt){return ht[mt]-ht[nt]})}function getExpandedFallbackPlacements(i){if(getBasePlacement(i)===auto)return[];var s=getOppositePlacement(i);return[getOppositeVariationPlacement(i),s,getOppositeVariationPlacement(s)]}function flip(i){var s=i.state,o=i.options,a=i.name;if(!s.modifiersData[a]._skip){for(var _=o.mainAxis,j=_===void 0?!0:_,rt=o.altAxis,tt=rt===void 0?!0:rt,it=o.fallbackPlacements,dt=o.padding,lt=o.boundary,gt=o.rootBoundary,vt=o.altBoundary,ht=o.flipVariations,mt=ht===void 0?!0:ht,nt=o.allowedAutoPlacements,$=s.options.placement,_e=getBasePlacement($),st=_e===$,ot=it||(st||!mt?[getOppositePlacement($)]:getExpandedFallbackPlacements($)),ut=[$].concat(ot).reduce(function(jt,Zt){return jt.concat(getBasePlacement(Zt)===auto?computeAutoPlacement(s,{placement:Zt,boundary:lt,rootBoundary:gt,padding:dt,flipVariations:mt,allowedAutoPlacements:nt}):Zt)},[]),et=s.rects.reference,at=s.rects.popper,pt=new Map,ct=!0,yt=ut[0],ft=0;ft<ut.length;ft++){var _t=ut[ft],wt=getBasePlacement(_t),Et=getVariation(_t)===start,Mt=[top,bottom].indexOf(wt)>=0,St=Mt?"width":"height",At=detectOverflow(s,{placement:_t,boundary:lt,rootBoundary:gt,altBoundary:vt,padding:dt}),Rt=Mt?Et?right:left:Et?bottom:top;et[St]>at[St]&&(Rt=getOppositePlacement(Rt));var Ct=getOppositePlacement(Rt),Pt=[];if(j&&Pt.push(At[wt]<=0),tt&&Pt.push(At[Rt]<=0,At[Ct]<=0),Pt.every(function(jt){return jt})){yt=_t,ct=!1;break}pt.set(_t,Pt)}if(ct)for(var Lt=mt?3:1,Ot=function(Zt){var qt=ut.find(function(er){var Yt=pt.get(er);if(Yt)return Yt.slice(0,Zt).every(function(Qt){return Qt})});if(qt)return yt=qt,"break"},It=Lt;It>0;It--){var $t=Ot(It);if($t==="break")break}s.placement!==yt&&(s.modifiersData[a]._skip=!0,s.placement=yt,s.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(i,s,o){return o===void 0&&(o={x:0,y:0}),{top:i.top-s.height-o.y,right:i.right-s.width+o.x,bottom:i.bottom-s.height+o.y,left:i.left-s.width-o.x}}function isAnySideFullyClipped(i){return[top,right,bottom,left].some(function(s){return i[s]>=0})}function hide(i){var s=i.state,o=i.name,a=s.rects.reference,_=s.rects.popper,j=s.modifiersData.preventOverflow,rt=detectOverflow(s,{elementContext:"reference"}),tt=detectOverflow(s,{altBoundary:!0}),it=getSideOffsets(rt,a),dt=getSideOffsets(tt,_,j),lt=isAnySideFullyClipped(it),gt=isAnySideFullyClipped(dt);s.modifiersData[o]={referenceClippingOffsets:it,popperEscapeOffsets:dt,isReferenceHidden:lt,hasPopperEscaped:gt},s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-reference-hidden":lt,"data-popper-escaped":gt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(i,s,o){var a=getBasePlacement(i),_=[left,top].indexOf(a)>=0?-1:1,j=typeof o=="function"?o(Object.assign({},s,{placement:i})):o,rt=j[0],tt=j[1];return rt=rt||0,tt=(tt||0)*_,[left,right].indexOf(a)>=0?{x:tt,y:rt}:{x:rt,y:tt}}function offset(i){var s=i.state,o=i.options,a=i.name,_=o.offset,j=_===void 0?[0,0]:_,rt=placements.reduce(function(lt,gt){return lt[gt]=distanceAndSkiddingToXY(gt,s.rects,j),lt},{}),tt=rt[s.placement],it=tt.x,dt=tt.y;s.modifiersData.popperOffsets!=null&&(s.modifiersData.popperOffsets.x+=it,s.modifiersData.popperOffsets.y+=dt),s.modifiersData[a]=rt}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(i){var s=i.state,o=i.name;s.modifiersData[o]=computeOffsets({reference:s.rects.reference,element:s.rects.popper,strategy:"absolute",placement:s.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(i){return i==="x"?"y":"x"}function preventOverflow(i){var s=i.state,o=i.options,a=i.name,_=o.mainAxis,j=_===void 0?!0:_,rt=o.altAxis,tt=rt===void 0?!1:rt,it=o.boundary,dt=o.rootBoundary,lt=o.altBoundary,gt=o.padding,vt=o.tether,ht=vt===void 0?!0:vt,mt=o.tetherOffset,nt=mt===void 0?0:mt,$=detectOverflow(s,{boundary:it,rootBoundary:dt,padding:gt,altBoundary:lt}),_e=getBasePlacement(s.placement),st=getVariation(s.placement),ot=!st,ut=getMainAxisFromPlacement(_e),et=getAltAxis(ut),at=s.modifiersData.popperOffsets,pt=s.rects.reference,ct=s.rects.popper,yt=typeof nt=="function"?nt(Object.assign({},s.rects,{placement:s.placement})):nt,ft=typeof yt=="number"?{mainAxis:yt,altAxis:yt}:Object.assign({mainAxis:0,altAxis:0},yt),_t=s.modifiersData.offset?s.modifiersData.offset[s.placement]:null,wt={x:0,y:0};if(at){if(j){var Et,Mt=ut==="y"?top:left,St=ut==="y"?bottom:right,At=ut==="y"?"height":"width",Rt=at[ut],Ct=Rt+$[Mt],Pt=Rt-$[St],Lt=ht?-ct[At]/2:0,Ot=st===start?pt[At]:ct[At],It=st===start?-ct[At]:-pt[At],$t=s.elements.arrow,jt=ht&&$t?getLayoutRect($t):{width:0,height:0},Zt=s.modifiersData["arrow#persistent"]?s.modifiersData["arrow#persistent"].padding:getFreshSideObject(),qt=Zt[Mt],er=Zt[St],Yt=within(0,pt[At],jt[At]),Qt=ot?pt[At]/2-Lt-Yt-qt-ft.mainAxis:Ot-Yt-qt-ft.mainAxis,cr=ot?-pt[At]/2+Lt+Yt+er+ft.mainAxis:It+Yt+er+ft.mainAxis,lr=s.elements.arrow&&getOffsetParent(s.elements.arrow),gr=lr?ut==="y"?lr.clientTop||0:lr.clientLeft||0:0,rr=(Et=_t==null?void 0:_t[ut])!=null?Et:0,Gt=Rt+Qt-rr-gr,nr=Rt+cr-rr,_r=within(ht?min(Ct,Gt):Ct,Rt,ht?max(Pt,nr):Pt);at[ut]=_r,wt[ut]=_r-Rt}if(tt){var Sr,Ar=ut==="x"?top:left,Rr=ut==="x"?bottom:right,Mr=at[et],wr=et==="y"?"height":"width",Tr=Mr+$[Ar],fr=Mr-$[Rr],pr=[top,left].indexOf(_e)!==-1,Lr=(Sr=_t==null?void 0:_t[et])!=null?Sr:0,Or=pr?Tr:Mr-pt[wr]-ct[wr]-Lr+ft.altAxis,Bt=pr?Mr+pt[wr]+ct[wr]-Lr-ft.altAxis:fr,Ut=ht&&pr?withinMaxClamp(Or,Mr,Bt):within(ht?Or:Tr,Mr,ht?Bt:fr);at[et]=Ut,wt[et]=Ut-Mr}s.modifiersData[a]=wt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function getNodeScroll(i){return i===getWindow(i)||!isHTMLElement$1(i)?getWindowScroll(i):getHTMLElementScroll(i)}function isElementScaled(i){var s=i.getBoundingClientRect(),o=round$1(s.width)/i.offsetWidth||1,a=round$1(s.height)/i.offsetHeight||1;return o!==1||a!==1}function getCompositeRect(i,s,o){o===void 0&&(o=!1);var a=isHTMLElement$1(s),_=isHTMLElement$1(s)&&isElementScaled(s),j=getDocumentElement(s),rt=getBoundingClientRect(i,_,o),tt={scrollLeft:0,scrollTop:0},it={x:0,y:0};return(a||!a&&!o)&&((getNodeName(s)!=="body"||isScrollParent(j))&&(tt=getNodeScroll(s)),isHTMLElement$1(s)?(it=getBoundingClientRect(s,!0),it.x+=s.clientLeft,it.y+=s.clientTop):j&&(it.x=getWindowScrollBarX(j))),{x:rt.left+tt.scrollLeft-it.x,y:rt.top+tt.scrollTop-it.y,width:rt.width,height:rt.height}}function order(i){var s=new Map,o=new Set,a=[];i.forEach(function(j){s.set(j.name,j)});function _(j){o.add(j.name);var rt=[].concat(j.requires||[],j.requiresIfExists||[]);rt.forEach(function(tt){if(!o.has(tt)){var it=s.get(tt);it&&_(it)}}),a.push(j)}return i.forEach(function(j){o.has(j.name)||_(j)}),a}function orderModifiers(i){var s=order(i);return modifierPhases.reduce(function(o,a){return o.concat(s.filter(function(_){return _.phase===a}))},[])}function debounce(i){var s;return function(){return s||(s=new Promise(function(o){Promise.resolve().then(function(){s=void 0,o(i())})})),s}}function mergeByName(i){var s=i.reduce(function(o,a){var _=o[a.name];return o[a.name]=_?Object.assign({},_,a,{options:Object.assign({},_.options,a.options),data:Object.assign({},_.data,a.data)}):a,o},{});return Object.keys(s).map(function(o){return s[o]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return!s.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function popperGenerator(i){i===void 0&&(i={});var s=i,o=s.defaultModifiers,a=o===void 0?[]:o,_=s.defaultOptions,j=_===void 0?DEFAULT_OPTIONS:_;return function(tt,it,dt){dt===void 0&&(dt=j);var lt={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,j),modifiersData:{},elements:{reference:tt,popper:it},attributes:{},styles:{}},gt=[],vt=!1,ht={state:lt,setOptions:function(_e){var st=typeof _e=="function"?_e(lt.options):_e;nt(),lt.options=Object.assign({},j,lt.options,st),lt.scrollParents={reference:isElement(tt)?listScrollParents(tt):tt.contextElement?listScrollParents(tt.contextElement):[],popper:listScrollParents(it)};var ot=orderModifiers(mergeByName([].concat(a,lt.options.modifiers)));return lt.orderedModifiers=ot.filter(function(ut){return ut.enabled}),mt(),ht.update()},forceUpdate:function(){if(!vt){var _e=lt.elements,st=_e.reference,ot=_e.popper;if(areValidElements(st,ot)){lt.rects={reference:getCompositeRect(st,getOffsetParent(ot),lt.options.strategy==="fixed"),popper:getLayoutRect(ot)},lt.reset=!1,lt.placement=lt.options.placement,lt.orderedModifiers.forEach(function(ft){return lt.modifiersData[ft.name]=Object.assign({},ft.data)});for(var ut=0;ut<lt.orderedModifiers.length;ut++){if(lt.reset===!0){lt.reset=!1,ut=-1;continue}var et=lt.orderedModifiers[ut],at=et.fn,pt=et.options,ct=pt===void 0?{}:pt,yt=et.name;typeof at=="function"&&(lt=at({state:lt,options:ct,name:yt,instance:ht})||lt)}}}},update:debounce(function(){return new Promise(function($){ht.forceUpdate(),$(lt)})}),destroy:function(){nt(),vt=!0}};if(!areValidElements(tt,it))return ht;ht.setOptions(dt).then(function($){!vt&&dt.onFirstUpdate&&dt.onFirstUpdate($)});function mt(){lt.orderedModifiers.forEach(function($){var _e=$.name,st=$.options,ot=st===void 0?{}:st,ut=$.effect;if(typeof ut=="function"){var et=ut({state:lt,name:_e,instance:ht,options:ot}),at=function(){};gt.push(et||at)}})}function nt(){gt.forEach(function($){return $()}),gt=[]}return ht}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});function getContainer$1(i){return typeof i=="function"?i():i}const Portal=reactExports.forwardRef(function(s,o){const{children:a,container:_,disablePortal:j=!1}=s,[rt,tt]=reactExports.useState(null),it=useForkRef(reactExports.isValidElement(a)?getReactElementRef(a):null,o);if(useEnhancedEffect(()=>{j||tt(getContainer$1(_)||document.body)},[_,j]),useEnhancedEffect(()=>{if(rt&&!j)return setRef(o,rt),()=>{setRef(o,null)}},[o,rt,j]),j){if(reactExports.isValidElement(a)){const dt={ref:it};return reactExports.cloneElement(a,dt)}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:a})}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:rt&&reactDomExports.createPortal(a,rt)})});function getPopperUtilityClass(i){return generateUtilityClass("MuiPopper",i)}generateUtilityClasses("MuiPopper",["root"]);function flipPlacement(i,s){if(s==="ltr")return i;switch(i){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return i}}function resolveAnchorEl$1(i){return typeof i=="function"?i():i}function isHTMLElement(i){return i.nodeType!==void 0}const useUtilityClasses$r=i=>{const{classes:s}=i;return composeClasses({root:["root"]},getPopperUtilityClass,s)},defaultPopperOptions={},PopperTooltip=reactExports.forwardRef(function(s,o){const{anchorEl:a,children:_,direction:j,disablePortal:rt,modifiers:tt,open:it,placement:dt,popperOptions:lt,popperRef:gt,slotProps:vt={},slots:ht={},TransitionProps:mt,ownerState:nt,...$}=s,_e=reactExports.useRef(null),st=useForkRef(_e,o),ot=reactExports.useRef(null),ut=useForkRef(ot,gt),et=reactExports.useRef(ut);useEnhancedEffect(()=>{et.current=ut},[ut]),reactExports.useImperativeHandle(gt,()=>ot.current,[]);const at=flipPlacement(dt,j),[pt,ct]=reactExports.useState(at),[yt,ft]=reactExports.useState(resolveAnchorEl$1(a));reactExports.useEffect(()=>{ot.current&&ot.current.forceUpdate()}),reactExports.useEffect(()=>{a&&ft(resolveAnchorEl$1(a))},[a]),useEnhancedEffect(()=>{if(!yt||!it)return;const St=Ct=>{ct(Ct.placement)};let At=[{name:"preventOverflow",options:{altBoundary:rt}},{name:"flip",options:{altBoundary:rt}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Ct})=>{St(Ct)}}];tt!=null&&(At=At.concat(tt)),lt&&lt.modifiers!=null&&(At=At.concat(lt.modifiers));const Rt=createPopper(yt,_e.current,{placement:at,...lt,modifiers:At});return et.current(Rt),()=>{Rt.destroy(),et.current(null)}},[yt,rt,tt,it,lt,at]);const _t={placement:pt};mt!==null&&(_t.TransitionProps=mt);const wt=useUtilityClasses$r(s),Et=ht.root??"div",Mt=useSlotProps({elementType:Et,externalSlotProps:vt.root,externalForwardedProps:$,additionalProps:{role:"tooltip",ref:st},ownerState:s,className:wt.root});return jsxRuntimeExports.jsx(Et,{...Mt,children:typeof _=="function"?_(_t):_})}),Popper$1=reactExports.forwardRef(function(s,o){const{anchorEl:a,children:_,container:j,direction:rt="ltr",disablePortal:tt=!1,keepMounted:it=!1,modifiers:dt,open:lt,placement:gt="bottom",popperOptions:vt=defaultPopperOptions,popperRef:ht,style:mt,transition:nt=!1,slotProps:$={},slots:_e={},...st}=s,[ot,ut]=reactExports.useState(!0),et=()=>{ut(!1)},at=()=>{ut(!0)};if(!it&&!lt&&(!nt||ot))return null;let pt;if(j)pt=j;else if(a){const ft=resolveAnchorEl$1(a);pt=ft&&isHTMLElement(ft)?ownerDocument(ft).body:ownerDocument(null).body}const ct=!lt&&it&&(!nt||ot)?"none":void 0,yt=nt?{in:lt,onEnter:et,onExited:at}:void 0;return jsxRuntimeExports.jsx(Portal,{disablePortal:tt,container:pt,children:jsxRuntimeExports.jsx(PopperTooltip,{anchorEl:a,direction:rt,disablePortal:tt,modifiers:dt,ref:o,open:nt?!ot:lt,placement:gt,popperOptions:vt,popperRef:ht,slotProps:$,slots:_e,...st,style:{position:"fixed",top:0,left:0,display:ct,...mt},TransitionProps:yt,children:_})})}),PopperRoot=styled(Popper$1,{name:"MuiPopper",slot:"Root",overridesResolver:(i,s)=>s.root})({}),Popper=reactExports.forwardRef(function(s,o){const a=useRtl(),_=useDefaultProps({props:s,name:"MuiPopper"}),{anchorEl:j,component:rt,components:tt,componentsProps:it,container:dt,disablePortal:lt,keepMounted:gt,modifiers:vt,open:ht,placement:mt,popperOptions:nt,popperRef:$,transition:_e,slots:st,slotProps:ot,...ut}=_,et=(st==null?void 0:st.root)??(tt==null?void 0:tt.Root),at={anchorEl:j,container:dt,disablePortal:lt,keepMounted:gt,modifiers:vt,open:ht,placement:mt,popperOptions:nt,popperRef:$,transition:_e,...ut};return jsxRuntimeExports.jsx(PopperRoot,{as:rt,direction:a?"rtl":"ltr",slots:{root:et},slotProps:ot??it,...at,ref:o})});function getStyleValue(i){return parseInt(i,10)||0}const styles$2={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty$1(i){return i==null||Object.keys(i).length===0||i.outerHeightStyle===0&&!i.overflowing}const TextareaAutosize=reactExports.forwardRef(function(s,o){const{onChange:a,maxRows:_,minRows:j=1,style:rt,value:tt,...it}=s,{current:dt}=reactExports.useRef(tt!=null),lt=reactExports.useRef(null),gt=useForkRef(o,lt),vt=reactExports.useRef(null),ht=reactExports.useRef(null),mt=reactExports.useCallback(()=>{const _e=lt.current,ot=ownerWindow(_e).getComputedStyle(_e);if(ot.width==="0px")return{outerHeightStyle:0,overflowing:!1};const ut=ht.current;ut.style.width=ot.width,ut.value=_e.value||s.placeholder||"x",ut.value.slice(-1)===`
`&&(ut.value+=" ");const et=ot.boxSizing,at=getStyleValue(ot.paddingBottom)+getStyleValue(ot.paddingTop),pt=getStyleValue(ot.borderBottomWidth)+getStyleValue(ot.borderTopWidth),ct=ut.scrollHeight;ut.value="x";const yt=ut.scrollHeight;let ft=ct;j&&(ft=Math.max(Number(j)*yt,ft)),_&&(ft=Math.min(Number(_)*yt,ft)),ft=Math.max(ft,yt);const _t=ft+(et==="border-box"?at+pt:0),wt=Math.abs(ft-ct)<=1;return{outerHeightStyle:_t,overflowing:wt}},[_,j,s.placeholder]),nt=reactExports.useCallback(()=>{const _e=mt();if(isEmpty$1(_e))return;const st=_e.outerHeightStyle,ot=lt.current;vt.current!==st&&(vt.current=st,ot.style.height=`${st}px`),ot.style.overflow=_e.overflowing?"hidden":""},[mt]);useEnhancedEffect(()=>{const _e=()=>{nt()};let st;const ot=debounce$1(_e),ut=lt.current,et=ownerWindow(ut);et.addEventListener("resize",ot);let at;return typeof ResizeObserver<"u"&&(at=new ResizeObserver(_e),at.observe(ut)),()=>{ot.clear(),cancelAnimationFrame(st),et.removeEventListener("resize",ot),at&&at.disconnect()}},[mt,nt]),useEnhancedEffect(()=>{nt()});const $=_e=>{dt||nt(),a&&a(_e)};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",{value:tt,onChange:$,ref:gt,rows:j,style:rt,...it}),jsxRuntimeExports.jsx("textarea",{"aria-hidden":!0,className:s.className,readOnly:!0,ref:ht,tabIndex:-1,style:{...styles$2.shadow,...rt,paddingTop:0,paddingBottom:0}})]})});function isHostComponent(i){return typeof i=="string"}function formControlState({props:i,states:s,muiFormControl:o}){return s.reduce((a,_)=>(a[_]=i[_],o&&typeof i[_]>"u"&&(a[_]=o[_]),a),{})}const FormControlContext=reactExports.createContext(void 0);function useFormControl(){return reactExports.useContext(FormControlContext)}function hasValue(i){return i!=null&&!(Array.isArray(i)&&i.length===0)}function isFilled(i,s=!1){return i&&(hasValue(i.value)&&i.value!==""||s&&hasValue(i.defaultValue)&&i.defaultValue!=="")}function isAdornedStart(i){return i.startAdornment}function getInputBaseUtilityClass(i){return generateUtilityClass("MuiInputBase",i)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var _InputGlobalStyles;const rootOverridesResolver=(i,s)=>{const{ownerState:o}=i;return[s.root,o.formControl&&s.formControl,o.startAdornment&&s.adornedStart,o.endAdornment&&s.adornedEnd,o.error&&s.error,o.size==="small"&&s.sizeSmall,o.multiline&&s.multiline,o.color&&s[`color${capitalize(o.color)}`],o.fullWidth&&s.fullWidth,o.hiddenLabel&&s.hiddenLabel]},inputOverridesResolver=(i,s)=>{const{ownerState:o}=i;return[s.input,o.size==="small"&&s.inputSizeSmall,o.multiline&&s.inputMultiline,o.type==="search"&&s.inputTypeSearch,o.startAdornment&&s.inputAdornedStart,o.endAdornment&&s.inputAdornedEnd,o.hiddenLabel&&s.inputHiddenLabel]},useUtilityClasses$q=i=>{const{classes:s,color:o,disabled:a,error:_,endAdornment:j,focused:rt,formControl:tt,fullWidth:it,hiddenLabel:dt,multiline:lt,readOnly:gt,size:vt,startAdornment:ht,type:mt}=i,nt={root:["root",`color${capitalize(o)}`,a&&"disabled",_&&"error",it&&"fullWidth",rt&&"focused",tt&&"formControl",vt&&vt!=="medium"&&`size${capitalize(vt)}`,lt&&"multiline",ht&&"adornedStart",j&&"adornedEnd",dt&&"hiddenLabel",gt&&"readOnly"],input:["input",a&&"disabled",mt==="search"&&"inputTypeSearch",lt&&"inputMultiline",vt==="small"&&"inputSizeSmall",dt&&"inputHiddenLabel",ht&&"inputAdornedStart",j&&"inputAdornedEnd",gt&&"readOnly"]};return composeClasses(nt,getInputBaseUtilityClass,s)},InputBaseRoot=styled("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(memoTheme(({theme:i})=>({...i.typography.body1,color:(i.vars||i).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses.disabled}`]:{color:(i.vars||i).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:s})=>s.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:s,size:o})=>s.multiline&&o==="small",style:{paddingTop:1}},{props:({ownerState:s})=>s.fullWidth,style:{width:"100%"}}]}))),InputBaseInput=styled("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:i})=>{const s=i.palette.mode==="light",o={color:"currentColor",...i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},transition:i.transitions.create("opacity",{duration:i.transitions.duration.shorter})},a={opacity:"0 !important"},_=i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":_,"&:focus::-moz-placeholder":_,"&:focus::-ms-input-placeholder":_},[`&.${inputBaseClasses.disabled}`]:{opacity:1,WebkitTextFillColor:(i.vars||i).palette.text.disabled},variants:[{props:({ownerState:j})=>!j.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:j})=>j.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),InputGlobalStyles=globalCss({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),InputBase=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiInputBase"}),{"aria-describedby":_,autoComplete:j,autoFocus:rt,className:tt,color:it,components:dt={},componentsProps:lt={},defaultValue:gt,disabled:vt,disableInjectingGlobalStyles:ht,endAdornment:mt,error:nt,fullWidth:$=!1,id:_e,inputComponent:st="input",inputProps:ot={},inputRef:ut,margin:et,maxRows:at,minRows:pt,multiline:ct=!1,name:yt,onBlur:ft,onChange:_t,onClick:wt,onFocus:Et,onKeyDown:Mt,onKeyUp:St,placeholder:At,readOnly:Rt,renderSuffix:Ct,rows:Pt,size:Lt,slotProps:Ot={},slots:It={},startAdornment:$t,type:jt="text",value:Zt,...qt}=a,er=ot.value!=null?ot.value:Zt,{current:Yt}=reactExports.useRef(er!=null),Qt=reactExports.useRef(),cr=reactExports.useCallback(Xt=>{},[]),lr=useForkRef(Qt,ut,ot.ref,cr),[gr,rr]=reactExports.useState(!1),Gt=useFormControl(),nr=formControlState({props:a,muiFormControl:Gt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});nr.focused=Gt?Gt.focused:gr,reactExports.useEffect(()=>{!Gt&&vt&&gr&&(rr(!1),ft&&ft())},[Gt,vt,gr,ft]);const _r=Gt&&Gt.onFilled,Sr=Gt&&Gt.onEmpty,Ar=reactExports.useCallback(Xt=>{isFilled(Xt)?_r&&_r():Sr&&Sr()},[_r,Sr]);useEnhancedEffect(()=>{Yt&&Ar({value:er})},[er,Ar,Yt]);const Rr=Xt=>{Et&&Et(Xt),ot.onFocus&&ot.onFocus(Xt),Gt&&Gt.onFocus?Gt.onFocus(Xt):rr(!0)},Mr=Xt=>{ft&&ft(Xt),ot.onBlur&&ot.onBlur(Xt),Gt&&Gt.onBlur?Gt.onBlur(Xt):rr(!1)},wr=(Xt,...Er)=>{if(!Yt){const mr=Xt.target||Qt.current;if(mr==null)throw new Error(formatMuiErrorMessage(1));Ar({value:mr.value})}ot.onChange&&ot.onChange(Xt,...Er),_t&&_t(Xt,...Er)};reactExports.useEffect(()=>{Ar(Qt.current)},[]);const Tr=Xt=>{Qt.current&&Xt.currentTarget===Xt.target&&Qt.current.focus(),wt&&wt(Xt)};let fr=st,pr=ot;ct&&fr==="input"&&(Pt?pr={type:void 0,minRows:Pt,maxRows:Pt,...pr}:pr={type:void 0,maxRows:at,minRows:pt,...pr},fr=TextareaAutosize);const Lr=Xt=>{Ar(Xt.animationName==="mui-auto-fill-cancel"?Qt.current:{value:"x"})};reactExports.useEffect(()=>{Gt&&Gt.setAdornedStart(!!$t)},[Gt,$t]);const Or={...a,color:nr.color||"primary",disabled:nr.disabled,endAdornment:mt,error:nr.error,focused:nr.focused,formControl:Gt,fullWidth:$,hiddenLabel:nr.hiddenLabel,multiline:ct,size:nr.size,startAdornment:$t,type:jt},Bt=useUtilityClasses$q(Or),Ut=It.root||dt.Root||InputBaseRoot,Wt=Ot.root||lt.root||{},ar=It.input||dt.Input||InputBaseInput;return pr={...pr,...Ot.input??lt.input},jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[!ht&&typeof InputGlobalStyles=="function"&&(_InputGlobalStyles||(_InputGlobalStyles=jsxRuntimeExports.jsx(InputGlobalStyles,{}))),jsxRuntimeExports.jsxs(Ut,{...Wt,ref:o,onClick:Tr,...qt,...!isHostComponent(Ut)&&{ownerState:{...Or,...Wt.ownerState}},className:clsx(Bt.root,Wt.className,tt,Rt&&"MuiInputBase-readOnly"),children:[$t,jsxRuntimeExports.jsx(FormControlContext.Provider,{value:null,children:jsxRuntimeExports.jsx(ar,{"aria-invalid":nr.error,"aria-describedby":_,autoComplete:j,autoFocus:rt,defaultValue:gt,disabled:nr.disabled,id:_e,onAnimationStart:Lr,name:yt,placeholder:At,readOnly:Rt,required:nr.required,rows:Pt,value:er,onKeyDown:Mt,onKeyUp:St,type:jt,...pr,...!isHostComponent(ar)&&{as:fr,ownerState:{...Or,...pr.ownerState}},ref:lr,className:clsx(Bt.input,pr.className,Rt&&"MuiInputBase-readOnly"),onBlur:Mr,onChange:wr,onFocus:Rr})}),mt,Ct?Ct({...nr,startAdornment:$t}):null]})]})});function getInputUtilityClass(i){return generateUtilityClass("MuiInput",i)}const inputClasses={...inputBaseClasses,...generateUtilityClasses("MuiInput",["root","underline","input"])};function getOutlinedInputUtilityClass(i){return generateUtilityClass("MuiOutlinedInput",i)}const outlinedInputClasses={...inputBaseClasses,...generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"])};function getFilledInputUtilityClass(i){return generateUtilityClass("MuiFilledInput",i)}const filledInputClasses={...inputBaseClasses,...generateUtilityClasses("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},ArrowDropDownIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(s,o){const a=useTheme(),_={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:j,appear:rt=!0,children:tt,easing:it,in:dt,onEnter:lt,onEntered:gt,onEntering:vt,onExit:ht,onExited:mt,onExiting:nt,style:$,timeout:_e=_,TransitionComponent:st=Transition,...ot}=s,ut=reactExports.useRef(null),et=useForkRef(ut,getReactElementRef(tt),o),at=Mt=>St=>{if(Mt){const At=ut.current;St===void 0?Mt(At):Mt(At,St)}},pt=at(vt),ct=at((Mt,St)=>{reflow(Mt);const At=getTransitionProps({style:$,timeout:_e,easing:it},{mode:"enter"});Mt.style.webkitTransition=a.transitions.create("opacity",At),Mt.style.transition=a.transitions.create("opacity",At),lt&&lt(Mt,St)}),yt=at(gt),ft=at(nt),_t=at(Mt=>{const St=getTransitionProps({style:$,timeout:_e,easing:it},{mode:"exit"});Mt.style.webkitTransition=a.transitions.create("opacity",St),Mt.style.transition=a.transitions.create("opacity",St),ht&&ht(Mt)}),wt=at(mt),Et=Mt=>{j&&j(ut.current,Mt)};return jsxRuntimeExports.jsx(st,{appear:rt,in:dt,nodeRef:ut,onEnter:ct,onEntered:yt,onEntering:pt,onExit:_t,onExited:wt,onExiting:ft,addEndListener:Et,timeout:_e,...ot,children:(Mt,St)=>reactExports.cloneElement(tt,{style:{opacity:0,visibility:Mt==="exited"&&!dt?"hidden":void 0,...styles$1[Mt],...$,...tt.props.style},ref:et,...St})})});function getBackdropUtilityClass(i){return generateUtilityClass("MuiBackdrop",i)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const removeOwnerState=i=>{const{ownerState:s,...o}=i;return o},useUtilityClasses$p=i=>{const{classes:s,invisible:o}=i;return composeClasses({root:["root",o&&"invisible"]},getBackdropUtilityClass,s)},BackdropRoot=styled("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,o.invisible&&s.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Backdrop=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiBackdrop"}),{children:_,className:j,component:rt="div",invisible:tt=!1,open:it,components:dt={},componentsProps:lt={},slotProps:gt={},slots:vt={},TransitionComponent:ht,transitionDuration:mt,...nt}=a,$={...a,component:rt,invisible:tt},_e=useUtilityClasses$p($),st={transition:ht,root:dt.Root,...vt},ot={...lt,...gt},ut={slots:st,slotProps:ot},[et,at]=useSlot("root",{elementType:BackdropRoot,externalForwardedProps:ut,className:clsx(_e.root,j),ownerState:$}),[pt,ct]=useSlot("transition",{elementType:Fade,externalForwardedProps:ut,ownerState:$}),yt=removeOwnerState(ct);return jsxRuntimeExports.jsx(pt,{in:it,timeout:mt,...nt,...yt,children:jsxRuntimeExports.jsx(et,{"aria-hidden":!0,...at,classes:_e,ref:o,children:_})})}),boxClasses=generateUtilityClasses("MuiBox",["root"]),defaultTheme=createTheme(),Box=createBox({themeId:THEME_ID,defaultTheme,defaultClassName:boxClasses.root,generateClassName:ClassNameGenerator.generate});function getButtonUtilityClass(i){return generateUtilityClass("MuiButton",i)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),ButtonGroupContext=reactExports.createContext({}),ButtonGroupButtonContext=reactExports.createContext(void 0),useUtilityClasses$o=i=>{const{color:s,disableElevation:o,fullWidth:a,size:_,variant:j,classes:rt}=i,tt={root:["root",j,`${j}${capitalize(s)}`,`size${capitalize(_)}`,`${j}Size${capitalize(_)}`,`color${capitalize(s)}`,o&&"disableElevation",a&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${capitalize(_)}`],endIcon:["icon","endIcon",`iconSize${capitalize(_)}`]},it=composeClasses(tt,getButtonUtilityClass,rt);return{...rt,...it}},commonIconStyles=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],ButtonRoot=styled(ButtonBase,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiButton",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,s[o.variant],s[`${o.variant}${capitalize(o.color)}`],s[`size${capitalize(o.size)}`],s[`${o.variant}Size${capitalize(o.size)}`],o.color==="inherit"&&s.colorInherit,o.disableElevation&&s.disableElevation,o.fullWidth&&s.fullWidth]}})(memoTheme(({theme:i})=>{const s=i.palette.mode==="light"?i.palette.grey[300]:i.palette.grey[800],o=i.palette.mode==="light"?i.palette.grey.A100:i.palette.grey[700];return{...i.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${buttonClasses.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(i.vars||i).shadows[2],"&:hover":{boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2]}},"&:active":{boxShadow:(i.vars||i).shadows[8]},[`&.${buttonClasses.focusVisible}`]:{boxShadow:(i.vars||i).shadows[6]},[`&.${buttonClasses.disabled}`]:{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${buttonClasses.disabled}`]:{border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([a])=>({props:{color:a},style:{"--variant-textColor":(i.vars||i).palette[a].main,"--variant-outlinedColor":(i.vars||i).palette[a].main,"--variant-outlinedBorder":i.vars?`rgba(${i.vars.palette[a].mainChannel} / 0.5)`:alpha(i.palette[a].main,.5),"--variant-containedColor":(i.vars||i).palette[a].contrastText,"--variant-containedBg":(i.vars||i).palette[a].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(i.vars||i).palette[a].dark,"--variant-textBg":i.vars?`rgba(${i.vars.palette[a].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette[a].main,i.palette.action.hoverOpacity),"--variant-outlinedBorder":(i.vars||i).palette[a].main,"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette[a].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette[a].main,i.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedBg:s,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedHoverBg:o,"--variant-textBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette.text.primary,i.palette.action.hoverOpacity),"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette.text.primary,i.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:i.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),ButtonStartIcon=styled("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.startIcon,s[`iconSize${capitalize(o.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...commonIconStyles]}),ButtonEndIcon=styled("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.endIcon,s[`iconSize${capitalize(o.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...commonIconStyles]}),Button=reactExports.forwardRef(function(s,o){const a=reactExports.useContext(ButtonGroupContext),_=reactExports.useContext(ButtonGroupButtonContext),j=resolveProps(a,s),rt=useDefaultProps({props:j,name:"MuiButton"}),{children:tt,color:it="primary",component:dt="button",className:lt,disabled:gt=!1,disableElevation:vt=!1,disableFocusRipple:ht=!1,endIcon:mt,focusVisibleClassName:nt,fullWidth:$=!1,size:_e="medium",startIcon:st,type:ot,variant:ut="text",...et}=rt,at={...rt,color:it,component:dt,disabled:gt,disableElevation:vt,disableFocusRipple:ht,fullWidth:$,size:_e,type:ot,variant:ut},pt=useUtilityClasses$o(at),ct=st&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:pt.startIcon,ownerState:at,children:st}),yt=mt&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:pt.endIcon,ownerState:at,children:mt}),ft=_||"";return jsxRuntimeExports.jsxs(ButtonRoot,{ownerState:at,className:clsx(a.className,pt.root,lt,ft),component:dt,disabled:gt,focusRipple:!ht,focusVisibleClassName:clsx(pt.focusVisible,nt),ref:o,type:ot,...et,classes:pt,children:[ct,tt,yt]})});function isOverflowing(i){const s=ownerDocument(i);return s.body===i?ownerWindow(i).innerWidth>s.documentElement.clientWidth:i.scrollHeight>i.clientHeight}function ariaHidden(i,s){s?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden")}function getPaddingRight(i){return parseInt(ownerWindow(i).getComputedStyle(i).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(i){const o=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(i.tagName),a=i.tagName==="INPUT"&&i.getAttribute("type")==="hidden";return o||a}function ariaHiddenSiblings(i,s,o,a,_){const j=[s,o,...a];[].forEach.call(i.children,rt=>{const tt=!j.includes(rt),it=!isAriaHiddenForbiddenOnElement(rt);tt&&it&&ariaHidden(rt,_)})}function findIndexOf(i,s){let o=-1;return i.some((a,_)=>s(a)?(o=_,!0):!1),o}function handleContainer(i,s){const o=[],a=i.container;if(!s.disableScrollLock){if(isOverflowing(a)){const rt=getScrollbarSize(ownerWindow(a));o.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${getPaddingRight(a)+rt}px`;const tt=ownerDocument(a).querySelectorAll(".mui-fixed");[].forEach.call(tt,it=>{o.push({value:it.style.paddingRight,property:"padding-right",el:it}),it.style.paddingRight=`${getPaddingRight(it)+rt}px`})}let j;if(a.parentNode instanceof DocumentFragment)j=ownerDocument(a).body;else{const rt=a.parentElement,tt=ownerWindow(a);j=(rt==null?void 0:rt.nodeName)==="HTML"&&tt.getComputedStyle(rt).overflowY==="scroll"?rt:a}o.push({value:j.style.overflow,property:"overflow",el:j},{value:j.style.overflowX,property:"overflow-x",el:j},{value:j.style.overflowY,property:"overflow-y",el:j}),j.style.overflow="hidden"}return()=>{o.forEach(({value:j,el:rt,property:tt})=>{j?rt.style.setProperty(tt,j):rt.style.removeProperty(tt)})}}function getHiddenSiblings(i){const s=[];return[].forEach.call(i.children,o=>{o.getAttribute("aria-hidden")==="true"&&s.push(o)}),s}class ModalManager{constructor(){this.modals=[],this.containers=[]}add(s,o){let a=this.modals.indexOf(s);if(a!==-1)return a;a=this.modals.length,this.modals.push(s),s.modalRef&&ariaHidden(s.modalRef,!1);const _=getHiddenSiblings(o);ariaHiddenSiblings(o,s.mount,s.modalRef,_,!0);const j=findIndexOf(this.containers,rt=>rt.container===o);return j!==-1?(this.containers[j].modals.push(s),a):(this.containers.push({modals:[s],container:o,restore:null,hiddenSiblings:_}),a)}mount(s,o){const a=findIndexOf(this.containers,j=>j.modals.includes(s)),_=this.containers[a];_.restore||(_.restore=handleContainer(_,o))}remove(s,o=!0){const a=this.modals.indexOf(s);if(a===-1)return a;const _=findIndexOf(this.containers,rt=>rt.modals.includes(s)),j=this.containers[_];if(j.modals.splice(j.modals.indexOf(s),1),this.modals.splice(a,1),j.modals.length===0)j.restore&&j.restore(),s.modalRef&&ariaHidden(s.modalRef,o),ariaHiddenSiblings(j.container,s.mount,s.modalRef,j.hiddenSiblings,!1),this.containers.splice(_,1);else{const rt=j.modals[j.modals.length-1];rt.modalRef&&ariaHidden(rt.modalRef,!1)}return a}isTopModal(s){return this.modals.length>0&&this.modals[this.modals.length-1]===s}}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(i){const s=parseInt(i.getAttribute("tabindex")||"",10);return Number.isNaN(s)?i.contentEditable==="true"||(i.nodeName==="AUDIO"||i.nodeName==="VIDEO"||i.nodeName==="DETAILS")&&i.getAttribute("tabindex")===null?0:i.tabIndex:s}function isNonTabbableRadio(i){if(i.tagName!=="INPUT"||i.type!=="radio"||!i.name)return!1;const s=a=>i.ownerDocument.querySelector(`input[type="radio"]${a}`);let o=s(`[name="${i.name}"]:checked`);return o||(o=s(`[name="${i.name}"]`)),o!==i}function isNodeMatchingSelectorFocusable(i){return!(i.disabled||i.tagName==="INPUT"&&i.type==="hidden"||isNonTabbableRadio(i))}function defaultGetTabbable(i){const s=[],o=[];return Array.from(i.querySelectorAll(candidatesSelector)).forEach((a,_)=>{const j=getTabIndex(a);j===-1||!isNodeMatchingSelectorFocusable(a)||(j===0?s.push(a):o.push({documentOrder:_,tabIndex:j,node:a}))}),o.sort((a,_)=>a.tabIndex===_.tabIndex?a.documentOrder-_.documentOrder:a.tabIndex-_.tabIndex).map(a=>a.node).concat(s)}function defaultIsEnabled(){return!0}function FocusTrap(i){const{children:s,disableAutoFocus:o=!1,disableEnforceFocus:a=!1,disableRestoreFocus:_=!1,getTabbable:j=defaultGetTabbable,isEnabled:rt=defaultIsEnabled,open:tt}=i,it=reactExports.useRef(!1),dt=reactExports.useRef(null),lt=reactExports.useRef(null),gt=reactExports.useRef(null),vt=reactExports.useRef(null),ht=reactExports.useRef(!1),mt=reactExports.useRef(null),nt=useForkRef(getReactElementRef(s),mt),$=reactExports.useRef(null);reactExports.useEffect(()=>{!tt||!mt.current||(ht.current=!o)},[o,tt]),reactExports.useEffect(()=>{if(!tt||!mt.current)return;const ot=ownerDocument(mt.current);return mt.current.contains(ot.activeElement)||(mt.current.hasAttribute("tabIndex")||mt.current.setAttribute("tabIndex","-1"),ht.current&&mt.current.focus()),()=>{_||(gt.current&&gt.current.focus&&(it.current=!0,gt.current.focus()),gt.current=null)}},[tt]),reactExports.useEffect(()=>{if(!tt||!mt.current)return;const ot=ownerDocument(mt.current),ut=pt=>{$.current=pt,!(a||!rt()||pt.key!=="Tab")&&ot.activeElement===mt.current&&pt.shiftKey&&(it.current=!0,lt.current&&lt.current.focus())},et=()=>{var yt,ft;const pt=mt.current;if(pt===null)return;if(!ot.hasFocus()||!rt()||it.current){it.current=!1;return}if(pt.contains(ot.activeElement)||a&&ot.activeElement!==dt.current&&ot.activeElement!==lt.current)return;if(ot.activeElement!==vt.current)vt.current=null;else if(vt.current!==null)return;if(!ht.current)return;let ct=[];if((ot.activeElement===dt.current||ot.activeElement===lt.current)&&(ct=j(mt.current)),ct.length>0){const _t=!!((yt=$.current)!=null&&yt.shiftKey&&((ft=$.current)==null?void 0:ft.key)==="Tab"),wt=ct[0],Et=ct[ct.length-1];typeof wt!="string"&&typeof Et!="string"&&(_t?Et.focus():wt.focus())}else pt.focus()};ot.addEventListener("focusin",et),ot.addEventListener("keydown",ut,!0);const at=setInterval(()=>{ot.activeElement&&ot.activeElement.tagName==="BODY"&&et()},50);return()=>{clearInterval(at),ot.removeEventListener("focusin",et),ot.removeEventListener("keydown",ut,!0)}},[o,a,_,rt,tt,j]);const _e=ot=>{gt.current===null&&(gt.current=ot.relatedTarget),ht.current=!0,vt.current=ot.target;const ut=s.props.onFocus;ut&&ut(ot)},st=ot=>{gt.current===null&&(gt.current=ot.relatedTarget),ht.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:tt?0:-1,onFocus:st,ref:dt,"data-testid":"sentinelStart"}),reactExports.cloneElement(s,{ref:nt,onFocus:_e}),jsxRuntimeExports.jsx("div",{tabIndex:tt?0:-1,onFocus:st,ref:lt,"data-testid":"sentinelEnd"})]})}function getContainer(i){return typeof i=="function"?i():i}function getHasTransition(i){return i?i.props.hasOwnProperty("in"):!1}const manager=new ModalManager;function useModal(i){const{container:s,disableEscapeKeyDown:o=!1,disableScrollLock:a=!1,closeAfterTransition:_=!1,onTransitionEnter:j,onTransitionExited:rt,children:tt,onClose:it,open:dt,rootRef:lt}=i,gt=reactExports.useRef({}),vt=reactExports.useRef(null),ht=reactExports.useRef(null),mt=useForkRef(ht,lt),[nt,$]=reactExports.useState(!dt),_e=getHasTransition(tt);let st=!0;(i["aria-hidden"]==="false"||i["aria-hidden"]===!1)&&(st=!1);const ot=()=>ownerDocument(vt.current),ut=()=>(gt.current.modalRef=ht.current,gt.current.mount=vt.current,gt.current),et=()=>{manager.mount(ut(),{disableScrollLock:a}),ht.current&&(ht.current.scrollTop=0)},at=useEventCallback(()=>{const St=getContainer(s)||ot().body;manager.add(ut(),St),ht.current&&et()}),pt=()=>manager.isTopModal(ut()),ct=useEventCallback(St=>{vt.current=St,St&&(dt&&pt()?et():ht.current&&ariaHidden(ht.current,st))}),yt=reactExports.useCallback(()=>{manager.remove(ut(),st)},[st]);reactExports.useEffect(()=>()=>{yt()},[yt]),reactExports.useEffect(()=>{dt?at():(!_e||!_)&&yt()},[dt,yt,_e,_,at]);const ft=St=>At=>{var Rt;(Rt=St.onKeyDown)==null||Rt.call(St,At),!(At.key!=="Escape"||At.which===229||!pt())&&(o||(At.stopPropagation(),it&&it(At,"escapeKeyDown")))},_t=St=>At=>{var Rt;(Rt=St.onClick)==null||Rt.call(St,At),At.target===At.currentTarget&&it&&it(At,"backdropClick")};return{getRootProps:(St={})=>{const At=extractEventHandlers(i);delete At.onTransitionEnter,delete At.onTransitionExited;const Rt={...At,...St};return{role:"presentation",...Rt,onKeyDown:ft(Rt),ref:mt}},getBackdropProps:(St={})=>{const At=St;return{"aria-hidden":!0,...At,onClick:_t(At),open:dt}},getTransitionProps:()=>{const St=()=>{$(!1),j&&j()},At=()=>{$(!0),rt&&rt(),_&&yt()};return{onEnter:createChainedFunction(St,tt==null?void 0:tt.props.onEnter),onExited:createChainedFunction(At,tt==null?void 0:tt.props.onExited)}},rootRef:mt,portalRef:ct,isTopModal:pt,exited:nt,hasTransition:_e}}function getModalUtilityClass(i){return generateUtilityClass("MuiModal",i)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const useUtilityClasses$n=i=>{const{open:s,exited:o,classes:a}=i;return composeClasses({root:["root",!s&&o&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,a)},ModalRoot=styled("div",{name:"MuiModal",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,!o.open&&o.exited&&s.hidden]}})(memoTheme(({theme:i})=>({position:"fixed",zIndex:(i.vars||i).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:s})=>!s.open&&s.exited,style:{visibility:"hidden"}}]}))),ModalBackdrop=styled(Backdrop,{name:"MuiModal",slot:"Backdrop",overridesResolver:(i,s)=>s.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(s,o){const a=useDefaultProps({name:"MuiModal",props:s}),{BackdropComponent:_=ModalBackdrop,BackdropProps:j,classes:rt,className:tt,closeAfterTransition:it=!1,children:dt,container:lt,component:gt,components:vt={},componentsProps:ht={},disableAutoFocus:mt=!1,disableEnforceFocus:nt=!1,disableEscapeKeyDown:$=!1,disablePortal:_e=!1,disableRestoreFocus:st=!1,disableScrollLock:ot=!1,hideBackdrop:ut=!1,keepMounted:et=!1,onBackdropClick:at,onClose:pt,onTransitionEnter:ct,onTransitionExited:yt,open:ft,slotProps:_t={},slots:wt={},theme:Et,...Mt}=a,St={...a,closeAfterTransition:it,disableAutoFocus:mt,disableEnforceFocus:nt,disableEscapeKeyDown:$,disablePortal:_e,disableRestoreFocus:st,disableScrollLock:ot,hideBackdrop:ut,keepMounted:et},{getRootProps:At,getBackdropProps:Rt,getTransitionProps:Ct,portalRef:Pt,isTopModal:Lt,exited:Ot,hasTransition:It}=useModal({...St,rootRef:o}),$t={...St,exited:Ot},jt=useUtilityClasses$n($t),Zt={};if(dt.props.tabIndex===void 0&&(Zt.tabIndex="-1"),It){const{onEnter:gr,onExited:rr}=Ct();Zt.onEnter=gr,Zt.onExited=rr}const qt={...Mt,slots:{root:vt.Root,backdrop:vt.Backdrop,...wt},slotProps:{...ht,..._t}},[er,Yt]=useSlot("root",{elementType:ModalRoot,externalForwardedProps:qt,getSlotProps:At,additionalProps:{ref:o,as:gt},ownerState:$t,className:clsx(tt,jt==null?void 0:jt.root,!$t.open&&$t.exited&&(jt==null?void 0:jt.hidden))}),[Qt,cr]=useSlot("backdrop",{elementType:_,externalForwardedProps:qt,additionalProps:j,getSlotProps:gr=>Rt({...gr,onClick:rr=>{at&&at(rr),gr!=null&&gr.onClick&&gr.onClick(rr)}}),className:clsx(j==null?void 0:j.className,jt==null?void 0:jt.backdrop),ownerState:$t}),lr=useForkRef(j==null?void 0:j.ref,cr.ref);return!et&&!ft&&(!It||Ot)?null:jsxRuntimeExports.jsx(Portal,{ref:Pt,container:lt,disablePortal:_e,children:jsxRuntimeExports.jsxs(er,{...Yt,children:[!ut&&_?jsxRuntimeExports.jsx(Qt,{...cr,ref:lr}):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:nt,disableAutoFocus:mt,disableRestoreFocus:st,isEnabled:Lt,open:ft,children:reactExports.cloneElement(dt,Zt)})]})})});function getTranslateValue(i,s,o){const a=s.getBoundingClientRect(),_=o&&o.getBoundingClientRect(),j=ownerWindow(s);let rt;if(s.fakeTransform)rt=s.fakeTransform;else{const dt=j.getComputedStyle(s);rt=dt.getPropertyValue("-webkit-transform")||dt.getPropertyValue("transform")}let tt=0,it=0;if(rt&&rt!=="none"&&typeof rt=="string"){const dt=rt.split("(")[1].split(")")[0].split(",");tt=parseInt(dt[4],10),it=parseInt(dt[5],10)}return i==="left"?_?`translateX(${_.right+tt-a.left}px)`:`translateX(${j.innerWidth+tt-a.left}px)`:i==="right"?_?`translateX(-${a.right-_.left-tt}px)`:`translateX(-${a.left+a.width-tt}px)`:i==="up"?_?`translateY(${_.bottom+it-a.top}px)`:`translateY(${j.innerHeight+it-a.top}px)`:_?`translateY(-${a.top-_.top+a.height-it}px)`:`translateY(-${a.top+a.height-it}px)`}function resolveContainer(i){return typeof i=="function"?i():i}function setTranslateValue(i,s,o){const a=resolveContainer(o),_=getTranslateValue(i,s,a);_&&(s.style.webkitTransform=_,s.style.transform=_)}const Slide=reactExports.forwardRef(function(s,o){const a=useTheme(),_={enter:a.transitions.easing.easeOut,exit:a.transitions.easing.sharp},j={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:rt,appear:tt=!0,children:it,container:dt,direction:lt="down",easing:gt=_,in:vt,onEnter:ht,onEntered:mt,onEntering:nt,onExit:$,onExited:_e,onExiting:st,style:ot,timeout:ut=j,TransitionComponent:et=Transition,...at}=s,pt=reactExports.useRef(null),ct=useForkRef(getReactElementRef(it),pt,o),yt=Ct=>Pt=>{Ct&&(Pt===void 0?Ct(pt.current):Ct(pt.current,Pt))},ft=yt((Ct,Pt)=>{setTranslateValue(lt,Ct,dt),reflow(Ct),ht&&ht(Ct,Pt)}),_t=yt((Ct,Pt)=>{const Lt=getTransitionProps({timeout:ut,style:ot,easing:gt},{mode:"enter"});Ct.style.webkitTransition=a.transitions.create("-webkit-transform",{...Lt}),Ct.style.transition=a.transitions.create("transform",{...Lt}),Ct.style.webkitTransform="none",Ct.style.transform="none",nt&&nt(Ct,Pt)}),wt=yt(mt),Et=yt(st),Mt=yt(Ct=>{const Pt=getTransitionProps({timeout:ut,style:ot,easing:gt},{mode:"exit"});Ct.style.webkitTransition=a.transitions.create("-webkit-transform",Pt),Ct.style.transition=a.transitions.create("transform",Pt),setTranslateValue(lt,Ct,dt),$&&$(Ct)}),St=yt(Ct=>{Ct.style.webkitTransition="",Ct.style.transition="",_e&&_e(Ct)}),At=Ct=>{rt&&rt(pt.current,Ct)},Rt=reactExports.useCallback(()=>{pt.current&&setTranslateValue(lt,pt.current,dt)},[lt,dt]);return reactExports.useEffect(()=>{if(vt||lt==="down"||lt==="right")return;const Ct=debounce$1(()=>{pt.current&&setTranslateValue(lt,pt.current,dt)}),Pt=ownerWindow(pt.current);return Pt.addEventListener("resize",Ct),()=>{Ct.clear(),Pt.removeEventListener("resize",Ct)}},[lt,vt,dt]),reactExports.useEffect(()=>{vt||Rt()},[vt,Rt]),jsxRuntimeExports.jsx(et,{nodeRef:pt,onEnter:ft,onEntered:wt,onEntering:_t,onExit:Mt,onExited:St,onExiting:Et,addEndListener:At,appear:tt,in:vt,timeout:ut,...at,children:(Ct,Pt)=>reactExports.cloneElement(it,{ref:ct,style:{visibility:Ct==="exited"&&!vt?"hidden":void 0,...ot,...it.props.style},...Pt})})});function getDrawerUtilityClass(i){return generateUtilityClass("MuiDrawer",i)}generateUtilityClasses("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const overridesResolver$2=(i,s)=>{const{ownerState:o}=i;return[s.root,(o.variant==="permanent"||o.variant==="persistent")&&s.docked,s.modal]},useUtilityClasses$m=i=>{const{classes:s,anchor:o,variant:a}=i,_={root:["root"],docked:[(a==="permanent"||a==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${capitalize(o)}`,a!=="temporary"&&`paperAnchorDocked${capitalize(o)}`]};return composeClasses(_,getDrawerUtilityClass,s)},DrawerRoot=styled(Modal,{name:"MuiDrawer",slot:"Root",overridesResolver:overridesResolver$2})(memoTheme(({theme:i})=>({zIndex:(i.vars||i).zIndex.drawer}))),DrawerDockedRoot=styled("div",{shouldForwardProp:rootShouldForwardProp,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:overridesResolver$2})({flex:"0 0 auto"}),DrawerPaper=styled(Paper,{name:"MuiDrawer",slot:"Paper",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.paper,s[`paperAnchor${capitalize(o.anchor)}`],o.variant!=="temporary"&&s[`paperAnchorDocked${capitalize(o.anchor)}`]]}})(memoTheme(({theme:i})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(i.vars||i).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:s})=>s.anchor==="left"&&s.variant!=="temporary",style:{borderRight:`1px solid ${(i.vars||i).palette.divider}`}},{props:({ownerState:s})=>s.anchor==="top"&&s.variant!=="temporary",style:{borderBottom:`1px solid ${(i.vars||i).palette.divider}`}},{props:({ownerState:s})=>s.anchor==="right"&&s.variant!=="temporary",style:{borderLeft:`1px solid ${(i.vars||i).palette.divider}`}},{props:({ownerState:s})=>s.anchor==="bottom"&&s.variant!=="temporary",style:{borderTop:`1px solid ${(i.vars||i).palette.divider}`}}]}))),oppositeDirection={left:"right",right:"left",top:"down",bottom:"up"};function isHorizontal(i){return["left","right"].includes(i)}function getAnchor({direction:i},s){return i==="rtl"&&isHorizontal(s)?oppositeDirection[s]:s}const Drawer=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiDrawer"}),_=useTheme(),j=useRtl(),rt={enter:_.transitions.duration.enteringScreen,exit:_.transitions.duration.leavingScreen},{anchor:tt="left",BackdropProps:it,children:dt,className:lt,elevation:gt=16,hideBackdrop:vt=!1,ModalProps:{BackdropProps:ht,...mt}={},onClose:nt,open:$=!1,PaperProps:_e={},SlideProps:st,TransitionComponent:ot=Slide,transitionDuration:ut=rt,variant:et="temporary",...at}=a,pt=reactExports.useRef(!1);reactExports.useEffect(()=>{pt.current=!0},[]);const ct=getAnchor({direction:j?"rtl":"ltr"},tt),ft={...a,anchor:tt,elevation:gt,open:$,variant:et,...at},_t=useUtilityClasses$m(ft),wt=jsxRuntimeExports.jsx(DrawerPaper,{elevation:et==="temporary"?gt:0,square:!0,..._e,className:clsx(_t.paper,_e.className),ownerState:ft,children:dt});if(et==="permanent")return jsxRuntimeExports.jsx(DrawerDockedRoot,{className:clsx(_t.root,_t.docked,lt),ownerState:ft,ref:o,...at,children:wt});const Et=jsxRuntimeExports.jsx(ot,{in:$,direction:oppositeDirection[ct],timeout:ut,appear:pt.current,...st,children:wt});return et==="persistent"?jsxRuntimeExports.jsx(DrawerDockedRoot,{className:clsx(_t.root,_t.docked,lt),ownerState:ft,ref:o,...at,children:Et}):jsxRuntimeExports.jsx(DrawerRoot,{BackdropProps:{...it,...ht,transitionDuration:ut},className:clsx(_t.root,_t.modal,lt),open:$,ownerState:ft,onClose:nt,hideBackdrop:vt,ref:o,...at,...mt,children:Et})}),useUtilityClasses$l=i=>{const{classes:s,disableUnderline:o,startAdornment:a,endAdornment:_,size:j,hiddenLabel:rt,multiline:tt}=i,it={root:["root",!o&&"underline",a&&"adornedStart",_&&"adornedEnd",j==="small"&&`size${capitalize(j)}`,rt&&"hiddenLabel",tt&&"multiline"],input:["input"]},dt=composeClasses(it,getFilledInputUtilityClass,s);return{...s,...dt}},FilledInputRoot=styled(InputBaseRoot,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[...rootOverridesResolver(i,s),!o.disableUnderline&&s.underline]}})(memoTheme(({theme:i})=>{const s=i.palette.mode==="light",o=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",_=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",j=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:_,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:a}},[`&.${filledInputClasses.focused}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:a},[`&.${filledInputClasses.disabled}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:j},variants:[{props:({ownerState:rt})=>!rt.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses.disabled}, .${filledInputClasses.error}):before`]:{borderBottom:`1px solid ${(i.vars||i).palette.text.primary}`},[`&.${filledInputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([rt])=>{var tt;return{props:{disableUnderline:!1,color:rt},style:{"&::after":{borderBottom:`2px solid ${(tt=(i.vars||i).palette[rt])==null?void 0:tt.main}`}}}}),{props:({ownerState:rt})=>rt.startAdornment,style:{paddingLeft:12}},{props:({ownerState:rt})=>rt.endAdornment,style:{paddingRight:12}},{props:({ownerState:rt})=>rt.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:rt,size:tt})=>rt.multiline&&tt==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:rt})=>rt.multiline&&rt.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:rt})=>rt.multiline&&rt.hiddenLabel&&rt.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),FilledInputInput=styled(InputBaseInput,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:i})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}},{props:({ownerState:s})=>s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:s})=>s.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),FilledInput=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiFilledInput"}),{disableUnderline:_=!1,components:j={},componentsProps:rt,fullWidth:tt=!1,hiddenLabel:it,inputComponent:dt="input",multiline:lt=!1,slotProps:gt,slots:vt={},type:ht="text",...mt}=a,nt={...a,disableUnderline:_,fullWidth:tt,inputComponent:dt,multiline:lt,type:ht},$=useUtilityClasses$l(a),_e={root:{ownerState:nt},input:{ownerState:nt}},st=gt??rt?deepmerge(_e,gt??rt):_e,ot=vt.root??j.Root??FilledInputRoot,ut=vt.input??j.Input??FilledInputInput;return jsxRuntimeExports.jsx(InputBase,{slots:{root:ot,input:ut},componentsProps:st,fullWidth:tt,inputComponent:dt,multiline:lt,ref:o,type:ht,...mt,classes:$})});FilledInput&&(FilledInput.muiName="Input");function getFormControlUtilityClasses(i){return generateUtilityClass("MuiFormControl",i)}generateUtilityClasses("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const useUtilityClasses$k=i=>{const{classes:s,margin:o,fullWidth:a}=i,_={root:["root",o!=="none"&&`margin${capitalize(o)}`,a&&"fullWidth"]};return composeClasses(_,getFormControlUtilityClasses,s)},FormControlRoot=styled("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:i},s)=>({...s.root,...s[`margin${capitalize(i.margin)}`],...i.fullWidth&&s.fullWidth})})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),FormControl=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiFormControl"}),{children:_,className:j,color:rt="primary",component:tt="div",disabled:it=!1,error:dt=!1,focused:lt,fullWidth:gt=!1,hiddenLabel:vt=!1,margin:ht="none",required:mt=!1,size:nt="medium",variant:$="outlined",..._e}=a,st={...a,color:rt,component:tt,disabled:it,error:dt,fullWidth:gt,hiddenLabel:vt,margin:ht,required:mt,size:nt,variant:$},ot=useUtilityClasses$k(st),[ut,et]=reactExports.useState(()=>{let Et=!1;return _&&reactExports.Children.forEach(_,Mt=>{if(!isMuiElement(Mt,["Input","Select"]))return;const St=isMuiElement(Mt,["Select"])?Mt.props.input:Mt;St&&isAdornedStart(St.props)&&(Et=!0)}),Et}),[at,pt]=reactExports.useState(()=>{let Et=!1;return _&&reactExports.Children.forEach(_,Mt=>{isMuiElement(Mt,["Input","Select"])&&(isFilled(Mt.props,!0)||isFilled(Mt.props.inputProps,!0))&&(Et=!0)}),Et}),[ct,yt]=reactExports.useState(!1);it&&ct&&yt(!1);const ft=lt!==void 0&&!it?lt:ct;let _t;reactExports.useRef(!1);const wt=reactExports.useMemo(()=>({adornedStart:ut,setAdornedStart:et,color:rt,disabled:it,error:dt,filled:at,focused:ft,fullWidth:gt,hiddenLabel:vt,size:nt,onBlur:()=>{yt(!1)},onEmpty:()=>{pt(!1)},onFilled:()=>{pt(!0)},onFocus:()=>{yt(!0)},registerEffect:_t,required:mt,variant:$}),[ut,rt,it,dt,at,ft,gt,vt,_t,mt,nt,$]);return jsxRuntimeExports.jsx(FormControlContext.Provider,{value:wt,children:jsxRuntimeExports.jsx(FormControlRoot,{as:tt,ownerState:st,className:clsx(ot.root,j),ref:o,..._e,children:_})})});function getFormHelperTextUtilityClasses(i){return generateUtilityClass("MuiFormHelperText",i)}const formHelperTextClasses=generateUtilityClasses("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var _span$2;const useUtilityClasses$j=i=>{const{classes:s,contained:o,size:a,disabled:_,error:j,filled:rt,focused:tt,required:it}=i,dt={root:["root",_&&"disabled",j&&"error",a&&`size${capitalize(a)}`,o&&"contained",tt&&"focused",rt&&"filled",it&&"required"]};return composeClasses(dt,getFormHelperTextUtilityClasses,s)},FormHelperTextRoot=styled("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,o.size&&s[`size${capitalize(o.size)}`],o.contained&&s.contained,o.filled&&s.filled]}})(memoTheme(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${formHelperTextClasses.error}`]:{color:(i.vars||i).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:s})=>s.contained,style:{marginLeft:14,marginRight:14}}]}))),FormHelperText=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiFormHelperText"}),{children:_,className:j,component:rt="p",disabled:tt,error:it,filled:dt,focused:lt,margin:gt,required:vt,variant:ht,...mt}=a,nt=useFormControl(),$=formControlState({props:a,muiFormControl:nt,states:["variant","size","disabled","error","filled","focused","required"]}),_e={...a,component:rt,contained:$.variant==="filled"||$.variant==="outlined",variant:$.variant,size:$.size,disabled:$.disabled,error:$.error,filled:$.filled,focused:$.focused,required:$.required};delete _e.ownerState;const st=useUtilityClasses$j(_e);return jsxRuntimeExports.jsx(FormHelperTextRoot,{as:rt,className:clsx(st.root,j),ref:o,...mt,ownerState:_e,children:_===" "?_span$2||(_span$2=jsxRuntimeExports.jsx("span",{className:"notranslate",children:""})):_})});function getFormLabelUtilityClasses(i){return generateUtilityClass("MuiFormLabel",i)}const formLabelClasses=generateUtilityClasses("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),useUtilityClasses$i=i=>{const{classes:s,color:o,focused:a,disabled:_,error:j,filled:rt,required:tt}=i,it={root:["root",`color${capitalize(o)}`,_&&"disabled",j&&"error",rt&&"filled",a&&"focused",tt&&"required"],asterisk:["asterisk",j&&"error"]};return composeClasses(it,getFormLabelUtilityClasses,s)},FormLabelRoot=styled("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:i},s)=>({...s.root,...i.color==="secondary"&&s.colorSecondary,...i.filled&&s.filled})})(memoTheme(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([s])=>({props:{color:s},style:{[`&.${formLabelClasses.focused}`]:{color:(i.vars||i).palette[s].main}}})),{props:{},style:{[`&.${formLabelClasses.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${formLabelClasses.error}`]:{color:(i.vars||i).palette.error.main}}}]}))),AsteriskComponent=styled("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(i,s)=>s.asterisk})(memoTheme(({theme:i})=>({[`&.${formLabelClasses.error}`]:{color:(i.vars||i).palette.error.main}}))),FormLabel=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiFormLabel"}),{children:_,className:j,color:rt,component:tt="label",disabled:it,error:dt,filled:lt,focused:gt,required:vt,...ht}=a,mt=useFormControl(),nt=formControlState({props:a,muiFormControl:mt,states:["color","required","focused","disabled","error","filled"]}),$={...a,color:nt.color||"primary",component:tt,disabled:nt.disabled,error:nt.error,filled:nt.filled,focused:nt.focused,required:nt.required},_e=useUtilityClasses$i($);return jsxRuntimeExports.jsxs(FormLabelRoot,{as:tt,ownerState:$,className:clsx(_e.root,j),ref:o,...ht,children:[_,nt.required&&jsxRuntimeExports.jsxs(AsteriskComponent,{ownerState:$,"aria-hidden":!0,className:_e.asterisk,children:["","*"]})]})}),Grid2=createGrid({createStyledComponent:styled("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(i,s)=>s.root}),componentName:"MuiGrid2",useThemeProps:i=>useThemeProps({props:i,name:"MuiGrid2"})});function getScale(i){return`scale(${i}, ${i**2})`}const styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function(s,o){const{addEndListener:a,appear:_=!0,children:j,easing:rt,in:tt,onEnter:it,onEntered:dt,onEntering:lt,onExit:gt,onExited:vt,onExiting:ht,style:mt,timeout:nt="auto",TransitionComponent:$=Transition,..._e}=s,st=useTimeout(),ot=reactExports.useRef(),ut=useTheme(),et=reactExports.useRef(null),at=useForkRef(et,getReactElementRef(j),o),pt=St=>At=>{if(St){const Rt=et.current;At===void 0?St(Rt):St(Rt,At)}},ct=pt(lt),yt=pt((St,At)=>{reflow(St);const{duration:Rt,delay:Ct,easing:Pt}=getTransitionProps({style:mt,timeout:nt,easing:rt},{mode:"enter"});let Lt;nt==="auto"?(Lt=ut.transitions.getAutoHeightDuration(St.clientHeight),ot.current=Lt):Lt=Rt,St.style.transition=[ut.transitions.create("opacity",{duration:Lt,delay:Ct}),ut.transitions.create("transform",{duration:isWebKit154?Lt:Lt*.666,delay:Ct,easing:Pt})].join(","),it&&it(St,At)}),ft=pt(dt),_t=pt(ht),wt=pt(St=>{const{duration:At,delay:Rt,easing:Ct}=getTransitionProps({style:mt,timeout:nt,easing:rt},{mode:"exit"});let Pt;nt==="auto"?(Pt=ut.transitions.getAutoHeightDuration(St.clientHeight),ot.current=Pt):Pt=At,St.style.transition=[ut.transitions.create("opacity",{duration:Pt,delay:Rt}),ut.transitions.create("transform",{duration:isWebKit154?Pt:Pt*.666,delay:isWebKit154?Rt:Rt||Pt*.333,easing:Ct})].join(","),St.style.opacity=0,St.style.transform=getScale(.75),gt&&gt(St)}),Et=pt(vt),Mt=St=>{nt==="auto"&&st.start(ot.current||0,St),a&&a(et.current,St)};return jsxRuntimeExports.jsx($,{appear:_,in:tt,nodeRef:et,onEnter:yt,onEntered:ft,onEntering:ct,onExit:wt,onExited:Et,onExiting:_t,addEndListener:Mt,timeout:nt==="auto"?null:nt,..._e,children:(St,At)=>reactExports.cloneElement(j,{style:{opacity:0,transform:getScale(.75),visibility:St==="exited"&&!tt?"hidden":void 0,...styles[St],...mt,...j.props.style},ref:at,...At})})});Grow&&(Grow.muiSupportAuto=!0);const useUtilityClasses$h=i=>{const{classes:s,disableUnderline:o}=i,_=composeClasses({root:["root",!o&&"underline"],input:["input"]},getInputUtilityClass,s);return{...s,..._}},InputRoot=styled(InputBaseRoot,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiInput",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[...rootOverridesResolver(i,s),!o.disableUnderline&&s.underline]}})(memoTheme(({theme:i})=>{let o=i.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return i.vars&&(o=`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:a})=>a.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses.disabled}, .${inputClasses.error}):before`]:{borderBottom:`2px solid ${(i.vars||i).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${inputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([a])=>({props:{color:a,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(i.vars||i).palette[a].main}`}}}))]}})),InputInput=styled(InputBaseInput,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiInput"}),{disableUnderline:_=!1,components:j={},componentsProps:rt,fullWidth:tt=!1,inputComponent:it="input",multiline:dt=!1,slotProps:lt,slots:gt={},type:vt="text",...ht}=a,mt=useUtilityClasses$h(a),$={root:{ownerState:{disableUnderline:_}}},_e=lt??rt?deepmerge(lt??rt,$):$,st=gt.root??j.Root??InputRoot,ot=gt.input??j.Input??InputInput;return jsxRuntimeExports.jsx(InputBase,{slots:{root:st,input:ot},slotProps:_e,fullWidth:tt,inputComponent:it,multiline:dt,ref:o,type:vt,...ht,classes:mt})});Input&&(Input.muiName="Input");function getInputLabelUtilityClasses(i){return generateUtilityClass("MuiInputLabel",i)}generateUtilityClasses("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const useUtilityClasses$g=i=>{const{classes:s,formControl:o,size:a,shrink:_,disableAnimation:j,variant:rt,required:tt}=i,it={root:["root",o&&"formControl",!j&&"animated",_&&"shrink",a&&a!=="normal"&&`size${capitalize(a)}`,rt],asterisk:[tt&&"asterisk"]},dt=composeClasses(it,getInputLabelUtilityClasses,s);return{...s,...dt}},InputLabelRoot=styled(FormLabel,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[{[`& .${formLabelClasses.asterisk}`]:s.asterisk},s.root,o.formControl&&s.formControl,o.size==="small"&&s.sizeSmall,o.shrink&&s.shrink,!o.disableAnimation&&s.animated,o.focused&&s.focused,s[o.variant]]}})(memoTheme(({theme:i})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:s})=>s.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:s})=>s.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:s})=>!s.disableAnimation,style:{transition:i.transitions.create(["color","transform","max-width"],{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:s,ownerState:o})=>s==="filled"&&o.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:s,ownerState:o,size:a})=>s==="filled"&&o.shrink&&a==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:s,ownerState:o})=>s==="outlined"&&o.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),InputLabel=reactExports.forwardRef(function(s,o){const a=useDefaultProps({name:"MuiInputLabel",props:s}),{disableAnimation:_=!1,margin:j,shrink:rt,variant:tt,className:it,...dt}=a,lt=useFormControl();let gt=rt;typeof gt>"u"&&lt&&(gt=lt.filled||lt.focused||lt.adornedStart);const vt=formControlState({props:a,muiFormControl:lt,states:["size","variant","required","focused"]}),ht={...a,disableAnimation:_,formControl:lt,shrink:gt,size:vt.size,variant:vt.variant,required:vt.required,focused:vt.focused},mt=useUtilityClasses$g(ht);return jsxRuntimeExports.jsx(InputLabelRoot,{"data-shrink":gt,ref:o,className:clsx(mt.root,it),...dt,ownerState:ht,classes:mt})}),ListContext=reactExports.createContext({});function getListUtilityClass(i){return generateUtilityClass("MuiList",i)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const useUtilityClasses$f=i=>{const{classes:s,disablePadding:o,dense:a,subheader:_}=i;return composeClasses({root:["root",!o&&"padding",a&&"dense",_&&"subheader"]},getListUtilityClass,s)},ListRoot=styled("ul",{name:"MuiList",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,!o.disablePadding&&s.padding,o.dense&&s.dense,o.subheader&&s.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:i})=>!i.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:i})=>i.subheader,style:{paddingTop:0}}]}),List=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiList"}),{children:_,className:j,component:rt="ul",dense:tt=!1,disablePadding:it=!1,subheader:dt,...lt}=a,gt=reactExports.useMemo(()=>({dense:tt}),[tt]),vt={...a,component:rt,dense:tt,disablePadding:it},ht=useUtilityClasses$f(vt);return jsxRuntimeExports.jsx(ListContext.Provider,{value:gt,children:jsxRuntimeExports.jsxs(ListRoot,{as:rt,className:clsx(ht.root,j),ref:o,ownerState:vt,...lt,children:[dt,_]})})});function getListItemUtilityClass(i){return generateUtilityClass("MuiListItem",i)}generateUtilityClasses("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function getListItemButtonUtilityClass(i){return generateUtilityClass("MuiListItemButton",i)}const listItemButtonClasses=generateUtilityClasses("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),overridesResolver$1=(i,s)=>{const{ownerState:o}=i;return[s.root,o.dense&&s.dense,o.alignItems==="flex-start"&&s.alignItemsFlexStart,o.divider&&s.divider,!o.disableGutters&&s.gutters]},useUtilityClasses$e=i=>{const{alignItems:s,classes:o,dense:a,disabled:_,disableGutters:j,divider:rt,selected:tt}=i,dt=composeClasses({root:["root",a&&"dense",!j&&"gutters",rt&&"divider",_&&"disabled",s==="flex-start"&&"alignItemsFlexStart",tt&&"selected"]},getListItemButtonUtilityClass,o);return{...o,...dt}},ListItemButtonRoot=styled(ButtonBase,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:overridesResolver$1})(memoTheme(({theme:i})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${listItemButtonClasses.selected}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity),[`&.${listItemButtonClasses.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},[`&.${listItemButtonClasses.selected}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette.primary.main,i.palette.action.selectedOpacity)}},[`&.${listItemButtonClasses.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`&.${listItemButtonClasses.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity},variants:[{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(i.vars||i).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.dense,style:{paddingTop:4,paddingBottom:4}}]}))),ListItemButton=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiListItemButton"}),{alignItems:_="center",autoFocus:j=!1,component:rt="div",children:tt,dense:it=!1,disableGutters:dt=!1,divider:lt=!1,focusVisibleClassName:gt,selected:vt=!1,className:ht,...mt}=a,nt=reactExports.useContext(ListContext),$=reactExports.useMemo(()=>({dense:it||nt.dense||!1,alignItems:_,disableGutters:dt}),[_,nt.dense,it,dt]),_e=reactExports.useRef(null);useEnhancedEffect(()=>{j&&_e.current&&_e.current.focus()},[j]);const st={...a,alignItems:_,dense:$.dense,disableGutters:dt,divider:lt,selected:vt},ot=useUtilityClasses$e(st),ut=useForkRef(_e,o);return jsxRuntimeExports.jsx(ListContext.Provider,{value:$,children:jsxRuntimeExports.jsx(ListItemButtonRoot,{ref:ut,href:mt.href||mt.to,component:(mt.href||mt.to)&&rt==="div"?"button":rt,focusVisibleClassName:clsx(ot.focusVisible,gt),ownerState:st,className:clsx(ot.root,ht),...mt,classes:ot,children:tt})})});function getListItemSecondaryActionClassesUtilityClass(i){return generateUtilityClass("MuiListItemSecondaryAction",i)}generateUtilityClasses("MuiListItemSecondaryAction",["root","disableGutters"]);const useUtilityClasses$d=i=>{const{disableGutters:s,classes:o}=i;return composeClasses({root:["root",s&&"disableGutters"]},getListItemSecondaryActionClassesUtilityClass,o)},ListItemSecondaryActionRoot=styled("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,o.disableGutters&&s.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:i})=>i.disableGutters,style:{right:0}}]}),ListItemSecondaryAction=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiListItemSecondaryAction"}),{className:_,...j}=a,rt=reactExports.useContext(ListContext),tt={...a,disableGutters:rt.disableGutters},it=useUtilityClasses$d(tt);return jsxRuntimeExports.jsx(ListItemSecondaryActionRoot,{className:clsx(it.root,_),ownerState:tt,ref:o,...j})});ListItemSecondaryAction.muiName="ListItemSecondaryAction";const overridesResolver=(i,s)=>{const{ownerState:o}=i;return[s.root,o.dense&&s.dense,o.alignItems==="flex-start"&&s.alignItemsFlexStart,o.divider&&s.divider,!o.disableGutters&&s.gutters,!o.disablePadding&&s.padding,o.hasSecondaryAction&&s.secondaryAction]},useUtilityClasses$c=i=>{const{alignItems:s,classes:o,dense:a,disableGutters:_,disablePadding:j,divider:rt,hasSecondaryAction:tt}=i;return composeClasses({root:["root",a&&"dense",!_&&"gutters",!j&&"padding",rt&&"divider",s==="flex-start"&&"alignItemsFlexStart",tt&&"secondaryAction"],container:["container"]},getListItemUtilityClass,o)},ListItemRoot=styled("div",{name:"MuiListItem",slot:"Root",overridesResolver})(memoTheme(({theme:i})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:s})=>!s.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:s})=>!s.disablePadding&&s.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:s})=>!s.disablePadding&&!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>!s.disablePadding&&!!s.secondaryAction,style:{paddingRight:48}},{props:({ownerState:s})=>!!s.secondaryAction,style:{[`& > .${listItemButtonClasses.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(i.vars||i).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:s})=>s.button,style:{transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:s})=>s.hasSecondaryAction,style:{paddingRight:48}}]}))),ListItemContainer=styled("li",{name:"MuiListItem",slot:"Container",overridesResolver:(i,s)=>s.container})({position:"relative"}),ListItem=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiListItem"}),{alignItems:_="center",children:j,className:rt,component:tt,components:it={},componentsProps:dt={},ContainerComponent:lt="li",ContainerProps:{className:gt,...vt}={},dense:ht=!1,disableGutters:mt=!1,disablePadding:nt=!1,divider:$=!1,secondaryAction:_e,slotProps:st={},slots:ot={},...ut}=a,et=reactExports.useContext(ListContext),at=reactExports.useMemo(()=>({dense:ht||et.dense||!1,alignItems:_,disableGutters:mt}),[_,et.dense,ht,mt]),pt=reactExports.useRef(null),ct=reactExports.Children.toArray(j),yt=ct.length&&isMuiElement(ct[ct.length-1],["ListItemSecondaryAction"]),ft={...a,alignItems:_,dense:at.dense,disableGutters:mt,disablePadding:nt,divider:$,hasSecondaryAction:yt},_t=useUtilityClasses$c(ft),wt=useForkRef(pt,o),Et=ot.root||it.Root||ListItemRoot,Mt=st.root||dt.root||{},St={className:clsx(_t.root,Mt.className,rt),...ut};let At=tt||"li";return yt?(At=!St.component&&!tt?"div":At,lt==="li"&&(At==="li"?At="div":St.component==="li"&&(St.component="div")),jsxRuntimeExports.jsx(ListContext.Provider,{value:at,children:jsxRuntimeExports.jsxs(ListItemContainer,{as:lt,className:clsx(_t.container,gt),ref:wt,ownerState:ft,...vt,children:[jsxRuntimeExports.jsx(Et,{...Mt,...!isHostComponent(Et)&&{as:At,ownerState:{...ft,...Mt.ownerState}},...St,children:ct}),ct.pop()]})})):jsxRuntimeExports.jsx(ListContext.Provider,{value:at,children:jsxRuntimeExports.jsxs(Et,{...Mt,as:At,ref:wt,...!isHostComponent(Et)&&{ownerState:{...ft,...Mt.ownerState}},...St,children:[ct,_e&&jsxRuntimeExports.jsx(ListItemSecondaryAction,{children:_e})]})})});function getListItemIconUtilityClass(i){return generateUtilityClass("MuiListItemIcon",i)}generateUtilityClasses("MuiListItemIcon",["root","alignItemsFlexStart"]);const useUtilityClasses$b=i=>{const{alignItems:s,classes:o}=i;return composeClasses({root:["root",s==="flex-start"&&"alignItemsFlexStart"]},getListItemIconUtilityClass,o)},ListItemIconRoot=styled("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,o.alignItems==="flex-start"&&s.alignItemsFlexStart]}})(memoTheme(({theme:i})=>({minWidth:56,color:(i.vars||i).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),ListItemIcon=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiListItemIcon"}),{className:_,...j}=a,rt=reactExports.useContext(ListContext),tt={...a,alignItems:rt.alignItems},it=useUtilityClasses$b(tt);return jsxRuntimeExports.jsx(ListItemIconRoot,{className:clsx(it.root,_),ownerState:tt,ref:o,...j})});function getListItemTextUtilityClass(i){return generateUtilityClass("MuiListItemText",i)}const listItemTextClasses=generateUtilityClasses("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),useUtilityClasses$a=i=>{const{classes:s,inset:o,primary:a,secondary:_,dense:j}=i;return composeClasses({root:["root",o&&"inset",j&&"dense",a&&_&&"multiline"],primary:["primary"],secondary:["secondary"]},getListItemTextUtilityClass,s)},ListItemTextRoot=styled("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[{[`& .${listItemTextClasses.primary}`]:s.primary},{[`& .${listItemTextClasses.secondary}`]:s.secondary},s.root,o.inset&&s.inset,o.primary&&o.secondary&&s.multiline,o.dense&&s.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${typographyClasses.root}:where(& .${listItemTextClasses.primary})`]:{display:"block"},[`.${typographyClasses.root}:where(& .${listItemTextClasses.secondary})`]:{display:"block"},variants:[{props:({ownerState:i})=>i.primary&&i.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:i})=>i.inset,style:{paddingLeft:56}}]}),ListItemText=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiListItemText"}),{children:_,className:j,disableTypography:rt=!1,inset:tt=!1,primary:it,primaryTypographyProps:dt,secondary:lt,secondaryTypographyProps:gt,...vt}=a,{dense:ht}=reactExports.useContext(ListContext);let mt=it??_,nt=lt;const $={...a,disableTypography:rt,inset:tt,primary:!!mt,secondary:!!nt,dense:ht},_e=useUtilityClasses$a($);return mt!=null&&mt.type!==Typography&&!rt&&(mt=jsxRuntimeExports.jsx(Typography,{variant:ht?"body2":"body1",className:_e.primary,component:dt!=null&&dt.variant?void 0:"span",...dt,children:mt})),nt!=null&&nt.type!==Typography&&!rt&&(nt=jsxRuntimeExports.jsx(Typography,{variant:"body2",className:_e.secondary,color:"textSecondary",...gt,children:nt})),jsxRuntimeExports.jsxs(ListItemTextRoot,{className:clsx(_e.root,j),ownerState:$,ref:o,...vt,children:[mt,nt]})});function nextItem(i,s,o){return i===s?i.firstChild:s&&s.nextElementSibling?s.nextElementSibling:o?null:i.firstChild}function previousItem(i,s,o){return i===s?o?i.firstChild:i.lastChild:s&&s.previousElementSibling?s.previousElementSibling:o?null:i.lastChild}function textCriteriaMatches(i,s){if(s===void 0)return!0;let o=i.innerText;return o===void 0&&(o=i.textContent),o=o.trim().toLowerCase(),o.length===0?!1:s.repeating?o[0]===s.keys[0]:o.startsWith(s.keys.join(""))}function moveFocus(i,s,o,a,_,j){let rt=!1,tt=_(i,s,s?o:!1);for(;tt;){if(tt===i.firstChild){if(rt)return!1;rt=!0}const it=a?!1:tt.disabled||tt.getAttribute("aria-disabled")==="true";if(!tt.hasAttribute("tabindex")||!textCriteriaMatches(tt,j)||it)tt=_(i,tt,o);else return tt.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function(s,o){const{actions:a,autoFocus:_=!1,autoFocusItem:j=!1,children:rt,className:tt,disabledItemsFocusable:it=!1,disableListWrap:dt=!1,onKeyDown:lt,variant:gt="selectedMenu",...vt}=s,ht=reactExports.useRef(null),mt=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect(()=>{_&&ht.current.focus()},[_]),reactExports.useImperativeHandle(a,()=>({adjustStyleForScrollbar:(ot,{direction:ut})=>{const et=!ht.current.style.width;if(ot.clientHeight<ht.current.clientHeight&&et){const at=`${getScrollbarSize(ownerWindow(ot))}px`;ht.current.style[ut==="rtl"?"paddingLeft":"paddingRight"]=at,ht.current.style.width=`calc(100% + ${at})`}return ht.current}}),[]);const nt=ot=>{const ut=ht.current,et=ot.key;if(ot.ctrlKey||ot.metaKey||ot.altKey){lt&&lt(ot);return}const pt=ownerDocument(ut).activeElement;if(et==="ArrowDown")ot.preventDefault(),moveFocus(ut,pt,dt,it,nextItem);else if(et==="ArrowUp")ot.preventDefault(),moveFocus(ut,pt,dt,it,previousItem);else if(et==="Home")ot.preventDefault(),moveFocus(ut,null,dt,it,nextItem);else if(et==="End")ot.preventDefault(),moveFocus(ut,null,dt,it,previousItem);else if(et.length===1){const ct=mt.current,yt=et.toLowerCase(),ft=performance.now();ct.keys.length>0&&(ft-ct.lastTime>500?(ct.keys=[],ct.repeating=!0,ct.previousKeyMatched=!0):ct.repeating&&yt!==ct.keys[0]&&(ct.repeating=!1)),ct.lastTime=ft,ct.keys.push(yt);const _t=pt&&!ct.repeating&&textCriteriaMatches(pt,ct);ct.previousKeyMatched&&(_t||moveFocus(ut,pt,!1,it,nextItem,ct))?ot.preventDefault():ct.previousKeyMatched=!1}lt&&lt(ot)},$=useForkRef(ht,o);let _e=-1;reactExports.Children.forEach(rt,(ot,ut)=>{if(!reactExports.isValidElement(ot)){_e===ut&&(_e+=1,_e>=rt.length&&(_e=-1));return}ot.props.disabled||(gt==="selectedMenu"&&ot.props.selected||_e===-1)&&(_e=ut),_e===ut&&(ot.props.disabled||ot.props.muiSkipListHighlight||ot.type.muiSkipListHighlight)&&(_e+=1,_e>=rt.length&&(_e=-1))});const st=reactExports.Children.map(rt,(ot,ut)=>{if(ut===_e){const et={};return j&&(et.autoFocus=!0),ot.props.tabIndex===void 0&&gt==="selectedMenu"&&(et.tabIndex=0),reactExports.cloneElement(ot,et)}return ot});return jsxRuntimeExports.jsx(List,{role:"menu",ref:$,className:tt,onKeyDown:nt,tabIndex:_?0:-1,...vt,children:st})});function getPopoverUtilityClass(i){return generateUtilityClass("MuiPopover",i)}generateUtilityClasses("MuiPopover",["root","paper"]);function getOffsetTop(i,s){let o=0;return typeof s=="number"?o=s:s==="center"?o=i.height/2:s==="bottom"&&(o=i.height),o}function getOffsetLeft(i,s){let o=0;return typeof s=="number"?o=s:s==="center"?o=i.width/2:s==="right"&&(o=i.width),o}function getTransformOriginValue(i){return[i.horizontal,i.vertical].map(s=>typeof s=="number"?`${s}px`:s).join(" ")}function resolveAnchorEl(i){return typeof i=="function"?i():i}const useUtilityClasses$9=i=>{const{classes:s}=i;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,s)},PopoverRoot=styled(Modal,{name:"MuiPopover",slot:"Root",overridesResolver:(i,s)=>s.root})({}),PopoverPaper=styled(Paper,{name:"MuiPopover",slot:"Paper",overridesResolver:(i,s)=>s.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiPopover"}),{action:_,anchorEl:j,anchorOrigin:rt={vertical:"top",horizontal:"left"},anchorPosition:tt,anchorReference:it="anchorEl",children:dt,className:lt,container:gt,elevation:vt=8,marginThreshold:ht=16,open:mt,PaperProps:nt={},slots:$={},slotProps:_e={},transformOrigin:st={vertical:"top",horizontal:"left"},TransitionComponent:ot=Grow,transitionDuration:ut="auto",TransitionProps:{onEntering:et,...at}={},disableScrollLock:pt=!1,...ct}=a,yt=(_e==null?void 0:_e.paper)??nt,ft=reactExports.useRef(),_t={...a,anchorOrigin:rt,anchorReference:it,elevation:vt,marginThreshold:ht,externalPaperSlotProps:yt,transformOrigin:st,TransitionComponent:ot,transitionDuration:ut,TransitionProps:at},wt=useUtilityClasses$9(_t),Et=reactExports.useCallback(()=>{if(it==="anchorPosition")return tt;const cr=resolveAnchorEl(j),gr=(cr&&cr.nodeType===1?cr:ownerDocument(ft.current).body).getBoundingClientRect();return{top:gr.top+getOffsetTop(gr,rt.vertical),left:gr.left+getOffsetLeft(gr,rt.horizontal)}},[j,rt.horizontal,rt.vertical,tt,it]),Mt=reactExports.useCallback(cr=>({vertical:getOffsetTop(cr,st.vertical),horizontal:getOffsetLeft(cr,st.horizontal)}),[st.horizontal,st.vertical]),St=reactExports.useCallback(cr=>{const lr={width:cr.offsetWidth,height:cr.offsetHeight},gr=Mt(lr);if(it==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(gr)};const rr=Et();let Gt=rr.top-gr.vertical,nr=rr.left-gr.horizontal;const _r=Gt+lr.height,Sr=nr+lr.width,Ar=ownerWindow(resolveAnchorEl(j)),Rr=Ar.innerHeight-ht,Mr=Ar.innerWidth-ht;if(ht!==null&&Gt<ht){const wr=Gt-ht;Gt-=wr,gr.vertical+=wr}else if(ht!==null&&_r>Rr){const wr=_r-Rr;Gt-=wr,gr.vertical+=wr}if(ht!==null&&nr<ht){const wr=nr-ht;nr-=wr,gr.horizontal+=wr}else if(Sr>Mr){const wr=Sr-Mr;nr-=wr,gr.horizontal+=wr}return{top:`${Math.round(Gt)}px`,left:`${Math.round(nr)}px`,transformOrigin:getTransformOriginValue(gr)}},[j,it,Et,Mt,ht]),[At,Rt]=reactExports.useState(mt),Ct=reactExports.useCallback(()=>{const cr=ft.current;if(!cr)return;const lr=St(cr);lr.top!==null&&cr.style.setProperty("top",lr.top),lr.left!==null&&(cr.style.left=lr.left),cr.style.transformOrigin=lr.transformOrigin,Rt(!0)},[St]);reactExports.useEffect(()=>(pt&&window.addEventListener("scroll",Ct),()=>window.removeEventListener("scroll",Ct)),[j,pt,Ct]);const Pt=(cr,lr)=>{et&&et(cr,lr),Ct()},Lt=()=>{Rt(!1)};reactExports.useEffect(()=>{mt&&Ct()}),reactExports.useImperativeHandle(_,()=>mt?{updatePosition:()=>{Ct()}}:null,[mt,Ct]),reactExports.useEffect(()=>{if(!mt)return;const cr=debounce$1(()=>{Ct()}),lr=ownerWindow(j);return lr.addEventListener("resize",cr),()=>{cr.clear(),lr.removeEventListener("resize",cr)}},[j,mt,Ct]);let Ot=ut;ut==="auto"&&!ot.muiSupportAuto&&(Ot=void 0);const It=gt||(j?ownerDocument(resolveAnchorEl(j)).body:void 0),$t={slots:$,slotProps:{..._e,paper:yt}},[jt,Zt]=useSlot("paper",{elementType:PopoverPaper,externalForwardedProps:$t,additionalProps:{elevation:vt,className:clsx(wt.paper,yt==null?void 0:yt.className),style:At?yt.style:{...yt.style,opacity:0}},ownerState:_t}),[qt,{slotProps:er,...Yt}]=useSlot("root",{elementType:PopoverRoot,externalForwardedProps:$t,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:It,open:mt},ownerState:_t,className:clsx(wt.root,lt)}),Qt=useForkRef(ft,Zt.ref);return jsxRuntimeExports.jsx(qt,{...Yt,...!isHostComponent(qt)&&{slotProps:er,disableScrollLock:pt},...ct,ref:o,children:jsxRuntimeExports.jsx(ot,{appear:!0,in:mt,onEntering:Pt,onExited:Lt,timeout:Ot,...at,children:jsxRuntimeExports.jsx(jt,{...Zt,ref:Qt,children:dt})})})});function getMenuUtilityClass(i){return generateUtilityClass("MuiMenu",i)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$8=i=>{const{classes:s}=i;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,s)},MenuRoot=styled(Popover,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(i,s)=>s.root})({}),MenuPaper=styled(PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:(i,s)=>s.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled(MenuList,{name:"MuiMenu",slot:"List",overridesResolver:(i,s)=>s.list})({outline:0}),Menu=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiMenu"}),{autoFocus:_=!0,children:j,className:rt,disableAutoFocusItem:tt=!1,MenuListProps:it={},onClose:dt,open:lt,PaperProps:gt={},PopoverClasses:vt,transitionDuration:ht="auto",TransitionProps:{onEntering:mt,...nt}={},variant:$="selectedMenu",slots:_e={},slotProps:st={},...ot}=a,ut=useRtl(),et={...a,autoFocus:_,disableAutoFocusItem:tt,MenuListProps:it,onEntering:mt,PaperProps:gt,transitionDuration:ht,TransitionProps:nt,variant:$},at=useUtilityClasses$8(et),pt=_&&!tt&&lt,ct=reactExports.useRef(null),yt=(At,Rt)=>{ct.current&&ct.current.adjustStyleForScrollbar(At,{direction:ut?"rtl":"ltr"}),mt&&mt(At,Rt)},ft=At=>{At.key==="Tab"&&(At.preventDefault(),dt&&dt(At,"tabKeyDown"))};let _t=-1;reactExports.Children.map(j,(At,Rt)=>{reactExports.isValidElement(At)&&(At.props.disabled||($==="selectedMenu"&&At.props.selected||_t===-1)&&(_t=Rt))});const wt=_e.paper??MenuPaper,Et=st.paper??gt,Mt=useSlotProps({elementType:_e.root,externalSlotProps:st.root,ownerState:et,className:[at.root,rt]}),St=useSlotProps({elementType:wt,externalSlotProps:Et,ownerState:et,className:at.paper});return jsxRuntimeExports.jsx(MenuRoot,{onClose:dt,anchorOrigin:{vertical:"bottom",horizontal:ut?"right":"left"},transformOrigin:ut?RTL_ORIGIN:LTR_ORIGIN,slots:{paper:wt,root:_e.root},slotProps:{root:Mt,paper:St},open:lt,ref:o,transitionDuration:ht,TransitionProps:{onEntering:yt,...nt},ownerState:et,...ot,classes:vt,children:jsxRuntimeExports.jsx(MenuMenuList,{onKeyDown:ft,actions:ct,autoFocus:_&&(_t===-1||tt),autoFocusItem:pt,variant:$,...it,className:clsx(at.list,it.className),children:j})})});function getNativeSelectUtilityClasses(i){return generateUtilityClass("MuiNativeSelect",i)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),useUtilityClasses$7=i=>{const{classes:s,variant:o,disabled:a,multiple:_,open:j,error:rt}=i,tt={select:["select",o,a&&"disabled",_&&"multiple",rt&&"error"],icon:["icon",`icon${capitalize(o)}`,j&&"iconOpen",a&&"disabled"]};return composeClasses(tt,getNativeSelectUtilityClasses,s)},StyledSelectSelect=styled("select")(({theme:i})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${nativeSelectClasses.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(i.vars||i).palette.background.paper},variants:[{props:({ownerState:s})=>s.variant!=="filled"&&s.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}}}]})),NativeSelectSelect=styled(StyledSelectSelect,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.select,s[o.variant],o.error&&s.error,{[`&.${nativeSelectClasses.multiple}`]:s.multiple}]}})({}),StyledSelectIcon=styled("svg")(({theme:i})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(i.vars||i).palette.action.active,[`&.${nativeSelectClasses.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:({ownerState:s})=>s.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),NativeSelectIcon=styled(StyledSelectIcon,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.icon,o.variant&&s[`icon${capitalize(o.variant)}`],o.open&&s.iconOpen]}})({}),NativeSelectInput=reactExports.forwardRef(function(s,o){const{className:a,disabled:_,error:j,IconComponent:rt,inputRef:tt,variant:it="standard",...dt}=s,lt={...s,disabled:_,variant:it,error:j},gt=useUtilityClasses$7(lt);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(NativeSelectSelect,{ownerState:lt,className:clsx(gt.select,a),disabled:_,ref:tt||o,...dt}),s.multiple?null:jsxRuntimeExports.jsx(NativeSelectIcon,{as:rt,ownerState:lt,className:gt.icon})]})});var _span$1;const NotchedOutlineRoot$1=styled("fieldset",{shouldForwardProp:rootShouldForwardProp})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled("legend",{shouldForwardProp:rootShouldForwardProp})(memoTheme(({theme:i})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:s})=>!s.withLabel,style:{padding:0,lineHeight:"11px",transition:i.transitions.create("width",{duration:150,easing:i.transitions.easing.easeOut})}},{props:({ownerState:s})=>s.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:i.transitions.create("max-width",{duration:50,easing:i.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:s})=>s.withLabel&&s.notched,style:{maxWidth:"100%",transition:i.transitions.create("max-width",{duration:100,easing:i.transitions.easing.easeOut,delay:50})}}]})));function NotchedOutline(i){const{children:s,classes:o,className:a,label:_,notched:j,...rt}=i,tt=_!=null&&_!=="",it={...i,notched:j,withLabel:tt};return jsxRuntimeExports.jsx(NotchedOutlineRoot$1,{"aria-hidden":!0,className:a,ownerState:it,...rt,children:jsxRuntimeExports.jsx(NotchedOutlineLegend,{ownerState:it,children:tt?jsxRuntimeExports.jsx("span",{children:_}):_span$1||(_span$1=jsxRuntimeExports.jsx("span",{className:"notranslate",children:""}))})})}const useUtilityClasses$6=i=>{const{classes:s}=i,a=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,s);return{...s,...a}},OutlinedInputRoot=styled(InputBaseRoot,{shouldForwardProp:i=>rootShouldForwardProp(i)||i==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(memoTheme(({theme:i})=>{const s=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(i.vars||i).shape.borderRadius,[`&:hover .${outlinedInputClasses.notchedOutline}`]:{borderColor:(i.vars||i).palette.text.primary},[`&.${outlinedInputClasses.focused} .${outlinedInputClasses.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([o])=>({props:{color:o},style:{[`&.${outlinedInputClasses.focused} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(i.vars||i).palette[o].main}}})),{props:{},style:{"@media (hover: none)":{[`&:hover .${outlinedInputClasses.notchedOutline}`]:{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:s}},[`&.${outlinedInputClasses.error} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(i.vars||i).palette.error.main},[`&.${outlinedInputClasses.disabled} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(i.vars||i).palette.action.disabled}}},{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:14}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:14}},{props:({ownerState:o})=>o.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:o,size:a})=>o.multiline&&a==="small",style:{padding:"8.5px 14px"}}]}})),NotchedOutlineRoot=styled(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(i,s)=>s.notchedOutline})(memoTheme(({theme:i})=>{const s=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:s}})),OutlinedInputInput=styled(InputBaseInput,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:i})=>({padding:"16.5px 14px",...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:s})=>s.multiline,style:{padding:0}},{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:0}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:0}}]}))),OutlinedInput=reactExports.forwardRef(function(s,o){var a;const _=useDefaultProps({props:s,name:"MuiOutlinedInput"}),{components:j={},fullWidth:rt=!1,inputComponent:tt="input",label:it,multiline:dt=!1,notched:lt,slots:gt={},type:vt="text",...ht}=_,mt=useUtilityClasses$6(_),nt=useFormControl(),$=formControlState({props:_,muiFormControl:nt,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_e={..._,color:$.color||"primary",disabled:$.disabled,error:$.error,focused:$.focused,formControl:nt,fullWidth:rt,hiddenLabel:$.hiddenLabel,multiline:dt,size:$.size,type:vt},st=gt.root??j.Root??OutlinedInputRoot,ot=gt.input??j.Input??OutlinedInputInput;return jsxRuntimeExports.jsx(InputBase,{slots:{root:st,input:ot},renderSuffix:ut=>jsxRuntimeExports.jsx(NotchedOutlineRoot,{ownerState:_e,className:mt.notchedOutline,label:it!=null&&it!==""&&$.required?a||(a=jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[it,"","*"]})):it,notched:typeof lt<"u"?lt:!!(ut.startAdornment||ut.filled||ut.focused)}),fullWidth:rt,inputComponent:tt,multiline:dt,ref:o,type:vt,...ht,classes:{...mt,notchedOutline:null}})});OutlinedInput&&(OutlinedInput.muiName="Input");function getSelectUtilityClasses(i){return generateUtilityClass("MuiSelect",i)}const selectClasses=generateUtilityClasses("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _span;const SelectSelect=styled(StyledSelectSelect,{name:"MuiSelect",slot:"Select",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[{[`&.${selectClasses.select}`]:s.select},{[`&.${selectClasses.select}`]:s[o.variant]},{[`&.${selectClasses.error}`]:s.error},{[`&.${selectClasses.multiple}`]:s.multiple}]}})({[`&.${selectClasses.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled(StyledSelectIcon,{name:"MuiSelect",slot:"Icon",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.icon,o.variant&&s[`icon${capitalize(o.variant)}`],o.open&&s.iconOpen]}})({}),SelectNativeInput=styled("input",{shouldForwardProp:i=>slotShouldForwardProp(i)&&i!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(i,s)=>s.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(i,s){return typeof s=="object"&&s!==null?i===s:String(i)===String(s)}function isEmpty(i){return i==null||typeof i=="string"&&!i.trim()}const useUtilityClasses$5=i=>{const{classes:s,variant:o,disabled:a,multiple:_,open:j,error:rt}=i,tt={select:["select",o,a&&"disabled",_&&"multiple",rt&&"error"],icon:["icon",`icon${capitalize(o)}`,j&&"iconOpen",a&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(tt,getSelectUtilityClasses,s)},SelectInput=reactExports.forwardRef(function(s,o){var mr;const{"aria-describedby":a,"aria-label":_,autoFocus:j,autoWidth:rt,children:tt,className:it,defaultOpen:dt,defaultValue:lt,disabled:gt,displayEmpty:vt,error:ht=!1,IconComponent:mt,inputRef:nt,labelId:$,MenuProps:_e={},multiple:st,name:ot,onBlur:ut,onChange:et,onClose:at,onFocus:pt,onOpen:ct,open:yt,readOnly:ft,renderValue:_t,SelectDisplayProps:wt={},tabIndex:Et,type:Mt,value:St,variant:At="standard",...Rt}=s,[Ct,Pt]=useControlled({controlled:St,default:lt,name:"Select"}),[Lt,Ot]=useControlled({controlled:yt,default:dt,name:"Select"}),It=reactExports.useRef(null),$t=reactExports.useRef(null),[jt,Zt]=reactExports.useState(null),{current:qt}=reactExports.useRef(yt!=null),[er,Yt]=reactExports.useState(),Qt=useForkRef(o,nt),cr=reactExports.useCallback(Dt=>{$t.current=Dt,Dt&&Zt(Dt)},[]),lr=jt==null?void 0:jt.parentNode;reactExports.useImperativeHandle(Qt,()=>({focus:()=>{$t.current.focus()},node:It.current,value:Ct}),[Ct]),reactExports.useEffect(()=>{dt&&Lt&&jt&&!qt&&(Yt(rt?null:lr.clientWidth),$t.current.focus())},[jt,rt]),reactExports.useEffect(()=>{j&&$t.current.focus()},[j]),reactExports.useEffect(()=>{if(!$)return;const Dt=ownerDocument($t.current).getElementById($);if(Dt){const Jt=()=>{getSelection().isCollapsed&&$t.current.focus()};return Dt.addEventListener("click",Jt),()=>{Dt.removeEventListener("click",Jt)}}},[$]);const gr=(Dt,Jt)=>{Dt?ct&&ct(Jt):at&&at(Jt),qt||(Yt(rt?null:lr.clientWidth),Ot(Dt))},rr=Dt=>{Dt.button===0&&(Dt.preventDefault(),$t.current.focus(),gr(!0,Dt))},Gt=Dt=>{gr(!1,Dt)},nr=reactExports.Children.toArray(tt),_r=Dt=>{const Jt=nr.find(sr=>sr.props.value===Dt.target.value);Jt!==void 0&&(Pt(Jt.props.value),et&&et(Dt,Jt))},Sr=Dt=>Jt=>{let sr;if(Jt.currentTarget.hasAttribute("tabindex")){if(st){sr=Array.isArray(Ct)?Ct.slice():[];const Cr=Ct.indexOf(Dt.props.value);Cr===-1?sr.push(Dt.props.value):sr.splice(Cr,1)}else sr=Dt.props.value;if(Dt.props.onClick&&Dt.props.onClick(Jt),Ct!==sr&&(Pt(sr),et)){const Cr=Jt.nativeEvent||Jt,tr=new Cr.constructor(Cr.type,Cr);Object.defineProperty(tr,"target",{writable:!0,value:{value:sr,name:ot}}),et(tr,Dt)}st||gr(!1,Jt)}},Ar=Dt=>{ft||[" ","ArrowUp","ArrowDown","Enter"].includes(Dt.key)&&(Dt.preventDefault(),gr(!0,Dt))},Rr=jt!==null&&Lt,Mr=Dt=>{!Rr&&ut&&(Object.defineProperty(Dt,"target",{writable:!0,value:{value:Ct,name:ot}}),ut(Dt))};delete Rt["aria-invalid"];let wr,Tr;const fr=[];let pr=!1;(isFilled({value:Ct})||vt)&&(_t?wr=_t(Ct):pr=!0);const Lr=nr.map(Dt=>{if(!reactExports.isValidElement(Dt))return null;let Jt;if(st){if(!Array.isArray(Ct))throw new Error(formatMuiErrorMessage(2));Jt=Ct.some(sr=>areEqualValues(sr,Dt.props.value)),Jt&&pr&&fr.push(Dt.props.children)}else Jt=areEqualValues(Ct,Dt.props.value),Jt&&pr&&(Tr=Dt.props.children);return reactExports.cloneElement(Dt,{"aria-selected":Jt?"true":"false",onClick:Sr(Dt),onKeyUp:sr=>{sr.key===" "&&sr.preventDefault(),Dt.props.onKeyUp&&Dt.props.onKeyUp(sr)},role:"option",selected:Jt,value:void 0,"data-value":Dt.props.value})});pr&&(st?fr.length===0?wr=null:wr=fr.reduce((Dt,Jt,sr)=>(Dt.push(Jt),sr<fr.length-1&&Dt.push(", "),Dt),[]):wr=Tr);let Or=er;!rt&&qt&&jt&&(Or=lr.clientWidth);let Bt;typeof Et<"u"?Bt=Et:Bt=gt?null:0;const Ut=wt.id||(ot?`mui-component-select-${ot}`:void 0),Wt={...s,variant:At,value:Ct,open:Rr,error:ht},ar=useUtilityClasses$5(Wt),Xt={..._e.PaperProps,...(mr=_e.slotProps)==null?void 0:mr.paper},Er=useId();return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectSelect,{as:"div",ref:cr,tabIndex:Bt,role:"combobox","aria-controls":Er,"aria-disabled":gt?"true":void 0,"aria-expanded":Rr?"true":"false","aria-haspopup":"listbox","aria-label":_,"aria-labelledby":[$,Ut].filter(Boolean).join(" ")||void 0,"aria-describedby":a,onKeyDown:Ar,onMouseDown:gt||ft?null:rr,onBlur:Mr,onFocus:pt,...wt,ownerState:Wt,className:clsx(wt.className,ar.select,it),id:Ut,children:isEmpty(wr)?_span||(_span=jsxRuntimeExports.jsx("span",{className:"notranslate",children:""})):wr}),jsxRuntimeExports.jsx(SelectNativeInput,{"aria-invalid":ht,value:Array.isArray(Ct)?Ct.join(","):Ct,name:ot,ref:It,"aria-hidden":!0,onChange:_r,tabIndex:-1,disabled:gt,className:ar.nativeInput,autoFocus:j,...Rt,ownerState:Wt}),jsxRuntimeExports.jsx(SelectIcon,{as:mt,className:ar.icon,ownerState:Wt}),jsxRuntimeExports.jsx(Menu,{id:`menu-${ot||""}`,anchorEl:lr,open:Rr,onClose:Gt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},..._e,MenuListProps:{"aria-labelledby":$,role:"listbox","aria-multiselectable":st?"true":void 0,disableListWrap:!0,id:Er,..._e.MenuListProps},slotProps:{..._e.slotProps,paper:{...Xt,style:{minWidth:Or,...Xt!=null?Xt.style:null}}},children:Lr})]})}),useUtilityClasses$4=i=>{const{classes:s}=i;return s},styledRootConfig={name:"MuiSelect",overridesResolver:(i,s)=>s.root,shouldForwardProp:i=>rootShouldForwardProp(i)&&i!=="variant",slot:"Root"},StyledInput=styled(Input,styledRootConfig)(""),StyledOutlinedInput=styled(OutlinedInput,styledRootConfig)(""),StyledFilledInput=styled(FilledInput,styledRootConfig)(""),Select=reactExports.forwardRef(function(s,o){const a=useThemeProps({name:"MuiSelect",props:s}),{autoWidth:_=!1,children:j,classes:rt={},className:tt,defaultOpen:it=!1,displayEmpty:dt=!1,IconComponent:lt=ArrowDropDownIcon,id:gt,input:vt,inputProps:ht,label:mt,labelId:nt,MenuProps:$,multiple:_e=!1,native:st=!1,onClose:ot,onOpen:ut,open:et,renderValue:at,SelectDisplayProps:pt,variant:ct="outlined",...yt}=a,ft=st?NativeSelectInput:SelectInput,_t=useFormControl(),wt=formControlState({props:a,muiFormControl:_t,states:["variant","error"]}),Et=wt.variant||ct,Mt={...a,variant:Et,classes:rt},St=useUtilityClasses$4(Mt),{root:At,...Rt}=St,Ct=vt||{standard:jsxRuntimeExports.jsx(StyledInput,{ownerState:Mt}),outlined:jsxRuntimeExports.jsx(StyledOutlinedInput,{label:mt,ownerState:Mt}),filled:jsxRuntimeExports.jsx(StyledFilledInput,{ownerState:Mt})}[Et],Pt=useForkRef(o,getReactElementRef(Ct));return jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(Ct,{inputComponent:ft,inputProps:{children:j,error:wt.error,IconComponent:lt,variant:Et,type:void 0,multiple:_e,...st?{id:gt}:{autoWidth:_,defaultOpen:it,displayEmpty:dt,labelId:nt,MenuProps:$,onClose:ot,onOpen:ut,open:et,renderValue:at,SelectDisplayProps:{id:gt,...pt}},...ht,classes:ht?deepmerge(Rt,ht.classes):Rt,...vt?vt.props.inputProps:{}},...(_e&&st||dt)&&Et==="outlined"?{notched:!0}:{},ref:Pt,className:clsx(Ct.props.className,tt,St.root),...!vt&&{variant:Et},...yt})})});Select.muiName="Select";function getTooltipUtilityClass(i){return generateUtilityClass("MuiTooltip",i)}const tooltipClasses=generateUtilityClasses("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function round(i){return Math.round(i*1e5)/1e5}const useUtilityClasses$3=i=>{const{classes:s,disableInteractive:o,arrow:a,touch:_,placement:j}=i,rt={popper:["popper",!o&&"popperInteractive",a&&"popperArrow"],tooltip:["tooltip",a&&"tooltipArrow",_&&"touch",`tooltipPlacement${capitalize(j.split("-")[0])}`],arrow:["arrow"]};return composeClasses(rt,getTooltipUtilityClass,s)},TooltipPopper=styled(Popper,{name:"MuiTooltip",slot:"Popper",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.popper,!o.disableInteractive&&s.popperInteractive,o.arrow&&s.popperArrow,!o.open&&s.popperClose]}})(memoTheme(({theme:i})=>({zIndex:(i.vars||i).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:s})=>!s.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:s})=>!s,style:{pointerEvents:"none"}},{props:({ownerState:s})=>s.arrow,style:{[`&[data-popper-placement*="bottom"] .${tooltipClasses.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${tooltipClasses.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${tooltipClasses.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${tooltipClasses.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:s})=>s.arrow&&!s.isRtl,style:{[`&[data-popper-placement*="right"] .${tooltipClasses.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!!s.isRtl,style:{[`&[data-popper-placement*="right"] .${tooltipClasses.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!s.isRtl,style:{[`&[data-popper-placement*="left"] .${tooltipClasses.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:s})=>s.arrow&&!!s.isRtl,style:{[`&[data-popper-placement*="left"] .${tooltipClasses.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),TooltipTooltip=styled("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.tooltip,o.touch&&s.touch,o.arrow&&s.tooltipArrow,s[`tooltipPlacement${capitalize(o.placement.split("-")[0])}`]]}})(memoTheme(({theme:i})=>({backgroundColor:i.vars?i.vars.palette.Tooltip.bg:alpha(i.palette.grey[700],.92),borderRadius:(i.vars||i).shape.borderRadius,color:(i.vars||i).palette.common.white,fontFamily:i.typography.fontFamily,padding:"4px 8px",fontSize:i.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:i.typography.fontWeightMedium,[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${tooltipClasses.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${tooltipClasses.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:s})=>s.arrow,style:{position:"relative",margin:0}},{props:({ownerState:s})=>s.touch,style:{padding:"8px 16px",fontSize:i.typography.pxToRem(14),lineHeight:`${round(16/14)}em`,fontWeight:i.typography.fontWeightRegular}},{props:({ownerState:s})=>!s.isRtl,style:{[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:s})=>!s.isRtl&&s.touch,style:{[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:s})=>!!s.isRtl,style:{[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:s})=>!!s.isRtl&&s.touch,style:{[`.${tooltipClasses.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${tooltipClasses.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:s})=>s.touch,style:{[`.${tooltipClasses.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:s})=>s.touch,style:{[`.${tooltipClasses.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),TooltipArrow=styled("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(i,s)=>s.arrow})(memoTheme(({theme:i})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:i.vars?i.vars.palette.Tooltip.bg:alpha(i.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let hystersisOpen=!1;const hystersisTimer=new Timeout;let cursorPosition={x:0,y:0};function composeEventHandler(i,s){return(o,...a)=>{s&&s(o,...a),i(o,...a)}}const Tooltip=reactExports.forwardRef(function(s,o){var ur,or,Ft;const a=useDefaultProps({props:s,name:"MuiTooltip"}),{arrow:_=!1,children:j,classes:rt,components:tt={},componentsProps:it={},describeChild:dt=!1,disableFocusListener:lt=!1,disableHoverListener:gt=!1,disableInteractive:vt=!1,disableTouchListener:ht=!1,enterDelay:mt=100,enterNextDelay:nt=0,enterTouchDelay:$=700,followCursor:_e=!1,id:st,leaveDelay:ot=0,leaveTouchDelay:ut=1500,onClose:et,onOpen:at,open:pt,placement:ct="bottom",PopperComponent:yt,PopperProps:ft={},slotProps:_t={},slots:wt={},title:Et,TransitionComponent:Mt=Grow,TransitionProps:St,...At}=a,Rt=reactExports.isValidElement(j)?j:jsxRuntimeExports.jsx("span",{children:j}),Ct=useTheme(),Pt=useRtl(),[Lt,Ot]=reactExports.useState(),[It,$t]=reactExports.useState(null),jt=reactExports.useRef(!1),Zt=vt||_e,qt=useTimeout(),er=useTimeout(),Yt=useTimeout(),Qt=useTimeout(),[cr,lr]=useControlled({controlled:pt,default:!1,name:"Tooltip",state:"open"});let gr=cr;const rr=useId(st),Gt=reactExports.useRef(),nr=useEventCallback(()=>{Gt.current!==void 0&&(document.body.style.WebkitUserSelect=Gt.current,Gt.current=void 0),Qt.clear()});reactExports.useEffect(()=>nr,[nr]);const _r=Ht=>{hystersisTimer.clear(),hystersisOpen=!0,lr(!0),at&&!gr&&at(Ht)},Sr=useEventCallback(Ht=>{hystersisTimer.start(800+ot,()=>{hystersisOpen=!1}),lr(!1),et&&gr&&et(Ht),qt.start(Ct.transitions.duration.shortest,()=>{jt.current=!1})}),Ar=Ht=>{jt.current&&Ht.type!=="touchstart"||(Lt&&Lt.removeAttribute("title"),er.clear(),Yt.clear(),mt||hystersisOpen&&nt?er.start(hystersisOpen?nt:mt,()=>{_r(Ht)}):_r(Ht))},Rr=Ht=>{er.clear(),Yt.start(ot,()=>{Sr(Ht)})},[,Mr]=reactExports.useState(!1),wr=Ht=>{isFocusVisible(Ht.target)||(Mr(!1),Rr(Ht))},Tr=Ht=>{Lt||Ot(Ht.currentTarget),isFocusVisible(Ht.target)&&(Mr(!0),Ar(Ht))},fr=Ht=>{jt.current=!0;const hr=Rt.props;hr.onTouchStart&&hr.onTouchStart(Ht)},pr=Ht=>{fr(Ht),Yt.clear(),qt.clear(),nr(),Gt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Qt.start($,()=>{document.body.style.WebkitUserSelect=Gt.current,Ar(Ht)})},Lr=Ht=>{Rt.props.onTouchEnd&&Rt.props.onTouchEnd(Ht),nr(),Yt.start(ut,()=>{Sr(Ht)})};reactExports.useEffect(()=>{if(!gr)return;function Ht(hr){hr.key==="Escape"&&Sr(hr)}return document.addEventListener("keydown",Ht),()=>{document.removeEventListener("keydown",Ht)}},[Sr,gr]);const Or=useForkRef(getReactElementRef(Rt),Ot,o);!Et&&Et!==0&&(gr=!1);const Bt=reactExports.useRef(),Ut=Ht=>{const hr=Rt.props;hr.onMouseMove&&hr.onMouseMove(Ht),cursorPosition={x:Ht.clientX,y:Ht.clientY},Bt.current&&Bt.current.update()},Wt={},ar=typeof Et=="string";dt?(Wt.title=!gr&&ar&&!gt?Et:null,Wt["aria-describedby"]=gr?rr:null):(Wt["aria-label"]=ar?Et:null,Wt["aria-labelledby"]=gr&&!ar?rr:null);const Xt={...Wt,...At,...Rt.props,className:clsx(At.className,Rt.props.className),onTouchStart:fr,ref:Or,..._e?{onMouseMove:Ut}:{}},Er={};ht||(Xt.onTouchStart=pr,Xt.onTouchEnd=Lr),gt||(Xt.onMouseOver=composeEventHandler(Ar,Xt.onMouseOver),Xt.onMouseLeave=composeEventHandler(Rr,Xt.onMouseLeave),Zt||(Er.onMouseOver=Ar,Er.onMouseLeave=Rr)),lt||(Xt.onFocus=composeEventHandler(Tr,Xt.onFocus),Xt.onBlur=composeEventHandler(wr,Xt.onBlur),Zt||(Er.onFocus=Tr,Er.onBlur=wr));const mr=reactExports.useMemo(()=>{var hr;let Ht=[{name:"arrow",enabled:!!It,options:{element:It,padding:4}}];return(hr=ft.popperOptions)!=null&&hr.modifiers&&(Ht=Ht.concat(ft.popperOptions.modifiers)),{...ft.popperOptions,modifiers:Ht}},[It,ft]),Dt={...a,isRtl:Pt,arrow:_,disableInteractive:Zt,placement:ct,PopperComponentProp:yt,touch:jt.current},Jt=useUtilityClasses$3(Dt),sr=wt.popper??tt.Popper??TooltipPopper,Cr=wt.transition??tt.Transition??Mt??Grow,tr=wt.tooltip??tt.Tooltip??TooltipTooltip,vr=wt.arrow??tt.Arrow??TooltipArrow,kt=appendOwnerState(sr,{...ft,..._t.popper??it.popper,className:clsx(Jt.popper,ft==null?void 0:ft.className,(ur=_t.popper??it.popper)==null?void 0:ur.className)},Dt),br=appendOwnerState(Cr,{...St,..._t.transition??it.transition},Dt),Ir=appendOwnerState(tr,{..._t.tooltip??it.tooltip,className:clsx(Jt.tooltip,(or=_t.tooltip??it.tooltip)==null?void 0:or.className)},Dt),Tt=appendOwnerState(vr,{..._t.arrow??it.arrow,className:clsx(Jt.arrow,(Ft=_t.arrow??it.arrow)==null?void 0:Ft.className)},Dt);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[reactExports.cloneElement(Rt,Xt),jsxRuntimeExports.jsx(sr,{as:yt??Popper,placement:ct,anchorEl:_e?{getBoundingClientRect:()=>({top:cursorPosition.y,left:cursorPosition.x,right:cursorPosition.x,bottom:cursorPosition.y,width:0,height:0})}:Lt,popperRef:Bt,open:Lt?gr:!1,id:rr,transition:!0,...Er,...kt,popperOptions:mr,children:({TransitionProps:Ht})=>jsxRuntimeExports.jsx(Cr,{timeout:Ct.transitions.duration.shorter,...Ht,...br,children:jsxRuntimeExports.jsxs(tr,{...Ir,children:[Et,_?jsxRuntimeExports.jsx(vr,{...Tt,ref:$t}):null]})})})]})});function getTextFieldUtilityClass(i){return generateUtilityClass("MuiTextField",i)}generateUtilityClasses("MuiTextField",["root"]);const variantComponent={standard:Input,filled:FilledInput,outlined:OutlinedInput},useUtilityClasses$2=i=>{const{classes:s}=i;return composeClasses({root:["root"]},getTextFieldUtilityClass,s)},TextFieldRoot=styled(FormControl,{name:"MuiTextField",slot:"Root",overridesResolver:(i,s)=>s.root})({}),TextField=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiTextField"}),{autoComplete:_,autoFocus:j=!1,children:rt,className:tt,color:it="primary",defaultValue:dt,disabled:lt=!1,error:gt=!1,FormHelperTextProps:vt,fullWidth:ht=!1,helperText:mt,id:nt,InputLabelProps:$,inputProps:_e,InputProps:st,inputRef:ot,label:ut,maxRows:et,minRows:at,multiline:pt=!1,name:ct,onBlur:yt,onChange:ft,onFocus:_t,placeholder:wt,required:Et=!1,rows:Mt,select:St=!1,SelectProps:At,slots:Rt={},slotProps:Ct={},type:Pt,value:Lt,variant:Ot="outlined",...It}=a,$t={...a,autoFocus:j,color:it,disabled:lt,error:gt,fullWidth:ht,multiline:pt,required:Et,select:St,variant:Ot},jt=useUtilityClasses$2($t),Zt=useId(nt),qt=mt&&Zt?`${Zt}-helper-text`:void 0,er=ut&&Zt?`${Zt}-label`:void 0,Yt=variantComponent[Ot],Qt={slots:Rt,slotProps:{input:st,inputLabel:$,htmlInput:_e,formHelperText:vt,select:At,...Ct}},cr={},lr=Qt.slotProps.inputLabel;Ot==="outlined"&&(lr&&typeof lr.shrink<"u"&&(cr.notched=lr.shrink),cr.label=ut),St&&((!At||!At.native)&&(cr.id=void 0),cr["aria-describedby"]=void 0);const[gr,rr]=useSlot("input",{elementType:Yt,externalForwardedProps:Qt,additionalProps:cr,ownerState:$t}),[Gt,nr]=useSlot("inputLabel",{elementType:InputLabel,externalForwardedProps:Qt,ownerState:$t}),[_r,Sr]=useSlot("htmlInput",{elementType:"input",externalForwardedProps:Qt,ownerState:$t}),[Ar,Rr]=useSlot("formHelperText",{elementType:FormHelperText,externalForwardedProps:Qt,ownerState:$t}),[Mr,wr]=useSlot("select",{elementType:Select,externalForwardedProps:Qt,ownerState:$t}),Tr=jsxRuntimeExports.jsx(gr,{"aria-describedby":qt,autoComplete:_,autoFocus:j,defaultValue:dt,fullWidth:ht,multiline:pt,name:ct,rows:Mt,maxRows:et,minRows:at,type:Pt,value:Lt,id:Zt,inputRef:ot,onBlur:yt,onChange:ft,onFocus:_t,placeholder:wt,inputProps:Sr,slots:{input:Rt.htmlInput?_r:void 0},...rr});return jsxRuntimeExports.jsxs(TextFieldRoot,{className:clsx(jt.root,tt),disabled:lt,error:gt,fullWidth:ht,ref:o,required:Et,color:it,variant:Ot,ownerState:$t,...It,children:[ut!=null&&ut!==""&&jsxRuntimeExports.jsx(Gt,{htmlFor:Zt,id:er,...nr,children:ut}),St?jsxRuntimeExports.jsx(Mr,{"aria-describedby":qt,id:Zt,labelId:er,value:Lt,input:Tr,...wr,children:rt}):Tr,mt&&jsxRuntimeExports.jsx(Ar,{id:qt,...Rr,children:mt})]})});function getToggleButtonUtilityClass(i){return generateUtilityClass("MuiToggleButton",i)}const toggleButtonClasses=generateUtilityClasses("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),ToggleButtonGroupContext=reactExports.createContext({}),ToggleButtonGroupButtonContext=reactExports.createContext(void 0);function isValueSelected(i,s){return s===void 0||i===void 0?!1:Array.isArray(s)?s.includes(i):i===s}const useUtilityClasses$1=i=>{const{classes:s,fullWidth:o,selected:a,disabled:_,size:j,color:rt}=i,tt={root:["root",a&&"selected",_&&"disabled",o&&"fullWidth",`size${capitalize(j)}`,rt]};return composeClasses(tt,getToggleButtonUtilityClass,s)},ToggleButtonRoot=styled(ButtonBase,{name:"MuiToggleButton",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[s.root,s[`size${capitalize(o.size)}`]]}})(memoTheme(({theme:i})=>({...i.typography.button,borderRadius:(i.vars||i).shape.borderRadius,padding:11,border:`1px solid ${(i.vars||i).palette.divider}`,color:(i.vars||i).palette.action.active,[`&.${toggleButtonClasses.disabled}`]:{color:(i.vars||i).palette.action.disabled,border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:alpha(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${toggleButtonClasses.selected}`]:{color:(i.vars||i).palette.text.primary,backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette.text.primary,i.palette.action.selectedOpacity),"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:alpha(i.palette.text.primary,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette.text.primary,i.palette.action.selectedOpacity)}}}}},...Object.entries(i.palette).filter(createSimplePaletteValueFilter()).map(([s])=>({props:{color:s},style:{[`&.${toggleButtonClasses.selected}`]:{color:(i.vars||i).palette[s].main,backgroundColor:i.vars?`rgba(${i.vars.palette[s].mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette[s].main,i.palette.action.selectedOpacity),"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette[s].mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:alpha(i.palette[s].main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette[s].mainChannel} / ${i.vars.palette.action.selectedOpacity})`:alpha(i.palette[s].main,i.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:i.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:i.typography.pxToRem(15)}}]}))),ToggleButton=reactExports.forwardRef(function(s,o){const{value:a,..._}=reactExports.useContext(ToggleButtonGroupContext),j=reactExports.useContext(ToggleButtonGroupButtonContext),rt=resolveProps({..._,selected:isValueSelected(s.value,a)},s),tt=useDefaultProps({props:rt,name:"MuiToggleButton"}),{children:it,className:dt,color:lt="standard",disabled:gt=!1,disableFocusRipple:vt=!1,fullWidth:ht=!1,onChange:mt,onClick:nt,selected:$,size:_e="medium",value:st,...ot}=tt,ut={...tt,color:lt,disabled:gt,disableFocusRipple:vt,fullWidth:ht,size:_e},et=useUtilityClasses$1(ut),at=ct=>{nt&&(nt(ct,st),ct.defaultPrevented)||mt&&mt(ct,st)},pt=j||"";return jsxRuntimeExports.jsx(ToggleButtonRoot,{className:clsx(_.className,et.root,dt,pt),disabled:gt,focusRipple:!vt,ref:o,onClick:at,onChange:mt,value:st,ownerState:ut,"aria-pressed":$,...ot,children:it})});function getToggleButtonGroupUtilityClass(i){return generateUtilityClass("MuiToggleButtonGroup",i)}const toggleButtonGroupClasses=generateUtilityClasses("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),useUtilityClasses=i=>{const{classes:s,orientation:o,fullWidth:a,disabled:_}=i,j={root:["root",o,a&&"fullWidth"],grouped:["grouped",`grouped${capitalize(o)}`,_&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return composeClasses(j,getToggleButtonGroupUtilityClass,s)},ToggleButtonGroupRoot=styled("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(i,s)=>{const{ownerState:o}=i;return[{[`& .${toggleButtonGroupClasses.grouped}`]:s.grouped},{[`& .${toggleButtonGroupClasses.grouped}`]:s[`grouped${capitalize(o.orientation)}`]},{[`& .${toggleButtonGroupClasses.firstButton}`]:s.firstButton},{[`& .${toggleButtonGroupClasses.lastButton}`]:s.lastButton},{[`& .${toggleButtonGroupClasses.middleButton}`]:s.middleButton},s.root,o.orientation==="vertical"&&s.vertical,o.fullWidth&&s.fullWidth]}})(memoTheme(({theme:i})=>({display:"inline-flex",borderRadius:(i.vars||i).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${toggleButtonGroupClasses.grouped}`]:{[`&.${toggleButtonGroupClasses.selected} + .${toggleButtonGroupClasses.grouped}.${toggleButtonGroupClasses.selected}`]:{borderTop:0,marginTop:0}},[`& .${toggleButtonGroupClasses.firstButton},& .${toggleButtonGroupClasses.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${toggleButtonGroupClasses.lastButton},& .${toggleButtonGroupClasses.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${toggleButtonGroupClasses.lastButton}.${toggleButtonClasses.disabled},& .${toggleButtonGroupClasses.middleButton}.${toggleButtonClasses.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${toggleButtonGroupClasses.grouped}`]:{[`&.${toggleButtonGroupClasses.selected} + .${toggleButtonGroupClasses.grouped}.${toggleButtonGroupClasses.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${toggleButtonGroupClasses.firstButton},& .${toggleButtonGroupClasses.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${toggleButtonGroupClasses.lastButton},& .${toggleButtonGroupClasses.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${toggleButtonGroupClasses.lastButton}.${toggleButtonClasses.disabled},& .${toggleButtonGroupClasses.middleButton}.${toggleButtonClasses.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),ToggleButtonGroup=reactExports.forwardRef(function(s,o){const a=useDefaultProps({props:s,name:"MuiToggleButtonGroup"}),{children:_,className:j,color:rt="standard",disabled:tt=!1,exclusive:it=!1,fullWidth:dt=!1,onChange:lt,orientation:gt="horizontal",size:vt="medium",value:ht,...mt}=a,nt={...a,disabled:tt,fullWidth:dt,orientation:gt,size:vt},$=useUtilityClasses(nt),_e=reactExports.useCallback((pt,ct)=>{if(!lt)return;const yt=ht&&ht.indexOf(ct);let ft;ht&&yt>=0?(ft=ht.slice(),ft.splice(yt,1)):ft=ht?ht.concat(ct):[ct],lt(pt,ft)},[lt,ht]),st=reactExports.useCallback((pt,ct)=>{lt&&lt(pt,ht===ct?null:ct)},[lt,ht]),ot=reactExports.useMemo(()=>({className:$.grouped,onChange:it?st:_e,value:ht,size:vt,fullWidth:dt,color:rt,disabled:tt}),[$.grouped,it,st,_e,ht,vt,dt,rt,tt]),ut=getValidReactChildren(_),et=ut.length,at=pt=>{const ct=pt===0,yt=pt===et-1;return ct&&yt?"":ct?$.firstButton:yt?$.lastButton:$.middleButton};return jsxRuntimeExports.jsx(ToggleButtonGroupRoot,{role:"group",className:clsx($.root,j),ref:o,ownerState:nt,...mt,children:jsxRuntimeExports.jsx(ToggleButtonGroupContext.Provider,{value:ot,children:ut.map((pt,ct)=>jsxRuntimeExports.jsx(ToggleButtonGroupButtonContext.Provider,{value:at(ct),children:pt},ct))})})}),MenuIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),ViewInArIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"m18.25 7.6-5.5-3.18c-.46-.27-1.04-.27-1.5 0L5.75 7.6c-.46.27-.75.76-.75 1.3v6.35c0 .54.29 1.03.75 1.3l5.5 3.18c.46.27 1.04.27 1.5 0l5.5-3.18c.46-.27.75-.76.75-1.3V8.9c0-.54-.29-1.03-.75-1.3M7 14.96v-4.62l4 2.32v4.61zm5-4.03L8 8.61l4-2.31 4 2.31zm1 6.34v-4.61l4-2.32v4.62zM7 2H3.5C2.67 2 2 2.67 2 3.5V7h2V4h3zm10 0h3.5c.83 0 1.5.67 1.5 1.5V7h-2V4h-3zM7 22H3.5c-.83 0-1.5-.67-1.5-1.5V17h2v3h3zm10 0h3.5c.83 0 1.5-.67 1.5-1.5V17h-2v3h-3z"}),"ViewInAr"),QueryStatsIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19.88 18.47c.44-.7.7-1.51.7-2.39 0-2.49-2.01-4.5-4.5-4.5s-4.5 2.01-4.5 4.5 2.01 4.5 4.49 4.5c.88 0 1.7-.26 2.39-.7L21.58 23 23 21.58zm-3.8.11c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5m-.36-8.5c-.74.02-1.45.18-2.1.45l-.55-.83-3.8 6.18-3.01-3.52-3.63 5.81L1 17l5-8 3 3.5L13 6zm2.59.5c-.64-.28-1.33-.45-2.05-.49L21.38 2 23 3.18z"}),"QueryStats");function SideDrawer(){const[i,s]=reactExports.useState(!1),o=_=>()=>{s(_)},a=jsxRuntimeExports.jsx(Box,{sx:{width:250},role:"presentation",onClick:o(!1),children:jsxRuntimeExports.jsxs(List,{children:[jsxRuntimeExports.jsx(ListItem,{disablePadding:!0,children:jsxRuntimeExports.jsx(Link,{to:"/Conexs/",style:{textDecoration:"none",color:"black"},children:jsxRuntimeExports.jsxs(ListItemButton,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(ViewInArIcon,{})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Molecule Viewer"})]})})},"Molecule Viewer"),jsxRuntimeExports.jsx(ListItem,{disablePadding:!0,children:jsxRuntimeExports.jsx(Link,{to:"/Conexs/graph",style:{textDecoration:"none",color:"black"},children:jsxRuntimeExports.jsxs(ListItemButton,{children:[jsxRuntimeExports.jsx(ListItemIcon,{children:jsxRuntimeExports.jsx(QueryStatsIcon,{})}),jsxRuntimeExports.jsx(ListItemText,{primary:"Graph Viewer"})]})})},"Graph Viewer")]})});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{onClick:o(!0),children:jsxRuntimeExports.jsx(MenuIcon,{fontSize:"large"})}),jsxRuntimeExports.jsx(Drawer,{open:i,onClose:o(!1),children:a})]})}function GraphPage(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SideDrawer,{}),jsxRuntimeExports.jsx("h1",{children:"GRAPH PAGE"})]})}var _3Dmol={exports:{}};/*!
 * 3dmol v2.4.0
 * JavaScript/TypeScript molecular visualization library
 * Author: David Koes and contributors
 */(function(module,exports){(function(s,o){module.exports=o()})(commonjsGlobal,()=>(()=>{var __webpack_modules__={"./node_modules/iobuffer/lib-esm/IOBuffer.js":(i,s,o)=>{o.r(s),o.d(s,{IOBuffer:()=>tt});var a=o("./node_modules/iobuffer/lib-esm/text.browser.js");const _=1024*8,j=(()=>{const it=new Uint8Array(4),dt=new Uint32Array(it.buffer);return!((dt[0]=1)&it[0])})(),rt={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class tt{constructor(dt=_,lt={}){let gt=!1;typeof dt=="number"?dt=new ArrayBuffer(dt):(gt=!0,this.lastWrittenByte=dt.byteLength);const vt=lt.offset?lt.offset>>>0:0,ht=dt.byteLength-vt;let mt=vt;(ArrayBuffer.isView(dt)||dt instanceof tt)&&(dt.byteLength!==dt.buffer.byteLength&&(mt=dt.byteOffset+vt),dt=dt.buffer),gt?this.lastWrittenByte=ht:this.lastWrittenByte=0,this.buffer=dt,this.length=ht,this.byteLength=ht,this.byteOffset=mt,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,mt,ht),this._mark=0,this._marks=[]}available(dt=1){return this.offset+dt<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(dt=1){return this.offset+=dt,this}back(dt=1){return this.offset-=dt,this}seek(dt){return this.offset=dt,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const dt=this._marks.pop();if(dt===void 0)throw new Error("Mark stack empty");return this.seek(dt),this}rewind(){return this.offset=0,this}ensureAvailable(dt=1){if(!this.available(dt)){const gt=(this.offset+dt)*2,vt=new Uint8Array(gt);vt.set(new Uint8Array(this.buffer)),this.buffer=vt.buffer,this.length=this.byteLength=gt,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(dt=1){return this.readArray(dt,"uint8")}readArray(dt,lt){const gt=rt[lt].BYTES_PER_ELEMENT*dt,vt=this.byteOffset+this.offset,ht=this.buffer.slice(vt,vt+gt);if(this.littleEndian===j&&lt!=="uint8"&&lt!=="int8"){const nt=new Uint8Array(this.buffer.slice(vt,vt+gt));nt.reverse();const $=new rt[lt](nt.buffer);return this.offset+=gt,$.reverse(),$}const mt=new rt[lt](ht);return this.offset+=gt,mt}readInt16(){const dt=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,dt}readUint16(){const dt=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,dt}readInt32(){const dt=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,dt}readUint32(){const dt=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,dt}readFloat32(){const dt=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,dt}readFloat64(){const dt=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,dt}readBigInt64(){const dt=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,dt}readBigUint64(){const dt=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,dt}readChar(){return String.fromCharCode(this.readInt8())}readChars(dt=1){let lt="";for(let gt=0;gt<dt;gt++)lt+=this.readChar();return lt}readUtf8(dt=1){return(0,a.decode)(this.readBytes(dt))}decodeText(dt=1,lt="utf-8"){return(0,a.decode)(this.readBytes(dt),lt)}writeBoolean(dt){return this.writeUint8(dt?255:0),this}writeInt8(dt){return this.ensureAvailable(1),this._data.setInt8(this.offset++,dt),this._updateLastWrittenByte(),this}writeUint8(dt){return this.ensureAvailable(1),this._data.setUint8(this.offset++,dt),this._updateLastWrittenByte(),this}writeByte(dt){return this.writeUint8(dt)}writeBytes(dt){this.ensureAvailable(dt.length);for(let lt=0;lt<dt.length;lt++)this._data.setUint8(this.offset++,dt[lt]);return this._updateLastWrittenByte(),this}writeInt16(dt){return this.ensureAvailable(2),this._data.setInt16(this.offset,dt,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(dt){return this.ensureAvailable(2),this._data.setUint16(this.offset,dt,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(dt){return this.ensureAvailable(4),this._data.setInt32(this.offset,dt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(dt){return this.ensureAvailable(4),this._data.setUint32(this.offset,dt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(dt){return this.ensureAvailable(4),this._data.setFloat32(this.offset,dt,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(dt){return this.ensureAvailable(8),this._data.setFloat64(this.offset,dt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(dt){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,dt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(dt){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,dt,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(dt){return this.writeUint8(dt.charCodeAt(0))}writeChars(dt){for(let lt=0;lt<dt.length;lt++)this.writeUint8(dt.charCodeAt(lt));return this}writeUtf8(dt){return this.writeBytes((0,a.encode)(dt))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},"./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js":function(){(function(i){if(i.TextEncoder&&i.TextDecoder)return!1;function s(a="utf-8"){if(a!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${a}') is invalid.`)}Object.defineProperty(s.prototype,"encoding",{value:"utf-8"}),s.prototype.encode=function(a,_={stream:!1}){if(_.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let j=0;const rt=a.length;let tt=0,it=Math.max(32,rt+(rt>>1)+7),dt=new Uint8Array(it>>3<<3);for(;j<rt;){let lt=a.charCodeAt(j++);if(lt>=55296&&lt<=56319){if(j<rt){const gt=a.charCodeAt(j);(gt&64512)===56320&&(++j,lt=((lt&1023)<<10)+(gt&1023)+65536)}if(lt>=55296&&lt<=56319)continue}if(tt+4>dt.length){it+=8,it*=1+j/a.length*2,it=it>>3<<3;const gt=new Uint8Array(it);gt.set(dt),dt=gt}if(lt&4294967168)if(!(lt&4294965248))dt[tt++]=lt>>6&31|192;else if(!(lt&4294901760))dt[tt++]=lt>>12&15|224,dt[tt++]=lt>>6&63|128;else if(!(lt&4292870144))dt[tt++]=lt>>18&7|240,dt[tt++]=lt>>12&63|128,dt[tt++]=lt>>6&63|128;else continue;else{dt[tt++]=lt;continue}dt[tt++]=lt&63|128}return dt.slice(0,tt)};function o(a="utf-8",_={fatal:!1}){if(a!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${a}') is invalid.`);if(_.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(o.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(o.prototype,"fatal",{value:!1}),Object.defineProperty(o.prototype,"ignoreBOM",{value:!1}),o.prototype.decode=function(a,_={stream:!1}){if(_.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const j=new Uint8Array(a);let rt=0;const tt=j.length,it=[];for(;rt<tt;){const dt=j[rt++];if(dt===0)break;if(!(dt&128))it.push(dt);else if((dt&224)===192){const lt=j[rt++]&63;it.push((dt&31)<<6|lt)}else if((dt&240)===224){const lt=j[rt++]&63,gt=j[rt++]&63;it.push((dt&31)<<12|lt<<6|gt)}else if((dt&248)===240){const lt=j[rt++]&63,gt=j[rt++]&63,vt=j[rt++]&63;let ht=(dt&7)<<18|lt<<12|gt<<6|vt;ht>65535&&(ht-=65536,it.push(ht>>>10&1023|55296),ht=56320|ht&1023),it.push(ht)}}return String.fromCharCode.apply(null,it)},i.TextEncoder=s,i.TextDecoder=o})(typeof window<"u"?window:typeof self<"u"?self:this)},"./node_modules/iobuffer/lib-esm/text.browser.js":(i,s,o)=>{o.r(s),o.d(s,{decode:()=>a,encode:()=>j}),o("./node_modules/iobuffer/lib-esm/text-encoding-polyfill.js");function a(rt,tt="utf8"){return new TextDecoder(tt).decode(rt)}const _=new TextEncoder;function j(rt){return _.encode(rt)}},"./node_modules/netcdfjs/lib-esm/data.js":(i,s,o)=>{o.r(s),o.d(s,{nonRecord:()=>_,record:()=>j});var a=o("./node_modules/netcdfjs/lib-esm/types.js");function _(rt,tt){const it=(0,a.str2num)(tt.type),dt=tt.size/(0,a.num2bytes)(it),lt=new Array(dt);for(let gt=0;gt<dt;gt++)lt[gt]=(0,a.readType)(rt,it,1);return lt}function j(rt,tt,it){const dt=(0,a.str2num)(tt.type),lt=tt.size?tt.size/(0,a.num2bytes)(dt):1,gt=it.length,vt=new Array(gt),ht=it.recordStep;if(ht)for(let mt=0;mt<gt;mt++){const nt=rt.offset;vt[mt]=(0,a.readType)(rt,dt,lt),rt.seek(nt+ht)}else throw new Error("recordDimension.recordStep is undefined");return vt}},"./node_modules/netcdfjs/lib-esm/header.js":(i,s,o)=>{o.r(s),o.d(s,{header:()=>lt});var a=o("./node_modules/netcdfjs/lib-esm/types.js"),_=o("./node_modules/netcdfjs/lib-esm/utils.js");const j=0,rt=10,tt=11,it=12,dt=0;function lt(mt,nt){const $={version:nt},_e={length:mt.readUint32()},st=gt(mt);Array.isArray(st)||(_e.id=st.recordId,_e.name=st.recordName,$.dimensions=st.dimensions),$.globalAttributes=vt(mt);const ot=ht(mt,_e==null?void 0:_e.id,nt);return Array.isArray(ot)||($.variables=ot.variables,_e.recordStep=ot.recordStep),$.recordDimension=_e,$}function gt(mt){const nt={};let $,_e;const st=mt.readUint32();let ot;if(st===j)return(0,_.notNetcdf)(mt.readUint32()!==j,"wrong empty tag for list of dimensions"),[];{(0,_.notNetcdf)(st!==rt,"wrong tag for list of dimensions");const ut=mt.readUint32();ot=new Array(ut);for(let et=0;et<ut;et++){const at=(0,_.readName)(mt),pt=mt.readUint32();pt===dt&&($=et,_e=at),ot[et]={name:at,size:pt}}}return $!==void 0&&(nt.recordId=$),_e!==void 0&&(nt.recordName=_e),nt.dimensions=ot,nt}function vt(mt){const nt=mt.readUint32();let $;if(nt===j)return(0,_.notNetcdf)(mt.readUint32()!==j,"wrong empty tag for list of attributes"),[];{(0,_.notNetcdf)(nt!==it,"wrong tag for list of attributes");const _e=mt.readUint32();$=new Array(_e);for(let st=0;st<_e;st++){const ot=(0,_.readName)(mt),ut=mt.readUint32();(0,_.notNetcdf)(ut<1||ut>6,`non valid type ${ut}`);const et=mt.readUint32(),at=(0,a.readType)(mt,ut,et);(0,_.padding)(mt),$[st]={name:ot,type:(0,a.num2str)(ut),value:at}}}return $}function ht(mt,nt,$){const _e=mt.readUint32();let st=0,ot;if(_e===j)return(0,_.notNetcdf)(mt.readUint32()!==j,"wrong empty tag for list of variables"),[];{(0,_.notNetcdf)(_e!==tt,"wrong tag for list of variables");const ut=mt.readUint32();ot=new Array(ut);for(let et=0;et<ut;et++){const at=(0,_.readName)(mt),pt=mt.readUint32(),ct=new Array(pt);for(let Mt=0;Mt<pt;Mt++)ct[Mt]=mt.readUint32();const yt=vt(mt),ft=mt.readUint32();(0,_.notNetcdf)(ft<1&&ft>6,`non valid type ${ft}`);const _t=mt.readUint32();let wt=mt.readUint32();$===2&&((0,_.notNetcdf)(wt>0,"offsets larger than 4GB not supported"),wt=mt.readUint32());let Et=!1;typeof nt<"u"&&ct[0]===nt&&(st+=_t,Et=!0),ot[et]={name:at,dimensions:ct,attributes:yt,type:(0,a.num2str)(ft),size:_t,offset:wt,record:Et}}}return{variables:ot,recordStep:st}}},"./node_modules/netcdfjs/lib-esm/index.js":(i,s,o)=>{o.r(s),o.d(s,{NetCDFReader:()=>a.NetCDFReader});var a=o("./node_modules/netcdfjs/lib-esm/parser.js")},"./node_modules/netcdfjs/lib-esm/parser.js":(i,s,o)=>{o.r(s),o.d(s,{NetCDFReader:()=>it});var a=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),_=o("./node_modules/netcdfjs/lib-esm/data.js"),j=o("./node_modules/netcdfjs/lib-esm/header.js"),rt=o("./node_modules/netcdfjs/lib-esm/toString.js"),tt=o("./node_modules/netcdfjs/lib-esm/utils.js");class it{constructor(lt){this.toString=rt.toString;const gt=new a.IOBuffer(lt);gt.setBigEndian(),(0,tt.notNetcdf)(gt.readChars(3)!=="CDF","should start with CDF");const vt=gt.readByte();(0,tt.notNetcdf)(vt>2,"unknown version"),this.header=(0,j.header)(gt,vt),this.buffer=gt}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(lt){const gt=this.globalAttributes.find(vt=>vt.name===lt);return gt?gt.value:null}getDataVariableAsString(lt){const gt=this.getDataVariable(lt);return gt?gt.join(""):null}get variables(){return this.header.variables}getDataVariable(lt){let gt;if(typeof lt=="string"?gt=this.header.variables.find(vt=>vt.name===lt):gt=lt,gt===void 0)throw new Error("Not a valid NetCDF v3.x file: variable not found");return this.buffer.seek(gt.offset),gt.record?(0,_.record)(this.buffer,gt,this.header.recordDimension):(0,_.nonRecord)(this.buffer,gt)}dataVariableExists(lt){return this.header.variables.find(vt=>vt.name===lt)!==void 0}attributeExists(lt){return this.globalAttributes.find(vt=>vt.name===lt)!==void 0}}},"./node_modules/netcdfjs/lib-esm/toString.js":(i,s,o)=>{o.r(s),o.d(s,{toString:()=>a});function a(){const _=[];_.push("DIMENSIONS");for(const rt of this.dimensions)_.push(`  ${rt.name.padEnd(30)} = size: ${rt.size}`);_.push(""),_.push("GLOBAL ATTRIBUTES");for(const rt of this.globalAttributes)_.push(`  ${rt.name.padEnd(30)} = ${rt.value}`);const j=JSON.parse(JSON.stringify(this.variables));_.push(""),_.push("VARIABLES:");for(const rt of j){rt.value=this.getDataVariable(rt);let tt=JSON.stringify(rt.value);tt.length>50&&(tt=tt.substring(0,50)),isNaN(rt.value.length)||(tt+=` (length: ${rt.value.length})`),_.push(`  ${rt.name.padEnd(30)} = ${tt}`)}return _.join(`
`)}},"./node_modules/netcdfjs/lib-esm/types.js":(i,s,o)=>{o.r(s),o.d(s,{num2bytes:()=>j,num2str:()=>_,readType:()=>it,str2num:()=>rt});const a={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function _(lt){switch(Number(lt)){case a.BYTE:return"byte";case a.CHAR:return"char";case a.SHORT:return"short";case a.INT:return"int";case a.FLOAT:return"float";case a.DOUBLE:return"double";default:return"undefined"}}function j(lt){switch(Number(lt)){case a.BYTE:return 1;case a.CHAR:return 1;case a.SHORT:return 2;case a.INT:return 4;case a.FLOAT:return 4;case a.DOUBLE:return 8;default:return-1}}function rt(lt){switch(String(lt)){case"byte":return a.BYTE;case"char":return a.CHAR;case"short":return a.SHORT;case"int":return a.INT;case"float":return a.FLOAT;case"double":return a.DOUBLE;default:return-1}}function tt(lt,gt){if(lt!==1){const vt=new Array(lt);for(let ht=0;ht<lt;ht++)vt[ht]=gt();return vt}else return gt()}function it(lt,gt,vt){switch(gt){case a.BYTE:return Array.from(lt.readBytes(vt));case a.CHAR:return dt(lt.readChars(vt));case a.SHORT:return tt(vt,lt.readInt16.bind(lt));case a.INT:return tt(vt,lt.readInt32.bind(lt));case a.FLOAT:return tt(vt,lt.readFloat32.bind(lt));case a.DOUBLE:return tt(vt,lt.readFloat64.bind(lt));default:throw new Error(`non valid type ${gt}`)}}function dt(lt){return lt.charCodeAt(lt.length-1)===0?lt.substring(0,lt.length-1):lt}},"./node_modules/netcdfjs/lib-esm/utils.js":(i,s,o)=>{o.r(s),o.d(s,{notNetcdf:()=>a,padding:()=>_,readName:()=>j});function a(rt,tt){if(rt)throw new TypeError(`Not a valid NetCDF v3.x file: ${tt}`)}function _(rt){rt.offset%4!==0&&rt.skip(4-rt.offset%4)}function j(rt){const tt=rt.readUint32(),it=rt.readChars(tt);return _(rt),it}},"./src/WebGL/shaders/lib/basic/basic.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform mat4 viewMatrix;
uniform float opacity;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
varying vec3 vColor;
//DEFINEFRAGCOLOR
void main() {
    gl_FragColor = vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/basic/basic.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

attribute vec3 position;
attribute vec3 color;

varying vec3 vColor;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;

}`},"./src/WebGL/shaders/lib/blur/blur.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`const float INV_TOTAL_SAMPLES_FACTOR = 1.0 / 9.0;
uniform highp sampler2D inTex;
varying highp vec2 vTexCoords;
    
void main() {
 
 vec2 texelSize = 1.0 / vec2(textureSize(inTex,0));
 float blurred_visibility_factor = 0.0f;
 for (int t = -1; t <= 1; ++t) {
  for (int s = -1; s <= 1; ++s) {
   vec2 offset = vec2(float(s), float(t)) * texelSize;
   blurred_visibility_factor += texture2D(inTex, vTexCoords + offset).r;
  }
 }
    
 gl_FragDepthEXT = blurred_visibility_factor * INV_TOTAL_SAMPLES_FACTOR;
 
}`},"./src/WebGL/shaders/lib/blur/blur.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/instanced/instanced.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
#ifdef SHADED
uniform highp sampler2D shading;
#endif
varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    vColor *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/instanced/instanced.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 offset;
attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/lambert/lambert.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
#ifdef SHADED
uniform highp sampler2D shading;
#endif
varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    vColor *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}`},"./src/WebGL/shaders/lib/lambert/lambert.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`
#ifdef SHADED
uniform highp sampler2D shading;
#endif

uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vLightBack;

varying vec3 vColor;


//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    if ( gl_FrontFacing )
       gl_FragColor.xyz *= vLightFront;
    else
       gl_FragColor.xyz *= vLightBack;
    #endif

    vec3 color = vColor;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( color, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec3 vLightBack;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );
    vLightBack = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;
    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/outline/outline.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
//DEFINEFRAGCOLOR

void main() {
    gl_FragColor = vec4( outlineColor, 1 );

    float depth = gl_FragCoord.z / gl_FragCoord.w;
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );    
}


`},"./src/WebGL/shaders/lib/outline/outline.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float vWidth;
uniform float vHeight;
uniform float outlineMaxPixels;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

void main() {

    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    mvPosition.xy += norm.xy*outlineWidth;
    vec4 outpos = projectionMatrix * mvPosition;

    if(outlineMaxPixels > 0.0) {
        vec4 unadjusted = projectionMatrix*modelViewMatrix * vec4( position, 1.0 );
        float w = outpos.w;
        //normalize homogeneous coords
        unadjusted /= unadjusted.w;
        outpos /= outpos.w;
        vec2 diff = outpos.xy-unadjusted.xy;
        //put into pixels
        diff.x *= vWidth;
        diff.y *= vHeight;
        if ( length(diff) > outlineMaxPixels) {
            vec2 ndiff = normalize(diff)*outlineMaxPixels;
            ndiff.x /= vWidth;
            ndiff.y /= vHeight;
            outpos.xy = unadjusted.xy;
            outpos.xy += ndiff;
        }
        outpos *= w; //if I don't do this things blow up
    }
    gl_Position = outpos;
    mvPosition.z -= outlinePushback; //go backwards in model space
    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..
    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;
}

`},"./src/WebGL/shaders/lib/screen/screen.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = texture2D(colormap, vTexCoords);

   //gl_FragColor.g = gl_FragColor.b =  gl_FragColor.r; //debug shading 
}
        `},"./src/WebGL/shaders/lib/screen/screen.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform highp sampler2D colormap;
varying highp vec2 vTexCoords;


// Basic FXAA implementation based on the code on geeks3d.com 
#define FXAA_REDUCE_MIN (1.0/ 128.0)
#define FXAA_REDUCE_MUL (1.0 / 8.0)
#define FXAA_SPAN_MAX 8.0


vec4 applyFXAA(vec2 fragCoord, highp sampler2D tex)
{
    vec4 color;
    ivec2 dim = textureSize(tex,0);
    vec2 dimensions = vec2(float(dim.x),float(dim.y));
    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec3 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP).xyz;
    vec3 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP).xyz;
    vec3 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP).xyz;
    vec3 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP).xyz;
    vec4 rgbM  = texture2D(tex, fragCoord  * inverseVP);
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM.xyz,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
            dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)).xyz +
        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord  + dir * -0.5).xyz +
        texture2D(tex, fragCoord  + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, rgbM.w);
    else
        color = vec4(rgbB, rgbM.w);
    return color;
}


//DEFINEFRAGCOLOR
void main (void) {
    ivec2 dim = textureSize(colormap,0);

  gl_FragColor = applyFXAA(vTexCoords, colormap);
}
        `},"./src/WebGL/shaders/lib/screenaa/screenaa.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`
uniform mat4 viewMatrix;
uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float uDepth;
uniform vec3 directionalLightColor[ 1 ];

varying vec3 vColor;
varying vec2 mapping;
varying float rval;
varying vec3 vLight;
varying vec3 center;

#ifdef SHADED
uniform highp sampler2D shading;
#endif

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));
    float dotProduct = dot( norm, vLight );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;
    vec3 color = vLight*vColor;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif    
    gl_FragColor = vec4(color, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );


}

`},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying vec3 vColor;
varying float rval;
varying vec3 vLight;
varying vec3 center;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz );
    mapping = normal.xy;
    rval = abs(normal.x);
    gl_Position = projPosition+adjust;

}
`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform mat4 projectionMatrix;
varying vec2 mapping;
varying float rval;
varying vec3 center;

uniform float outlinePushback;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragColor = vec4(outlineColor, 1 );
}


`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float outlineMaxPixels;
uniform float vWidth;
uniform float vHeight;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying float rval;
varying vec3 center;

void main() {

    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);

    vec4 adjust = projectionMatrix* vec4(norm,normal.z,1.0); 
    mapping = norm.xy;
    rval = abs(norm.x);
    gl_Position = projPosition+vec4(adjust.xy,0.0,0.0);

    if(outlineMaxPixels > 0.0) {
        vec4 unadjusted = projectionMatrix*vec4(center.x+normal.x, center.y,center.z,1.0); 
        vec4 ccoord = projectionMatrix*vec4(center.xyz,1.0);
        adjust = projectionMatrix* vec4(center.x+norm.x,center.y,center.z,1.0); 
        //subtract center 
        unadjusted.xyz -= ccoord.xyz;
        adjust.xyz -= ccoord.xyz;
        unadjusted /= unadjusted.w;
        adjust /= adjust.w;
        float diff = abs(adjust.x-unadjusted.x);
        diff *= vWidth;
        if(diff > outlineMaxPixels) {
            
            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth;
            //adjsut reval by ratio of lengths
            rval *= fixlen/abs(adjust.x);
        }

    }
}

`},"./src/WebGL/shaders/lib/sprite/sprite.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform vec3 color;
uniform sampler2D map;
uniform float opacity;

uniform int fogType;
uniform vec3 fogColor;
uniform float fogDensity;
uniform float fogNear;
uniform float fogFar;
uniform float alphaTest;

varying vec2 vUV;
//DEFINEFRAGCOLOR

void main() {

    vec4 texture = texture2D(map, vUV);

    if (texture.a <= alphaTest) discard;

    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);

    if (fogType > 0) {

        float depth = gl_FragCoord.z / gl_FragCoord.w;
        float fogFactor = 0.0;

        if (fogType == 1) {
            fogFactor = smoothstep(fogNear, fogFar, depth);
        }

        else {
            const float LOG2 = 1.442695;
            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);
            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);
        }

        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);

    }
}

`},"./src/WebGL/shaders/lib/sprite/sprite.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform int useScreenCoordinates;
uniform vec3 screenPosition;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float rotation;
uniform vec2 scale;
uniform vec2 alignment;
uniform vec2 uvOffset;
uniform vec2 uvScale;

attribute vec2 position;
attribute vec2 uv;

varying vec2 vUV;

void main() {

    vUV = uvOffset + uv * uvScale;

    vec2 alignedPosition = position + alignment;

    vec2 rotatedPosition;
    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;
    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;

    vec4 finalPosition;

    if(useScreenCoordinates != 0) {
        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);
    }

    else {
        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;
        finalPosition.xy += rotatedPosition; 
    }

    gl_Position = finalPosition;

}

`},"./src/WebGL/shaders/lib/ssao/ssao.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform sampler2D depthmap;
varying highp vec2 vTexCoords;
uniform float vWidth;
uniform float vHeight;
uniform float total_strength;
uniform float radius;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

//code for pseudorandom vector from chatgpt
float hash(vec3 p) {
    p = fract(p * vec3(0.1031, 0.1030, 0.0973));
    p += dot(p, p.yzx + 33.33);
    return fract((p.x + p.y) * p.z);
}

// Generate a pseudorandom vec3 from a seed vec3
vec3 pseudorandomVec3(vec3 seed) {
    vec3 randomVec;
    randomVec.x = hash(seed);
    randomVec.y = hash(seed + vec3(1.0, 0.0, 17.1));
    randomVec.z = hash(seed + vec3(0.0, 13.23, 0.0));
    return randomVec;
}

void main(void)
{   
   const float base = 0.2;
   const float area = 0.75;
   const int cycles = 1;

   const int samples = 64;
   vec3 sample_sphere[64] = vec3[](
      vec3(0.091258,-0.510164,0.000000),
      vec3(-0.204347,-0.872967,0.187199),
      vec3(0.009690,-0.263696,-0.110414),
      vec3(0.175208,-0.563987,0.228527),
      vec3(-0.001824,-0.003113,-0.000323),
      vec3(0.411134,-0.719869,-0.261530),
      vec3(-0.074272,-0.377368,0.276290),
      vec3(-0.147773,-0.381587,-0.284529),
      vec3(0.173317,-0.199635,0.063295),
      vec3(-0.186452,-0.199460,0.076965),
      vec3(0.143985,-0.308160,-0.307687),
      vec3(0.053194,-0.148286,0.169589),
      vec3(-0.547656,-0.486476,-0.317378),
      vec3(0.020804,-0.015092,-0.004574),
      vec3(-0.038006,-0.043165,0.054059),
      vec3(-0.094795,-0.443908,-0.731525),
      vec3(0.547552,-0.396466,0.461477),
      vec3(-0.176886,-0.089989,0.007315),
      vec3(0.074401,-0.048840,-0.074039),
      vec3(-0.008240,-0.075697,0.178197),
      vec3(-0.307880,-0.185053,-0.368943),
      vec3(0.309520,-0.108483,0.041646),
      vec3(-0.773478,-0.292946,0.538166),
      vec3(0.184487,-0.231594,-0.820065),
      vec3(0.207318,-0.100531,0.361797),
      vec3(-0.173306,-0.037737,-0.055289),
      vec3(0.548102,-0.105342,-0.253237),
      vec3(-0.119342,-0.043907,0.285162),
      vec3(-0.270247,-0.087861,-0.751357),
      vec3(0.449312,-0.039777,0.236146),
      vec3(-0.743773,-0.036095,0.196056),
      vec3(0.148819,-0.004300,-0.231448),
      vec3(0.008773,0.000809,0.051047),
      vec3(-0.461467,0.027390,-0.357386),
      vec3(0.169626,0.013338,-0.014053),
      vec3(-0.043786,0.007095,0.047331),
      vec3(0.004821,0.140371,-0.988260),
      vec3(0.092402,0.023994,0.101860),
      vec3(-0.295335,0.061530,-0.027372),
      vec3(0.024903,0.007537,-0.018901),
      vec3(-0.081463,0.125402,0.447794),
      vec3(-0.397119,0.231805,-0.631062),
      vec3(0.163853,0.059014,0.044905),
      vec3(-0.495220,0.214357,0.254139),
      vec3(0.306123,0.373687,-0.825715),
      vec3(0.021665,0.026737,0.053220),
      vec3(-0.208231,0.117129,-0.098685),
      vec3(0.139749,0.080968,-0.043086),
      vec3(-0.153599,0.182814,0.262090),
      vec3(-0.159673,0.496777,-0.743568),
      vec3(0.134797,0.117152,0.095753),
      vec3(-0.155626,0.120533,0.019395),
      vec3(0.042311,0.054462,-0.049709),
      vec3(0.001257,0.031288,0.034468),
      vec3(-0.002271,0.003199,-0.002304),
      vec3(0.662104,0.717307,0.033854),
      vec3(-0.373100,0.576021,0.308274),
      vec3(0.024233,0.231316,-0.173688),
      vec3(0.161311,0.420217,0.234273),
      vec3(-0.045248,0.078031,-0.010411),
      vec3(0.167453,0.376942,-0.094872),
      vec3(-0.056194,0.433247,0.173218),
      vec3(-0.016224,0.123149,-0.035569),
      vec3(0.067127,0.407641,0.028479)
   );

   float depth = texture2D(depthmap, vTexCoords).r;
   if(depth == 1.0) {
      discard;
   }

   vec4 screen_position = vec4(vTexCoords, depth,1.0);
   vec4 pos = projinv*screen_position;
   pos /= pos.w;
   vec3 position = pos.xyz;

   //approximate the normal from the depth map; I find this simpler
   //than trying to recompute the exact normal within every possible object shader

   //pixel offset positions in screen space
   ivec2 dim = textureSize(depthmap,0);
   vec2 offset1 = vec2(0.0,1.0/float(dim.y));
   vec2 offset2 = vec2(1.0/float(dim.x),0.0);
   float depth1 = texture2D(depthmap, vTexCoords + offset1).r;
   float depth2 = texture2D(depthmap, vTexCoords + offset2).r;
   
   vec3 p1 = vec3(screen_position.xy+offset1, depth1 - depth);
   vec3 p2 = vec3(screen_position.xy+offset2, depth2 - depth);

   //convert to model space
   vec4 pos1 = projinv*vec4(p1,1);
   pos1 /= pos1.w;
   vec4 pos2 = projinv*vec4(p2,1);
   pos2 /= pos2.w;

   vec3 normal = normalize(cross(pos1.xyz-position, pos2.xyz-position)); //model normal, important we normalize in model space

   //pseudo random number

   float occlusion = 0.0;
   for(int c = 0; c < cycles; c++) {
   vec3 random = normalize(pseudorandomVec3(position+float(c)));
   for(int i=0; i < samples; i++) {

      vec3 ray = radius * reflect(sample_sphere[i],random);
      vec3 hemi_ray = position + sign(dot(ray,normal)) * ray; //model space
      vec4 hemi_screen = projectionMatrix*vec4(hemi_ray,1.0);
      hemi_screen /= hemi_screen.w;
      
      float occ_depth = texture2D(depthmap, clamp(hemi_screen.xy,0.0,1.0)).r;
      float difference = hemi_screen.z - occ_depth;
      
      occlusion += step(0.0, difference) * (1.0-smoothstep(0.0, area, difference));
   }
   }
   float ao = 1.0 - total_strength * occlusion * (1.0 / float(cycles*samples));
   gl_FragDepthEXT = clamp(ao+base,0.0,1.0);

}`},"./src/WebGL/shaders/lib/ssao/ssao.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`    float dotProduct = dot( norm, vLight );
    vec3 light = vec3( max( dotProduct, 0.0 ) );
    color *= light;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif    
    gl_FragColor = vec4(color, opacity*opacity );
    float fogFactor = smoothstep( fogNear, fogFar, depth );
    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
}`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary
    r = abs(radius);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p1);
         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
         mvPosition.xyz = p1+t*pnorm; 
       } else { //orthographic
         mvPosition.xyz = p1;
       }
    } else {
      if(projectionMatrix[3][3] == 0.0) { //perspective
         vec3 pnorm = normalize(p2);
         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
         mvPosition.xyz = p2+t*pnorm;
       } else { //orthographic
         mvPosition.xyz = p2;
       } 
       mult *= -1.0;
    }
    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;
    mvPosition.xyz +=  mult*(cr + doublecr).xyz;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..
}

`},"./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLight;
varying vec3 vColor;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

#ifdef SHADED
uniform highp sampler2D shading;
#endif

//DEFINEFRAGCOLOR

//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf
//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl
//with a bit more care (caps) this could be a general cylinder imposter (see also outline)
void main() {
    vec3 color = abs(vColor);
    vec3 pos = cposition;
    vec3 p = pos; //ray point
    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic
    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective
    vec3 pa = p1; //cyl start
    vec3 va = normalize(p2-p1); //cyl norm
    vec3 tmp1 = v-(dot(v,va)*va);
    vec3 deltap = p-pa;
    float A = dot(tmp1,tmp1);
    if(A == 0.0) discard;
    vec3 tmp2 = deltap-(dot(deltap,va)*va);
    float B = 2.0*dot(tmp1, tmp2);
    float C = dot(tmp2,tmp2)-r*r;
//quadratic equation!
    float det = (B*B) - (4.0*A*C);
    if(det < 0.0) discard;
    float sqrtDet = sqrt(det);
    float posT = (-B+sqrtDet)/(2.0*A);
    float negT = (-B-sqrtDet)/(2.0*A);
    float intersectionT = min(posT,negT);
    vec3 qi = p+v*intersectionT;
    float dotp1 = dot(va,qi-p1);
    float dotp2 = dot(va,qi-p2);
    vec3 norm;
    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0
       vec3 cp;
       if( dotp1 < 0.0) {  
//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not
        cp = p1;
       } else {
//          if(vColor.y < 0.0 ) discard;
          cp = p2;
       }
       vec3 diff = p-cp;
       A = dot(v,v);
       B = dot(diff,v)*2.0;
       C = dot(diff,diff)-r*r;
       det = (B*B) - (4.0*C);
       if(det < 0.0) discard;
       sqrtDet = sqrt(det);
       posT = (-B+sqrtDet)/(2.0);
       negT = (-B-sqrtDet)/(2.0);
       float t = min(posT,negT);
       qi = p+v*t; 
       norm = normalize(qi-cp); 
    } else {
       norm = normalize(qi-(dotp1*va + p1));
    }
    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragDepthEXT = depth;`},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];
uniform vec3 outlineColor;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float outlineMaxPixels;
uniform float vWidth;
uniform mat4 projinv;


attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = outlineColor;
    float rad = radius+sign(radius)*outlineWidth;
    r = abs(rad);

    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
//pushback
    float scale = 1.0;
    if(projectionMatrix[3][3] != 0.0) { //orthographic
        to.z -= outlinePushback;
        pt.z -= outlinePushback;
    } else { //perspective
        vec4 midbefore = pt;
        if(length(to.xyz) < length(pt)) {
            midbefore = to;
        }
        vec4 midafter = midbefore;
        midafter.xyz += normalize(midbefore.xyz)*outlinePushback;

        to.xyz += normalize(to.xyz)*outlinePushback;
        pt.xyz += normalize(pt.xyz)*outlinePushback;

        //figure out a scaling factor for radius to account for perspective setback
        vec4 midbeforer = vec4(midbefore.x+rad,midbefore.y, midbefore.z, midbefore.w);
        vec4 midafterr = vec4(midafter.x+rad,midafter.y, midafter.z, midafter.w);

        vec4 mb = projectionMatrix*midbefore;
        vec4 mbr = projectionMatrix*midbeforer;
        vec4 ma = projectionMatrix*midafter;
        vec4 mar = projectionMatrix*midafterr;
        mb /= mb.w;
        mbr /= mbr.w;
        ma /= ma.w;
        mar /= mar.w;
        scale = abs((mbr.x-mb.x)/(mar.x-ma.x));
        rad *= scale;
        r = abs(rad);
    }
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }

    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       vec3 pnorm = normalize(p1);
       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
       mvPosition.xyz = p1+t*pnorm;
    } else {
       vec3 pnorm = normalize(p2);
       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
       mvPosition.xyz = p2+t*pnorm;
       mult *= -1.0;
    }

    if(outlineMaxPixels > 0.0) {
        vec4 cpos = mvPosition;
        vec4 unadjusted = projectionMatrix*vec4(cpos.x+abs(scale*radius), cpos.y,cpos.z,cpos.w); 
        vec4 ccoord = projectionMatrix*cpos;
        vec4 adjust = projectionMatrix*vec4(cpos.x+r,cpos.y,cpos.z,cpos.w); 
        unadjusted /= unadjusted.w;
        adjust /= adjust.w;
        unadjusted.xyz -= ccoord.xyz/ccoord.w;
        adjust.xyz -= ccoord.xyz/ccoord.w;
        float diff = abs(adjust.x-unadjusted.x);
        diff *= vWidth; //this should now be in pixels
        if(diff > outlineMaxPixels) {
            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth; 
            vec4 pcoord = ccoord;
            pcoord.x += fixlen*pcoord.w;
            vec4 altc = projinv*pcoord;
            r= abs(altc.x-cpos.x);
        }
    }

    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;
    mvPosition.xy +=  mult*(cr + doublecr).xy;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vLight = vec3(1.0,1.0,1.0);
}

`},"./src/WebGL/shaders/lib/volumetric/volumetric.frag":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`
uniform highp sampler3D data;
uniform highp sampler2D colormap;
uniform highp sampler2D depthmap;


uniform mat4 textmat;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

uniform float step;
uniform float subsamples;
uniform float maxdepth;
uniform float transfermin;
uniform float transfermax;
in  vec4 mvPosition;
out vec4 color;
void main(void) {

   vec4 pos = mvPosition;
   bool seengood = false;
   float i = 0.0;
   color = vec4(1,1,1,0);
   float increment = 1.0/subsamples;
   float maxsteps = (maxdepth*subsamples/step);
//there's probably a better way to do this..
//calculate farthest possible point in model coordinates
   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);
// convert to projection
   maxpos = projectionMatrix*maxpos;
   vec4 startp = projectionMatrix*pos;
// homogonize
   maxpos /= maxpos.w;
   startp /= startp.w;
//take x,y from start and z from max
   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);
//convert back to model space
   maxpos = projinv*maxpos;
   maxpos /= maxpos.w;
   float incr = step/subsamples;
//get depth from depthmap
//startp is apparently [-1,1]
   vec2 tpos = startp.xy/2.0+0.5;
   float depth = texture(depthmap, tpos).r;
//compute vector between start and end
   vec4 direction = maxpos-pos;
   for( i = 0.0; i <= maxsteps; i++) {
      vec4 pt = (pos+(i/maxsteps)*direction);
      vec4 ppt = projectionMatrix*pt;
      float ptdepth = ppt.z/ppt.w;
      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
      if(ptdepth > depth) break;
      pt = textmat*pt;
//       pt /= pt.w;
      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {
         seengood = true;
      } else if(seengood) {
         break;
      }
      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){
          color.a = 0.0;
          continue;
      }
      else {
         float val = texture(data, pt.zyx).r;
         if(isinf(val)) continue; //masked out
         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range
         vec4 val_color = texture(colormap, vec2(cval,0.5));
         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;
         color.a += (1.0 - color.a) * val_color.a; 
         if(color.a > 0.0) color.rgb /= color.a;
//          color = vec4(pt.x, pt.y, pt.z, 1.0);
      }
//       color = vec4(pt.x, pt.y, pt.z, 0.0)
    }
}

        `},"./src/WebGL/shaders/lib/volumetric/volumetric.vert":(i,s,o)=>{o.r(s),o.d(s,{default:()=>a});const a=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

in vec3 position;
out vec4 mvPosition;
void main() {

    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix*mvPosition;
}
`},"./src/GLDraw.ts":(i,s,o)=>{o.r(s),o.d(s,{CAP:()=>_,GLDraw:()=>j});var a=o("./src/WebGL/math/index.ts"),_;(function(rt){rt[rt.NONE=0]="NONE",rt[rt.FLAT=1]="FLAT",rt[rt.ROUND=2]="ROUND"})(_||(_={}));var j;(function(rt){function tt(nt,$,_e){var st=Math.hypot(nt,$),ot,ut,et,at,pt;st<1e-4?(ut=0,et=1):(ut=-nt/st,et=$/st),$=-ut*nt+et*$,ot=Math.hypot($,_e),ot<1e-4?(at=0,pt=1):(at=_e/ot,pt=$/ot);var ct=new Float32Array(9);return ct[0]=et,ct[1]=ut,ct[2]=0,ct[3]=-ut*pt,ct[4]=et*pt,ct[5]=at,ct[6]=ut*at,ct[7]=-et*at,ct[8]=pt,ct}class it{constructor(){this.cache={};let $=[],_e=4,st=Math.pow(2,_e),ot=2,ut=Math.pow(2,ot),et=st/ut,at;for($[0]=new a.Vector3(-1,0,0),$[et]=new a.Vector3(0,0,1),$[et*2]=new a.Vector3(1,0,0),$[et*3]=new a.Vector3(0,0,-1),ot=3;ot<=_e;ot++){for(ut=Math.pow(2,ot-1),et=st/ut,at=0;at<ut-1;at++)$[et/2+at*et]=$[at*et].clone().add($[(at+1)*et]).normalize();at=ut-1,$[et/2+at*et]=$[at*et].clone().add($[0]).normalize()}this.basisVectors=$}getVerticesForRadius($,_e,st){if(typeof this.cache<"u"&&this.cache[$]!==void 0&&this.cache[$][_e+st]!==void 0)return this.cache[$][_e+st];for(var ot=this.basisVectors.length,ut=[],et=[],at,pt=0;pt<ot;pt++)ut.push(this.basisVectors[pt].clone().multiplyScalar($)),ut.push(this.basisVectors[pt].clone().multiplyScalar($)),at=this.basisVectors[pt].clone().normalize(),et.push(at),et.push(at);var ct=[],yt=10,ft=ot,_t=0,wt=Math.PI*2,Et=0,Mt=Math.PI,St,At,Rt=!1,Ct=!1;for(At=0;At<=yt;At++){Rt=At===0||At===yt,Ct=At===yt/2;var Pt=[],Lt=[];for(St=0;St<=ft;St++){if(Ct){var Ot=St<ft?2*St:0;Lt.push(Ot+1),Pt.push(Ot);continue}var It=St/ft,$t=At/yt;if(!Rt||St===0)if(St<ft){var jt=new a.Vector3;jt.x=-$*Math.cos(_t+It*wt)*Math.sin(Et+$t*Mt),_e==1?jt.y=0:jt.y=$*Math.cos(Et+$t*Mt),jt.z=$*Math.sin(_t+It*wt)*Math.sin(Et+$t*Mt),Math.abs(jt.x)<1e-5&&(jt.x=0),Math.abs(jt.y)<1e-5&&(jt.y=0),Math.abs(jt.z)<1e-5&&(jt.z=0),_e==_.FLAT?(at=new a.Vector3(0,Math.cos(Et+$t*Mt),0),at.normalize()):(at=new a.Vector3(jt.x,jt.y,jt.z),at.normalize()),ut.push(jt),et.push(at),Pt.push(ut.length-1)}else Pt.push(ut.length-ft);else Rt&&Pt.push(ut.length-1)}Ct&&ct.push(Lt),ct.push(Pt)}var Zt={vertices:ut,normals:et,verticesRows:ct,w:ft,h:yt};return $ in this.cache||(this.cache[$]={}),this.cache[$][_e+st]=Zt,Zt}}var dt=new it;function lt(nt,$,_e,st,ot,ut=0,et=0){if(!$||!_e)return;let at=function(hr){if(typeof hr=="string"){let Br=hr;return Br.toLowerCase()=="flat"?_.FLAT:Br.toLowerCase()=="round"?_.ROUND:_.NONE}else return hr};ut=at(ut),et=at(et);var pt=et||ut;ot=ot||{r:0,g:0,b:0};var ct=tt(_e.x-$.x,_e.y-$.y,_e.z-$.z),yt=dt.getVerticesForRadius(st,et,"to"),ft=yt.w,_t=yt.h,wt=pt?_t*ft+2:2*ft,Et=nt.updateGeoGroup(wt),Mt=yt.vertices,St=yt.normals,At=yt.verticesRows,Rt=At[_t/2],Ct=At[_t/2+1],Pt=Et.vertices,Lt,Ot,It,$t,jt,Zt,qt=Et.vertexArray,er=Et.normalArray,Yt=Et.colorArray,Qt=Et.faceArray;for(It=0;It<ft;++It){var cr=2*It;$t=ct[0]*Mt[cr].x+ct[3]*Mt[cr].y+ct[6]*Mt[cr].z,jt=ct[1]*Mt[cr].x+ct[4]*Mt[cr].y+ct[7]*Mt[cr].z,Zt=ct[5]*Mt[cr].y+ct[8]*Mt[cr].z,Lt=3*(Pt+cr),Ot=Et.faceidx,qt[Lt]=$t+$.x,qt[Lt+1]=jt+$.y,qt[Lt+2]=Zt+$.z,qt[Lt+3]=$t+_e.x,qt[Lt+4]=jt+_e.y,qt[Lt+5]=Zt+_e.z,er[Lt]=$t,er[Lt+3]=$t,er[Lt+1]=jt,er[Lt+4]=jt,er[Lt+2]=Zt,er[Lt+5]=Zt,Yt[Lt]=ot.r,Yt[Lt+3]=ot.r,Yt[Lt+1]=ot.g,Yt[Lt+4]=ot.g,Yt[Lt+2]=ot.b,Yt[Lt+5]=ot.b,Qt[Ot]=Ct[It]+Pt,Qt[Ot+1]=Ct[It+1]+Pt,Qt[Ot+2]=Rt[It]+Pt,Qt[Ot+3]=Rt[It]+Pt,Qt[Ot+4]=Ct[It+1]+Pt,Qt[Ot+5]=Rt[It+1]+Pt,Et.faceidx+=6}if(pt){var lr=et?0:_t/2,gr=ut?_t+1:_t/2+1,rr,Gt,nr,_r,Sr,Ar,Rr,Mr,wr,Tr,fr,pr,Lr,Or,Bt,Ut,Wt,ar,Xt,Er,mr,Dt,Jt,sr,Cr,tr,vr,kt,br,Ir,Tt,ur;for(jt=lr;jt<gr;jt++)if(jt!==_t/2){var or=jt<=_t/2?_e:$,Ft=dt.getVerticesForRadius(st,et,"to"),Ht=dt.getVerticesForRadius(st,ut,"from");for(or===_e?(Mt=Ft.vertices,St=Ft.normals,At=Ft.verticesRows):or==$&&(Mt=Ht.vertices,St=Ht.normals,At=Ht.verticesRows),$t=0;$t<ft;$t++)Ot=Et.faceidx,rr=At[jt][$t+1],br=(rr+Pt)*3,Gt=At[jt][$t],Ir=(Gt+Pt)*3,nr=At[jt+1][$t],Tt=(nr+Pt)*3,_r=At[jt+1][$t+1],ur=(_r+Pt)*3,Sr=ct[0]*Mt[rr].x+ct[3]*Mt[rr].y+ct[6]*Mt[rr].z,Ar=ct[0]*Mt[Gt].x+ct[3]*Mt[Gt].y+ct[6]*Mt[Gt].z,Rr=ct[0]*Mt[nr].x+ct[3]*Mt[nr].y+ct[6]*Mt[nr].z,Mr=ct[0]*Mt[_r].x+ct[3]*Mt[_r].y+ct[6]*Mt[_r].z,wr=ct[1]*Mt[rr].x+ct[4]*Mt[rr].y+ct[7]*Mt[rr].z,Tr=ct[1]*Mt[Gt].x+ct[4]*Mt[Gt].y+ct[7]*Mt[Gt].z,fr=ct[1]*Mt[nr].x+ct[4]*Mt[nr].y+ct[7]*Mt[nr].z,pr=ct[1]*Mt[_r].x+ct[4]*Mt[_r].y+ct[7]*Mt[_r].z,Lr=ct[5]*Mt[rr].y+ct[8]*Mt[rr].z,Or=ct[5]*Mt[Gt].y+ct[8]*Mt[Gt].z,Bt=ct[5]*Mt[nr].y+ct[8]*Mt[nr].z,Ut=ct[5]*Mt[_r].y+ct[8]*Mt[_r].z,qt[br]=Sr+or.x,qt[Ir]=Ar+or.x,qt[Tt]=Rr+or.x,qt[ur]=Mr+or.x,qt[br+1]=wr+or.y,qt[Ir+1]=Tr+or.y,qt[Tt+1]=fr+or.y,qt[ur+1]=pr+or.y,qt[br+2]=Lr+or.z,qt[Ir+2]=Or+or.z,qt[Tt+2]=Bt+or.z,qt[ur+2]=Ut+or.z,Yt[br]=ot.r,Yt[Ir]=ot.r,Yt[Tt]=ot.r,Yt[ur]=ot.r,Yt[br+1]=ot.g,Yt[Ir+1]=ot.g,Yt[Tt+1]=ot.g,Yt[ur+1]=ot.g,Yt[br+2]=ot.b,Yt[Ir+2]=ot.b,Yt[Tt+2]=ot.b,Yt[ur+2]=ot.b,Wt=ct[0]*St[rr].x+ct[3]*St[rr].y+ct[6]*St[rr].z,ar=ct[0]*St[Gt].x+ct[3]*St[Gt].y+ct[6]*St[Gt].z,Xt=ct[0]*St[nr].x+ct[3]*St[nr].y+ct[6]*St[nr].z,Er=ct[0]*St[_r].x+ct[3]*St[_r].y+ct[6]*St[_r].z,mr=ct[1]*St[rr].x+ct[4]*St[rr].y+ct[7]*St[rr].z,Dt=ct[1]*St[Gt].x+ct[4]*St[Gt].y+ct[7]*St[Gt].z,Jt=ct[1]*St[nr].x+ct[4]*St[nr].y+ct[7]*St[nr].z,sr=ct[1]*St[_r].x+ct[4]*St[_r].y+ct[7]*St[_r].z,Cr=ct[5]*St[rr].y+ct[8]*St[rr].z,tr=ct[5]*St[Gt].y+ct[8]*St[Gt].z,vr=ct[5]*St[nr].y+ct[8]*St[nr].z,kt=ct[5]*St[_r].y+ct[8]*St[_r].z,jt===0?(er[br]=Wt,er[Tt]=Xt,er[ur]=Er,er[br+1]=mr,er[Tt+1]=Jt,er[ur+1]=sr,er[br+2]=Cr,er[Tt+2]=vr,er[ur+2]=kt,Qt[Ot]=rr+Pt,Qt[Ot+1]=nr+Pt,Qt[Ot+2]=_r+Pt,Et.faceidx+=3):jt===gr-1?(er[br]=Wt,er[Ir]=ar,er[Tt]=Xt,er[br+1]=mr,er[Ir+1]=Dt,er[Tt+1]=Jt,er[br+2]=Cr,er[Ir+2]=tr,er[Tt+2]=vr,Qt[Ot]=rr+Pt,Qt[Ot+1]=Gt+Pt,Qt[Ot+2]=nr+Pt,Et.faceidx+=3):(er[br]=Wt,er[Ir]=ar,er[ur]=Er,er[br+1]=mr,er[Ir+1]=Dt,er[ur+1]=sr,er[br+2]=Cr,er[Ir+2]=tr,er[ur+2]=kt,er[Ir]=ar,er[Tt]=Xt,er[ur]=Er,er[Ir+1]=Dt,er[Tt+1]=Jt,er[ur+1]=sr,er[Ir+2]=tr,er[Tt+2]=vr,er[ur+2]=kt,Qt[Ot]=rr+Pt,Qt[Ot+1]=Gt+Pt,Qt[Ot+2]=_r+Pt,Qt[Ot+3]=Gt+Pt,Qt[Ot+4]=nr+Pt,Qt[Ot+5]=_r+Pt,Et.faceidx+=6)}}Et.vertices+=wt}rt.drawCylinder=lt;function gt(nt,$,_e,st,ot){if(!$||!_e)return;ot=ot||{r:0,g:0,b:0};let ut=new a.Vector3(_e.x-$.x,_e.y-$.y,_e.z-$.z);var et=tt(ut.x,ut.y,ut.z);ut=ut.normalize();var at=dt.basisVectors.length,pt=dt.basisVectors,ct=at+2,yt=nt.updateGeoGroup(ct),ft=yt.vertices,_t,wt,Et,Mt,St,At,Rt=yt.vertexArray,Ct=yt.normalArray,Pt=yt.colorArray,Lt=yt.faceArray;for(_t=ft*3,Rt[_t]=$.x,Rt[_t+1]=$.y,Rt[_t+2]=$.z,Ct[_t]=-ut.x,Ct[_t+1]=-ut.y,Ct[_t+2]=-ut.z,Pt[_t]=ot.r,Pt[_t+1]=ot.g,Pt[_t+2]=ot.b,Rt[_t+3]=_e.x,Rt[_t+4]=_e.y,Rt[_t+5]=_e.z,Ct[_t+3]=ut.x,Ct[_t+4]=ut.y,Ct[_t+5]=ut.z,Pt[_t+3]=ot.r,Pt[_t+4]=ot.g,Pt[_t+5]=ot.b,_t+=6,Et=0;Et<at;++Et){var Ot=pt[Et].clone();Ot.multiplyScalar(st),Mt=et[0]*Ot.x+et[3]*Ot.y+et[6]*Ot.z,St=et[1]*Ot.x+et[4]*Ot.y+et[7]*Ot.z,At=et[5]*Ot.y+et[8]*Ot.z,Rt[_t]=Mt+$.x,Rt[_t+1]=St+$.y,Rt[_t+2]=At+$.z,Ct[_t]=Mt,Ct[_t+1]=St,Ct[_t+2]=At,Pt[_t]=ot.r,Pt[_t+1]=ot.g,Pt[_t+2]=ot.b,_t+=3}for(yt.vertices+=at+2,wt=yt.faceidx,Et=0;Et<at;Et++){var It=ft+2+Et,$t=ft+2+(Et+1)%at;Lt[wt]=It,Lt[wt+1]=$t,Lt[wt+2]=ft,wt+=3,Lt[wt]=It,Lt[wt+1]=$t,Lt[wt+2]=ft+1,wt+=3}yt.faceidx+=6*at}rt.drawCone=gt;class vt{constructor(){this.cache=new Map}getVerticesForRadius($,_e){_e=_e||2,this.cache.has(_e)||this.cache.set(_e,new Map);let st=this.cache.get(_e);if(st.has($))return st.get($);var ot={vertices:[],verticesRows:[],normals:[]},ut=16*_e,et=10*_e;$<1&&(ut=10*_e,et=8*_e);var at=0,pt=Math.PI*2,ct=0,yt=Math.PI,ft,_t;for(_t=0;_t<=et;_t++){let Et=[];for(ft=0;ft<=ut;ft++){let Mt=ft/ut,St=_t/et,At=-$*Math.cos(at+Mt*pt)*Math.sin(ct+St*yt),Rt=$*Math.cos(ct+St*yt),Ct=$*Math.sin(at+Mt*pt)*Math.sin(ct+St*yt);var wt=new a.Vector3(At,Rt,Ct);wt.normalize(),ot.vertices.push({x:At,y:Rt,z:Ct}),ot.normals.push(wt),Et.push(ot.vertices.length-1)}ot.verticesRows.push(Et)}return st.set($,ot),ot}}var ht=new vt;function mt(nt,$,_e,st,ot){var ut=ht.getVerticesForRadius(_e,ot),et=ut.vertices,at=ut.normals,pt=nt.updateGeoGroup(et.length),ct=pt.vertices,yt=pt.vertexArray,ft=pt.colorArray,_t=pt.faceArray,wt=pt.lineArray,Et=pt.normalArray;for(let At=0,Rt=et.length;At<Rt;++At){let Ct=3*(ct+At),Pt=et[At];yt[Ct]=Pt.x+$.x,yt[Ct+1]=Pt.y+$.y,yt[Ct+2]=Pt.z+$.z,ft[Ct]=st.r,ft[Ct+1]=st.g,ft[Ct+2]=st.b}pt.vertices+=et.length;let Mt=ut.verticesRows,St=Mt.length-1;for(let At=0;At<St;At++){let Rt=Mt[At].length-1;for(let Ct=0;Ct<Rt;Ct++){let Pt=pt.faceidx,Lt=pt.lineidx,Ot=Mt[At][Ct+1]+ct,It=Ot*3,$t=Mt[At][Ct]+ct,jt=$t*3,Zt=Mt[At+1][Ct]+ct,qt=Zt*3,er=Mt[At+1][Ct+1]+ct,Yt=er*3,Qt=at[Ot-ct],cr=at[$t-ct],lr=at[Zt-ct],gr=at[er-ct];Math.abs(et[Ot-ct].y)===_e?(Et[It]=Qt.x,Et[qt]=lr.x,Et[Yt]=gr.x,Et[It+1]=Qt.y,Et[qt+1]=lr.y,Et[Yt+1]=gr.y,Et[It+2]=Qt.z,Et[qt+2]=lr.z,Et[Yt+2]=gr.z,_t[Pt]=Ot,_t[Pt+1]=Zt,_t[Pt+2]=er,wt[Lt]=Ot,wt[Lt+1]=Zt,wt[Lt+2]=Ot,wt[Lt+3]=er,wt[Lt+4]=Zt,wt[Lt+5]=er,pt.faceidx+=3,pt.lineidx+=6):Math.abs(et[Zt-ct].y)===_e?(Et[It]=Qt.x,Et[jt]=cr.x,Et[qt]=lr.x,Et[It+1]=Qt.y,Et[jt+1]=cr.y,Et[qt+1]=lr.y,Et[It+2]=Qt.z,Et[jt+2]=cr.z,Et[qt+2]=lr.z,_t[Pt]=Ot,_t[Pt+1]=$t,_t[Pt+2]=Zt,wt[Lt]=Ot,wt[Lt+1]=$t,wt[Lt+2]=Ot,wt[Lt+3]=Zt,wt[Lt+4]=$t,wt[Lt+5]=Zt,pt.faceidx+=3,pt.lineidx+=6):(Et[It]=Qt.x,Et[jt]=cr.x,Et[Yt]=gr.x,Et[It+1]=Qt.y,Et[jt+1]=cr.y,Et[Yt+1]=gr.y,Et[It+2]=Qt.z,Et[jt+2]=cr.z,Et[Yt+2]=gr.z,Et[jt]=cr.x,Et[qt]=lr.x,Et[Yt]=gr.x,Et[jt+1]=cr.y,Et[qt+1]=lr.y,Et[Yt+1]=gr.y,Et[jt+2]=cr.z,Et[qt+2]=lr.z,Et[Yt+2]=gr.z,_t[Pt]=Ot,_t[Pt+1]=$t,_t[Pt+2]=er,_t[Pt+3]=$t,_t[Pt+4]=Zt,_t[Pt+5]=er,wt[Lt]=Ot,wt[Lt+1]=$t,wt[Lt+2]=Ot,wt[Lt+3]=er,wt[Lt+4]=$t,wt[Lt+5]=Zt,wt[Lt+6]=Zt,wt[Lt+7]=er,pt.faceidx+=6,pt.lineidx+=8)}}}rt.drawSphere=mt})(j||(j={}))},"./src/GLModel.ts":(i,s,o)=>{o.r(s),o.d(s,{GLModel:()=>mt});var a=o("./src/WebGL/index.ts"),_=o("./src/WebGL/shapes/index.ts"),j=o("./src/WebGL/math/index.ts"),rt=o("./src/colors.ts"),tt=o("./src/GLDraw.ts"),it=o("./src/glcartoon.ts"),dt=o("./src/utilities.ts"),lt=o("./src/Gradient.ts"),gt=o("./src/parsers/index.ts"),vt=o("./node_modules/netcdfjs/lib-esm/index.js"),ht=o("./src/parsers/utils/assignBonds.ts");class mt{static sameObj($,_e){return $&&_e?JSON.stringify($)==JSON.stringify(_e):$==_e}constructor($,_e){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new j.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=rt.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=_e||{},this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:rt.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=$}getRadiusFromStyle($,_e){var st=this.defaultSphereRadius;if(typeof _e.radius<"u")st=_e.radius;else if(mt.vdwRadii[$.elem])st=mt.vdwRadii[$.elem];else if($.elem.length>1){let ot=$.elem;ot=ot[0].toUpperCase()+ot[1].toLowerCase(),mt.vdwRadii[ot]&&(st=mt.vdwRadii[ot])}return typeof _e.scale<"u"&&(st*=_e.scale),st}drawAtomCross($,_e){if($.style.cross){var st=$.style.cross;if(!st.hidden){var ot=st.linewidth||mt.defaultlineWidth;_e[ot]||(_e[ot]=new a.Geometry);var ut=_e[ot].updateGeoGroup(6),et=this.getRadiusFromStyle($,st),at=[[et,0,0],[-et,0,0],[0,et,0],[0,-et,0],[0,0,et],[0,0,-et]],pt=$.clickable||$.hoverable;pt&&$.intersectionShape===void 0&&($.intersectionShape={sphere:[],cylinder:[],line:[]});for(var ct=(0,dt.getColorFromStyle)($,st),yt=ut.vertexArray,ft=ut.colorArray,_t=0;_t<6;_t++){var wt=ut.vertices*3;if(ut.vertices++,yt[wt]=$.x+at[_t][0],yt[wt+1]=$.y+at[_t][1],yt[wt+2]=$.z+at[_t][2],ft[wt]=ct.r,ft[wt+1]=ct.g,ft[wt+2]=ct.b,pt){var Et=new j.Vector3(at[_t][0],at[_t][1],at[_t][2]);Et.multiplyScalar(.1),Et.set(Et.x+$.x,Et.y+$.y,Et.z+$.z),$.intersectionShape.line.push(Et)}}}}}getGoodCross($,_e,st,ot){for(var ut=null,et=-1,at=0,pt=$.bonds.length;at<pt;at++)if($.bonds[at]!=_e.index){let yt=$.bonds[at],ft=this.atoms[yt],wt=new j.Vector3(ft.x,ft.y,ft.z).clone();wt.sub(st);let Et=wt.clone();Et.cross(ot);var ct=Et.lengthSq();if(ct>et&&(et=ct,ut=Et,et>.1))return ut}return ut}getSideBondV($,_e,st){var ot,ut,et,at,pt,ct=new j.Vector3($.x,$.y,$.z),yt=new j.Vector3(_e.x,_e.y,_e.z),ft=yt.clone(),_t=null;if(ft.sub(ct),$.bonds.length===1)_e.bonds.length===1?(_t=ft.clone(),Math.abs(_t.x)>1e-4?_t.y+=1:_t.x+=1):(ot=(st+1)%_e.bonds.length,ut=_e.bonds[ot],et=this.atoms[ut],et.index==$.index&&(ot=(ot+1)%_e.bonds.length,ut=_e.bonds[ot],et=this.atoms[ut]),at=new j.Vector3(et.x,et.y,et.z),pt=at.clone(),pt.sub(ct),_t=pt.clone(),_t.cross(ft));else if(_t=this.getGoodCross($,_e,ct,ft),_t.lengthSq()<.01){var wt=this.getGoodCross(_e,$,ct,ft);wt!=null&&(_t=wt)}return _t.lengthSq()<.01&&(_t=ft.clone(),Math.abs(_t.x)>1e-4?_t.y+=1:_t.x+=1),_t.cross(ft),_t.normalize(),_t}addLine($,_e,st,ot,ut,et){$[st]=ot.x,$[st+1]=ot.y,$[st+2]=ot.z,_e[st]=et.r,_e[st+1]=et.g,_e[st+2]=et.b,$[st+3]=ut.x,$[st+4]=ut.y,$[st+5]=ut.z,_e[st+3]=et.r,_e[st+4]=et.g,_e[st+5]=et.b}drawBondLines($,_e,st){if($.style.line){var ot=$.style.line;if(!ot.hidden){var ut,et,at,pt,ct=ot.linewidth||mt.defaultlineWidth;st[ct]||(st[ct]=new a.Geometry);for(var yt=st[ct].updateGeoGroup(6*$.bonds.length),ft=yt.vertexArray,_t=yt.colorArray,wt=0;wt<$.bonds.length;wt++){var Et=$.bonds[wt],Mt=_e[Et];if(Mt.style.line&&!($.index>=Mt.index)){var St=new j.Vector3($.x,$.y,$.z),At=new j.Vector3(Mt.x,Mt.y,Mt.z),Rt=St.clone().add(At).multiplyScalar(.5),Ct=!1,Pt=$.clickable||$.hoverable,Lt=Mt.clickable||Mt.hoverable;(Pt||Lt)&&(Pt&&($.intersectionShape===void 0&&($.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),$.intersectionShape.line.push(St),$.intersectionShape.line.push(Rt)),Lt&&(Mt.intersectionShape===void 0&&(Mt.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Mt.intersectionShape.line.push(Rt),Mt.intersectionShape.line.push(At)));var Ot=(0,dt.getColorFromStyle)($,$.style.line),It=(0,dt.getColorFromStyle)(Mt,Mt.style.line);if($.bondStyles&&$.bondStyles[wt]){var $t=$.bondStyles[wt];if(!$t.iswire)continue;$t.singleBond&&(Ct=!0),typeof $t.color1<"u"&&(Ot=rt.CC.color($t.color1)),typeof $t.color2<"u"&&(It=rt.CC.color($t.color2))}var jt=yt.vertices*3,Zt,qt;if($.bondOrder[wt]>1&&$.bondOrder[wt]<4&&!Ct){var er=this.getSideBondV($,Mt,wt),Yt=At.clone();Yt.sub(St),$.bondOrder[wt]==2?(er.multiplyScalar(.1),ut=St.clone(),ut.add(er),et=St.clone(),et.sub(er),at=ut.clone(),at.add(Yt),pt=et.clone(),pt.add(Yt),Ot==It?(yt.vertices+=4,this.addLine(ft,_t,jt,ut,at,Ot),this.addLine(ft,_t,jt+6,et,pt,Ot)):(yt.vertices+=8,Yt.multiplyScalar(.5),Zt=ut.clone(),Zt.add(Yt),qt=et.clone(),qt.add(Yt),this.addLine(ft,_t,jt,ut,Zt,Ot),this.addLine(ft,_t,jt+6,Zt,at,It),this.addLine(ft,_t,jt+12,et,qt,Ot),this.addLine(ft,_t,jt+18,qt,pt,It))):$.bondOrder[wt]==3&&(er.multiplyScalar(.1),ut=St.clone(),ut.add(er),et=St.clone(),et.sub(er),at=ut.clone(),at.add(Yt),pt=et.clone(),pt.add(Yt),Ot==It?(yt.vertices+=6,this.addLine(ft,_t,jt,St,At,Ot),this.addLine(ft,_t,jt+6,ut,at,Ot),this.addLine(ft,_t,jt+12,et,pt,Ot)):(yt.vertices+=12,Yt.multiplyScalar(.5),Zt=ut.clone(),Zt.add(Yt),qt=et.clone(),qt.add(Yt),this.addLine(ft,_t,jt,St,Rt,Ot),this.addLine(ft,_t,jt+6,Rt,At,It),this.addLine(ft,_t,jt+12,ut,Zt,Ot),this.addLine(ft,_t,jt+18,Zt,at,It),this.addLine(ft,_t,jt+24,et,qt,Ot),this.addLine(ft,_t,jt+30,qt,pt,It)))}else Ot==It?(yt.vertices+=2,this.addLine(ft,_t,jt,St,At,Ot)):(yt.vertices+=4,this.addLine(ft,_t,jt,St,Rt,Ot),this.addLine(ft,_t,jt+6,Rt,At,It))}}}}}drawAtomSphere($,_e){if($.style.sphere){var st=$.style.sphere;if(!st.hidden){var ot=(0,dt.getColorFromStyle)($,st),ut=this.getRadiusFromStyle($,st);if(($.clickable===!0||$.hoverable)&&$.intersectionShape!==void 0){var et=new j.Vector3($.x,$.y,$.z);$.intersectionShape.sphere.push(new _.Sphere(et,ut))}tt.GLDraw.drawSphere(_e,$,ut,ot)}}}drawAtomClickSphere($){if($.style.clicksphere){var _e=$.style.clicksphere;if(!_e.hidden){var st=this.getRadiusFromStyle($,_e);if(($.clickable===!0||$.hoverable)&&$.intersectionShape!==void 0){var ot=new j.Vector3($.x,$.y,$.z);$.intersectionShape.sphere.push(new _.Sphere(ot,st))}}}}drawAtomInstanced($,_e){if($.style.sphere){var st=$.style.sphere;if(!st.hidden){var ot=this.getRadiusFromStyle($,st),ut=(0,dt.getColorFromStyle)($,st),et=_e.updateGeoGroup(1),at=et.vertices,pt=at*3,ct=et.vertexArray,yt=et.colorArray,ft=et.radiusArray;if(ct[pt]=$.x,ct[pt+1]=$.y,ct[pt+2]=$.z,yt[pt]=ut.r,yt[pt+1]=ut.g,yt[pt+2]=ut.b,ft[at]=ot,($.clickable===!0||$.hoverable)&&$.intersectionShape!==void 0){var _t=new j.Vector3($.x,$.y,$.z);$.intersectionShape.sphere.push(new _.Sphere(_t,ot))}et.vertices+=1}}}drawSphereImposter($,_e,st,ot){var ut=$.updateGeoGroup(4),et,at=ut.vertices,pt=at*3,ct=ut.vertexArray,yt=ut.colorArray;for(et=0;et<4;et++)ct[pt+3*et]=_e.x,ct[pt+3*et+1]=_e.y,ct[pt+3*et+2]=_e.z;var ft=ut.normalArray;for(et=0;et<4;et++)yt[pt+3*et]=ot.r,yt[pt+3*et+1]=ot.g,yt[pt+3*et+2]=ot.b;ft[pt+0]=-st,ft[pt+1]=st,ft[pt+2]=0,ft[pt+3]=-st,ft[pt+4]=-st,ft[pt+5]=0,ft[pt+6]=st,ft[pt+7]=-st,ft[pt+8]=0,ft[pt+9]=st,ft[pt+10]=st,ft[pt+11]=0,ut.vertices+=4;var _t=ut.faceArray,wt=ut.faceidx;_t[wt+0]=at,_t[wt+1]=at+1,_t[wt+2]=at+2,_t[wt+3]=at+2,_t[wt+4]=at+3,_t[wt+5]=at,ut.faceidx+=6}drawAtomImposter($,_e){if($.style.sphere){var st=$.style.sphere;if(!st.hidden){var ot=this.getRadiusFromStyle($,st),ut=(0,dt.getColorFromStyle)($,st);if(($.clickable===!0||$.hoverable)&&$.intersectionShape!==void 0){var et=new j.Vector3($.x,$.y,$.z);$.intersectionShape.sphere.push(new _.Sphere(et,ot))}this.drawSphereImposter(_e,$,ot,ut)}}}calculateDashes($,_e,st,ot,ut){var et=Math.sqrt(Math.pow($.x-_e.x,2)+Math.pow($.y-_e.y,2)+Math.pow($.z-_e.z,2));st=Math.max(st,0),ut=Math.max(ut,0)+2*st,ot=Math.max(ot,.001),ot+ut>et&&(ot=et,ut=0);var at=Math.floor((et-ot)/(ot+ut))+1,pt=at*ot;ut=(et-pt)/at;for(var ct,yt=new j.Vector3($.x,$.y,$.z),ft=new j.Vector3((_e.x-$.x)/(et/ut),(_e.y-$.y)/(et/ut),(_e.z-$.z)/(et/ut)),_t=new j.Vector3((_e.x-$.x)/(et/ot),(_e.y-$.y)/(et/ot),(_e.z-$.z)/(et/ot)),wt=[],Et=0;Et<at;Et++)ct=new j.Vector3(yt.x+_t.x,yt.y+_t.y,yt.z+_t.z),wt.push({from:yt,to:ct}),yt=new j.Vector3(ct.x+ft.x,ct.y+ft.y,ct.z+ft.z);return wt}static drawStickImposter($,_e,st,ot,ut,et=0,at=0){for(var pt=$.updateGeoGroup(4),ct=pt.vertices,yt=ct*3,ft=pt.vertexArray,_t=pt.colorArray,wt=pt.radiusArray,Et=pt.normalArray,Mt=ut.r,St=ut.g,At=ut.b,Rt=function(It){var $t=-It;return $t==0&&($t=-1e-4),$t},Ct=yt,Pt=0;Pt<4;Pt++)ft[Ct]=_e.x,Et[Ct]=st.x,_t[Ct]=Mt,Ct++,ft[Ct]=_e.y,Et[Ct]=st.y,_t[Ct]=St,Ct++,ft[Ct]=_e.z,Et[Ct]=st.z,Pt<2?_t[Ct]=At:_t[Ct]=Rt(At),Ct++;pt.vertices+=4,wt[ct]=-ot,wt[ct+1]=ot,wt[ct+2]=-ot,wt[ct+3]=ot;var Lt=pt.faceArray,Ot=pt.faceidx;Lt[Ot+0]=ct,Lt[Ot+1]=ct+1,Lt[Ot+2]=ct+2,Lt[Ot+3]=ct+2,Lt[Ot+4]=ct+3,Lt[Ot+5]=ct,pt.faceidx+=6}drawBondSticks($,_e,st){var ot,ut;if($.style.stick){var et=$.style.stick;if(!et.hidden){var at=et.radius||this.defaultStickRadius,pt=et.doubleBondScaling||.4,ct=et.tripleBondScaling||.25,yt=((ot=et.dashedBondConfig)===null||ot===void 0?void 0:ot.dashLength)||.1,ft=((ut=et.dashedBondConfig)===null||ut===void 0?void 0:ut.gapLength)||.25,_t=at,wt=et.singleBonds||!1,Et=et.dashedBonds||!1,Mt=0,St=0,At,Rt,Ct,Pt,Lt,Ot,It,$t,jt,Zt,qt,er=(0,dt.getColorFromStyle)($,et),Yt,Qt,cr;!$.capDrawn&&$.bonds.length<4&&(Mt=2);var lr=Jt=>{var sr=st.imposter?mt.drawStickImposter:tt.GLDraw.drawCylinder;return!Et&&Jt>=1?sr:(Cr,tr,vr,kt,br,Ir=0,Tt=0,ur=.1,or=.25)=>{var Ft=this.calculateDashes(tr,vr,kt,ur,or);Ft.forEach(Ht=>{sr(Cr,Ht.from,Ht.to,kt,br,Ir,Tt)})}};for(Ct=0;Ct<$.bonds.length;Ct++){var gr=lr($.bondOrder[Ct]),rr=$.bonds[Ct],Gt=_e[rr];if(Yt=Qt=cr=null,$.index<Gt.index){var nr=Gt.style;if(!nr.stick||nr.stick.hidden)continue;var _r=(0,dt.getColorFromStyle)(Gt,nr.stick);if(_t=at,Pt=wt,$.bondStyles&&$.bondStyles[Ct]){if(Lt=$.bondStyles[Ct],Lt.iswire)continue;Lt.radius&&(_t=Lt.radius),Lt.singleBond&&(Pt=!0),typeof Lt.color1<"u"&&(er=rt.CC.color(Lt.color1)),typeof Lt.color2<"u"&&(_r=rt.CC.color(Lt.color2))}var Sr=new j.Vector3($.x,$.y,$.z),Ar=new j.Vector3(Gt.x,Gt.y,Gt.z);if($.bondOrder[Ct]<=1||Pt||$.bondOrder[Ct]>3){if($.bondOrder[Ct]<1&&(_t*=$.bondOrder[Ct]),!Gt.capDrawn&&Gt.bonds.length<4&&(St=2),er!=_r?(Yt=new j.Vector3().addVectors(Sr,Ar).multiplyScalar(.5),gr(st,Sr,Yt,_t,er,Mt,0,yt,ft),gr(st,Yt,Ar,_t,_r,0,St,yt,ft)):gr(st,Sr,Ar,_t,er,Mt,St,yt,ft),At=$.clickable||$.hoverable,Rt=Gt.clickable||Gt.hoverable,At||Rt){if(Yt||(Yt=new j.Vector3().addVectors(Sr,Ar).multiplyScalar(.5)),At){var Rr=new _.Cylinder(Sr,Yt,_t),Mr=new _.Sphere(Sr,_t);$.intersectionShape.cylinder.push(Rr),$.intersectionShape.sphere.push(Mr)}if(Rt){var wr=new _.Cylinder(Ar,Yt,_t),Tr=new _.Sphere(Ar,_t);Gt.intersectionShape.cylinder.push(wr),Gt.intersectionShape.sphere.push(Tr)}}}else if($.bondOrder[Ct]>1){var fr=0,pr=0;_t!=at&&(fr=2,pr=2);var Lr=Ar.clone(),Or=null;Lr.sub(Sr);var Bt,Ut,Wt,ar,Xt;Or=this.getSideBondV($,Gt,Ct),$.bondOrder[Ct]==2?(Bt=_t*pt,Or.multiplyScalar(Bt*1.5),Ut=Sr.clone(),Ut.add(Or),Wt=Sr.clone(),Wt.sub(Or),ar=Ut.clone(),ar.add(Lr),Xt=Wt.clone(),Xt.add(Lr),er!=_r?(Yt=new j.Vector3().addVectors(Ut,ar).multiplyScalar(.5),Qt=new j.Vector3().addVectors(Wt,Xt).multiplyScalar(.5),gr(st,Ut,Yt,Bt,er,fr,0),gr(st,Yt,ar,Bt,_r,0,pr),gr(st,Wt,Qt,Bt,er,fr,0),gr(st,Qt,Xt,Bt,_r,0,pr)):(gr(st,Ut,ar,Bt,er,fr,pr),gr(st,Wt,Xt,Bt,er,fr,pr)),At=$.clickable||$.hoverable,Rt=Gt.clickable||Gt.hoverable,(At||Rt)&&(Yt||(Yt=new j.Vector3().addVectors(Ut,ar).multiplyScalar(.5)),Qt||(Qt=new j.Vector3().addVectors(Wt,Xt).multiplyScalar(.5)),At&&(Ot=new _.Cylinder(Ut,Yt,Bt),It=new _.Cylinder(Wt,Qt,Bt),$.intersectionShape.cylinder.push(Ot),$.intersectionShape.cylinder.push(It)),Rt&&(jt=new _.Cylinder(ar,Yt,Bt),Zt=new _.Cylinder(Xt,Qt,Bt),Gt.intersectionShape.cylinder.push(jt),Gt.intersectionShape.cylinder.push(Zt)))):$.bondOrder[Ct]==3&&(Bt=_t*ct,Or.cross(Lr),Or.normalize(),Or.multiplyScalar(Bt*3),Ut=Sr.clone(),Ut.add(Or),Wt=Sr.clone(),Wt.sub(Or),ar=Ut.clone(),ar.add(Lr),Xt=Wt.clone(),Xt.add(Lr),er!=_r?(Yt=new j.Vector3().addVectors(Ut,ar).multiplyScalar(.5),Qt=new j.Vector3().addVectors(Wt,Xt).multiplyScalar(.5),cr=new j.Vector3().addVectors(Sr,Ar).multiplyScalar(.5),gr(st,Ut,Yt,Bt,er,fr,0),gr(st,Yt,ar,Bt,_r,0,pr),gr(st,Sr,cr,Bt,er,Mt,0),gr(st,cr,Ar,Bt,_r,0,St),gr(st,Wt,Qt,Bt,er,fr,0),gr(st,Qt,Xt,Bt,_r,0,pr)):(gr(st,Ut,ar,Bt,er,fr,pr),gr(st,Sr,Ar,Bt,er,Mt,St),gr(st,Wt,Xt,Bt,er,fr,pr)),At=$.clickable||$.hoverable,Rt=Gt.clickable||Gt.hoverable,(At||Rt)&&(Yt||(Yt=new j.Vector3().addVectors(Ut,ar).multiplyScalar(.5)),Qt||(Qt=new j.Vector3().addVectors(Wt,Xt).multiplyScalar(.5)),cr||(cr=new j.Vector3().addVectors(Sr,Ar).multiplyScalar(.5)),At&&(Ot=new _.Cylinder(Ut.clone(),Yt.clone(),Bt),It=new _.Cylinder(Wt.clone(),Qt.clone(),Bt),$t=new _.Cylinder(Sr.clone(),cr.clone(),Bt),$.intersectionShape.cylinder.push(Ot),$.intersectionShape.cylinder.push(It),$.intersectionShape.cylinder.push($t)),Rt&&(jt=new _.Cylinder(ar.clone(),Yt.clone(),Bt),Zt=new _.Cylinder(Xt.clone(),Qt.clone(),Bt),qt=new _.Cylinder(Ar.clone(),cr.clone(),Bt),Gt.intersectionShape.cylinder.push(jt),Gt.intersectionShape.cylinder.push(Zt),Gt.intersectionShape.cylinder.push(qt))))}}}var Er=!1,mr=0,Dt=!1;for(Ct=0;Ct<$.bonds.length;Ct++)Pt=wt,$.bondStyles&&$.bondStyles[Ct]&&(Lt=$.bondStyles[Ct],Lt.singleBond&&(Pt=!0),Lt.radius&&Lt.radius!=at&&(Dt=!0)),(Pt||$.bondOrder[Ct]==1)&&mr++;Dt?mr>0&&(Er=!0):mr==0&&($.bonds.length>0||et.showNonBonded)&&(Er=!0),Er&&(_t=at,st.imposter?this.drawSphereImposter(st.sphereGeometry,$,_t,er):tt.GLDraw.drawSphere(st,$,_t,er))}}}createMolObj($,_e){_e=_e||{};var st=new a.Object3D,ot=[],ut={},et={},at=this.drawAtomSphere,pt=null,ct=null;_e.supportsImposters?(at=this.drawAtomImposter,pt=new a.Geometry(!0),pt.imposter=!0,ct=new a.Geometry(!0,!0),ct.imposter=!0,ct.sphereGeometry=new a.Geometry(!0),ct.sphereGeometry.imposter=!0,ct.drawnCaps={}):_e.supportsAIA?(at=this.drawAtomInstanced,pt=new a.Geometry(!1,!0,!0),pt.instanced=!0,ct=new a.Geometry(!0)):(pt=new a.Geometry(!0),ct=new a.Geometry(!0));var yt,ft,_t,wt,Et={},Mt=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(yt=0,_t=$.length;yt<_t;yt++){var St=$[yt];if(St&&St.style){(St.clickable||St.hoverable)&&St.intersectionShape===void 0&&(St.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),wt={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(ft in wt)St.style[ft]?St.style[ft].opacity?wt[ft]=parseFloat(St.style[ft].opacity):wt[ft]=1:wt[ft]=void 0,Et[ft]?wt[ft]!=null&&Et[ft]!=wt[ft]&&(console.log("Warning: "+ft+" opacity is ambiguous"),Et[ft]=1):Et[ft]=wt[ft];at.call(this,St,pt),this.drawAtomClickSphere(St),this.drawAtomCross(St,et),this.drawBondLines(St,$,ut),this.drawBondSticks(St,$,ct),typeof St.style.cartoon<"u"&&!St.style.cartoon.hidden&&(St.style.cartoon.color==="spectrum"&&typeof St.resi=="number"&&!St.hetflag&&(St.resi<Mt[0]&&(Mt[0]=St.resi),St.resi>Mt[1]&&(Mt[1]=St.resi)),ot.push(St))}}if(ot.length>0&&(0,it.drawCartoon)(st,ot,Mt,this.defaultCartoonQuality),pt&&pt.vertices>0){pt.initTypedArrays();var At=null,Rt=null;pt.imposter?At=new a.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):pt.instanced?(Rt=new a.Geometry(!0),tt.GLDraw.drawSphere(Rt,{x:0,y:0,z:0},1,new rt.Color(.5,.5,.5)),Rt.initTypedArrays(),At=new a.InstancedMaterial({sphereMaterial:new a.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:Rt})):At=new a.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),Et.sphere<1&&Et.sphere>=0&&(At.transparent=!0,At.opacity=Et.sphere),Rt=new a.Mesh(pt,At),st.add(Rt)}if(ct.vertices>0){var Ct=null,Pt=null,Lt=ct.sphereGeometry;(!Lt||typeof Lt.vertices>"u"||Lt.vertices==0)&&(Lt=null),ct.initTypedArrays(),Lt&&Lt.initTypedArrays();var Ot={ambient:0,vertexColors:!0,reflectivity:0};ct.imposter?(Ct=new a.StickImposterMaterial(Ot),Pt=new a.SphereImposterMaterial(Ot)):(Ct=new a.MeshLambertMaterial(Ot),Pt=new a.MeshLambertMaterial(Ot),Ct.wireframe&&(ct.setUpWireframe(),Lt&&Lt.setUpWireframe())),Et.stick<1&&Et.stick>=0&&(Ct.transparent=!0,Ct.opacity=Et.stick,Pt.transparent=!0,Pt.opacity=Et.stick);var It=new a.Mesh(ct,Ct);if(st.add(It),Lt){var $t=new a.Mesh(Lt,Pt);st.add($t)}}var jt;for(yt in ut)if(ut.hasOwnProperty(yt)){jt=yt;var Zt=new a.LineBasicMaterial({linewidth:jt,vertexColors:!0});Et.line<1&&Et.line>=0&&(Zt.transparent=!0,Zt.opacity=Et.line),ut[yt].initTypedArrays();var qt=new a.Line(ut[yt],Zt,a.LineStyle.LinePieces);st.add(qt)}for(yt in et)if(et.hasOwnProperty(yt)){jt=yt;var er=new a.LineBasicMaterial({linewidth:jt,vertexColors:!0});Et.cross<1&&Et.cross>=0&&(er.transparent=!0,er.opacity=Et.cross),et[yt].initTypedArrays();var Yt=new a.Line(et[yt],er,a.LineStyle.LinePieces);st.add(Yt)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var Qt=new a.Object3D,cr;for(cr=0;cr<this.modelData.symmetries.length;cr++){var lr=new a.Object3D;lr=st.clone(),lr.matrix.copy(this.modelData.symmetries[cr]),lr.matrixAutoUpdate=!1,Qt.add(lr)}return Qt}return st}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState($){this.atoms=$.atoms,this.frames=$.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){const $=this.modelData.cryst;this.modelData.cryst.matrix=(0,j.conversionMatrix3)($.a,$.b,$.c,$.alpha,$.beta,$.gamma)}return this.modelData.cryst}else return null}setCrystData($,_e,st,ot,ut,et){$=$||1,_e=_e||1,st=st||1,ot=ot||90,ut=ut||90,et=et||90;const at=(0,j.conversionMatrix3)($,_e,st,ot,ut,et);this.modelData.cryst={a:$,b:_e,c:st,alpha:ot,beta:ut,gamma:et,matrix:at}}setCrystMatrix($){$=$||new j.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:$}}getSymmetries(){return typeof this.modelData.symmetries>"u"&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries($){typeof $>"u"?this.modelData.symmetries=[this.idMatrix]:this.modelData.symmetries=$}getID(){return this.id}getNumFrames(){return this.frames.numFrames!=null?this.frames.numFrames:this.frames.length}adjustCoord($,_e,st,ot){var ut=_e-$;return ut<-st?_e+ot:ut>st?_e-ot:_e}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var $=this.box[0],_e=this.box[1],st=this.box[2],ot=$*.9,ut=_e*.9,et=st*.9,at=0;at<this.atomdfs.length;at++)for(var pt=this.atomdfs[at],ct=1;ct<pt.length;ct++){var yt=this.atoms[pt[ct][0]],ft=this.atoms[pt[ct][1]];yt.x=this.adjustCoord(ft.x,yt.x,ot,$),yt.y=this.adjustCoord(ft.y,yt.y,ut,_e),yt.z=this.adjustCoord(ft.z,yt.z,et,st)}}setFrame($,_e){var st=this.getNumFrames();let ot=this;return new Promise(function(ut,et){if(st==0&&ut(),($<0||$>=st)&&($=st-1),ot.frames.url!=null){var at=ot.frames.url;(0,dt.getbin)(at+"/traj/frame/"+$+"/"+ot.frames.path,void 0,"POST",void 0).then(function(pt){for(var ct=new Float32Array(pt,44),yt=0,ft=0;ft<ot.atoms.length;ft++)ot.atoms[ft].x=ct[yt++],ot.atoms[ft].y=ct[yt++],ot.atoms[ft].z=ct[yt++];ot.box&&ot.atomdfs&&ot.adjustCoordinatesToBox(),ut()}).catch(et)}else ot.atoms=ot.frames[$],ut();ot.molObj=null,ot.modelDatas&&$<ot.modelDatas.length&&(ot.modelData=ot.modelDatas[$],ot.unitCellObjects&&_e&&(_e.removeUnitCell(ot),_e.addUnitCell(ot)))})}addFrame($){this.frames.push($)}vibrate($=10,_e=1,st=!1,ot,ut){var et=0,at=$;st&&(et=-$,at=$),this.frames!==void 0&&this.frames.origIndex!==void 0?this.setFrame(this.frames.origIndex):this.setFrame(0),et<at&&(this.frames=[]),st&&(this.frames.origIndex=$);for(var pt=et;pt<at;pt++){var ct=[],yt=this.frames.length;if(pt==0&&!ut){this.frames.push(this.atoms);continue}for(var ft=0;ft<this.atoms.length;ft++){var _t=(0,dt.getAtomProperty)(this.atoms[ft],"dx"),wt=(0,dt.getAtomProperty)(this.atoms[ft],"dy"),Et=(0,dt.getAtomProperty)(this.atoms[ft],"dz"),Mt=new j.Vector3(_t,wt,Et),St=new j.Vector3(this.atoms[ft].x,this.atoms[ft].y,this.atoms[ft].z),At=pt*_e/$;Mt.multiplyScalar(At),St.add(Mt);var Rt={};for(var Ct in this.atoms[ft])Rt[Ct]=this.atoms[ft][Ct];if(Rt.x=St.x,Rt.y=St.y,Rt.z=St.z,ct.push(Rt),ot&&ut){var Pt=(0,dt.extend)({},ut),Lt=new j.Vector3(_t,wt,Et);if(Lt.multiplyScalar(_e),Lt.add(St),Pt.start=St,Pt.end=Lt,Pt.frame=yt,!Pt.color){var Ot=Rt.style.sphere;Ot||(Ot=Rt.style.stick),Ot||(Ot=Rt.style.line),Pt.color=(0,dt.getColorFromStyle)(Rt,Ot)}ot.addArrow(Pt)}}this.frames.push(ct)}}setAtomDefaults($){for(let _e=0;_e<$.length;_e++){let st=$[_e];st&&(st.style=st.style||(0,dt.deepCopy)(mt.defaultAtomStyle),st.color=st.color||this.ElementColors[st.elem]||this.defaultColor,st.model=this.id,(st.clickable||st.hoverable)&&(st.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData($,_e,st={}){var ot=mt.parseMolData($,_e,st);this.dontDuplicateAtoms=!st.duplicateAssemblyAtoms;var ut=ot.modelData;if(ut&&(Array.isArray(ut)?(this.modelData=ut[0],st.frames&&(this.modelDatas=ut)):this.modelData=ut),ot.box?this.box=ot.box:this.box=null,this.frames.length==0){for(let at=0;at<ot.length;at++)ot[at].length!=0&&this.frames.push(ot[at]);this.frames[0]&&(this.atoms=this.frames[0])}else if(st.frames)for(let at=0;at<ot.length;at++)this.frames.push(ot[at]);else for(var et=0;et<ot.length;et++)this.addAtoms(ot[et]);for(let at=0;at<this.frames.length;at++)this.setAtomDefaults(this.frames[at]);st.vibrate&&st.vibrate.frames&&st.vibrate.amplitude&&this.vibrate(st.vibrate.frames,st.vibrate.amplitude),st.style&&this.setStyle({},st.style)}setDontDuplicateAtoms($){this.dontDuplicateAtoms=$}setModelData($){this.modelData=$}propertyMatches($,_e){if($==_e)return!0;if(typeof _e=="string"&&typeof $=="number"){var st=_e.match(/(-?\d+)\s*-\s*(-?\d+)/);if(st){var ot=parseInt(st[1]),ut=parseInt(st[2]);if(st&&$>=ot&&$<=ut)return!0}}return!1}static deepCopyAndCache($,_e){if(typeof $!="object"||$==null||$.__cache_created)return $;const st={};for(const ot in $){const ut=$[ot];if(Array.isArray(ut)){st[ot]=[];for(let et=0;et<ut.length;et++)st[ot].push(mt.deepCopyAndCache(ut[et],_e))}else typeof ut=="object"&&ot!="properties"&&ot!="model"?st[ot]=mt.deepCopyAndCache(ut,_e):st[ot]=ut;if(ot=="and"||ot=="or"){const et=[];for(const at of st[ot]){const pt=new Set;for(const ct of _e.selectedAtoms(at))pt.add(ct.index);et.push(pt)}if(ot=="and"){const at=function(ct,yt){const ft=new Set;for(const _t of yt)ct.has(_t)&&ft.add(_t);return ft};let pt=new Set(et[0]);for(const ct of et.splice(1))pt=at(pt,ct);st[ot].__cached_results=pt}else if(ot=="or"){const at=new Set;for(const pt of et)for(const ct of pt)at.add(ct);st[ot].__cached_results=at}}}return st.__cache_created=!0,st}atomIsSelected($,_e){if(typeof _e>"u")return!0;var st=!!_e.invert,ot=!0;for(var ut in _e)if(ut=="and"||ut=="or"||ut=="not"){if(ut=="not"){if(this.atomIsSelected($,_e[ut])){ot=!1;break}}else if(_e[ut].__cached_results===void 0&&(_e=mt.deepCopyAndCache(_e,this)),ot=_e[ut].__cached_results.has($.index),!ot)break}else if(ut==="predicate"){if(!_e.predicate($)){ot=!1;break}}else if(ut=="properties"&&$[ut]){for(var et in _e.properties)if(!et.startsWith("__cache")){if(typeof $.properties[et]>"u"){ot=!1;break}if($.properties[et]!=_e.properties[et]){ot=!1;break}}}else if(_e.hasOwnProperty(ut)&&!mt.ignoredKeys.has(ut)&&!ut.startsWith("__cache")){if(typeof $[ut]>"u"){ot=!1;break}var at=!1;if(ut==="bonds"){var pt=_e[ut];if(pt!=$.bonds.length){ot=!1;break}}else if(Array.isArray(_e[ut])){var ct=_e[ut],yt=$[ut];for(let ft=0;ft<ct.length;ft++)if(this.propertyMatches(yt,ct[ft])){at=!0;break}if(!at){ot=!1;break}}else{let ft=_e[ut];if(!this.propertyMatches($[ut],ft)){ot=!1;break}}}return st?!ot:ot}static squaredDistance($,_e){var st=_e.x-$.x,ot=_e.y-$.y,ut=_e.z-$.z;return st*st+ot*ot+ut*ut}expandAtomList($,_e){if(_e<=0)return $;for(var st=(0,dt.getExtent)($,void 0),ot=[[],[],[]],ut=0;ut<3;ut++)ot[0][ut]=st[0][ut]-_e,ot[1][ut]=st[1][ut]+_e,ot[2][ut]=st[2][ut];var et=[];for(let yt=0;yt<this.atoms.length;yt++){var at=this.atoms[yt].x,pt=this.atoms[yt].y,ct=this.atoms[yt].z;at>=ot[0][0]&&at<=ot[1][0]&&pt>=ot[0][1]&&pt<=ot[1][1]&&ct>=ot[0][2]&&ct<=ot[1][2]&&(at>=st[0][0]&&at<=st[1][0]&&pt>=st[0][1]&&pt<=st[1][1]&&ct>=st[0][2]&&ct<=st[1][2]||et.push(this.atoms[yt]))}return et}static getFloat($){return typeof $=="number"?$:parseFloat($)}selectedAtoms($,_e){var st=[];$=mt.deepCopyAndCache($||{},this),_e||(_e=this.atoms);for(var ot=_e.length,ut=0;ut<ot;ut++){var et=_e[ut];et&&this.atomIsSelected(et,$)&&st.push(et)}if($.hasOwnProperty("expand")){const Rt=mt.getFloat($.expand);let Ct=this.expandAtomList(st,Rt),Pt=st.length;const Lt=Rt*Rt;for(let Ot=0;Ot<Ct.length;Ot++)for(let It=0;It<Pt;It++){var at=mt.squaredDistance(Ct[Ot],st[It]);at<Lt&&at>0&&st.push(Ct[Ot])}}if($.hasOwnProperty("within")&&$.within.hasOwnProperty("sel")&&$.within.hasOwnProperty("distance")){var pt=this.selectedAtoms($.within.sel,this.atoms),ct={};const Rt=mt.getFloat($.within.distance),Ct=Rt*Rt;for(let Pt=0;Pt<pt.length;Pt++)for(let Lt=0;Lt<st.length;Lt++){let Ot=mt.squaredDistance(pt[Pt],st[Lt]);Ot<Ct&&Ot>0&&(ct[Lt]=1)}var yt=[];if($.within.invert)for(let Pt=0;Pt<st.length;Pt++)ct[Pt]||yt.push(st[Pt]);else for(let Pt in ct)yt.push(st[Pt]);st=yt}if($.hasOwnProperty("byres")){var ft={},_t=[],wt=[];for(let Rt=0;Rt<st.length;Rt++){let Ct=st[Rt];var Et=Ct.chain,Mt=Ct.resi;if(ft[Et]===void 0&&(ft[Et]={}),Ct.hasOwnProperty("resi")&&ft[Et][Mt]===void 0){for(ft[Et][Mt]=!0,wt.push(Ct);wt.length>0;)if(Ct=wt.pop(),Et=Ct.chain,Mt=Ct.resi,_t[Ct.index]===void 0){_t[Ct.index]=!0;for(var St=0;St<Ct.bonds.length;St++){var At=this.atoms[Ct.bonds[St]];_t[At.index]===void 0&&At.hasOwnProperty("resi")&&At.chain==Et&&At.resi==Mt&&(wt.push(At),st.push(At))}}}}}return st}addAtoms($){this.molObj=null;var _e=this.atoms.length,st=[],ot;for(ot=0;ot<$.length;ot++)typeof $[ot].index>"u"&&($[ot].index=ot),typeof $[ot].serial>"u"&&($[ot].serial=ot),st[$[ot].index]=_e+ot;for(ot=0;ot<$.length;ot++){var ut=$[ot],et=st[ut.index],at=(0,dt.extend)({},ut);at.index=et,at.bonds=[],at.bondOrder=[],at.model=this.id,at.style=at.style||(0,dt.deepCopy)(mt.defaultAtomStyle),typeof at.color>"u"&&(at.color=this.ElementColors[at.elem]||this.defaultColor);for(var pt=ut.bonds?ut.bonds.length:0,ct=0;ct<pt;ct++){var yt=st[ut.bonds[ct]];typeof yt<"u"&&(at.bonds.push(yt),at.bondOrder.push(ut.bondOrder?ut.bondOrder[ct]:1))}this.atoms.push(at)}}assignBonds(){(0,ht.assignBonds)(this.atoms,{assignBonds:!0})}removeAtoms($){this.molObj=null;var _e=[],st;for(st=0;st<$.length;st++)_e[$[st].index]=!0;var ot=[];for(st=0;st<this.atoms.length;st++){var ut=this.atoms[st];_e[ut.index]||ot.push(ut)}this.atoms=[],this.addAtoms(ot)}setStyle($,_e,st){typeof _e>"u"&&typeof st>"u"&&(_e=$,$={}),$=$,typeof _e=="string"&&(_e=(0,dt.specStringToObject)(_e));var ot=!1,ut=this,et=function(pt){var ct=ut.selectedAtoms($,pt);for(let yt=0;yt<pt.length;yt++)pt[yt]&&(pt[yt].capDrawn=!1);for(let yt=0;yt<ct.length;yt++){ot=!0,(ct[yt].clickable||ct[yt].hoverable)&&(ct[yt].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),st||(ct[yt].style={});for(let ft in _e)_e.hasOwnProperty(ft)&&(ct[yt].style[ft]=ct[yt].style[ft]||{},Object.assign(ct[yt].style[ft],_e[ft]))}};if($.frame!==void 0&&$.frame<this.frames.length){let pt=$.frame;pt<0&&(pt=this.frames.length+pt),et(this.frames[pt])}else{et(this.atoms);for(var at=0;at<this.frames.length;at++)this.frames[at]!==this.atoms&&et(this.frames[at])}ot&&(this.molObj=null)}setClickable($,_e,st){if(_e=!!_e,st=(0,dt.makeFunction)(st),st===null){console.log("Callback is not a function");return}var ot=this.selectedAtoms($,this.atoms),ut=ot.length;for(let et=0;et<ut;et++)ot[et].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},ot[et].clickable=_e,st&&(ot[et].callback=st);ut>0&&(this.molObj=null)}setHoverable($,_e,st,ot){if(_e=!!_e,st=(0,dt.makeFunction)(st),ot=(0,dt.makeFunction)(ot),st===null){console.log("Hover_callback is not a function");return}if(ot===null){console.log("Unhover_callback is not a function");return}var ut=this.selectedAtoms($,this.atoms),et=ut.length;for(let at=0;at<et;at++)ut[at].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},ut[at].hoverable=_e,st&&(ut[at].hover_callback=st),ot&&(ut[at].unhover_callback=ot);et>0&&(this.molObj=null)}enableContextMenu($,_e){_e=!!_e;var st,ot=this.selectedAtoms($,this.atoms),ut=ot.length;for(st=0;st<ut;st++)ot[st].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},ot[st].contextMenuEnabled=_e;ut>0&&(this.molObj=null)}setColorByElement($,_e){if(!(this.molObj!==null&&mt.sameObj(_e,this.lastColors))){this.lastColors=_e;var st=this.selectedAtoms($,st);st.length>0&&(this.molObj=null);for(var ot=0;ot<st.length;ot++){var ut=st[ot];typeof _e[ut.elem]<"u"&&(ut.color=_e[ut.elem])}}}setColorByProperty($,_e,st,ot){var ut,et,at=this.selectedAtoms($,at);for(this.lastColors=null,at.length>0&&(this.molObj=null),typeof st=="string"&&typeof lt.Gradient.builtinGradients[st]<"u"&&(st=new lt.Gradient.builtinGradients[st]),st=st,ot||(ot=st.range()),ot||(ot=(0,dt.getPropertyRange)(at,_e)),ut=0;ut<at.length;ut++){et=at[ut];var pt=(0,dt.getAtomProperty)(et,_e);pt!=null&&(et.color=st.valueToHex(parseFloat(et.properties[_e]),ot))}}setColorByFunction($,_e){var st=this.selectedAtoms($,st);if(typeof _e=="function"){this.lastColors=null,st.length>0&&(this.molObj=null);for(let ot=0;ot<st.length;ot++){let ut=st[ot];ut.color=_e(ut)}}}toCDObject($=!1){var _e={a:[],b:[]};$&&(_e.s=[]);for(let ot=0;ot<this.atoms.length;ot++){let ut={},et=this.atoms[ot];if(ut.x=et.x,ut.y=et.y,ut.z=et.z,et.elem!="C"&&(ut.l=et.elem),$){for(var st=0;st<_e.s.length&&JSON.stringify(et.style)!==JSON.stringify(_e.s[st]);)st++;st===_e.s.length&&_e.s.push(et.style),st!==0&&(ut.s=st)}_e.a.push(ut);for(let at=0;at<et.bonds.length;at++){let pt=ot,ct=et.bonds[at];if(pt>=ct)continue;let yt={b:pt,e:ct},ft=et.bondOrder[at];ft!=1&&(yt.o=ft),_e.b.push(yt)}}return _e}globj($,_e){(this.molObj===null||_e.regen)&&(this.molObj=this.createMolObj(this.atoms,_e),this.renderedMolObj&&($.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),$.add(this.renderedMolObj))}exportVRML(){var $=this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1});return $.vrml()}removegl($){this.renderedMolObj&&(this.renderedMolObj.geometry!==void 0&&this.renderedMolObj.geometry.dispose(),this.renderedMolObj.material!==void 0&&this.renderedMolObj.material.dispose(),$.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels($,_e,st,ot){for(var ut=this.selectedAtoms(_e,ut),et=(0,dt.deepCopy)(ot),at=0;at<ut.length;at++){var pt=ut[at],ct=null;typeof pt[$]<"u"?ct=String(pt[$]):typeof pt.properties[$]<"u"&&(ct=String(pt.properties[$])),ct!=null&&(et.position=pt,st.addLabel(ct,et))}}addResLabels($,_e,st,ot=!1){var ut=[],et=function(pt,ct){for(var yt=pt.selectedAtoms($,yt),ft={},_t=0;_t<yt.length;_t++){var wt=yt[_t],Et=wt.chain,Mt=wt.resn,St=wt.resi,At=Mt+""+St;ft[Et]||(ft[Et]={}),ft[Et][At]||(ft[Et][At]=[]),ft[Et][At].push(wt)}var Rt=(0,dt.deepCopy)(st);for(let Pt in ft)if(ft.hasOwnProperty(Pt)){var Ct=ft[Pt];for(let Lt in Ct)if(Ct.hasOwnProperty(Lt)){let Ot=Ct[Lt],It=new j.Vector3(0,0,0);for(let jt=0;jt<Ot.length;jt++){let Zt=Ot[jt];It.x+=Zt.x,It.y+=Zt.y,It.z+=Zt.z}It.divideScalar(Ot.length),Rt.position=It,Rt.frame=ct;let $t=_e.addLabel(Lt,Rt,void 0,!0);ut.push($t)}}};if(ot){var at=this.getNumFrames();let pt=this.atoms;for(let ct=0;ct<at;ct++)this.frames[ct]&&(this.atoms=this.frames[ct],et(this,ct));this.atoms=pt}else et(this);return ut}setupDFS(){this.atomdfs=[];var $=this,_e=new Int8Array(this.atoms.length);_e.fill(0);for(var st=function(at,pt,ct){ct.push([at,pt]);var yt=$.atoms[at];_e[at]=1;for(var ft=0;ft<yt.bonds.length;ft++){var _t=yt.bonds[ft];$.atoms[_t]&&!_e[_t]&&st(_t,at,ct)}},ot=0;ot<this.atoms.length;ot++){var ut=this.atoms[ot];if(ut&&!_e[ot]){var et=[];st(ot,-1,et),this.atomdfs.push(et)}}}setCoordinatesFromURL($,_e){this.frames=[];var st=this;return this.box&&this.setupDFS(),$.startsWith("http")||($="http://"+$),(0,dt.get)($+"/traj/numframes/"+_e,function(ot){if(!isNaN(parseInt(ot)))return st.frames.push(st.atoms),st.frames.numFrames=ot,st.frames.url=$,st.frames.path=_e,st.setFrame(0)})}setCoordinates($,_e){if(_e=_e||"",!$)return[];if(/\.gz$/.test(_e)){_e=_e.replace(/\.gz$/,"");try{$=(0,dt.inflateString)($)}catch(ft){console.log(ft)}}var st={mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""};if(st.hasOwnProperty(_e)){this.frames=[];for(var ot=this.atoms.length,ut=mt.parseCrd($,_e),et=0;et<ut.length;){for(var at=[],pt=0;pt<ot;pt++){var ct={};for(var yt in this.atoms[pt])ct[yt]=this.atoms[pt][yt];at[pt]=ct,at[pt].x=ut[et++],at[pt].y=ut[et++],at[pt].z=ut[et++]}this.frames.push(at)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs($){}static parseCrd($,_e){var st=[],ot=0;if(_e=="pdb")for(var ut=$.indexOf(`
ATOM`);ut!=-1;){for(;$.slice(ut,ut+5)==`
ATOM`||$.slice(ut,ut+7)==`
HETATM`;)st[ot++]=parseFloat($.slice(ut+31,ut+39)),st[ot++]=parseFloat($.slice(ut+39,ut+47)),st[ot++]=parseFloat($.slice(ut+47,ut+55)),ut=$.indexOf(`
`,ut+54),$.slice(ut,ut+4)==`
TER`&&(ut=$.indexOf(`
`,ut+5));ut=$.indexOf(`
ATOM`,ut)}else if(_e=="netcdf"){var et=new vt.NetCDFReader($);st=[].concat.apply([],et.getDataVariable("coordinates"))}else{if(_e=="array"||Array.isArray($))return $.flat(2);{let at=$.indexOf(`
`);_e=="inpcrd"&&(at=$.indexOf(`
`,at+1)),$=$.slice(at+1),st=$.match(/\S+/g).map(parseFloat)}}return st}static parseMolData($,_e="",st){if(!$)return[];if(/\.gz$/.test(_e)){_e=_e.replace(/\.gz$/,"");try{_e.match(/bcif/i)?$=(0,dt.inflateString)($,!1):$=(0,dt.inflateString)($)}catch(et){console.log(et)}}typeof gt.Parsers[_e]>"u"&&(_e=_e.split(".").pop(),typeof gt.Parsers[_e]>"u"&&(console.log("Unknown format: "+_e),$ instanceof Uint8Array?_e="bcif":$.match(/^@<TRIPOS>MOLECULE/gm)?_e="mol2":$.match(/^data_/gm)&&$.match(/^loop_/gm)?_e="cif":$.match(/^HETATM/gm)||$.match(/^ATOM/gm)?_e="pdb":$.match(/ITEM: TIMESTEP/gm)?_e="lammpstrj":$.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?_e="sdf":$.match(/^%VERSION\s+VERSION_STAMP/gm)?_e="prmtop":_e="xyz",console.log("Best guess: "+_e)));var ot=gt.Parsers[_e],ut=ot($,st);return ut}}mt.defaultAtomStyle={line:{}},mt.defaultlineWidth=1,mt.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86},mt.ignoredKeys=new Set(["props","invert","model","frame","byres","expand","within","and","or","not"])},"./src/GLShape.ts":(i,s,o)=>{o.r(s),o.d(s,{GLShape:()=>vt,splitMesh:()=>ht});var a=o("./src/WebGL/index.ts"),_=o("./src/WebGL/shapes/index.ts"),j=o("./src/WebGL/math/index.ts"),rt=o("./src/colors.ts"),tt=o("./src/ProteinSurface4.ts"),it=o("./src/VolumeData.ts"),dt=o("./src/GLDraw.ts"),lt=o("./src/glcartoon.ts"),gt=o("./src/utilities.ts");class vt{static finalizeGeo(nt){var $=nt.updateGeoGroup(0);$.vertices>0&&$.truncateArrayBuffers(!0,!0)}static updateColor(nt,$){$=$||rt.CC.color($),nt.colorsNeedUpdate=!0;var _e,st,ot;$.constructor!==Array&&(_e=$.r,st=$.g,ot=$.b);for(let ut in nt.geometryGroups){let et=nt.geometryGroups[ut],at=et.colorArray;for(let pt=0,ct=et.vertices;pt<ct;++pt){if($.constructor===Array){let yt=$[pt];_e=yt.r,st=yt.g,ot=yt.b}at[pt*3]=_e,at[pt*3+1]=st,at[pt*3+2]=ot}}}static drawArrow(nt,$,_e){var st=_e.start,ot=_e.end,ut=_e.radius,et=_e.radiusRatio,at=_e.mid,pt=_e.midpos;if(!(st&&ot))return;var ct=$.updateGeoGroup(51),yt=new j.Vector3(ot.x,ot.y,ot.z).sub(st);if(pt){let tr=yt.length();pt>0?at=pt/tr:at=(tr+pt)/tr}yt.multiplyScalar(at);var ft=new j.Vector3(st.x,st.y,st.z).add(yt),_t=yt.clone().negate();let wt=new j.Vector3(st.x,st.y,st.z);nt.intersectionShape.cylinder.push(new _.Cylinder(wt,ft.clone(),ut)),nt.intersectionShape.sphere.push(new _.Sphere(wt,ut));var Et=[];Et[0]=yt.clone(),Math.abs(Et[0].x)>1e-4?Et[0].y+=1:Et[0].x+=1,Et[0].cross(yt),Et[0].normalize(),Et[4]=Et[0].clone(),Et[4].crossVectors(Et[0],yt),Et[4].normalize(),Et[8]=Et[0].clone().negate(),Et[12]=Et[4].clone().negate(),Et[2]=Et[0].clone().add(Et[4]).normalize(),Et[6]=Et[4].clone().add(Et[8]).normalize(),Et[10]=Et[8].clone().add(Et[12]).normalize(),Et[14]=Et[12].clone().add(Et[0]).normalize(),Et[1]=Et[0].clone().add(Et[2]).normalize(),Et[3]=Et[2].clone().add(Et[4]).normalize(),Et[5]=Et[4].clone().add(Et[6]).normalize(),Et[7]=Et[6].clone().add(Et[8]).normalize(),Et[9]=Et[8].clone().add(Et[10]).normalize(),Et[11]=Et[10].clone().add(Et[12]).normalize(),Et[13]=Et[12].clone().add(Et[14]).normalize(),Et[15]=Et[14].clone().add(Et[0]).normalize();var Mt=ct.vertices,St=ct.vertexArray,At=ct.faceArray,Rt=ct.normalArray,Ct=ct.lineArray,Pt,Lt,Ot;for(Lt=0,Ot=Et.length;Lt<Ot;++Lt){Pt=3*(Mt+3*Lt);var It=Et[Lt].clone().multiplyScalar(ut).add(st),$t=Et[Lt].clone().multiplyScalar(ut).add(ft),jt=Et[Lt].clone().multiplyScalar(ut*et).add(ft);if(St[Pt]=It.x,St[Pt+1]=It.y,St[Pt+2]=It.z,St[Pt+3]=$t.x,St[Pt+4]=$t.y,St[Pt+5]=$t.z,St[Pt+6]=jt.x,St[Pt+7]=jt.y,St[Pt+8]=jt.z,Lt>0){var Zt=St[Pt-3],qt=St[Pt-2],er=St[Pt-1],Yt=new j.Vector3(Zt,qt,er),Qt=new j.Vector3(ot.x,ot.y,ot.z),cr=ft.clone(),lr=new j.Vector3(jt.x,jt.y,jt.z);nt.intersectionShape.triangle.push(new _.Triangle(lr,Qt,Yt)),nt.intersectionShape.triangle.push(new _.Triangle(Yt.clone(),cr,lr.clone()))}}ct.vertices+=48,Pt=ct.vertices*3,St[Pt]=st.x,St[Pt+1]=st.y,St[Pt+2]=st.z,St[Pt+3]=ft.x,St[Pt+4]=ft.y,St[Pt+5]=ft.z,St[Pt+6]=ot.x,St[Pt+7]=ot.y,St[Pt+8]=ot.z,ct.vertices+=3;var gr,rr,Gt,nr,_r,Sr,Ar,Rr,Mr,wr,Tr,fr,pr,Lr,Or,Bt,Ut,Wt,ar,Xt=ct.vertices-3,Er=ct.vertices-2,mr=ct.vertices-1,Dt=Xt*3,Jt=Er*3,sr=mr*3;for(Lt=0,Ot=Et.length-1;Lt<Ot;++Lt){var Cr=Mt+3*Lt;Pt=Cr*3,rr=ct.faceidx,Gt=ct.lineidx,nr=Cr,wr=nr*3,_r=Cr+1,Tr=_r*3,Sr=Cr+2,fr=Sr*3,Ar=Cr+4,pr=Ar*3,Rr=Cr+5,Lr=Rr*3,Mr=Cr+3,Or=Mr*3,Bt=Ut=Et[Lt],Wt=ar=Et[Lt+1],Rt[wr]=Bt.x,Rt[Tr]=Ut.x,Rt[Or]=ar.x,Rt[wr+1]=Bt.y,Rt[Tr+1]=Ut.y,Rt[Or+1]=ar.y,Rt[wr+2]=Bt.z,Rt[Tr+2]=Ut.z,Rt[Or+2]=ar.z,Rt[Tr]=Ut.x,Rt[pr]=Wt.x,Rt[Or]=ar.x,Rt[Tr+1]=Ut.y,Rt[pr+1]=Wt.y,Rt[Or+1]=ar.y,Rt[Tr+2]=Ut.z,Rt[pr+2]=Wt.z,Rt[Or+2]=ar.z,Rt[fr]=Ut.x,Rt[Lr]=Wt.x,Rt[fr+1]=Ut.y,Rt[Lr+1]=Wt.y,Rt[fr+2]=Ut.z,Rt[Lr+2]=Wt.z,At[rr]=nr,At[rr+1]=_r,At[rr+2]=Mr,At[rr+3]=_r,At[rr+4]=Ar,At[rr+5]=Mr,At[rr+6]=nr,At[rr+7]=Mr,At[rr+8]=Xt,At[rr+9]=Sr,At[rr+10]=Er,At[rr+11]=Rr,At[rr+12]=Sr,At[rr+13]=mr,At[rr+14]=Rr,Ct[Gt]=nr,Ct[Gt+1]=_r,Ct[Gt+2]=nr,Ct[Gt+3]=Mr,Ct[Gt+4]=Ar,Ct[Gt+5]=Mr,Ct[Gt+6]=nr,Ct[Gt+7]=Mr,Ct[Gt+8]=Sr,Ct[Gt+9]=_r,Ct[Gt+10]=Sr,Ct[Gt+11]=Rr,Ct[Gt+12]=Ar,Ct[Gt+13]=Rr,Ct[Gt+14]=Sr,Ct[Gt+15]=mr,Ct[Gt+16]=Sr,Ct[Gt+17]=Rr,Ct[Gt+18]=mr,Ct[Gt+19]=Rr,ct.faceidx+=15,ct.lineidx+=20}gr=[Mt+45,Mt+46,Mt+1,Mt,Mt+47,Mt+2],rr=ct.faceidx,Gt=ct.lineidx,nr=gr[0],wr=nr*3,_r=gr[1],Tr=_r*3,Sr=gr[4],fr=Sr*3,Ar=gr[2],pr=Ar*3,Rr=gr[5],Lr=Rr*3,Mr=gr[3],Or=Mr*3,Bt=Ut=Et[15],Wt=ar=Et[0],Rt[wr]=Bt.x,Rt[Tr]=Ut.x,Rt[Or]=ar.x,Rt[wr+1]=Bt.y,Rt[Tr+1]=Ut.y,Rt[Or+1]=ar.y,Rt[wr+2]=Bt.z,Rt[Tr+2]=Ut.z,Rt[Or+2]=ar.z,Rt[Tr]=Ut.x,Rt[pr]=Wt.x,Rt[Or]=ar.x,Rt[Tr+1]=Ut.y,Rt[pr+1]=Wt.y,Rt[Or+1]=ar.y,Rt[Tr+2]=Ut.z,Rt[pr+2]=Wt.z,Rt[Or+2]=ar.z,Rt[fr]=Ut.x,Rt[Lr]=Wt.x,Rt[fr+1]=Ut.y,Rt[Lr+1]=Wt.y,Rt[fr+2]=Ut.z,Rt[Lr+2]=Wt.z,yt.normalize(),_t.normalize(),Rt[Dt]=_t.x,Rt[Jt]=Rt[sr]=yt.x,Rt[Dt+1]=_t.y,Rt[Jt+1]=Rt[sr+1]=yt.y,Rt[Dt+2]=_t.z,Rt[Jt+2]=Rt[sr+2]=yt.z,At[rr]=nr,At[rr+1]=_r,At[rr+2]=Mr,At[rr+3]=_r,At[rr+4]=Ar,At[rr+5]=Mr,At[rr+6]=nr,At[rr+7]=Mr,At[rr+8]=Xt,At[rr+9]=Sr,At[rr+10]=Er,At[rr+11]=Rr,At[rr+12]=Sr,At[rr+13]=mr,At[rr+14]=Rr,Ct[Gt]=nr,Ct[Gt+1]=_r,Ct[Gt+2]=nr,Ct[Gt+3]=Mr,Ct[Gt+4]=Ar,Ct[Gt+5]=Mr,Ct[Gt+6]=nr,Ct[Gt+7]=Mr,Ct[Gt+8]=Sr,Ct[Gt+9]=_r,Ct[Gt+10]=Sr,Ct[Gt+11]=Rr,Ct[Gt+12]=Ar,Ct[Gt+13]=Rr,Ct[Gt+14]=Sr,Ct[Gt+15]=mr,Ct[Gt+16]=Sr,Ct[Gt+17]=Rr,Ct[Gt+18]=mr,Ct[Gt+19]=Rr,ct.faceidx+=15,ct.lineidx+=20}static updateBoundingFromPoints(nt,$,_e,st){nt.center.set(0,0,0);let ot=1/0,ut=1/0,et=1/0,at=-1/0,pt=-1/0,ct=-1/0;nt.box&&(ot=nt.box.min.x,at=nt.box.max.x,ut=nt.box.min.y,pt=nt.box.max.y,et=nt.box.min.z,ct=nt.box.max.z);for(let wt=0,Et=st;wt<Et;wt++){var yt=_e[wt*3],ft=_e[wt*3+1],_t=_e[wt*3+2];yt<ot&&(ot=yt),ft<ut&&(ut=ft),_t<et&&(et=_t),yt>at&&(at=yt),ft>pt&&(pt=ft),_t>ct&&(ct=_t)}nt.center.set((at+ot)/2,(pt+ut)/2,(ct+et)/2),nt.radius=nt.center.distanceTo({x:at,y:pt,z:ct}),nt.box={min:{x:ot,y:ut,z:et},max:{x:at,y:pt,z:ct}}}static addCustomGeo(nt,$,_e,st,ot){var ut=$.addGeoGroup(),et=_e.vertexArr,at=_e.normalArr,pt=_e.faceArr;ut.vertices=et.length,ut.faceidx=pt.length;var ct,yt,ft,_t,wt,Et,Mt,St,At,Rt=ut.vertexArray,Ct=ut.colorArray;for(st.constructor!==Array&&(St=st.r,At=st.g,_t=st.b),Et=0,Mt=ut.vertices;Et<Mt;++Et)ct=Et*3,yt=et[Et],Rt[ct]=yt.x,Rt[ct+1]=yt.y,Rt[ct+2]=yt.z,st.constructor===Array&&(wt=st[Et],St=wt.r,At=wt.g,_t=wt.b),Ct[ct]=St,Ct[ct+1]=At,Ct[ct+2]=_t;if(ot)for(Et=0,Mt=ut.faceidx/3;Et<Mt;++Et){ct=Et*3,ft=pt[ct],_t=pt[ct+1],wt=pt[ct+2];var Pt=new j.Vector3,Lt=new j.Vector3,Ot=new j.Vector3;nt.intersectionShape.triangle.push(new _.Triangle(Pt.copy(et[ft]),Lt.copy(et[_t]),Ot.copy(et[wt])))}if(ot){var It=new j.Vector3(0,0,0),$t=0;for(let qt=0;qt<$.geometryGroups.length;qt++)It.add($.geometryGroups[qt].getCentroid()),$t++;It.divideScalar($t),vt.updateBoundingFromPoints(nt.boundingSphere,{centroid:It},Rt,ut.vertices)}if(ut.faceArray=new Uint16Array(pt),ut.truncateArrayBuffers(!0,!0),at.length<ut.vertices)ut.setNormals();else{var jt=ut.normalArray=new Float32Array(ut.vertices*3),Zt;for(Et=0,Mt=ut.vertices;Et<Mt;++Et)ct=Et*3,Zt=at[Et],jt[ct]=Zt.x,jt[ct+1]=Zt.y,jt[ct+2]=Zt.z}ut.setLineIndices(),ut.lineidx=ut.lineArray.length}static updateFromStyle(nt,$){typeof $.color<"u"?(nt.color=$.color||new rt.Color,$.color instanceof rt.Color||(nt.color=rt.CC.color($.color))):nt.color=rt.CC.color(0),nt.wireframe=!!$.wireframe,nt.opacity=$.alpha?(0,j.clamp)($.alpha,0,1):1,typeof $.opacity<"u"&&(nt.opacity=(0,j.clamp)($.opacity,0,1)),nt.side=$.side!==void 0?$.side:a.DoubleSide,nt.linewidth=typeof $.linewidth>"u"?1:$.linewidth,nt.clickable=!!$.clickable,nt.callback=(0,gt.makeFunction)($.callback),nt.hoverable=!!$.hoverable,nt.hover_callback=(0,gt.makeFunction)($.hover_callback),nt.unhover_callback=(0,gt.makeFunction)($.unhover_callback),nt.contextMenuEnabled=!!$.contextMenuEnabled,nt.hidden=$.hidden,nt.frame=$.frame}constructor(nt){this.color=16777215,this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.contextMenuEnabled=!1,this.side=a.DoubleSide,this.stylespec=nt||{},this.boundingSphere=new _.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},vt.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new a.Geometry(!0),this.linegeo=new a.Geometry(!0)}updateStyle(nt){for(var $ in nt)this.stylespec[$]=nt[$];if(vt.updateFromStyle(this,this.stylespec),nt.voldata&&nt.volscheme){(0,gt.adjustVolumeStyle)(nt);const _e=nt.volscheme,st=nt.voldata,ot=rt.CC,ut=_e.range()||[-1,1];this.geo.setColors(function(et,at,pt){let ct=st.getVal(et,at,pt);return ot.color(_e.valueToHex(ct,ut))}),delete this.color}}addCustom(nt){nt.vertexArr=nt.vertexArr||[],nt.faceArr=nt.faceArr||[],nt.normalArr=nt.normalArr||[],vt.drawCustom(this,this.geo,nt)}addSphere(nt){nt.center||(nt.center=new j.Vector3(0,0,0)),nt.radius=nt.radius?(0,j.clamp)(nt.radius,0,1/0):1.5,nt.color=rt.CC.color(nt.color),this.intersectionShape.sphere.push(new _.Sphere(nt.center,nt.radius)),dt.GLDraw.drawSphere(this.geo,nt.center,nt.radius,nt.color,nt.quality),this.components.push({centroid:new j.Vector3(nt.center.x,nt.center.y,nt.center.z)});var $=this.geo.updateGeoGroup(0);vt.updateBoundingFromPoints(this.boundingSphere,this.components,$.vertexArray,$.vertices)}addBox(nt){var $=nt.dimensions||{w:1,h:1,d:1},_e;typeof $.w=="number"?_e={x:$.w,y:0,z:0}:_e=$.w;var st;typeof $.h=="number"?st={x:0,y:$.h,z:0}:st=$.h;var ot;typeof $.d=="number"?ot={x:0,y:0,z:$.d}:ot=$.d;var ut=nt.corner;ut==null&&(nt.center!==void 0?ut={x:nt.center.x-.5*(_e.x+st.x+ot.x),y:nt.center.y-.5*(_e.y+st.y+ot.y),z:nt.center.z-.5*(_e.z+st.z+ot.z)}:ut={x:0,y:0,z:0});var et=[{x:ut.x,y:ut.y,z:ut.z},{x:ut.x+_e.x,y:ut.y+_e.y,z:ut.z+_e.z},{x:ut.x+st.x,y:ut.y+st.y,z:ut.z+st.z},{x:ut.x+_e.x+st.x,y:ut.y+_e.y+st.y,z:ut.z+_e.z+st.z},{x:ut.x+ot.x,y:ut.y+ot.y,z:ut.z+ot.z},{x:ut.x+_e.x+ot.x,y:ut.y+_e.y+ot.y,z:ut.z+_e.z+ot.z},{x:ut.x+st.x+ot.x,y:ut.y+st.y+ot.y,z:ut.z+st.z+ot.z},{x:ut.x+_e.x+st.x+ot.x,y:ut.y+_e.y+st.y+ot.y,z:ut.z+_e.z+st.z+ot.z}],at=[],pt=[];at.splice(at.length,0,et[0],et[1],et[2],et[3]),pt.splice(pt.length,0,0,2,1,1,2,3);var ct=4;at.splice(at.length,0,et[2],et[3],et[6],et[7]),pt.splice(pt.length,0,ct+0,ct+2,ct+1,ct+1,ct+2,ct+3),ct+=4,at.splice(at.length,0,et[4],et[5],et[0],et[1]),pt.splice(pt.length,0,ct+0,ct+2,ct+1,ct+1,ct+2,ct+3),ct+=4,at.splice(at.length,0,et[6],et[7],et[4],et[5]),pt.splice(pt.length,0,ct+0,ct+2,ct+1,ct+1,ct+2,ct+3),ct+=4,at.splice(at.length,0,et[3],et[1],et[7],et[5]),pt.splice(pt.length,0,ct+0,ct+2,ct+1,ct+1,ct+2,ct+3),ct+=4,at.splice(at.length,0,et[2],et[6],et[0],et[4]),pt.splice(pt.length,0,ct+0,ct+2,ct+1,ct+1,ct+2,ct+3),ct+=4;var yt=(0,gt.extend)({},nt);yt.vertexArr=at,yt.faceArr=pt,yt.normalArr=[],vt.drawCustom(this,this.geo,yt);var ft=new j.Vector3;this.components.push({centroid:ft.addVectors(et[0],et[7]).multiplyScalar(.5)});var _t=this.geo.updateGeoGroup(0);vt.updateBoundingFromPoints(this.boundingSphere,this.components,_t.vertexArray,_t.vertices)}addCylinder(nt){var $,_e;nt.start?$=new j.Vector3(nt.start.x||0,nt.start.y||0,nt.start.z||0):$=new j.Vector3(0,0,0),nt.end?(_e=new j.Vector3(nt.end.x,nt.end.y||0,nt.end.z||0),typeof _e.x>"u"&&(_e.x=3)):_e=new j.Vector3(0,0,0);var st=nt.radius||.1,ot=rt.CC.color(nt.color);this.intersectionShape.cylinder.push(new _.Cylinder($,_e,st)),dt.GLDraw.drawCylinder(this.geo,$,_e,st,ot,nt.fromCap,nt.toCap);var ut=new j.Vector3;this.components.push({centroid:ut.addVectors($,_e).multiplyScalar(.5)});var et=this.geo.updateGeoGroup(0);vt.updateBoundingFromPoints(this.boundingSphere,this.components,et.vertexArray,et.vertices)}addDashedCylinder(nt){nt.dashLength=nt.dashLength||.25,nt.gapLength=nt.gapLength||.25;var $;nt.start?$=new j.Vector3(nt.start.x||0,nt.start.y||0,nt.start.z||0):$=new j.Vector3(0,0,0);var _e;nt.end?(_e=new j.Vector3(nt.end.x,nt.end.y||0,nt.end.z||0),typeof _e.x>"u"&&(_e.x=3)):_e=new j.Vector3(3,0,0);for(var st=nt.radius||.1,ot=rt.CC.color(nt.color),ut=Math.sqrt(Math.pow($.x-_e.x,2)+Math.pow($.y-_e.y,2)+Math.pow($.z-_e.z,2)),et=ut/(nt.gapLength+nt.dashLength),at=new j.Vector3(nt.start.x||0,nt.start.y||0,nt.start.z||0),pt=new j.Vector3(nt.end.x,nt.end.y||0,nt.end.z||0),ct=new j.Vector3((_e.x-$.x)/(ut/nt.gapLength),(_e.y-$.y)/(ut/nt.gapLength),(_e.z-$.z)/(ut/nt.gapLength)),yt=new j.Vector3((_e.x-$.x)/(ut/nt.dashLength),(_e.y-$.y)/(ut/nt.dashLength),(_e.z-$.z)/(ut/nt.dashLength)),ft=0;ft<et;ft++)pt=new j.Vector3(at.x+yt.x,at.y+yt.y,at.z+yt.z),this.intersectionShape.cylinder.push(new _.Cylinder(at,pt,st)),dt.GLDraw.drawCylinder(this.geo,at,pt,st,ot,nt.fromCap,nt.toCap),at=new j.Vector3(pt.x+ct.x,pt.y+ct.y,pt.z+ct.z);var _t=new j.Vector3;this.components.push({centroid:_t.addVectors($,_e).multiplyScalar(.5)});var wt=this.geo.updateGeoGroup(0);vt.updateBoundingFromPoints(this.boundingSphere,this.components,wt.vertexArray,wt.vertices)}addCurve(nt){nt.points=nt.points||[],nt.smooth=nt.smooth||10,typeof nt.fromCap>"u"&&(nt.fromCap=2),typeof nt.toCap>"u"&&(nt.toCap=2);var $=(0,lt.subdivide_spline)(nt.points,nt.smooth);if($.length<3){console.log("Too few points in addCurve");return}var _e=nt.radius||.1,st=rt.CC.color(nt.color),ot=0,ut=$.length-1,et=$[0].distanceTo($[1]),at=Math.ceil(2*_e/et);if(nt.toArrow){ut-=at;let ft={start:$[ut],end:$[$.length-1],radius:_e,color:st,mid:1e-4};this.addArrow(ft)}if(nt.fromArrow){ot+=at;let ft={start:$[ot],end:$[0],radius:_e,color:st,mid:1e-4};this.addArrow(ft)}for(var pt=Math.ceil($.length/2),ct={radius:_e,color:st,fromCap:2,toCap:2},yt=ot;yt<ut;yt++)ct.start=$[yt],ct.end=$[yt+1],ct.fromCap=2,ct.toCap=2,yt<pt?(ct.fromCap=2,ct.toCap=0):yt>pt?(ct.fromCap=0,ct.toCap=2):(ct.fromCap=2,ct.toCap=2),this.addCylinder(ct)}addLine(nt){var $,_e;nt.start?$=new j.Vector3(nt.start.x||0,nt.start.y||0,nt.start.z||0):$=new j.Vector3(0,0,0),nt.end?(_e=new j.Vector3(nt.end.x,nt.end.y||0,nt.end.z||0),typeof _e.x>"u"&&(_e.x=3)):_e=new j.Vector3(3,0,0);var st=this.geo.updateGeoGroup(2),ot=st.vertices,ut=ot*3,et=st.vertexArray;et[ut]=$.x,et[ut+1]=$.y,et[ut+2]=$.z,et[ut+3]=_e.x,et[ut+4]=_e.y,et[ut+5]=_e.z,st.vertices+=2;var at=st.lineArray,pt=st.lineidx;at[pt]=ot,at[pt+1]=ot+1,st.lineidx+=2;var ct=new j.Vector3;this.components.push({centroid:ct.addVectors($,_e).multiplyScalar(.5)}),st=this.geo.updateGeoGroup(0),vt.updateBoundingFromPoints(this.boundingSphere,this.components,st.vertexArray,st.vertices)}addArrow(nt){if(nt.start?nt.start=new j.Vector3(nt.start.x||0,nt.start.y||0,nt.start.z||0):nt.start=new j.Vector3(0,0,0),nt.dir instanceof j.Vector3&&typeof nt.length=="number"){var $=nt.dir.clone().multiplyScalar(nt.length).add(nt.start);nt.end=$}else nt.end?(nt.end=new j.Vector3(nt.end.x,nt.end.y||0,nt.end.z||0),typeof nt.end.x>"u"&&(nt.end.x=3)):nt.end=new j.Vector3(3,0,0);nt.radius=nt.radius||.1,nt.radiusRatio=nt.radiusRatio||1.618034,nt.mid=0<nt.mid&&nt.mid<1?nt.mid:.618034,vt.drawArrow(this,this.geo,nt);var _e=new j.Vector3;this.components.push({centroid:_e.addVectors(nt.start,nt.end).multiplyScalar(.5)});var st=this.geo.updateGeoGroup(0);vt.updateBoundingFromPoints(this.boundingSphere,this.components,st.vertexArray,st.vertices)}static distance_from(nt,$){return Math.sqrt(Math.pow(nt.x-$.x,2)+Math.pow(nt.y-$.y,2)+Math.pow(nt.z-$.z,2))}static inSelectedRegion(nt,$,_e){for(var st=0;st<$.length;st++)if(vt.distance_from($[st],nt)<=_e)return!0;return!1}addIsosurface(nt,$,_e,st){var ot=$.isoval!==void 0&&typeof $.isoval=="number"?$.isoval:0,ut=!!$.voxel,et=$.smoothness===void 0?1:$.smoothness,at=nt.size.x,pt=nt.size.y,ct=nt.size.z,yt=new Int16Array(at*pt*ct),ft=nt.data,_t,wt;for(_t=0,wt=yt.length;_t<wt;++_t)yt[_t]=-1;var Et=new Uint8Array(at*pt*ct);for(_t=0,wt=ft.length;_t<wt;++_t){var Mt=ot>=0?ft[_t]-ot:ot-ft[_t];Mt>0&&(Et[_t]|=vt.ISDONE)}var St=[],At=[];tt.MarchingCube.march(Et,St,At,{fulltable:!0,voxel:ut,unitCube:nt.unit,origin:nt.origin,matrix:nt.matrix,nX:at,nY:pt,nZ:ct}),!ut&&et>0&&tt.MarchingCube.laplacianSmooth(et,St,At);var Rt=[],Ct=[],Pt=[];if($.selectedRegion&&$.coords===void 0&&($.coords=$.selectedRegion),$.coords===void 0&&$.selection!==void 0&&(st?$.coords=st.selectedAtoms($.selection):console.log("addIsosurface needs viewer is selection provided.")),$.coords!==void 0){var Lt=$.coords[0].x,Ot=$.coords[0].y,It=$.coords[0].z,$t=$.coords[0].x,jt=$.coords[0].y,Zt=$.coords[0].z;for(let Gt=0;Gt<$.coords.length;Gt++)$.coords[Gt].x>Lt?Lt=$.coords[Gt].x:$.coords[Gt].x<$t&&($t=$.coords[Gt].x),$.coords[Gt].y>Ot?Ot=$.coords[Gt].y:$.coords[Gt].y<jt&&(jt=$.coords[Gt].y),$.coords[Gt].z>It?It=$.coords[Gt].z:$.coords[Gt].z<Zt&&(Zt=$.coords[Gt].z);var qt=2;$.radius!==void 0&&(qt=$.radius),$.selectedOffset!==void 0&&(qt=$.selectedOffset),$.seldist!==void 0&&(qt=$.seldist),$t-=qt,Lt+=qt,jt-=qt,Ot+=qt,Zt-=qt,It+=qt;for(let Gt=0;Gt<St.length;Gt++)St[Gt].x>$t&&St[Gt].x<Lt&&St[Gt].y>jt&&St[Gt].y<Ot&&St[Gt].z>Zt&&St[Gt].z<It&&vt.inSelectedRegion(St[Gt],$.coords,qt)?(Rt.push(Ct.length),Ct.push(St[Gt])):Rt.push(-1);for(let Gt=0;Gt+2<At.length;Gt+=3)Rt[At[Gt]]!==-1&&Rt[At[Gt+1]]!==-1&&Rt[At[Gt+2]]!==-1&&(Pt.push(At[Gt]-(At[Gt]-Rt[At[Gt]])),Pt.push(At[Gt+1]-(At[Gt+1]-Rt[At[Gt+1]])),Pt.push(At[Gt+2]-(At[Gt+2]-Rt[At[Gt+2]])));St=Ct,At=Pt}vt.drawCustom(this,this.geo,{vertexArr:St,faceArr:At,normalArr:[],clickable:$.clickable,hoverable:$.hoverable}),this.updateStyle($);var er=new j.Vector3(nt.origin.x,nt.origin.y,nt.origin.z),Yt=new j.Vector3(nt.size.x*nt.unit.x,nt.size.y*nt.unit.y,nt.size.z*nt.unit.z),Qt=new j.Vector3(0,0,0),cr=er.clone(),lr=er.clone().add(Yt);for(let Gt=0;Gt<St.length;Gt++)Qt.add(St[Gt]),cr.max(St[Gt]),lr.min(St[Gt]);Qt.divideScalar(St.length);var gr=Qt.distanceTo(lr),rr=Qt.distanceTo(cr);this.boundingSphere.center=Qt,this.boundingSphere.radius=Math.max(gr,rr),typeof _e=="function"&&_e()}addVolumetricData(nt,$,_e){nt=new it.VolumeData(nt,$),this.addIsosurface(nt,_e)}finalize(){return vt.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(nt){if(this.renderedShapeObj&&(nt.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){vt.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),typeof this.color<"u"&&vt.updateColor(this.geo,this.color),this.shapeObj=new a.Object3D;var $=null;this.side==a.DoubleSide?$=new a.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:a.Coloring.VertexColors}):$=new a.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:a.Coloring.VertexColors});var _e=new a.Mesh(this.geo,$);if(this.shapeObj.add(_e),this.linegeo&&this.linegeo.vertices>0){var st=new a.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),ot=new a.Line(this.linegeo,st,a.LineStyle.LinePieces);this.shapeObj.add(ot)}this.renderedShapeObj=this.shapeObj.clone(),nt.add(this.renderedShapeObj)}}removegl(nt){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),nt.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}vt.ISDONE=2,vt.drawCustom=function(mt,nt,$){var _e=$,st=_e.vertexArr,ot=_e.faceArr;(st.length===0||ot.length===0)&&console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var ut=$.color;typeof ut>"u"&&(ut=mt.color),ut=rt.CC.color(ut);for(var et=ht(_e),at=0,pt=et.length;at<pt;at++)vt.addCustomGeo(mt,nt,et[at],et[at].colorArr?et[at].colorArr:ut,$.clickable)};function ht(mt){var nt=64e3;if(mt.vertexArr.length<nt)return[mt];var $=[{vertexArr:[],normalArr:[],faceArr:[]}];mt.colorArr&&($.colorArr=[]);var _e=[],st=[],ot=0,ut=mt.faceArr;for(let at=0,pt=ut.length;at<pt;at+=3){let ct=$[ot];for(let yt=0;yt<3;yt++){var et=ut[at+yt];_e[et]!==ot&&(_e[et]=ot,st[et]=ct.vertexArr.length,ct.vertexArr.push(mt.vertexArr[et]),mt.normalArr&&mt.normalArr[et]&&ct.normalArr.push(mt.normalArr[et]),mt.colorArr&&mt.colorArr[et]&&ct.colorArr.push(mt.colorArr[et])),ct.faceArr.push(st[et])}ct.vertexArr.length>=nt&&($.push({vertexArr:[],normalArr:[],faceArr:[]}),mt.colorArr&&($.colorArr=[]),ot++)}return $}},"./src/GLViewer.ts":(i,s,o)=>{o.r(s),o.d(s,{CONTEXTS_PER_VIEWPORT:()=>nt,GLViewer:()=>$,createStereoViewer:()=>ot,createViewer:()=>_e,createViewerGrid:()=>st});var a=o("./src/WebGL/index.ts"),_=o("./src/WebGL/math/index.ts"),j=o("./src/colors.ts"),rt=o("./src/utilities.ts"),tt=o("./src/Gradient.ts"),it=o("./src/GLModel.ts"),dt=o("./src/Label.ts"),lt=o("./src/GLShape.ts"),gt=o("./src/VolumeData.ts"),vt=o("./src/ProteinSurface4.ts"),ht=o("./src/VolumetricRender.ts"),mt=o("./node_modules/upng-js/UPNG.js");const nt=16;class ${getWidth(){let et=this.container,at=et.offsetWidth;if(at==0&&et.style.display==="none"){let pt=et.style.position,ct=et.style.visibility;et.style.display="block",et.style.visibility="hidden",et.style.position="absolute",at=et.offsetWidth,et.style.display="none",et.style.visibility=ct,et.style.position=pt}return at}getHeight(){let et=this.container,at=et.offsetHeight;if(at==0&&et.style.display==="none"){let pt=et.style.position,ct=et.style.visibility;et.style.display="block",et.style.visibility="hidden",et.style.position="absolute",at=et.offsetHeight,et.style.display="none",et.style.visibility=ct,et.style.position=pt}return at}setupRenderer(){this.renderer=new a.Renderer({antialias:this.config.antialias,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:this.config.id,row:this.config.row,col:this.config.col,rows:this.config.rows,cols:this.config.cols,canvas:this.config.canvas,containerWidth:this.WIDTH,containerHeight:this.HEIGHT,ambientOcclusion:this.config.ambientOcclusion,outline:this.config.outline}),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new a.Scene,this.scene.fog=new a.Fog(this.bgColor,100,200),this.modelGroup=new a.Object3D,this.rotationGroup=new a.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new _.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var et=new a.Light(16777215);et.position=new _.Vector3(.2,.2,1).normalize(),et.intensity=1,this.scene.add(et)}_handleLostContext(et){const at=function(pt){const ct=pt.getBoundingClientRect();return!(ct.right<0||ct.bottom<0||ct.top>(window.innerHeight||document.documentElement.clientHeight)||ct.left>(window.innerWidth||document.documentElement.clientWidth))};if(at(this.container)){let pt=0;for(let ct of document.getElementsByTagName("canvas"))if(at(ct)&&ct._3dmol_viewer!=null&&(ct._3dmol_viewer.resize(),pt+=1,pt>=nt))break}}initContainer(et){this.container=et,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.glDOM._3dmol_viewer=this,this.glDOM.addEventListener("webglcontextlost",this._handleLostContext.bind(this)),this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var et=0;for(let pt in this.surfaces)if(this.surfaces.hasOwnProperty(pt)){var at=parseInt(pt);isNaN(at)||at>et&&(et=at)}return et+1}setSlabAndFog(){let et=this.camera.position.z-this.rotationGroup.position.z;et<1&&(et=1),this.camera.near=et+this.slabNear,this.camera.near<1&&(this.camera.near=1),this.camera.far=et+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=et*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.far,this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(et){if(this.renderer.setViewport(),!!this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!et&&this.linkedViewers.length>0))for(var at=this._viewer.getView(),pt=0;pt<this.linkedViewers.length;pt++){var ct=this.linkedViewers[pt];ct.setView(at,!0)}}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledObjects.splice(0,this.contextMenuEnabledObjects.length);for(let et=0,at=this.models.length;et<at;et++){let pt=this.models[et];if(pt){let ct=pt.selectedAtoms({clickable:!0}),yt=pt.selectedAtoms({hoverable:!0}),ft=pt.selectedAtoms({contextMenuEnabled:!0});for(let _t=0;_t<yt.length;_t++)this.hoverables.push(yt[_t]);for(let _t=0;_t<ct.length;_t++)this.clickables.push(ct[_t]);for(let _t=0;_t<ft.length;_t++)this.contextMenuEnabledObjects.push(ft[_t])}}for(let et=0,at=this.shapes.length;et<at;et++){let pt=this.shapes[et];pt&&pt.clickable&&this.clickables.push(pt),pt&&pt.hoverable&&this.hoverables.push(pt),pt&&pt.contextMenuEnabled&&this.contextMenuEnabledObjects.push(pt)}}handleClickSelection(et,at,pt){let ct=this.targetedObjects(et,at,this.clickables);if(ct.length){var yt=ct[0].clickable;yt.callback!==void 0&&(typeof yt.callback!="function"&&(yt.callback=(0,rt.makeFunction)(yt.callback)),typeof yt.callback=="function"&&(this.mouseButton===3&&this.contextMenuEnabledObjects.includes(yt)&&this.userContextMenuHandler||yt.callback(yt,this._viewer,pt,this.container,ct)))}}canvasOffset(){let et=this.glDOM,at=et.getBoundingClientRect(),pt=et.ownerDocument,ct=pt.documentElement,yt=pt.defaultView;return{top:at.top+yt.pageYOffset-ct.clientTop,left:at.left+yt.pageXOffset-ct.clientLeft}}setHover(et,at,pt){this.current_hover!=et&&(this.current_hover&&(typeof this.current_hover.unhover_callback!="function"&&(this.current_hover.unhover_callback=(0,rt.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,at,this.container,pt)),this.current_hover=et,et&&et.hover_callback!==void 0&&(typeof et.hover_callback!="function"&&(et.hover_callback=(0,rt.makeFunction)(et.hover_callback)),typeof et.hover_callback=="function"&&et.hover_callback(et,this._viewer,at,this.container,pt)))}handleHoverSelection(et,at,pt){if(this.hoverables.length==0)return;let ct=this.targetedObjects(et,at,this.hoverables);if(ct.length){var yt=ct[0].clickable;this.setHover(yt,pt,ct),this.current_hover=yt}else this.setHover(null)}handleHoverContinue(et,at){let pt=this.targetedObjects(et,at,this.hoverables);(pt.length==0||pt[0]===void 0)&&this.setHover(null),pt[0]!==void 0&&pt[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(et,{allowTolerance:at=et.targetTouches,tolerance:pt=5}={}){const ct=this.getX(et),yt=this.getY(et);if(at){const ft=Math.abs(ct-this.mouseStartX),_t=Math.abs(yt-this.mouseStartY);return ft<=pt&&_t<=pt}else return ct===this.mouseStartX&&yt===this.mouseStartY}calcTouchDistance(et){var at=et.targetTouches[0].pageX-et.targetTouches[1].pageX,pt=et.targetTouches[0].pageY-et.targetTouches[1].pageY;return Math.hypot(at,pt)}getX(et){var at=et.pageX;return at==null&&(at=et.pageX),et.targetTouches&&et.targetTouches[0]?at=et.targetTouches[0].pageX:et.changedTouches&&et.changedTouches[0]&&(at=et.changedTouches[0].pageX),at}getY(et){var at=et.pageY;return at==null&&(at=et.pageY),et.targetTouches&&et.targetTouches[0]?at=et.targetTouches[0].pageY:et.changedTouches&&et.changedTouches[0]&&(at=et.changedTouches[0].pageY),at}isInViewer(et,at){if(this.viewers!=null){var pt=this.WIDTH/this.cols,ct=this.HEIGHT/this.rows,yt=this.canvasOffset(),ft=et-yt.left,_t=at-yt.top,wt=this.rows-Math.floor(_t/ct)-1,Et=Math.floor(ft/pt);if(wt!=this.row||Et!=this.col)return!1}return!0}adjustZoomToLimits(et){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let at=this.CAMERA_Z-this.config.lowerZoomLimit;et>at&&(et=at)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let at=this.CAMERA_Z-this.config.upperZoomLimit;et<at&&(et=at)}return et>this.CAMERA_Z-1&&(et=this.CAMERA_Z-1),et}static slerp(et,at,pt){if(pt==1)return at.clone();if(pt==0)return et.clone();let ct=et.x*at.x+et.y*at.y+et.z*at.z+et.w*at.w;if(ct>.9995){let St=new _.Quaternion(et.x+pt*(at.x-et.x),et.y+pt*(at.y-et.y),et.z+pt*(at.z-et.z),et.w+pt*(at.w-et.w));return St.normalize(),St}ct<0&&(at=at.clone().multiplyScalar(-1),ct=-ct),ct>1?ct=1:ct<-1&&(ct=-1);var yt=Math.acos(ct),ft=yt*pt,_t=at.clone();_t.sub(et.clone().multiplyScalar(ct)),_t.normalize();var wt=Math.cos(ft),Et=Math.sin(ft),Mt=new _.Quaternion(et.x*wt+_t.x*Et,et.y*wt+_t.y*Et,et.z*wt+_t.z*Et,et.w*wt+_t.w*Et);return Mt.normalize(),Mt}constructor(et,at={}){if(this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledObjects=[],this.current_hover=null,this.hoverDuration=500,this.longTouchDuration=1e3,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.slabNear=-50,this.slabFar=50,this.cq=new _.Quaternion(0,0,0,1),this.dq=new _.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=at,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=j.elementColors.defaultColors),this.nomouse=!!this.config.nomouse,this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",typeof this.config.backgroundColor<"u"&&(this.bgColor=j.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=this.config.backgroundAlpha==null?1:this.config.backgroundAlpha,this.camerax=0,typeof this.config.camerax<"u"&&(this.camerax=typeof this.config.camerax=="string"?parseFloat(this.config.camerax):this.config.camerax),this._viewer=this,this.container=et,this.config.hoverDuration!=null&&(this.hoverDuration=this.config.hoverDuration),this.config.antialias===void 0&&(this.config.antialias=!0),this.config.cartoonQuality===void 0&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=this.config.row==null?0:this.config.row,this.col=this.config.col==null?0:this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new a.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new _.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new _.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new a.Raycaster(new _.Vector3(0,0,0),new _.Vector3(0,0,0)),this.projector=new a.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=j.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),typeof window.ResizeObserver<"u"&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container)),typeof window.IntersectionObserver<"u"){let pt=(ct,yt)=>{ct.forEach(ft=>{ft.isIntersecting&&this.resize()})};this.intwatcher=new window.IntersectionObserver(pt),this.intwatcher.observe(this.container)}try{typeof this.callback=="function"&&this.callback(this)}catch(pt){console.log("error with glviewer callback: "+pt)}}targetedObjects(et,at,pt){var ct={x:et,y:at,z:-1};return Array.isArray(pt)||(pt=this.selectedAtoms(pt)),pt.length==0?[]:(this.raycaster.setFromCamera(ct,this.camera),this.raycaster.intersectObjects(this.modelGroup,pt))}modelToScreen(et){let at=!1;Array.isArray(et)||(et=[et],at=!0);let pt=this.renderer.getXRatio(),ct=this.renderer.getYRatio(),yt=this.col,ft=this.row,_t=yt*(this.WIDTH/pt),wt=(ct-ft-1)*(this.HEIGHT/ct),Et=[],Mt=this.canvasOffset();return et.forEach(St=>{let At=new _.Vector3(St.x,St.y,St.z);At.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(At,this.camera);let Rt=this.WIDTH/pt*(At.x+1)/2+Mt.left+_t,Ct=-(this.HEIGHT/ct)*(At.y-1)/2+Mt.top+wt;Et.push({x:Rt,y:Ct})}),at&&(Et=Et[0]),Et}screenOffsetToModel(et,at,pt){var ct=et/this.WIDTH,yt=at/this.HEIGHT,ft=pt===void 0?this.rotationGroup.position.z:pt,_t=this.rotationGroup.quaternion,wt=new _.Vector3(0,0,ft);return this.projector.projectVector(wt,this.camera),wt.x+=ct*2,wt.y-=yt*2,this.projector.unprojectVector(wt,this.camera),wt.z=0,wt.applyQuaternion(_t),wt}screenToModelDistance(et,at){let pt=this.canvasOffset(),ct=new _.Vector3(at.x,at.y,at.z);ct.applyMatrix4(this.modelGroup.matrixWorld);let yt=ct.clone();this.projector.projectVector(ct,this.camera);let ft=new _.Vector3((et.x-pt.left)*2/this.WIDTH-1,(et.y-pt.top)*2/-this.HEIGHT+1,ct.z);return this.projector.unprojectVector(ft,this.camera),ft.distanceTo(yt)}setViewChangeCallback(et){(typeof et=="function"||et==null)&&(this.viewChangeCallback=et)}setStateChangeCallback(et){(typeof et=="function"||et==null)&&(this.stateChangeCallback=et)}getConfig(){return this.config}setConfig(et){this.config=et,et.ambientOcclusion&&this.renderer.enableAmbientOcclusion(et.ambientOcclusion)}getInternalState(){var et={models:[],surfaces:[],shapes:[],labels:[]};for(let at=0;at<this.models.length;at++)this.models[at]&&(et.models[at]=this.models[at].getInternalState());return et}setInternalState(et){this.clear();var at=et.models;for(let pt=0;pt<at.length;pt++)at[pt]&&(this.models[pt]=new it.GLModel(pt),this.models[pt].setInternalState(at[pt]));this.render()}setZoomLimits(et,at){typeof et<"u"&&(this.config.lowerZoomLimit=et),at&&(this.config.upperZoomLimit=at),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(et){et.fov!==void 0&&(this.fov=et.fov,this.camera.fov=this.fov),et.z!==void 0&&(this.CAMERA_Z=et.z,this.camera.z=this.CAMERA_Z),et.orthographic!==void 0&&(this.camera.ortho=et.orthographic)}_handleMouseDown(et){if(et.preventDefault(),!this.scene)return;var at=this.getX(et),pt=this.getY(et);if(at===void 0)return;this.isDragging=!0,this.mouseButton=et.which,this.mouseStartX=at,this.mouseStartY=pt,this.touchHold=!0,this.touchDistanceStart=0,et.targetTouches&&et.targetTouches.length==2&&(this.touchDistanceStart=this.calcTouchDistance(et)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let ct=this;et.targetTouches&&et.targetTouches.length===1&&(this.longTouchTimeout=setTimeout(function(){if(ct.touchHold==!0){ct.glDOM=ct.renderer.domElement;const yt=et.targetTouches[0],ft=new PointerEvent("contextmenu",Object.assign(Object.assign({},et),{pageX:yt.pageX,pageY:yt.pageY,screenX:yt.screenX,screenY:yt.screenY,clientX:yt.clientX,clientY:yt.clientY}));ct.glDOM.dispatchEvent(ft)}},this.longTouchDuration))}_handleMouseUp(et){if(this.touchHold=!1,this.isDragging&&this.scene){var at=this.getX(et),pt=this.getY(et);if(this.closeEnoughForClick(et)&&this.isInViewer(at,pt)){let ct=this.mouseXY(at,pt);this.handleClickSelection(ct.x,ct.y,et)}}this.isDragging=!1}_handleMouseScroll(et){if(et.preventDefault(),!!this.scene){var at=this.getX(et),pt=this.getY(et);if(at!==void 0&&!(!this.control_all&&!this.isInViewer(at,pt))){var ct=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,yt=1;if(et.ctrlKey&&(yt=-1),et.detail)this.rotationGroup.position.z+=yt*ct*et.detail/10;else if(et.wheelDelta){let ft=et.wheelDelta*600/(et.wheelDelta+600);this.rotationGroup.position.z-=yt*ct*ft/400}this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(et){let at=this;return et=et||1,new Promise(function(pt){let ct=0,yt=at.viewChangeCallback,ft=[],_t=[],wt=Date.now();at.viewChangeCallback=function(){_t.push(Date.now()-wt),wt=Date.now(),ft.push(new Promise(Et=>{at.getCanvas().toBlob(function(Mt){Mt.arrayBuffer().then(Et)},"image/png")})),ct+=1,ct==et&&(at.viewChangeCallback=yt,Promise.all(ft).then(Et=>{let Mt=[];for(let Lt=0;Lt<Et.length;Lt++){let Ot=(0,mt.decode)(Et[Lt]);Mt.push((0,mt.toRGBA8)(Ot)[0])}let St=at.getCanvas().width,At=at.getCanvas().height,Rt=(0,mt.encode)(Mt,St,At,0,_t),Ct=new Blob([Rt],{type:"image/png"}),Pt=new FileReader;Pt.onload=function(Lt){pt(Lt.target.result)},Pt.readAsDataURL(Ct)}))}})}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(et){this.hoverDuration=et}mouseXY(et,at){let pt=this.canvasOffset(),ct=this.renderer.getXRatio(),yt=this.renderer.getYRatio(),ft=this.col,_t=this.row,wt=ft*(this.WIDTH/ct),Et=(yt-_t-1)*(this.HEIGHT/yt),Mt=(et-pt.left-wt)/(this.WIDTH/ct)*2-1,St=-((at-pt.top-Et)/(this.HEIGHT/yt))*2+1;return{x:Mt,y:St}}_handleMouseMove(et){clearTimeout(this.hoverTimeout),et.preventDefault();let at=this.getX(et),pt=this.getY(et);if(at===void 0)return;let ct=this.renderer.getXRatio(),yt=this.renderer.getYRatio(),ft=this.mouseXY(at,pt),_t=this;this.current_hover!==null&&this.handleHoverContinue(ft.x,ft.y);var wt=0;if(!(!this.control_all&&!this.isInViewer(at,pt))&&this.scene&&(this.hoverables.length>0&&(this.hoverTimeout=setTimeout(function(){_t.handleHoverSelection(ft.x,ft.y,et)},this.hoverDuration)),!!this.isDragging)){et.targetTouches&&(et.targetTouches.length>1||et.targetTouches.length===1&&!this.closeEnoughForClick(et))&&clearTimeout(this.longTouchTimeout);var Et=(at-this.mouseStartX)/this.WIDTH,Mt=(pt-this.mouseStartY)/this.HEIGHT;if(this.touchDistanceStart!=0&&et.targetTouches&&et.targetTouches.length==2){var St=this.calcTouchDistance(et);wt=2,Mt=(St-this.touchDistanceStart)*2/(this.WIDTH+this.HEIGHT)}else et.targetTouches&&et.targetTouches.length==3&&(wt=1);Et*=ct,Mt*=yt;var At=Math.hypot(Et,Mt),Rt;if(wt==3||this.mouseButton==3&&et.ctrlKey)this.slabNear=this.cslabNear+Et*100,this.slabFar=this.cslabFar-Mt*100;else if(wt==2||this.mouseButton==3||et.shiftKey)Rt=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,Rt<80&&(Rt=80),this.rotationGroup.position.z=this.cz+Mt*Rt,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(wt==1||this.mouseButton==2||et.ctrlKey){var Ct=this.screenOffsetToModel(ct*(at-this.mouseStartX),yt*(pt-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,Ct)}else if((wt===0||this.mouseButton==1)&&At!==0){var Pt=Math.sin(At*Math.PI)/At;this.dq.x=Math.cos(At*Math.PI),this.dq.y=0,this.dq.z=Pt*Et,this.dq.w=-Pt*Mt,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}_handleContextMenu(et){if(et.preventDefault(),this.closeEnoughForClick(et)){var ct=this.mouseStartX,yt=this.mouseStartY,pt=this.canvasOffset();let ft=this.mouseXY(ct,yt),_t=ft.x,wt=ft.y,Et=this.targetedObjects(_t,wt,this.contextMenuEnabledObjects);var at=null;Et.length&&(at=Et[0].clickable);var pt=this.canvasOffset(),ct=this.mouseStartX-pt.left,yt=this.mouseStartY-pt.top;this.userContextMenuHandler&&(this.userContextMenuHandler(at,ct,yt,Et,et),this.isDragging=!1)}}setContainer(et){let at=(0,rt.getElement)(et)||this.container;return this.initContainer(at),this}setBackgroundColor(et,at){(typeof at>"u"||at<0||at>1)&&(at=1);var pt=j.CC.color(et);return this.scene.fog.color=pt,this.bgColor=pt.getHex(),this.renderer.setClearColorHex(pt.getHex(),at),this.show(),this}setProjection(et){this.camera.ortho=et==="orthographic",this.setSlabAndFog()}setViewStyle(et){if(et=et||{},et.style=et.style||"",et.style.includes("outline")?this.renderer.enableOutline(et):this.renderer.disableOutline(),et.style.includes("ambientOcclusion")){var at={};et.strength&&(at.strength=et.strength),et.radius&&(at.radius=et.radius),this.renderer.enableAmbientOcclusion(at)}else this.renderer.disableAmbientOcclusion();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(et){return this.WIDTH=et||this.WIDTH,this.updateSize(),this}setHeight(et){return this.HEIGHT=et||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let et=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0){let at=!1,pt=this.container.querySelector("canvas");pt&&pt!=this.renderer.getCanvas()?this.config.canvas=pt:(pt.remove(),this.config&&this.config.canvas!=null&&(delete this.config.canvas,at=!0)),this.setupRenderer(),this.initContainer(this.container),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),et=!0,at&&(this.config.canvas=this.renderer.getCanvas())}if(this.WIDTH==0||this.HEIGHT==0?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),et){let at=this.renderer.supportedExtensions();if(at.regen=!0,this.viewers)for(let pt=0,ct=this.viewers.length;pt<ct;pt++)for(let yt=0,ft=this.viewers[pt].length;yt<ft;yt++)this.viewers[pt][yt].render(null,at);this._viewer.render(null,at)}else this.show();return this}getModel(et){return et===void 0?this.models.length==0?null:this.models[this.models.length-1]:et instanceof it.GLModel?et:et in this.models?this.models[et]:this.models.length==0?null:this.models[this.models.length-1]}spin(et,at=1){if(clearInterval(this.spinInterval),typeof et>"u"&&(et="y"),typeof et=="boolean")if(et)et="y";else return;Array.isArray(et)&&(et={x:et[0],y:et[1],z:et[2]});var pt=this;this.spinInterval=setInterval(function(){!pt.getCanvas().isConnected&&pt.renderer.isLost()&&clearInterval(pt.spinInterval),pt.rotate(1*at,et)},25)}animateMotion(et,at,pt,ct,yt,ft){var _t=20,wt=Math.ceil(et/_t);wt<1&&(wt=1),this.incAnim();var Et={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(at){let At=new Array(wt);for(let Lt=0;Lt<wt;Lt++){let Ot=(Lt+1)/wt,It={mpos:Et.mpos,rz:Et.rz,rot:Et.rot};It.mpos=pt.clone().sub(Et.mpos).multiplyScalar(Ot).add(Et.mpos),It.rz=Et.rz+Ot*(ct-Et.rz),It.rot=$.slerp(Et.rot,yt,Ot),It.cam=ft.clone().sub(Et.cam).multiplyScalar(Ot).add(Et.cam),At[Lt]=It}let Rt=0,Ct=this,Pt=function(){var Lt=At[Rt];Rt+=1,Ct.modelGroup.position=Lt.mpos,Ct.rotationGroup.position.z=Lt.rz,Ct.rotationGroup.quaternion=Lt.rot,Ct.camera.lookAt(Lt.cam),Rt<At.length?setTimeout(Pt,_t):Ct.decAnim(),Ct.show()};setTimeout(Pt,_t)}else{var Mt={};let At=1/wt;if(pt&&(Mt.mpos=pt.clone().sub(Et.mpos).multiplyScalar(At)),typeof ct<"u"&&ct!=null&&(Mt.rz=At*(ct-Et.rz)),yt){var St=$.slerp(Et.rot,yt,At);Mt.rot=Et.rot.clone().inverse().multiply(St)}ft&&(Mt.cam=ft.clone().sub(Et.cam).multiplyScalar(At));let Rt=0,Ct=this,Pt=function(){Rt+=1,Mt.mpos&&Ct.modelGroup.position.add(Mt.mpos),Mt.rz&&(Ct.rotationGroup.position.z+=Mt.rz),Mt.rot&&Ct.rotationGroup.quaternion.multiply(Mt.rot),Mt.cam&&(Ct.lookingAt.add(Mt.cam),Ct.camera.lookAt(Ct.lookingAt)),Rt<wt?setTimeout(Pt,_t):Ct.decAnim(),Ct.show()};setTimeout(Pt,_t)}}rotate(et,at="y",pt=0,ct=!1){if(at=="x"?at={x:1,y:0,z:0}:at=="y"?at={x:0,y:1,z:0}:at=="z"&&(at={x:0,y:0,z:1}),at=="vx"?at={vx:1,vy:0,vz:0}:at=="vy"?at={vx:0,vy:1,vz:0}:at=="vz"&&(at={vx:0,vy:0,vz:1}),typeof at.vx<"u"){var yt=new _.Vector3(at.vx,at.vy,at.vz);yt.applyQuaternion(this.rotationGroup.quaternion),at={x:yt.x,y:yt.y,z:yt.z}}var ft=function(Mt){var St=Math.sin(Mt/2),At=Math.cos(Mt/2),Rt=0,Ct=0,Pt=0;return Rt=at.x*St,Ct=at.y*St,Pt=at.z*St,new _.Quaternion(Rt,Ct,Pt,At).normalize()},_t=Math.PI*et/180,wt=ft(_t);if(pt){var Et=new _.Quaternion().copy(this.rotationGroup.quaternion).multiply(wt);this.animateMotion(pt,ct,this.modelGroup.position,this.rotationGroup.position.z,Et,this.lookingAt)}else this.rotationGroup.quaternion.multiply(wt),this.show();return this}surfacesFinished(){for(var et in this.surfaces)if(!this.surfaces[et][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var et=this.modelGroup.position,at=this.rotationGroup.quaternion;return[et.x,et.y,et.z,this.rotationGroup.position.z,at.x,at.y,at.z,at.w]}setView(et,at){return et===void 0||!(et instanceof Array||et.length!==8)?this:!this.modelGroup||!this.rotationGroup?this:(this.modelGroup.position.x=et[0],this.modelGroup.position.y=et[1],this.modelGroup.position.z=et[2],this.rotationGroup.position.z=et[3],this.rotationGroup.quaternion.x=et[4],this.rotationGroup.quaternion.y=et[5],this.rotationGroup.quaternion.z=et[6],this.rotationGroup.quaternion.w=et[7],typeof et[8]<"u"&&(this.rotationGroup.position.x=et[8],this.rotationGroup.position.y=et[9]),this.show(at),this)}render(et,at){this.renderer.setViewport(),this.updateClickables();var pt=this.getView();this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState());var ct,yt;for(at||(at=this.renderer.supportedExtensions()),ct=0;ct<this.models.length;ct++)this.models[ct]&&this.models[ct].globj(this.modelGroup,at);for(ct=0;ct<this.shapes.length;ct++)this.shapes[ct]&&(typeof this.shapes[ct].frame>"u"||this.viewer_frame<0||this.shapes[ct].frame<0||this.shapes[ct].frame==this.viewer_frame?this.shapes[ct].globj(this.modelGroup,at):this.shapes[ct].removegl(this.modelGroup));for(ct=0;ct<this.labels.length;ct++)at.regen&&(this.labels[ct].dispose(),this.modelGroup.remove(this.labels[ct].sprite),this.labels[ct].setContext(),this.modelGroup.add(this.labels[ct].sprite)),this.labels[ct]&&typeof this.labels[ct].frame<"u"&&this.labels[ct].frame>=0&&(this.modelGroup.remove(this.labels[ct].sprite),(this.viewer_frame<0||this.labels[ct].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[ct].sprite));for(ct in this.surfaces)if(this.surfaces.hasOwnProperty(ct)){var ft=this.surfaces[ct];for(yt=0;yt<ft.length;yt++)if(ft.hasOwnProperty(yt)){var _t=ft[yt].geo;if(!ft[yt].finished||at.regen){_t.verticesNeedUpdate=!0,_t.elementsNeedUpdate=!0,_t.normalsNeedUpdate=!0,_t.colorsNeedUpdate=!0,_t.buffersNeedUpdate=!0,ft[yt].mat.needsUpdate=!0,ft[yt].done&&(ft[yt].finished=!0),ft[yt].lastGL&&this.modelGroup.remove(ft[yt].lastGL);var wt=null;if(ft[yt].mat instanceof a.LineBasicMaterial?wt=new a.Line(_t,ft[yt].mat):wt=new a.Mesh(_t,ft[yt].mat),ft[yt].mat.transparent&&ft[yt].mat.opacity==0?wt.visible=!1:wt.visible=!0,ft[yt].symmetries.length>1||ft[yt].symmetries.length==1&&!ft[yt].symmetries[yt].isIdentity()){var Et,Mt=new a.Object3D;for(Et=0;Et<ft[yt].symmetries.length;Et++){var St=wt.clone();St.matrix=ft[yt].symmetries[Et],St.matrixAutoUpdate=!1,Mt.add(St)}ft[yt].lastGL=Mt,this.modelGroup.add(Mt)}else ft[yt].lastGL=wt,this.modelGroup.add(wt)}}}return this.setView(pt),typeof et=="function"&&et(this),this}getModelList(et){let at=[];if(typeof et>"u"||typeof et.model>"u")for(let ct=0;ct<this.models.length;ct++)this.models[ct]&&at.push(this.models[ct]);else{let ct=et.model;Array.isArray(ct)||(ct=[ct]);for(let yt=0;yt<ct.length;yt++)if(typeof ct[yt]=="number"){var pt=ct[yt];pt<0&&(pt+=this.models.length),at.push(this.models[pt])}else at.push(ct[yt])}return at}getAtomsFromSel(et){var at=[];typeof et>"u"&&(et={});var pt=this.getModelList(et);for(let ct=0;ct<pt.length;ct++)at=at.concat(pt[ct].selectedAtoms(et));return at}atomIsSelected(et,at){typeof at>"u"&&(at={});for(var pt=this.getModelList(at),ct=0;ct<pt.length;ct++)if(pt[ct].atomIsSelected(et,at))return!0;return!1}selectedAtoms(et){return this.getAtomsFromSel(et)}getUniqueValues(et,at){typeof at>"u"&&(at={});var pt=this.getAtomsFromSel(at),ct={};for(var yt in pt)if(pt[yt].hasOwnProperty(et)){var ft=pt[yt][et];ct[ft]=!0}return Object.keys(ct)}pdbData(et){for(var at=this.getAtomsFromSel(et),pt="",ct=0,yt=at.length;ct<yt;++ct)pt+=at[ct].pdbline+`
`;return pt}zoom(et=2,at=0,pt=!1){var ct=(this.CAMERA_Z-this.rotationGroup.position.z)/et,yt=this.CAMERA_Z-ct;return at>0?this.animateMotion(at,pt,this.modelGroup.position,this.adjustZoomToLimits(yt),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(yt),this.show()),this}translate(et,at,pt=0,ct=!1){var yt=et/this.WIDTH,ft=at/this.HEIGHT,_t=new _.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(_t,this.camera),_t.x-=yt,_t.y-=ft,this.projector.unprojectVector(_t,this.camera),_t.z=0;var wt=this.lookingAt.clone().add(_t);return pt>0?this.animateMotion(pt,ct,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,wt):(this.lookingAt=wt,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(et,at,pt=0,ct=!1){var yt=this.screenOffsetToModel(et,at),ft=this.modelGroup.position.clone().add(yt);return pt>0?this.animateMotion(pt,ct,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=ft,this.show()),this}fitSlab(et){et=et||{};var at=this.getAtomsFromSel(et),pt=(0,rt.getExtent)(at),ct=pt[1][0]-pt[0][0],yt=pt[1][1]-pt[0][1],ft=pt[1][2]-pt[0][2],_t=Math.hypot(ct,yt,ft);return _t<5&&(_t=5),this.slabNear=-_t/1.9,this.slabFar=_t/2,this}center(et={},at=0,pt=!1){var ct,yt,ft=this.getAtomsFromSel(et),_t=(0,rt.getExtent)(ft);(0,rt.isEmptyObject)(et)?(this.shapes.forEach(Ot=>{if(Ot&&Ot.boundingSphere&&Ot.boundingSphere.center){var It=Ot.boundingSphere.center,$t=Ot.boundingSphere.radius;$t>0?(ft.push(new _.Vector3(It.x+$t,It.y,It.z)),ft.push(new _.Vector3(It.x-$t,It.y,It.z)),ft.push(new _.Vector3(It.x,It.y+$t,It.z)),ft.push(new _.Vector3(It.x,It.y-$t,It.z)),ft.push(new _.Vector3(It.x,It.y,It.z+$t)),ft.push(new _.Vector3(It.x,It.y,It.z-$t))):ft.push(It)}}),_t=(0,rt.getExtent)(ft),ct=ft,yt=_t):(ct=this.getAtomsFromSel({}),yt=(0,rt.getExtent)(ct));var wt=new _.Vector3(_t[2][0],_t[2][1],_t[2][2]),Et=yt[1][0]-yt[0][0],Mt=yt[1][1]-yt[0][1],St=yt[1][2]-yt[0][2],At=Math.hypot(Et,Mt,St);At<5&&(At=5),this.slabNear=-At/1.9,this.slabFar=At/2,Et=_t[1][0]-_t[0][0],Mt=_t[1][1]-_t[0][1],St=_t[1][2]-_t[0][2],At=Math.hypot(Et,Mt,St),At<5&&(At=5);for(var Rt=25,Ct=0;Ct<ft.length;Ct++)if(ft[Ct]){var Pt=wt.distanceToSquared(ft[Ct]);Pt>Rt&&(Rt=Pt)}At=Math.sqrt(Rt)*2;var Lt=wt.clone().multiplyScalar(-1);return at>0?this.animateMotion(at,pt,Lt,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Lt,this.show()),this}zoomTo(et={},at=0,pt=!1){let ct=this.getAtomsFromSel(et),yt=(0,rt.getExtent)(ct),ft=yt;if((0,rt.isEmptyObject)(et)){let It=ct&&ct.length;if(this.shapes.forEach($t=>{if($t&&$t.boundingSphere){if($t.boundingSphere.box){let qt=$t.boundingSphere.box;ct.push(new _.Vector3(qt.min.x,qt.min.y,qt.min.z)),ct.push(new _.Vector3(qt.max.x,qt.max.y,qt.max.z))}else if($t.boundingSphere.center){var jt=$t.boundingSphere.center,Zt=$t.boundingSphere.radius;Zt>0?(ct.push(new _.Vector3(jt.x+Zt,jt.y,jt.z)),ct.push(new _.Vector3(jt.x-Zt,jt.y,jt.z)),ct.push(new _.Vector3(jt.x,jt.y+Zt,jt.z)),ct.push(new _.Vector3(jt.x,jt.y-Zt,jt.z)),ct.push(new _.Vector3(jt.x,jt.y,jt.z+Zt)),ct.push(new _.Vector3(jt.x,jt.y,jt.z-Zt))):ct.push(jt)}}}),ft=(0,rt.getExtent)(ct),!It)for(let $t=0;$t<3;$t++)yt[2][$t]=(ft[0][$t]+ft[1][$t])/2}else{let It=this.getAtomsFromSel({});ft=(0,rt.getExtent)(It)}var _t=new _.Vector3(yt[2][0],yt[2][1],yt[2][2]),wt=ft[1][0]-ft[0][0],Et=ft[1][1]-ft[0][1],Mt=ft[1][2]-ft[0][2],St=Math.hypot(wt,Et,Mt);St<5&&(St=5),this.slabNear=-St/1.9,this.slabFar=St/2,Object.keys(et).length===0&&(this.slabNear=Math.min(-St*2,-50),this.slabFar=Math.max(St*2,50));var At=this.config.minimumZoomToDistance||5;wt=yt[1][0]-yt[0][0],Et=yt[1][1]-yt[0][1],Mt=yt[1][2]-yt[0][2],St=Math.hypot(wt,Et,Mt),St<At&&(St=At);for(var Rt=At*At,Ct=0;Ct<ct.length;Ct++)if(ct[Ct]){var Pt=_t.distanceToSquared(ct[Ct]);Pt>Rt&&(Rt=Pt)}St=Math.sqrt(Rt)*2;var Lt=_t.clone().multiplyScalar(-1),Ot=-(St*.5/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return Ot=this.adjustZoomToLimits(Ot),at>0?this.animateMotion(at,pt,Lt,Ot,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Lt,this.rotationGroup.position.z=Ot,this.show()),this}setSlab(et,at){this.slabNear=et,this.slabFar=at}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(et,at={},pt,ct=!1){if(pt){var yt=(0,rt.getExtent)(this.getAtomsFromSel(pt));at.position={x:yt[2][0],y:yt[2][1],z:yt[2][2]}}var ft=new dt.Label(et,at);return ft.setContext(),this.modelGroup.add(ft.sprite),this.labels.push(ft),ct||this.show(),ft}addResLabels(et,at,pt=!1){let ct=this.labels.length;return this.applyToModels("addResLabels",et,this,at,pt),this.show(),this.labels.slice(ct)}addPropertyLabels(et,at,pt){return this.applyToModels("addPropertyLabels",et,at,this,pt),this.show(),this}removeLabel(et){for(var at=0;at<this.labels.length;at++)if(this.labels[at]==et){this.labels.splice(at,1),et.dispose(),this.modelGroup.remove(et.sprite);break}return this.show(),this}removeAllLabels(){for(var et=0;et<this.labels.length;et++)this.labels[et]&&this.labels[et].sprite&&this.modelGroup.remove(this.labels[et].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}setLabelStyle(et,at){return this.modelGroup.remove(et.sprite),et.dispose(),et.stylespec=at,et.setContext(),this.modelGroup.add(et.sprite),this.show(),et}setLabelText(et,at){return this.modelGroup.remove(et.sprite),et.dispose(),et.text=at,et.setContext(),this.modelGroup.add(et.sprite),this.show(),et}addShape(et){et=et||{};var at=new lt.GLShape(et);return at.shapePosition=this.shapes.length,this.shapes.push(at),at}removeShape(et){if(!et)return this;for(et.removegl(this.modelGroup),delete this.shapes[et.shapePosition];this.shapes.length>0&&typeof this.shapes[this.shapes.length-1]>"u";)this.shapes.pop();return this}removeAllShapes(){for(var et=0;et<this.shapes.length;et++){var at=this.shapes[et];at&&at.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(et){if(et.hasOwnProperty("x")&&et.hasOwnProperty("y")&&et.hasOwnProperty("z"))return et;var at=this.getAtomsFromSel(et);if(at.length==0)return{x:0,y:0,z:0};var pt=(0,rt.getExtent)(at);return{x:pt[0][0]+(pt[1][0]-pt[0][0])/2,y:pt[0][1]+(pt[1][1]-pt[0][1])/2,z:pt[0][2]+(pt[1][2]-pt[0][2])/2}}addSphere(et){et=et||{},et.center=this.getSelectionCenter(et.center);var at=new lt.GLShape(et);return at.shapePosition=this.shapes.length,at.addSphere(et),this.shapes.push(at),at.finalize(),at}addBox(et={}){et.corner!=null&&(et.corner=this.getSelectionCenter(et.corner)),et.center!=null&&(et.center=this.getSelectionCenter(et.center));var at=new lt.GLShape(et);return at.shapePosition=this.shapes.length,at.addBox(et),this.shapes.push(at),at.finalize(),at}addArrow(et={}){et.start=this.getSelectionCenter(et.start),et.end=this.getSelectionCenter(et.end);var at=new lt.GLShape(et);return at.shapePosition=this.shapes.length,at.addArrow(et),this.shapes.push(at),at.finalize(),at}addCylinder(et={}){et.start=this.getSelectionCenter(et.start),et.end=this.getSelectionCenter(et.end);var at=new lt.GLShape(et);return at.shapePosition=this.shapes.length,et.dashed?at.addDashedCylinder(et):at.addCylinder(et),this.shapes.push(at),at.finalize(),at}addCurve(et={}){var at=new lt.GLShape(et);return at.shapePosition=this.shapes.length,at.addCurve(et),this.shapes.push(at),at.finalize(),at}addLine(et={}){et.start=this.getSelectionCenter(et.start),et.end=this.getSelectionCenter(et.end),et.wireframe=!0;var at=new lt.GLShape(et);return at.shapePosition=this.shapes.length,et.dashed?at=this.addLineDashed(et,at):at.addLine(et),this.shapes.push(at),at.finalize(),at}addUnitCell(et,at){et=this.getModel(et),at=at||{alabel:"a",blabel:"b",clabel:"c"},at.box=at.box||{},at.astyle=at.astyle||{color:"red",radius:.1,midpos:-1},at.bstyle=at.bstyle||{color:"green",radius:.1,midpos:-1},at.cstyle=at.cstyle||{color:"blue",radius:.1,midpos:-1},at.alabelstyle=at.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},at.blabelstyle=at.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},at.clabelstyle=at.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},et.unitCellObjects&&this.removeUnitCell(et),et.unitCellObjects={shapes:[],labels:[]};var pt=et.getCrystData(),ct=null;if(pt){if(pt.matrix)ct=pt.matrix;else{var yt=pt.a,ft=pt.b,_t=pt.c,wt=pt.alpha,Et=pt.beta,Mt=pt.gamma;wt=wt*Math.PI/180,Et=Et*Math.PI/180,Mt=Mt*Math.PI/180;var St,At,Rt;St=Math.cos(Et),At=(Math.cos(wt)-Math.cos(Et)*Math.cos(Mt))/Math.sin(Mt),Rt=Math.sqrt(Math.max(0,1-St*St-At*At)),ct=new _.Matrix3(yt,ft*Math.cos(Mt),_t*St,0,ft*Math.sin(Mt),_t*At,0,0,_t*Rt)}var Ct=[new _.Vector3(0,0,0),new _.Vector3(1,0,0),new _.Vector3(0,1,0),new _.Vector3(0,0,1),new _.Vector3(1,1,0),new _.Vector3(0,1,1),new _.Vector3(1,0,1),new _.Vector3(1,1,1)];if(pt.matrix4)for(let Lt=0;Lt<Ct.length;Lt++)pt.size&&Ct[Lt].multiplyVectors(Ct[Lt],pt.size),Ct[Lt]=Ct[Lt].applyMatrix4(pt.matrix4);else for(let Lt=0;Lt<Ct.length;Lt++)Ct[Lt]=Ct[Lt].applyMatrix3(ct);if(at.box&&!at.box.hidden){at.box.wireframe=!0;var Pt=new lt.GLShape(at.box);Pt.shapePosition=this.shapes.length,Pt.addLine({start:Ct[0],end:Ct[1]}),Pt.addLine({start:Ct[0],end:Ct[2]}),Pt.addLine({start:Ct[1],end:Ct[4]}),Pt.addLine({start:Ct[2],end:Ct[4]}),Pt.addLine({start:Ct[0],end:Ct[3]}),Pt.addLine({start:Ct[3],end:Ct[5]}),Pt.addLine({start:Ct[2],end:Ct[5]}),Pt.addLine({start:Ct[1],end:Ct[6]}),Pt.addLine({start:Ct[4],end:Ct[7]}),Pt.addLine({start:Ct[6],end:Ct[7]}),Pt.addLine({start:Ct[3],end:Ct[6]}),Pt.addLine({start:Ct[5],end:Ct[7]}),this.shapes.push(Pt),et.unitCellObjects.shapes.push(Pt),Pt.finalize()}if(!at.astyle.hidden){at.astyle.start=Ct[0],at.astyle.end=Ct[1];let Lt=this.addArrow(at.astyle);et.unitCellObjects.shapes.push(Lt)}if(!at.bstyle.hidden){at.bstyle.start=Ct[0],at.bstyle.end=Ct[2];let Lt=this.addArrow(at.bstyle);et.unitCellObjects.shapes.push(Lt)}if(!at.cstyle.hidden){at.cstyle.start=Ct[0],at.cstyle.end=Ct[3];let Lt=this.addArrow(at.cstyle);et.unitCellObjects.shapes.push(Lt)}if(at.alabel){at.alabelstyle.position=Ct[1];let Lt=this.addLabel(at.alabel,at.alabelstyle);et.unitCellObjects.labels.push(Lt)}if(at.blabel){at.blabelstyle.position=Ct[2];let Lt=this.addLabel(at.blabel,at.blabelstyle);et.unitCellObjects.labels.push(Lt)}if(at.clabel){at.clabelstyle.position=Ct[3];let Lt=this.addLabel(at.clabel,at.clabelstyle);et.unitCellObjects.labels.push(Lt)}}}removeUnitCell(et){if(et=this.getModel(et),et.unitCellObjects){let at=this;et.unitCellObjects.shapes.forEach(function(pt){at.removeShape(pt)}),et.unitCellObjects.labels.forEach(function(pt){at.removeLabel(pt)})}delete et.unitCellObjects}replicateUnitCell(et=3,at=et,pt=at,ct,yt,ft){ct=this.getModel(ct);let _t=ct.getCrystData();if(_t){const wt=ct.selectedAtoms({}),Et=_t.matrix;let Mt=function(At){return At%2==0?-At/2:Math.ceil(At/2)};et<=1&&at<=1&&pt<=1&&(ft=!0,et=at=pt=3);let St=function(At,Rt,Ct){return!1};if(ft){const At=new _.Matrix3().getInverse3(Et);St=function(Rt,Ct,Pt){let Lt=new _.Vector3(Rt,Ct,Pt).applyMatrix3(At);return!(Lt.x>-1e-4&&Lt.x<1.0001&&Lt.y>-1e-4&&Lt.y<1.0001&&Lt.z>-1e-4&&Lt.z<1.0001)}}for(let At=0;At<et;At++)for(let Rt=0;Rt<at;Rt++)for(let Ct=0;Ct<pt;Ct++){if(At==0&&Rt==0&&Ct==0)continue;let Pt=new _.Vector3(Mt(At),Mt(Rt),Mt(Ct));Pt.applyMatrix3(Et);let Lt=[];for(let Ot=0;Ot<wt.length;Ot++){let It=wt[Ot].x+Pt.x,$t=wt[Ot].y+Pt.y,jt=wt[Ot].z+Pt.z;if(St(It,$t,jt))continue;let Zt={};for(let qt in wt[Ot])Zt[qt]=wt[Ot][qt];Zt.x=It,Zt.y=$t,Zt.z=jt,Lt.push(Zt)}ct.addAtoms(Lt)}yt&&ct.assignBonds()}}addLineDashed(et,at){et.dashLength=et.dashLength||.5,et.gapLength=et.gapLength||.5;var pt;et.start?pt=new _.Vector3(et.start.x||0,et.start.y||0,et.start.z||0):pt=new _.Vector3(0,0,0);var ct;et.end?ct=new _.Vector3(et.end.x,et.end.y||0,et.end.z||0):ct=new _.Vector3(0,0,0);var yt=new _.Vector3,ft=new _.Vector3,_t=new _.Vector3,wt,Et,Mt,St=pt.clone(),At=0;for(yt.subVectors(ct,pt),wt=yt.length(),yt.normalize(),ft=yt.clone(),_t=yt.clone(),ft.multiplyScalar(et.dashLength),_t.multiplyScalar(et.gapLength),Et=ft.length(),Mt=_t.length();At<wt;){if(At+Et>wt){et.start=pt,et.end=ct,at.addLine(et);break}St.addVectors(pt,ft),et.start=pt,et.end=St,at.addLine(et),pt=St.clone(),At+=Et,St.addVectors(pt,_t),pt=St.clone(),At+=Mt}return at.finalize(),at}addCustom(et){et=et||{};var at=new lt.GLShape(et);return at.shapePosition=this.shapes.length,at.addCustom(et),this.shapes.push(at),at.finalize(),at}addVolumetricData(et,at,pt={}){var ct=new gt.VolumeData(et,at);return pt.hasOwnProperty("transferfn")?this.addVolumetricRender(ct,pt):this.addIsosurface(ct,pt)}addIsosurface(et,at={},pt){var ct=new lt.GLShape(at);return ct.shapePosition=this.shapes.length,ct.addIsosurface(et,at,pt,this),this.shapes.push(ct),ct}addVolumetricRender(et,at){at=at||{};var pt=new ht.GLVolumetricRender(et,at,this);return pt.shapePosition=this.shapes.length,this.shapes.push(pt),pt}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(et){et?this.scene.fog=new a.Fog(this.bgColor,100,200):(this.config.disableFog=!0,this.show())}setFrame(et){this.viewer_frame=et;let at=this;return new Promise(function(pt){var ct=at.models.map(function(yt){return yt.setFrame(et,at)});Promise.all(ct).then(function(){pt()})})}getFrame(){return this.viewer_frame}getNumFrames(){var et=0;for(let at=0;at<this.models.length;at++)this.models[at].getNumFrames()>et&&(et=this.models[at].getNumFrames());for(let at=0;at<this.shapes.length;at++)this.shapes[at].frame&&this.shapes[at].frame>=et&&(et=this.shapes[at].frame+1);for(let at=0;at<this.labels.length;at++)this.labels[at].frame&&this.labels[at].frame>=et&&(et=this.labels[at].frame+1);return et}animate(et){this.incAnim();var at=100,pt="forward",ct=1/0;et=et||{},et.interval&&(at=et.interval),et.loop&&(pt=et.loop),et.reps&&(ct=et.reps);var yt=this.getNumFrames(),ft=this,_t=0;et.startFrame&&(_t=et.startFrame%yt);var wt=1;et.step&&(wt=et.step,ct/=wt);var Et=0,Mt=yt*ct,St=new Date,At,Rt,Ct=function(Pt){St=new Date,Pt=="forward"?ft.setFrame(_t).then(function(){_t=(_t+wt)%yt,At()}):Pt=="backward"?ft.setFrame(yt-1-_t).then(function(){_t=(_t+wt)%yt,At()}):ft.setFrame(_t).then(function(){_t+=wt,wt*=_t%(yt-1)==0?-1:1,At()})};return At=function(){if(ft.render(),!ft.getCanvas().isConnected)ft.stopAnimate();else if(++Et>=Mt||!ft.isAnimated())Rt.cancel(),ft.animationTimers.delete(Rt),ft.decAnim();else{var Pt=at-(new Date().getTime()-St.getTime());Pt=Pt>0?Pt:0,ft.animationTimers.delete(Rt),Rt=new rt.PausableTimer(Ct,Pt,pt),ft.animationTimers.add(Rt)}},Rt=new rt.PausableTimer(Ct,0,pt),this.animationTimers.add(Rt),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach(function(et){et.cancel()}),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach(function(et){et.pause()}),this}resumeAnimate(){return this.animationTimers.forEach(function(et){et.resume()}),this}isAnimated(){return this.animated>0}getModelOpt(et){return et&&!et.defaultcolors?(et.defaultcolors=this.defaultcolors,et.cartoonQuality=et.cartoonQuality||this.config.cartoonQuality):typeof et>"u"&&(et={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality}),et}addModel(et,at="",pt){pt=this.getModelOpt(pt);var ct=new it.GLModel(this.models.length,pt);return ct.addMolData(et,at,pt),this.models.push(ct),ct}addModels(et,at,pt){pt=this.getModelOpt(pt),pt.multimodel=!0,pt.frames=!0;for(var ct=it.GLModel.parseMolData(et,at,pt),yt=0;yt<ct.length;yt++){var ft=new it.GLModel(this.models.length,pt);ft.setAtomDefaults(ct[yt]),ft.addFrame(ct[yt]),ft.setFrame(0),ct.modelData&&ft.setModelData(ct.modelData[yt]),ft.setDontDuplicateAtoms(!pt.duplicateAssemblyAtoms),this.models.push(ft)}return this.models}addModelsAsFrames(et,at,pt){pt=this.getModelOpt(pt),pt.multimodel=!0,pt.frames=!0;var ct=new it.GLModel(this.models.length,pt);return ct.addMolData(et,at,pt),this.models.push(ct),ct}addAsOneMolecule(et,at,pt){pt=this.getModelOpt(pt),pt.multimodel=!0,pt.onemol=!0;var ct=new it.GLModel(this.models.length,pt);return ct.addMolData(et,at,pt),this.models.push(ct),ct}removeModel(et){if(et=this.getModel(et),!!et){for(et.removegl(this.modelGroup),delete this.models[et.getID()];this.models.length>0&&typeof this.models[this.models.length-1]>"u";)this.models.pop();return this}}removeAllModels(){for(var et=0;et<this.models.length;et++){var at=this.models[et];at&&at.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(et,at){var pt={};return at===void 0?pt.m=this.models.map(function(ct){return ct.toCDObject(et)}):pt.m=[this.models[at].toCDObject()],JSON.stringify(pt)}exportVRML(){var et=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new a.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var at=`#VRML V2.0 utf8
`+this.modelGroup.vrml()+`
`;return this.applyToModels("removegl",this.modelGroup),this.modelGroup=et,at}createModelFrom(et,at=!1){for(var pt=new it.GLModel(this.models.length,this.defaultcolors),ct=0;ct<this.models.length;ct++)if(this.models[ct]){var yt=this.models[ct].selectedAtoms(et);pt.addAtoms(yt),at&&this.models[ct].removeAtoms(yt)}return this.models.push(pt),pt}applyToModels(et,at,pt,ct,yt,ft,_t){for(var wt=this.getModelList(at),Et=0;Et<wt.length;Et++)wt[Et][et](at,pt,ct,yt,ft,_t)}setStyle(et,at){return typeof at>"u"&&(at=et,et={}),this.applyToModels("setStyle",et,at,!1),this}addStyle(et,at){return typeof at>"u"&&(at=et,et={}),this.applyToModels("setStyle",et,at,!0),this}setClickable(et,at,pt){return this.applyToModels("setClickable",et,at,pt),this}setHoverable(et,at,pt,ct){return this.applyToModels("setHoverable",et,at,pt,ct),this}enableContextMenu(et,at){return this.applyToModels("enableContextMenu",et,at),this}vibrate(et,at,pt,ct){return this.applyToModels("vibrate",et,at,pt,this,ct),this}setColorByProperty(et,at,pt,ct){return this.applyToModels("setColorByProperty",et,at,pt,ct),this}setColorByElement(et,at){return this.applyToModels("setColorByElement",et,at),this}static getAtomsWithin(et,at){var pt=[];for(let yt=0;yt<et.length;yt++){var ct=et[yt];typeof ct>"u"||ct.x<at[0][0]||ct.x>at[1][0]||ct.y<at[0][1]||ct.y>at[1][1]||ct.z<at[0][2]||ct.z>at[1][2]||pt.push(ct)}return pt}static volume(et){var at=et[1][0]-et[0][0],pt=et[1][1]-et[0][1],ct=et[1][2]-et[0][2];return at*pt*ct}carveUpExtent(et,at,pt){let ct=[],yt={};for(let St=0,At=at.length;St<At;St++)yt[at[St].index]=St;let ft=function(St){let At=[];for(let Rt=0,Ct=St.length;Rt<Ct;Rt++)St[Rt].index in yt&&At.push(yt[St[Rt].index]);return At},_t=function(St){let At=[];return At[0]=[St[0][0],St[0][1],St[0][2]],At[1]=[St[1][0],St[1][1],St[1][2]],At},wt=function(St){if($.volume(St)<$.maxVolume)return[St];var At=St[1][0]-St[0][0],Rt=St[1][1]-St[0][1],Ct=St[1][2]-St[0][2],Pt;At>Rt&&At>Ct?Pt=0:Rt>At&&Rt>Ct?Pt=1:Pt=2;var Lt=_t(St),Ot=_t(St),It=(St[1][Pt]-St[0][Pt])/2+St[0][Pt];Lt[1][Pt]=It,Ot[0][Pt]=It;var $t=wt(Lt),jt=wt(Ot);return $t.concat(jt)},Et=wt(et),Mt=6;for(let St=0,At=Et.length;St<At;St++){let Rt=_t(Et[St]);Rt[0][0]-=Mt,Rt[0][1]-=Mt,Rt[0][2]-=Mt,Rt[1][0]+=Mt,Rt[1][1]+=Mt,Rt[1][2]+=Mt;let Ct=$.getAtomsWithin(at,Rt),Pt=$.getAtomsWithin(pt,Et[St]);ct.push({extent:Et[St],atoms:ft(Ct),toshow:ft(Pt)})}return ct}static generateSurfaceMesh(et,at,pt){var ct=new a.Geometry(!0),yt=ct.updateGeoGroup(0),ft=[];for(let rr=0,Gt=et.length;rr<Gt;rr++){var _t=et[rr];_t&&(typeof _t.surfaceColor<"u"?ft[rr]=_t.surfaceColor:_t.color&&(ft[rr]=j.CC.color(_t.color)))}var wt=yt.vertexArray,Et=at.vertices;for(let rr=0,Gt=Et.length;rr<Gt;rr++){let nr=yt.vertices*3;wt[nr]=Et[rr].x,wt[nr+1]=Et[rr].y,wt[nr+2]=Et[rr].z,yt.vertices++}var Mt=yt.colorArray;let St=yt.atomArray;if(pt.voldata&&pt.volscheme){var At=pt.volscheme,Rt=pt.voldata,Ct=At.range()||[-1,1];for(let rr=0,Gt=Et.length;rr<Gt;rr++){let nr=Et[rr].atomid,_r=Rt.getVal(Et[rr].x,Et[rr].y,Et[rr].z),Sr=j.CC.color(At.valueToHex(_r,Ct)),Ar=rr*3;Mt[Ar]=Sr.r,Mt[Ar+1]=Sr.g,Mt[Ar+2]=Sr.b,St[rr]=et[nr]}}else if(ft.length>0)for(let rr=0,Gt=Et.length;rr<Gt;rr++){let nr=Et[rr].atomid,_r=rr*3;Mt[_r]=ft[nr].r,Mt[_r+1]=ft[nr].g,Mt[_r+2]=ft[nr].b,St[rr]=et[nr]}var Pt=at.faces;yt.faceidx=Pt.length,ct.initTypedArrays();var Lt=yt.vertexArray,Ot=yt.normalArray,It,$t,jt,Zt;for(let rr=0,Gt=Pt.length;rr<Gt;rr+=3){var qt=Pt[rr],er=Pt[rr+1],Yt=Pt[rr+2],Qt=qt*3,cr=er*3,lr=Yt*3;It=new _.Vector3(Lt[Qt],Lt[Qt+1],Lt[Qt+2]),$t=new _.Vector3(Lt[cr],Lt[cr+1],Lt[cr+2]),jt=new _.Vector3(Lt[lr],Lt[lr+1],Lt[lr+2]),jt.subVectors(jt,$t),It.subVectors(It,$t),jt.cross(It),Zt=jt,Zt.normalize(),Ot[Qt]+=Zt.x,Ot[cr]+=Zt.x,Ot[lr]+=Zt.x,Ot[Qt+1]+=Zt.y,Ot[cr+1]+=Zt.y,Ot[lr+1]+=Zt.y,Ot[Qt+2]+=Zt.z,Ot[cr+2]+=Zt.z,Ot[lr+2]+=Zt.z}yt.faceArray=new Uint16Array(Pt);var gr=new a.Mesh(ct,pt);return gr}static generateMeshSyncHelper(et,at,pt,ct,yt,ft){var _t=new vt.ProteinSurface;return _t.initparm(at,et!==1,ft),_t.fillvoxels(yt,pt),_t.buildboundary(),(et==vt.SurfaceType.SES||et==vt.SurfaceType.MS)&&(_t.fastdistancemap(),_t.boundingatom(!1),_t.fillvoxelswaals(yt,pt)),_t.marchingcube(et),_t.getFacesAndVertices(ct)}static getMatWithStyle(et){let at=null;et.onesided?at=new a.MeshLambertMaterial:at=new a.MeshDoubleLambertMaterial,at.vertexColors=a.Coloring.VertexColors;for(var pt in et)pt==="color"||pt==="map"||et.hasOwnProperty(pt)&&(at[pt]=et[pt]);return et.opacity!==void 0&&(et.opacity===1?at.transparent=!1:at.transparent=!0),at}addMesh(et){var at={geo:et.geometry,mat:et.material,done:!0,finished:!1},pt=this.nextSurfID();return this.surfaces[pt]=[at],pt}static shallowCopy(et){var at=[];let pt=et.length;for(let ct=0;ct<pt;ct++)at[ct]=(0,rt.extend)({},et[ct]);return at}addSurface(et,at={},pt={},ct,yt,ft){let _t=this.nextSurfID(),wt=null,Et=this,Mt=vt.SurfaceType.VDW;typeof et=="string"?$.surfaceTypeMap[et.toUpperCase()]!==void 0?Mt=$.surfaceTypeMap[et]:console.log("Surface type : "+et+" is not recognized"):typeof et=="number"&&(Mt=et);var St=null,At=null,Rt=$.shallowCopy(this.getAtomsFromSel(pt));ct?St=$.shallowCopy(this.getAtomsFromSel(ct)):St=Rt,(0,rt.adjustVolumeStyle)(at);var Ct=!1,Pt;for(Pt=0;Pt<this.models.length;Pt++)if(this.models[Pt]){var Lt=this.models[Pt].getSymmetries();if(Lt.length>1||Lt.length==1&&!Lt[0].isIdentity()){Ct=!0;break}}var Ot=function(Yt,Qt,cr){yt?At=$.shallowCopy(Et.getAtomsFromSel(yt)):At=cr;var lr,gr=(0,rt.getExtent)(cr,!0);if(at.map&&at.map.prop){var rr=at.map.prop;let pr=(0,tt.getGradient)(at.map.scheme||at.map.gradient||new tt.Gradient.RWB),Lr=pr.range();Lr||(Lr=(0,rt.getPropertyRange)(cr,rr)),at.colorscheme={prop:rr,gradient:pr}}for(let pr=0,Lr=Qt.length;pr<Lr;pr++)lr=Qt[pr],lr.surfaceColor=(0,rt.getColorFromStyle)(lr,at);var Gt=$.volume(gr),nr=Et.carveUpExtent(gr,Qt,cr);if(At&&At.length&&At.length>0){var _r=(0,rt.getExtent)(At,!0),Sr=function(pr,Lr){var Or=function(Wt,ar){var Xt=Wt.extent,Er=Xt[1][0]-Xt[0][0],mr=Xt[1][1]-Xt[0][1],Dt=Xt[1][2]-Xt[0][2],Jt=Er-ar[2][0];Jt*=Jt;var sr=mr-ar[2][1];sr*=sr;var Cr=Dt-ar[2][2];return Cr*=Cr,Jt+sr+Cr},Bt=Or(pr,_r),Ut=Or(Lr,_r);return Bt-Ut};nr.sort(Sr)}var Ar=[];for(let pr=0,Lr=Qt.length;pr<Lr;pr++)lr=Qt[pr],Ar[pr]={x:lr.x,y:lr.y,z:lr.z,serial:pr,elem:lr.elem};var Rr=!!vt.syncSurface;if(Rr){var Mr=function(Lr){return new Promise(function(Or){for(var Bt=$.generateMeshSyncHelper(Mt,nr[Lr].extent,nr[Lr].atoms,nr[Lr].toshow,Ar,Gt),Ut=(0,lt.splitMesh)({vertexArr:Bt.vertices,faceArr:Bt.faces}),Wt=0,ar=Ut.length;Wt<ar;Wt++){Bt={vertices:Ut[Wt].vertexArr,faces:Ut[Wt].faceArr};var Xt=$.generateSurfaceMesh(Qt,Bt,wt);(0,rt.mergeGeos)(Yt.geo,Xt)}Et.render(),Or()})},wr=[];for(let pr=0;pr<nr.length;pr++)wr.push(Mr(pr));return Promise.all(wr).then(function(){return Yt.done=!0,Promise.resolve(_t)})}else{var Tr=[];Mt<0&&(Mt=0);for(let pr=0,Lr=$.numWorkers;pr<Lr;pr++){var fr=new Worker($3Dmol.SurfaceWorker);Tr.push(fr),fr.postMessage({type:-1,atoms:Ar,volume:Gt})}return new Promise(function(pr,Lr){var Or=0,Bt=function(){!Tr||!Tr.length||Tr.forEach(function(Xt){Xt&&Xt.terminate&&Xt.terminate()})},Ut=function(Xt){for(var Er=(0,lt.splitMesh)({vertexArr:Xt.data.vertices,faceArr:Xt.data.faces}),mr=0,Dt=Er.length;mr<Dt;mr++){var Jt={vertices:Er[mr].vertexArr,faces:Er[mr].faceArr},sr=$.generateSurfaceMesh(Qt,Jt,wt);(0,rt.mergeGeos)(Yt.geo,sr)}Et.render(),Or++,Or==nr.length&&(Yt.done=!0,Bt(),pr(_t))},Wt=function(Xt){Bt(),console.log(Xt.message+" ("+Xt.filename+":"+Xt.lineno+")"),Lr(Xt)};for(let Xt=0;Xt<nr.length;Xt++){var ar=Tr[Xt%Tr.length];ar.onmessage=Ut,ar.onerror=Wt,ar.postMessage({type:Mt,expandedExtent:nr[Xt].extent,extendedAtoms:nr[Xt].atoms,atomsToShow:nr[Xt].toshow})}})}};at=at||{},wt=$.getMatWithStyle(at);var It=[];It.style=at,It.atomsel=pt,It.allsel=ct,It.focus=yt;var $t=null;if(Ct){var jt={},Zt={};for(Pt=0;Pt<this.models.length;Pt++)jt[Pt]=[],Zt[Pt]=[];for(Pt=0;Pt<St.length;Pt++)jt[St[Pt].model].push(St[Pt]);for(Pt=0;Pt<Rt.length;Pt++)Zt[Rt[Pt].model].push(Rt[Pt]);var qt=[];for(Pt=0;Pt<this.models.length;Pt++)Zt[Pt].length>0&&(It.push({geo:new a.Geometry(!0),mat:wt,done:!1,finished:!1,symmetries:this.models[Pt].getSymmetries()}),qt.push(Ot(It[It.length-1],jt[Pt],Zt[Pt])));$t=Promise.all(qt)}else It.push({geo:new a.Geometry(!0),mat:wt,done:!1,finished:!1,symmetries:[new _.Matrix4]}),$t=Ot(It[It.length-1],St,Rt);return this.surfaces[_t]=It,$t.surfid=_t,ft&&typeof ft=="function"?($t.then(function(er){ft(er)}),_t):$t}setSurfaceMaterialStyle(et,at){if((0,rt.adjustVolumeStyle)(at),this.surfaces[et]){var pt=this.surfaces[et];for(let yt=0;yt<pt.length;yt++){var ct=pt[yt].mat=$.getMatWithStyle(at);if(pt[yt].mat.side=a.FrontSide,at.color){pt[yt].mat.color=j.CC.color(at.color),pt[yt].geo.colorsNeedUpdate=!0;const ft=j.CC.color(at.color);pt[yt].geo.setColor(ft)}else if(ct.voldata&&ct.volscheme){const ft=ct.volscheme,_t=ct.voldata,wt=j.CC,Et=ft.range()||[-1,1];pt[yt].geo.setColors(function(Mt,St,At){let Rt=_t.getVal(Mt,St,At);return wt.color(ft.valueToHex(Rt,Et))})}else{pt[yt].geo.colorsNeedUpdate=!0;for(let ft of pt[yt].geo.geometryGroups)for(let _t=0;_t<ft.vertices;_t++){let wt=(0,rt.getColorFromStyle)(ft.atomArray[_t],at),Et=3*_t;ft.colorArray[Et]=wt.r,ft.colorArray[Et+1]=wt.g,ft.colorArray[Et+2]=wt.b}}pt[yt].finished=!1}}return this}getSurface(et){return this.surfaces[et]}removeSurface(et){for(var at=this.surfaces[et],pt=0;pt<at.length;pt++)at[pt]&&at[pt].lastGL&&(at[pt].geo!==void 0&&at[pt].geo.dispose(),at[pt].mat!==void 0&&at[pt].mat.dispose(),this.modelGroup.remove(at[pt].lastGL));return delete this.surfaces[et],this.show(),this}removeAllSurfaces(){for(var et in this.surfaces)if(this.surfaces.hasOwnProperty(et)){for(var at=this.surfaces[et],pt=0;pt<at.length;pt++)at[pt]&&at[pt].lastGL&&(at[pt].geo!==void 0&&at[pt].geo.dispose(),at[pt].mat!==void 0&&at[pt].mat.dispose(),this.modelGroup.remove(at[pt].lastGL));delete this.surfaces[et]}return this.show(),this}jmolMoveTo(){var et=this.modelGroup.position,at="center { "+-et.x+" "+-et.y+" "+-et.z+" }; ",pt=this.rotationGroup.quaternion;return at+="moveto .5 quaternion { "+pt.x+" "+pt.y+" "+pt.z+" "+pt.w+" };",at}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(et,at){at=at||{};var pt=this.getAtomsFromSel(at);if(typeof et=="function")for(let ft=0,_t=pt.length;ft<_t;ft++){let wt=pt[ft];et(wt)}else for(let ft=0,_t=pt.length;ft<_t;ft++){var ct=pt[ft];for(let wt=0,Et=et.length;wt<Et;wt++){let Mt=et[wt];if(Mt.props)for(var yt in Mt.props)Mt.props.hasOwnProperty(yt)&&this.atomIsSelected(ct,Mt)&&(ct.properties||(ct.properties={}),ct.properties[yt]=Mt.props[yt])}}return this}linkViewer(et){return this.linkedViewers.push(et),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(et){this.rotationGroup.position.z=this.CAMERA_Z-et}setAutoEyeSeparation(et,at){var pt=this.getPerceivedDistance();return at||(at=5),et||this.camera.position.x>0?this.camera.position.x=pt*Math.tan(Math.PI/180*at):this.camera.position.x=-pt*Math.tan(Math.PI/180*at),this.camera.lookAt(new _.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(et){this.config.cartoonQuality=et}}$.numWorkers=4,$.maxVolume=64e3,$.surfaceTypeMap={VDW:vt.SurfaceType.VDW,MS:vt.SurfaceType.MS,SAS:vt.SurfaceType.SAS,SES:vt.SurfaceType.SES};function _e(ut,et){if(ut=(0,rt.getElement)(ut),!!ut){et=et||{};try{var at=new $(ut,et);return at}catch(pt){throw"error creating viewer: "+pt}}}function st(ut,et={},at={}){if(ut=(0,rt.getElement)(ut),!!ut){var pt=[],ct=document.createElement("canvas");at.rows=et.rows,at.cols=et.cols,at.control_all=et.control_all!=null?et.control_all:!1,ut.appendChild(ct);try{for(var yt=0;yt<et.rows;yt++){for(var ft=[],_t=0;_t<et.cols;_t++){at.row=yt,at.col=_t,at.canvas=ct,at.viewers=pt,at.control_all=et.control_all;var wt=_e(ut,(0,rt.extend)({},at));ft.push(wt)}pt.unshift(ft)}}catch(Et){throw"error creating viewer grid: "+Et}return pt}}function ot(ut){var et=this;if(ut=(0,rt.getElement)(ut),!!ut){var at=st(ut,{rows:1,cols:2,control_all:!0});this.glviewer1=at[0][0],this.glviewer2=at[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var pt=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter(function(yt){return typeof et.glviewer1[yt]=="function"}),ct=0;ct<pt.length;ct++)this[pt[ct]]=function(yt){return function(){var ft=this.glviewer1[yt].apply(this.glviewer1,arguments),_t=this.glviewer2[yt].apply(this.glviewer2,arguments);return[ft,_t]}}(pt[ct]);this.setCoordinates=function(yt,ft,_t){for(var wt=0;wt<yt.length;wt++)yt[wt].setCoordinates(ft,_t)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(yt){this.glviewer1.render(),this.glviewer2.render(),yt&&yt(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}},"./src/Gradient.ts":(i,s,o)=>{o.r(s),o.d(s,{CustomLinear:()=>lt,Gradient:()=>vt,GradientType:()=>_,ROYGB:()=>it,RWB:()=>tt,Sinebow:()=>dt,builtinGradients:()=>gt,getGradient:()=>rt,normalizeValue:()=>j});var a=o("./src/colors.ts");class _{}function j(ht,mt,nt){return mt>=ht?(nt<ht&&(nt=ht),nt>mt&&(nt=mt),{lo:ht,hi:mt,val:nt}):(nt>ht&&(nt=ht),nt<mt&&(nt=mt),nt=ht-nt+mt,{lo:mt,hi:ht,val:nt})}function rt(ht){if(ht instanceof _)return ht;if(ht.gradient!==void 0&&gt[ht.gradient]){let mt=ht.min===void 0?-1:ht.min,nt=ht.max===void 0?1:ht.max;return ht.mid===void 0?ht.colors===void 0?new gt[ht.gradient](mt,nt):new gt[ht.gradient](mt,nt,ht.colors):new gt[ht.gradient](mt,nt,ht.mid)}else if(typeof ht.gradient=="string"&&ht.gradient.startsWith("linear_")){let mt=ht.gradient.split("_");mt.shift();let nt=ht.min===void 0?-1:ht.min,$=ht.max===void 0?1:ht.max;return new lt(nt,$,mt)}return ht}class tt extends _{constructor(mt,nt,$){super(),this.gradient="RWB",this.mult=1,this.mid=$,this.min=mt,this.max=nt,typeof nt>"u"&&Array.isArray(mt)&&mt.length>=2?(this.max=mt[1],this.min=mt[0]):mt&&nt&&!Array.isArray(mt)&&(this.min=mt,this.max=nt)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(mt,nt){var $,_e;if(mt=this.mult*mt,nt?($=nt[0],_e=nt[1]):($=this.min,_e=this.max),mt===void 0)return 16777215;var st=j($,_e,mt);$=st.lo,_e=st.hi,mt=st.val;var ot=(_e+$)/2;nt&&typeof nt[2]<"u"?ot=nt[2]:typeof this.mid<"u"?ot=this.mid:ot=($+_e)/2;var ut,et;return mt<ot?(ut=Math.floor(255*Math.sqrt((mt-$)/(ot-$))),et=16711680+256*ut+ut,et):mt>ot?(ut=Math.floor(255*Math.sqrt(1-(mt-ot)/(_e-ot))),et=65536*ut+256*ut+255,et):16777215}}class it extends _{constructor(mt,nt){super(),this.gradient="ROYGB",this.mult=1,this.min=mt,this.max=nt,typeof nt>"u"&&Array.isArray(mt)&&mt.length>=2?(this.max=mt[1],this.min=mt[0]):mt&&nt&&!Array.isArray(mt)&&(this.min=mt,this.max=nt)}valueToHex(mt,nt){var $,_e;if(mt=this.mult*mt,nt?($=nt[0],_e=nt[1]):($=this.min,_e=this.max),typeof mt>"u")return 16777215;var st=j($,_e,mt);$=st.lo,_e=st.hi,mt=st.val;var ot=($+_e)/2,ut=($+ot)/2,et=(ot+_e)/2,at,pt;return mt<ut?(at=Math.floor(255*Math.sqrt((mt-$)/(ut-$))),pt=16711680+256*at+0,pt):mt<ot?(at=Math.floor(255*Math.sqrt(1-(mt-ut)/(ot-ut))),pt=65536*at+65280+0,pt):mt<et?(at=Math.floor(255*Math.sqrt((mt-ot)/(et-ot))),pt=65280+1*at,pt):(at=Math.floor(255*Math.sqrt(1-(mt-et)/(_e-et))),pt=0+256*at+255,pt)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class dt extends _{constructor(mt,nt){super(),this.gradient="Sinebow",this.mult=1,this.min=mt,this.max=nt,typeof nt>"u"&&Array.isArray(mt)&&mt.length>=2&&(this.max=mt[1],this.min=mt[0]),nt<mt&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(mt,nt){var $,_e;if(mt=this.mult*mt,nt?($=nt[0],_e=nt[1]):($=this.min,_e=this.max),typeof mt>"u")return 16777215;var st=vt.normalizeValue($,_e,mt);$=st.lo,_e=st.hi,mt=st.val;var ot=(mt-$)/(_e-$),ut=5*ot/6+.5,et=Math.sin(Math.PI*ut);et*=et*255;var at=Math.sin(Math.PI*(ut+1/3));at*=at*255;var pt=Math.sin(Math.PI*(ut+2/3));return pt*=pt*255,65536*Math.floor(et)+256*Math.floor(pt)+1*Math.floor(at)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class lt extends _{constructor(mt,nt,$){super(),this.gradient="linear",this.colors=new Array;var _e;if(Array.isArray(mt)&&mt.length>=2?(this.max=mt[1],this.min=mt[0],_e=nt):(this.min=mt,this.max=nt,_e=$),_e)for(let st of _e)this.colors.push(a.CC.color(st));else this.colors.push(a.CC.color(0))}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(mt,nt){var $,_e;if(nt?($=nt[0],_e=nt[1]):($=this.min,_e=this.max),mt===void 0)return 16777215;var st=j($,_e,mt);$=st.lo,_e=st.hi,mt=st.val;let ot=this.colors.length,ut=(_e-$)/ot,et=Math.min(Math.floor((mt-$)/ut),ot-1),at=Math.min(et+1,ot-1),pt=(mt-$-et*ut)/ut,ct=this.colors[et],yt=this.colors[at];return new a.Color(ct.r+pt*(yt.r-ct.r),ct.g+pt*(yt.g-ct.g),ct.b+pt*(yt.b-ct.b)).getHex()}}const gt={rwb:tt,RWB:tt,roygb:it,ROYGB:it,sinebow:dt,linear:lt};class vt extends _{valueToHex(mt,nt){return 0}range(){return null}}vt.RWB=tt,vt.ROYGB=it,vt.Sinebow=dt,vt.CustomLinear=lt,vt.builtinGradients=gt,vt.normalizeValue=j,vt.getGradient=rt},"./src/Label.ts":(i,s,o)=>{o.r(s),o.d(s,{Label:()=>dt,LabelCount:()=>rt});var a=o("./src/WebGL/index.ts"),_=o("./src/Gradient.ts"),j=o("./src/colors.ts");let rt=0;function tt(lt,gt,vt,ht,mt,nt,$){lt.beginPath(),lt.moveTo(gt+nt,vt),lt.lineTo(gt+ht-nt,vt),lt.quadraticCurveTo(gt+ht,vt,gt+ht,vt+nt),lt.lineTo(gt+ht,vt+mt-nt),lt.quadraticCurveTo(gt+ht,vt+mt,gt+ht-nt,vt+mt),lt.lineTo(gt+nt,vt+mt),lt.quadraticCurveTo(gt,vt+mt,gt,vt+mt-nt),lt.lineTo(gt,vt+nt),lt.quadraticCurveTo(gt,vt,gt+nt,vt),lt.closePath(),lt.fill(),$&&lt.stroke()}function it(lt,gt,vt){var ht=vt;return typeof lt<"u"&&(lt instanceof j.Color?ht=lt.scaled():(ht=j.CC.color(lt),typeof ht.scaled<"u"&&(ht=ht.scaled()))),typeof gt<"u"&&(ht.a=parseFloat(gt)),ht}class dt{constructor(gt,vt){this.id=rt++,this.stylespec=vt||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new a.Sprite,this.text=gt,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}hide(){this.sprite.visible=!1}show(){this.sprite.visible=!0}setContext(){var gt=this.stylespec,vt=typeof gt.useScreen>"u"?!1:gt.useScreen,ht=gt.showBackground;(ht==="0"||ht==="false")&&(ht=!1),typeof ht>"u"&&(ht=!0);var mt=gt.font?gt.font:"sans-serif",nt=parseInt(gt.fontSize)?parseInt(gt.fontSize):18,$=it(gt.fontColor,gt.fontOpacity,{r:255,g:255,b:255,a:1}),_e=gt.padding?gt.padding:4,st=gt.borderThickness?gt.borderThickness:0,ot=it(gt.backgroundColor,gt.backgroundOpacity,{r:0,g:0,b:0,a:1}),ut=it(gt.borderColor,gt.borderOpacity,ot),et=gt.position?gt.position:{x:-10,y:1,z:1},at=gt.inFront!==void 0?gt.inFront:!0;(at==="false"||at==="0")&&(at=!1);var pt=gt.alignment||a.SpriteAlignment.topLeft;typeof pt=="string"&&pt in a.SpriteAlignment&&(pt=a.SpriteAlignment[pt]);var ct="";gt.bold&&(ct="bold "),this.context.font=ct+nt+"px  "+mt;var yt=this.context.measureText(this.text),ft=yt.width;ht||(st=0);var _t=ft+2.5*st+2*_e,wt=nt*1.25+2*st+2*_e;if(gt.backgroundImage){var Et=gt.backgroundImage,Mt=gt.backgroundWidth?gt.backgroundWidth:Et.width,St=gt.backgroundHeight?gt.backgroundHeight:Et.height;Mt>_t&&(_t=Mt),St>wt&&(wt=St)}if(this.canvas.width=_t,this.canvas.height=wt,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),ct="",gt.bold&&(ct="bold "),this.context.font=ct+nt+"px  "+mt,this.context.fillStyle="rgba("+ot.r+","+ot.g+","+ot.b+","+ot.a+")",this.context.strokeStyle="rgba("+ut.r+","+ut.g+","+ut.b+","+ut.a+")",gt.backgroundGradient){let Rt=this.context.createLinearGradient(0,wt/2,_t,wt/2),Ct=_.Gradient.getGradient(gt.backgroundGradient),Pt=Ct.range(),Lt=-1,Ot=1;Pt&&(Lt=Pt[0],Ot=Pt[1]);let It=Ot-Lt;for(let $t=0;$t<1.01;$t+=.1){let jt=it(Ct.valueToHex(Lt+It*$t)),Zt="rgba("+jt.r+","+jt.g+","+jt.b+","+jt.a+")";Rt.addColorStop($t,Zt)}this.context.fillStyle=Rt}this.context.lineWidth=st,ht&&tt(this.context,st,st,_t-2*st,wt-2*st,6,st>0),gt.backgroundImage&&this.context.drawImage(Et,0,0,_t,wt),this.context.fillStyle="rgba("+$.r+","+$.g+","+$.b+","+$.a+")",this.context.fillText(this.text,st+_e,nt+st+_e,ft);var At=new a.Texture(this.canvas);At.needsUpdate=!0,this.sprite.material=new a.SpriteMaterial({map:At,useScreenCoordinates:vt,alignment:pt,depthTest:!at,screenOffset:gt.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(et.x,et.y,et.z)}dispose(){this.sprite.material.map!==void 0&&this.sprite.material.map.dispose(),this.sprite.material!==void 0&&this.sprite.material.dispose()}}},"./src/ProteinSurface4.ts":(i,s,o)=>{o.r(s),o.d(s,{MarchingCube:()=>it,MarchingCubeInitializer:()=>tt,PointGrid:()=>dt,ProteinSurface:()=>lt,SurfaceType:()=>_,setSyncSurface:()=>rt,syncSurface:()=>j});var a=o("./src/WebGL/math/index.ts"),_;(function(gt){gt[gt.VDW=1]="VDW",gt[gt.MS=2]="MS",gt[gt.SAS=3]="SAS",gt[gt.SES=4]="SES"})(_||(_={}));var j=!1;function rt(gt){j=gt}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(j=!0);class tt{constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(vt,ht,mt,nt){let $=!!nt.fulltable,_e=nt.hasOwnProperty("origin")&&nt.origin.hasOwnProperty("x")?nt.origin:{x:0,y:0,z:0},st=!!nt.voxel,ot=nt.matrix,ut=nt.nX||0,et=nt.nY||0,at=nt.nZ||0,pt=nt.scale||1,ct=null;nt.unitCube?ct=nt.unitCube:ct={x:pt,y:pt,z:pt};let yt=new Int32Array(ut*et*at),ft,_t;for(ft=0,_t=yt.length;ft<_t;++ft)yt[ft]=-1;let wt=function(At,Rt,Ct,Pt,Lt,Ot){let It={x:0,y:0,z:0},$t=!!(Pt&1<<Lt),jt=!!(Pt&1<<Ot),Zt=Lt;if(!$t&&jt&&(Zt=Ot),Zt&1&&Ct++,Zt&2&&Rt++,Zt&4&&At++,ot){let er=new a.Vector3(At,Rt,Ct);er=er.applyMatrix4(ot),It={x:er.x,y:er.y,z:er.z}}else It.x=_e.x+ct.x*At,It.y=_e.y+ct.y*Rt,It.z=_e.z+ct.z*Ct;let qt=(et*At+Rt)*at+Ct;return st?(ht.push(It),ht.length-1):(yt[qt]<0&&(yt[qt]=ht.length,ht.push(It)),yt[qt])},Et=new Int32Array(12),Mt=$?this.edgeTable2:this.edgeTable,St=$?this.triTable2:this.triTable;for(ft=0;ft<ut-1;++ft)for(let At=0;At<et-1;++At)for(let Rt=0;Rt<at-1;++Rt){let Ct=0;for(let Ot=0;Ot<8;++Ot){let It=(et*(ft+((Ot&4)>>2))+At+((Ot&2)>>1))*at+Rt+(Ot&1),$t=!!(vt[It]&this.ISDONE);Ct|=$t<<Ot}if(Ct===0||Ct===255)continue;let Pt=Mt[Ct];if(Pt===0)continue;let Lt=St[Ct];Pt&1&&(Et[0]=wt(ft,At,Rt,Ct,0,1)),Pt&2&&(Et[1]=wt(ft,At,Rt,Ct,1,3)),Pt&4&&(Et[2]=wt(ft,At,Rt,Ct,3,2)),Pt&8&&(Et[3]=wt(ft,At,Rt,Ct,2,0)),Pt&16&&(Et[4]=wt(ft,At,Rt,Ct,4,5)),Pt&32&&(Et[5]=wt(ft,At,Rt,Ct,5,7)),Pt&64&&(Et[6]=wt(ft,At,Rt,Ct,7,6)),Pt&128&&(Et[7]=wt(ft,At,Rt,Ct,6,4)),Pt&256&&(Et[8]=wt(ft,At,Rt,Ct,0,4)),Pt&512&&(Et[9]=wt(ft,At,Rt,Ct,1,5)),Pt&1024&&(Et[10]=wt(ft,At,Rt,Ct,3,7)),Pt&2048&&(Et[11]=wt(ft,At,Rt,Ct,2,6));for(let Ot=0;Ot<Lt.length;Ot+=3){let It=Et[Lt[Ot]],$t=Et[Lt[Ot+1]],jt=Et[Lt[Ot+2]];st&&Ot>=3&&(ht.push(ht[It]),It=ht.length-1,ht.push(ht[$t]),$t=ht.length-1,ht.push(ht[jt]),jt=ht.length-1),mt.push(It),mt.push($t),mt.push(jt)}}}laplacianSmooth(vt,ht,mt){let nt=new Array(ht.length),$,_e,st,ot,ut;for($=0,_e=ht.length;$<_e;$++)nt[$]={x:0,y:0,z:0};let et=new Array(20),at;for($=0;$<20;$++)et[$]=new Array(ht.length);for($=0,_e=ht.length;$<_e;$++)et[0][$]=0;for($=0,_e=mt.length/3;$<_e;$++){let yt=$*3,ft=$*3+1,_t=$*3+2;for(at=!0,st=0,ot=et[0][mt[yt]];st<ot;st++)if(mt[ft]==et[st+1][mt[yt]]){at=!1;break}for(at&&(et[0][mt[yt]]++,et[et[0][mt[yt]]][mt[yt]]=mt[ft]),at=!0,st=0,ot=et[0][mt[yt]];st<ot;st++)if(mt[_t]==et[st+1][mt[yt]]){at=!1;break}for(at&&(et[0][mt[yt]]++,et[et[0][mt[yt]]][mt[yt]]=mt[_t]),at=!0,st=0,ot=et[0][mt[ft]];st<ot;st++)if(mt[yt]==et[st+1][mt[ft]]){at=!1;break}for(at&&(et[0][mt[ft]]++,et[et[0][mt[ft]]][mt[ft]]=mt[yt]),at=!0,st=0,ot=et[0][mt[ft]];st<ot;st++)if(mt[_t]==et[st+1][mt[ft]]){at=!1;break}for(at&&(et[0][mt[ft]]++,et[et[0][mt[ft]]][mt[ft]]=mt[_t]),at=!0,st=0;st<et[0][mt[_t]];st++)if(mt[yt]==et[st+1][mt[_t]]){at=!1;break}for(at&&(et[0][mt[_t]]++,et[et[0][mt[_t]]][mt[_t]]=mt[yt]),at=!0,st=0,ot=et[0][mt[_t]];st<ot;st++)if(mt[ft]==et[st+1][mt[_t]]){at=!1;break}at&&(et[0][mt[_t]]++,et[et[0][mt[_t]]][mt[_t]]=mt[ft])}let pt=1,ct=.5;for(ut=0;ut<vt;ut++){for($=0,_e=ht.length;$<_e;$++)if(et[0][$]<3)nt[$].x=ht[$].x,nt[$].y=ht[$].y,nt[$].z=ht[$].z;else if(et[0][$]==3||et[0][$]==4){for(nt[$].x=0,nt[$].y=0,nt[$].z=0,st=0,ot=et[0][$];st<ot;st++)nt[$].x+=ht[et[st+1][$]].x,nt[$].y+=ht[et[st+1][$]].y,nt[$].z+=ht[et[st+1][$]].z;nt[$].x+=ct*ht[$].x,nt[$].y+=ct*ht[$].y,nt[$].z+=ct*ht[$].z,nt[$].x/=ct+et[0][$],nt[$].y/=ct+et[0][$],nt[$].z/=ct+et[0][$]}else{for(nt[$].x=0,nt[$].y=0,nt[$].z=0,st=0,ot=et[0][$];st<ot;st++)nt[$].x+=ht[et[st+1][$]].x,nt[$].y+=ht[et[st+1][$]].y,nt[$].z+=ht[et[st+1][$]].z;nt[$].x+=pt*ht[$].x,nt[$].y+=pt*ht[$].y,nt[$].z+=pt*ht[$].z,nt[$].x/=pt+et[0][$],nt[$].y/=pt+et[0][$],nt[$].z/=pt+et[0][$]}for($=0,_e=ht.length;$<_e;$++)ht[$].x=nt[$].x,ht[$].y=nt[$].y,ht[$].z=nt[$].z}}}let it=new tt;class dt{constructor(vt,ht,mt){this.data=new Int32Array(vt*ht*mt*3),this.width=ht,this.height=mt}set(vt,ht,mt,nt){let $=((vt*this.width+ht)*this.height+mt)*3;this.data[$]=nt.ix,this.data[$+1]=nt.iy,this.data[$+2]=nt.iz}get(vt,ht,mt){let nt=((vt*this.width+ht)*this.height+mt)*3;return{ix:this.data[nt],iy:this.data[nt+1],iz:this.data[nt+2]}}}class lt{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])],lt.MarchingCube||(lt.MarchingCube=new tt)}getVDWIndex(vt){return!vt.elem||typeof this.vdwRadii[vt.elem]>"u"?"X":vt.elem}getFacesAndVertices(vt){let ht={};for(let $=0,_e=vt.length;$<_e;$++)ht[vt[$]]=!0;let mt=this.verts;for(let $=0,_e=mt.length;$<_e;$++)mt[$].x=mt[$].x/this.scaleFactor-this.ptranx,mt[$].y=mt[$].y/this.scaleFactor-this.ptrany,mt[$].z=mt[$].z/this.scaleFactor-this.ptranz;let nt=[];for(let $=0,_e=this.faces.length;$<_e;$+=3){let st=this.faces[$],ot=this.faces[$+1],ut=this.faces[$+2],et=mt[st].atomid,at=mt[ot].atomid,pt=mt[ut].atomid,ct=et;at<ct&&(ct=at),pt<ct&&(ct=pt),ht[ct]&&st!==ot&&ot!==ut&&st!==ut&&(nt.push(st),nt.push(ot),nt.push(ut))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:mt,faces:nt}}initparm(vt,ht,mt){mt>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let nt=1/this.scaleFactor*5.5;this.pminx=vt[0][0],this.pmaxx=vt[1][0],this.pminy=vt[0][1],this.pmaxy=vt[1][1],this.pminz=vt[0][2],this.pmaxz=vt[1][2],ht?(this.pminx-=this.probeRadius+nt,this.pminy-=this.probeRadius+nt,this.pminz-=this.probeRadius+nt,this.pmaxx+=this.probeRadius+nt,this.pmaxy+=this.probeRadius+nt,this.pmaxz+=this.probeRadius+nt):(this.pminx-=nt,this.pminy-=nt,this.pminz-=nt,this.pmaxx+=nt,this.pmaxy+=nt,this.pmaxz+=nt),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(ht),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(vt){let ht={};for(const mt in this.vdwRadii){let nt=this.vdwRadii[mt];vt?ht[mt]=(nt+this.probeRadius)*this.scaleFactor+.5:ht[mt]=nt*this.scaleFactor+.5;let $=ht[mt]*ht[mt];this.widxz[mt]=Math.floor(ht[mt])+1,this.depty[mt]=new Int32Array(this.widxz[mt]*this.widxz[mt]);let _e=0;for(let st=0;st<this.widxz[mt];st++)for(let ot=0;ot<this.widxz[mt];ot++){let ut=st*st+ot*ot;if(ut>$)this.depty[mt][_e]=-1;else{let et=Math.sqrt($-ut);this.depty[mt][_e]=Math.floor(et)}_e++}}}fillvoxels(vt,ht){for(let mt=0,nt=this.vpBits.length;mt<nt;mt++)this.vpBits[mt]=0,this.vpDistance[mt]=-1,this.vpAtomID[mt]=-1;for(let mt in ht){let nt=vt[ht[mt]];nt!==void 0&&this.fillAtom(nt,vt)}for(let mt=0,nt=this.vpBits.length;mt<nt;mt++)this.vpBits[mt]&this.INOUT&&(this.vpBits[mt]|=this.ISDONE)}fillAtom(vt,ht){let mt=Math.floor(.5+this.scaleFactor*(vt.x+this.ptranx)),nt=Math.floor(.5+this.scaleFactor*(vt.y+this.ptrany)),$=Math.floor(.5+this.scaleFactor*(vt.z+this.ptranz)),_e=this.getVDWIndex(vt),st=0,ot=this.pWidth*this.pHeight;for(let ut=0,et=this.widxz[_e];ut<et;ut++)for(let at=0;at<et;at++){if(this.depty[_e][st]!=-1){for(let pt=-1;pt<2;pt++)for(let ct=-1;ct<2;ct++)for(let yt=-1;yt<2;yt++)if(pt!==0&&ct!==0&&yt!==0){let ft=pt*ut,_t=yt*at;for(let wt=0;wt<=this.depty[_e][st];wt++){let Et=wt*ct,Mt=mt+ft,St=nt+Et,At=$+_t;if(Mt<0||St<0||At<0||Mt>=this.pLength||St>=this.pWidth||At>=this.pHeight)continue;let Rt=Mt*ot+St*this.pHeight+At;if(!(this.vpBits[Rt]&this.INOUT))this.vpBits[Rt]|=this.INOUT,this.vpAtomID[Rt]=vt.serial;else{let Ct=ht[this.vpAtomID[Rt]];if(Ct.serial!=vt.serial){let Pt=mt+ft-Math.floor(.5+this.scaleFactor*(Ct.x+this.ptranx)),Lt=nt+Et-Math.floor(.5+this.scaleFactor*(Ct.y+this.ptrany)),Ot=$+_t-Math.floor(.5+this.scaleFactor*(Ct.z+this.ptranz));ft*ft+Et*Et+_t*_t<Pt*Pt+Lt*Lt+Ot*Ot&&(this.vpAtomID[Rt]=vt.serial)}}}}}st++}}fillvoxelswaals(vt,ht){for(let mt=0,nt=this.vpBits.length;mt<nt;mt++)this.vpBits[mt]&=~this.ISDONE;for(let mt in ht){let nt=vt[ht[mt]];nt!==void 0&&this.fillAtomWaals(nt,vt)}}fillAtomWaals(vt,ht){let mt=0,nt=Math.floor(.5+this.scaleFactor*(vt.x+this.ptranx)),$=Math.floor(.5+this.scaleFactor*(vt.y+this.ptrany)),_e=Math.floor(.5+this.scaleFactor*(vt.z+this.ptranz)),st=this.getVDWIndex(vt),ot=this.pWidth*this.pHeight;for(let ut=0,et=this.widxz[st];ut<et;ut++)for(let at=0;at<et;at++){if(this.depty[st][mt]!=-1){for(let pt=-1;pt<2;pt++)for(let ct=-1;ct<2;ct++)for(let yt=-1;yt<2;yt++)if(pt!==0&&ct!==0&&yt!==0){let ft=pt*ut,_t=yt*at;for(let wt=0;wt<=this.depty[st][mt];wt++){let Et=wt*ct,Mt=nt+ft,St=$+Et,At=_e+_t;if(Mt<0||St<0||At<0||Mt>=this.pLength||St>=this.pWidth||At>=this.pHeight)continue;let Rt=Mt*ot+St*this.pHeight+At;if(!(this.vpBits[Rt]&this.ISDONE))this.vpBits[Rt]|=this.ISDONE,this.vpAtomID[Rt]=vt.serial;else{let Ct=ht[this.vpAtomID[Rt]];if(Ct.serial!=vt.serial){let Pt=nt+ft-Math.floor(.5+this.scaleFactor*(Ct.x+this.ptranx)),Lt=$+Et-Math.floor(.5+this.scaleFactor*(Ct.y+this.ptrany)),Ot=_e+_t-Math.floor(.5+this.scaleFactor*(Ct.z+this.ptranz));ft*ft+Et*Et+_t*_t<Pt*Pt+Lt*Lt+Ot*Ot&&(this.vpAtomID[Rt]=vt.serial)}}}}}mt++}}buildboundary(){let vt=this.pWidth*this.pHeight;for(let ht=0;ht<this.pLength;ht++)for(let mt=0;mt<this.pHeight;mt++)for(let nt=0;nt<this.pWidth;nt++){let $=ht*vt+nt*this.pHeight+mt;if(this.vpBits[$]&this.INOUT){let _e=0;for(;_e<26;){let st=ht+this.nb[_e][0],ot=mt+this.nb[_e][2],ut=nt+this.nb[_e][1];if(st>-1&&st<this.pLength&&ut>-1&&ut<this.pWidth&&ot>-1&&ot<this.pHeight&&!(this.vpBits[st*vt+ut*this.pHeight+ot]&this.INOUT)){this.vpBits[$]|=this.ISBOUND;break}else _e++}}}}fastdistancemap(){let vt=new dt(this.pLength,this.pWidth,this.pHeight),ht=this.pWidth*this.pHeight,mt=this.cutRadius*this.cutRadius,nt=[],$=[],_e;for(let ut=0;ut<this.pLength;ut++)for(let et=0;et<this.pWidth;et++)for(let at=0;at<this.pHeight;at++)if(_e=ut*ht+et*this.pHeight+at,this.vpBits[_e]&=~this.ISDONE,this.vpBits[_e]&this.INOUT&&this.vpBits[_e]&this.ISBOUND){let pt={ix:ut,iy:et,iz:at};vt.set(ut,et,at,pt),nt.push(pt),this.vpDistance[_e]=0,this.vpBits[_e]|=this.ISDONE,this.vpBits[_e]&=~this.ISBOUND}do{$=this.fastoneshell(nt,vt),nt=[];for(let ut=0,et=$.length;ut<et;ut++)_e=ht*$[ut].ix+this.pHeight*$[ut].iy+$[ut].iz,this.vpBits[_e]&=~this.ISBOUND,this.vpDistance[_e]<=1.0404*mt&&nt.push({ix:$[ut].ix,iy:$[ut].iy,iz:$[ut].iz})}while(nt.length!==0);nt=[],$=[],vt=null;let st=this.scaleFactor-.5;st<0&&(st=0);let ot=mt-.5/(.1+st);for(let ut=0;ut<this.pLength;ut++)for(let et=0;et<this.pWidth;et++)for(let at=0;at<this.pHeight;at++)_e=ut*ht+et*this.pHeight+at,this.vpBits[_e]&=~this.ISBOUND,this.vpBits[_e]&this.INOUT&&(!(this.vpBits[_e]&this.ISDONE)||this.vpBits[_e]&this.ISDONE&&this.vpDistance[_e]>=ot)&&(this.vpBits[_e]|=this.ISBOUND)}fastoneshell(vt,ht){let mt,nt,$,_e,st,ot,ut,et,at,pt=[];if(vt.length===0)return pt;let ct={ix:-1,iy:-1,iz:-1},yt=this.pWidth*this.pHeight;for(let ft=0,_t=vt.length;ft<_t;ft++){mt=vt[ft].ix,nt=vt[ft].iy,$=vt[ft].iz,et=ht.get(mt,nt,$);for(let wt=0;wt<6;wt++)ct.ix=mt+this.nb[wt][0],ct.iy=nt+this.nb[wt][1],ct.iz=$+this.nb[wt][2],ct.ix<this.pLength&&ct.ix>-1&&ct.iy<this.pWidth&&ct.iy>-1&&ct.iz<this.pHeight&&ct.iz>-1&&(at=ct.ix*yt+this.pHeight*ct.iy+ct.iz,this.vpBits[at]&this.INOUT&&!(this.vpBits[at]&this.ISDONE)?(ht.set(ct.ix,ct.iy,$+this.nb[wt][2],et),_e=ct.ix-et.ix,st=ct.iy-et.iy,ot=ct.iz-et.iz,ut=_e*_e+st*st+ot*ot,this.vpDistance[at]=ut,this.vpBits[at]|=this.ISDONE,this.vpBits[at]|=this.ISBOUND,pt.push({ix:ct.ix,iy:ct.iy,iz:ct.iz})):this.vpBits[at]&this.INOUT&&this.vpBits[at]&this.ISDONE&&(_e=ct.ix-et.ix,st=ct.iy-et.iy,ot=ct.iz-et.iz,ut=_e*_e+st*st+ot*ot,ut<this.vpDistance[at]&&(ht.set(ct.ix,ct.iy,ct.iz,et),this.vpDistance[at]=ut,this.vpBits[at]&this.ISBOUND||(this.vpBits[at]|=this.ISBOUND,pt.push({ix:ct.ix,iy:ct.iy,iz:ct.iz})))))}for(let ft=0,_t=vt.length;ft<_t;ft++){mt=vt[ft].ix,nt=vt[ft].iy,$=vt[ft].iz,et=ht.get(mt,nt,$);for(let wt=6;wt<18;wt++)ct.ix=mt+this.nb[wt][0],ct.iy=nt+this.nb[wt][1],ct.iz=$+this.nb[wt][2],ct.ix<this.pLength&&ct.ix>-1&&ct.iy<this.pWidth&&ct.iy>-1&&ct.iz<this.pHeight&&ct.iz>-1&&(at=ct.ix*yt+this.pHeight*ct.iy+ct.iz,this.vpBits[at]&this.INOUT&&!(this.vpBits[at]&this.ISDONE)?(ht.set(ct.ix,ct.iy,$+this.nb[wt][2],et),_e=ct.ix-et.ix,st=ct.iy-et.iy,ot=ct.iz-et.iz,ut=_e*_e+st*st+ot*ot,this.vpDistance[at]=ut,this.vpBits[at]|=this.ISDONE,this.vpBits[at]|=this.ISBOUND,pt.push({ix:ct.ix,iy:ct.iy,iz:ct.iz})):this.vpBits[at]&this.INOUT&&this.vpBits[at]&this.ISDONE&&(_e=ct.ix-et.ix,st=ct.iy-et.iy,ot=ct.iz-et.iz,ut=_e*_e+st*st+ot*ot,ut<this.vpDistance[at]&&(ht.set(ct.ix,ct.iy,ct.iz,et),this.vpDistance[at]=ut,this.vpBits[at]&this.ISBOUND||(this.vpBits[at]|=this.ISBOUND,pt.push({ix:ct.ix,iy:ct.iy,iz:ct.iz})))))}for(let ft=0,_t=vt.length;ft<_t;ft++){mt=vt[ft].ix,nt=vt[ft].iy,$=vt[ft].iz,et=ht.get(mt,nt,$);for(let wt=18;wt<26;wt++)ct.ix=mt+this.nb[wt][0],ct.iy=nt+this.nb[wt][1],ct.iz=$+this.nb[wt][2],ct.ix<this.pLength&&ct.ix>-1&&ct.iy<this.pWidth&&ct.iy>-1&&ct.iz<this.pHeight&&ct.iz>-1&&(at=ct.ix*yt+this.pHeight*ct.iy+ct.iz,this.vpBits[at]&this.INOUT&&!(this.vpBits[at]&this.ISDONE)?(ht.set(ct.ix,ct.iy,$+this.nb[wt][2],et),_e=ct.ix-et.ix,st=ct.iy-et.iy,ot=ct.iz-et.iz,ut=_e*_e+st*st+ot*ot,this.vpDistance[at]=ut,this.vpBits[at]|=this.ISDONE,this.vpBits[at]|=this.ISBOUND,pt.push({ix:ct.ix,iy:ct.iy,iz:ct.iz})):this.vpBits[at]&this.INOUT&&this.vpBits[at]&this.ISDONE&&(_e=ct.ix-et.ix,st=ct.iy-et.iy,ot=ct.iz-et.iz,ut=_e*_e+st*st+ot*ot,ut<this.vpDistance[at]&&(ht.set(ct.ix,ct.iy,ct.iz,et),this.vpDistance[at]=ut,this.vpBits[at]&this.ISBOUND||(this.vpBits[at]|=this.ISBOUND,pt.push({ix:ct.ix,iy:ct.iy,iz:ct.iz})))))}return pt}marchingcubeinit(vt){for(let ht=0,mt=this.vpBits.length;ht<mt;ht++)vt==1?this.vpBits[ht]&=~this.ISBOUND:vt==4?(this.vpBits[ht]&=~this.ISDONE,this.vpBits[ht]&this.ISBOUND&&(this.vpBits[ht]|=this.ISDONE),this.vpBits[ht]&=~this.ISBOUND):vt==2?this.vpBits[ht]&this.ISBOUND&&this.vpBits[ht]&this.ISDONE?this.vpBits[ht]&=~this.ISBOUND:this.vpBits[ht]&this.ISBOUND&&!(this.vpBits[ht]&this.ISDONE)&&(this.vpBits[ht]|=this.ISDONE):vt==3&&(this.vpBits[ht]&=~this.ISBOUND)}marchingcube(vt){this.marchingcubeinit(vt),this.verts=[],this.faces=[],lt.MarchingCube.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let ht=this.pWidth*this.pHeight;for(let mt=0,nt=this.verts.length;mt<nt;mt++)this.verts[mt].atomid=this.vpAtomID[this.verts[mt].x*ht+this.pHeight*this.verts[mt].y+this.verts[mt].z];lt.MarchingCube.laplacianSmooth(1,this.verts,this.faces)}}lt.MarchingCube=new tt},"./src/VolumeData.ts":(i,s,o)=>{o.r(s),o.d(s,{VolumeData:()=>it});var a=o("./src/utilities.ts"),_=o("./src/WebGL/math/index.ts"),j=o("./src/parsers/VASP.ts"),rt=o("./src/parsers/CUBE.ts"),tt=o("./node_modules/pako/dist/pako.esm.mjs");class it{constructor(lt,gt,vt){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(_e){var st=_e/(this.size.y*this.size.z),ot=_e%(this.size.y*this.size.z),ut=_e%this.size.z;return st*=this.unit.x,ot*=this.unit.y,ut*=this.unit.z,st+=this.origin.x,ot+=this.origin.y,ut+=this.origin.z,{x:st,y:ot,z:ut}},this.vasp=function(_e){var st=_e.replace(/^\s+/,"").split(/[\n\r]/),ot=(0,j.VASP)(_e)[0],ut=ot.length;if(ut==0){console.warn("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];return}var et=1.889725992,at=.036749309,pt=parseFloat(st[1]),ct;ct=st[2].replace(/^\s+/,"").split(/\s+/);var yt=new _.Vector3(parseFloat(ct[0]),parseFloat(ct[1]),parseFloat(ct[2])).multiplyScalar(pt*et);ct=st[3].replace(/^\s+/,"").split(/\s+/);var ft=new _.Vector3(parseFloat(ct[0]),parseFloat(ct[1]),parseFloat(ct[2])).multiplyScalar(pt*et);ct=st[4].replace(/^\s+/,"").split(/\s+/);var _t=new _.Vector3(parseFloat(ct[0]),parseFloat(ct[1]),parseFloat(ct[2])).multiplyScalar(pt*et),wt=yt.x*(ft.y*_t.z-_t.y*ft.z)-ft.x*(yt.y*_t.z-_t.y*yt.z)+_t.x*(yt.y*ft.z-ft.y*yt.z);wt=Math.abs(wt)/Math.pow(et,3);var Et=1/wt;st.splice(0,8+ut+1);var Mt=st[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),St=Math.abs(parseFloat(Mt[0])),At=Math.abs(parseFloat(Mt[1])),Rt=Math.abs(parseFloat(Mt[2])),Ct=this.origin=new _.Vector3(0,0,0);this.size={x:St,y:At,z:Rt},this.unit=new _.Vector3(yt.x,ft.y,_t.z),yt=yt.multiplyScalar(1/(et*St)),ft=ft.multiplyScalar(1/(et*At)),_t=_t.multiplyScalar(1/(et*Rt)),(yt.y!=0||yt.z!=0||ft.x!=0||ft.z!=0||_t.x!=0||_t.y!=0)&&(this.matrix=new _.Matrix4(yt.x,ft.x,_t.x,0,yt.y,ft.y,_t.y,0,yt.z,ft.z,_t.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new _.Matrix4().makeTranslation(Ct.x,Ct.y,Ct.z)),this.origin=new _.Vector3(0,0,0),this.unit=new _.Vector3(1,1,1)),st.splice(0,1);var Pt=st.join(" ");Pt=Pt.replace(/^\s+/,"");var Lt=Pt.split(/[\s\r]+/);Lt.splice(St*At*Rt+1);for(var Ot=Float32Array.from(Lt,parseFloat),It=0;It<Ot.length;It++)Ot[It]=Ot[It]*Et*at;this.data=Ot},this.dx=function(_e){var st=_e.split(/[\n\r]+/),ot,ut=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,et=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,at=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,pt=/data follows/,ct=0;for(ct=0;ct<st.length;ct++){var yt=st[ct];if(ot=ut.exec(yt)){var ft=parseInt(ot[1]),_t=parseInt(ot[2]),wt=parseInt(ot[3]);this.size={x:ft,y:_t,z:wt}}else if(ot=at.exec(yt)){var Et=parseFloat(ot[1]);if((parseFloat(ot[2])!=0||parseFloat(ot[3])!=0)&&console.warn("Non-orthogonal delta matrix not currently supported in dx format"),ct+=1,yt=st[ct],ot=at.exec(yt),ot==null){console.error("Parse error in dx delta matrix");return}var Mt=parseFloat(ot[2]);if((parseFloat(ot[1])!=0||parseFloat(ot[3])!=0)&&console.warn("Non-orthogonal delta matrix not currently supported in dx format"),ct+=1,yt=st[ct],ot=at.exec(yt),ot==null){console.error("Parse error in dx delta matrix");return}var St=parseFloat(ot[3]);(parseFloat(ot[1])!=0||parseFloat(ot[2])!=0)&&console.warn("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new _.Vector3(Et,Mt,St)}else if(ot=et.exec(yt)){var At=parseFloat(ot[1]),Rt=parseFloat(ot[2]),Ct=parseFloat(ot[3]);this.origin=new _.Vector3(At,Rt,Ct)}else if(ot=pt.exec(yt))break}if(ct+=1,!this.size||!this.origin||!this.unit||!this.size){console.error("Error parsing dx format");return}var Pt=st.splice(ct).join(" "),Lt=Pt.split(/[\s\r]+/);this.data=Float32Array.from(Lt,parseFloat)},gt=gt.toLowerCase(),/\.gz$/.test(gt)){gt=gt.replace(/\.gz$/,"");try{this[gt]&&this.isbinary.has(gt)?(typeof lt=="string"&&(lt=(0,a.base64ToArray)(lt)),lt=(0,tt.inflate)(lt)):lt=new TextDecoder("utf-8").decode((0,tt.inflate)(lt))}catch(_e){console.error(_e)}}if(this[gt]&&(this.isbinary.has(gt)&&typeof lt=="string"&&(lt=(0,a.base64ToArray)(lt)),this[gt](lt)),vt){if(vt.negate)for(let _e=0,st=this.data.length;_e<st;_e++)this.data[_e]=-this.data[_e];if(vt.normalize){var ht=0;for(let _e=0,st=this.data.length;_e<st;_e++)ht+=this.data[_e];var mt=ht/this.data.length;ht=0;for(let _e=0,st=this.data.length;_e<st;_e++){var nt=this.data[_e]-mt;ht+=nt*nt}var $=ht/this.data.length;for(let _e=0,st=this.data.length;_e<st;_e++)this.data[_e]=(this.data[_e]-mt)/$}}}getIndex(lt,gt,vt){if(this.matrix){this.inversematrix==null&&(this.inversematrix=new _.Matrix4().getInverse(this.matrix));var ht=new _.Vector3(lt,gt,vt);ht=ht.applyMatrix4(this.inversematrix),lt=ht.x,gt=ht.y,vt=ht.z}else lt-=this.origin.x,gt-=this.origin.y,vt-=this.origin.z,lt/=this.unit.x,gt/=this.unit.y,vt/=this.unit.z;return lt=Math.round(lt),gt=Math.round(gt),vt=Math.round(vt),lt<0||lt>=this.size.x||gt<0||gt>=this.size.y||vt<0||vt>=this.size.z?-1:lt*this.size.y*this.size.z+gt*this.size.z+vt}getVal(lt,gt,vt){let ht=this.getIndex(lt,gt,vt);return ht<0?0:this.data[ht]}cube(lt){var gt=lt.split(/\r?\n/);if(!(gt.length<6)){var vt=(0,rt.CUBE)(lt,{}).modelData[0].cryst,ht=gt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),mt=parseFloat(ht[0]),nt=Math.abs(mt);this.origin=vt.origin,this.size=vt.size,this.unit=vt.unit,this.matrix=vt.matrix4;var $=6;mt<0&&$++;var _e=gt.splice(nt+$).join(" ");_e=_e.replace(/^\s+/,"");var st=_e.split(/[\s\r]+/);this.data=Float32Array.from(st,parseFloat)}}ccp4(lt){var gt={};lt=new Int8Array(lt);var vt=new Int32Array(lt.buffer,0,56),ht=new Float32Array(lt.buffer,0,56),mt=new DataView(lt.buffer);if(gt.MAP=String.fromCharCode(mt.getUint8(208),mt.getUint8(209),mt.getUint8(210),mt.getUint8(211)),gt.MACHST=[mt.getUint8(212),mt.getUint8(213)],gt.MACHST[0]===17&&gt.MACHST[1]===17)for(var nt=lt.byteLength,$=0;$<nt;$+=4)mt.setFloat32($,mt.getFloat32($),!0);gt.NX=vt[0],gt.NY=vt[1],gt.NZ=vt[2],gt.MODE=vt[3],gt.NXSTART=vt[4],gt.NYSTART=vt[5],gt.NZSTART=vt[6],gt.MX=vt[7],gt.MY=vt[8],gt.MZ=vt[9],gt.xlen=ht[10],gt.ylen=ht[11],gt.zlen=ht[12],gt.alpha=ht[13],gt.beta=ht[14],gt.gamma=ht[15],gt.MAPC=vt[16],gt.MAPR=vt[17],gt.MAPS=vt[18],gt.DMIN=ht[19],gt.DMAX=ht[20],gt.DMEAN=ht[21],gt.ISPG=vt[22],gt.NSYMBT=vt[23],gt.LSKFLG=vt[24],gt.originX=ht[49],gt.originY=ht[50],gt.originZ=ht[51],gt.ARMS=ht[54];var _e=gt,st=[_e.xlen,0,0],ot=[_e.ylen*Math.cos(Math.PI/180*_e.gamma),_e.ylen*Math.sin(Math.PI/180*_e.gamma),0],ut=[_e.zlen*Math.cos(Math.PI/180*_e.beta),_e.zlen*(Math.cos(Math.PI/180*_e.alpha)-Math.cos(Math.PI/180*_e.gamma)*Math.cos(Math.PI/180*_e.beta))/Math.sin(Math.PI/180*_e.gamma),0];ut[2]=Math.sqrt(_e.zlen*_e.zlen*Math.sin(Math.PI/180*_e.beta)*Math.sin(Math.PI/180*_e.beta)-ut[1]*ut[1]);var et=[0,st,ot,ut],at=[0,_e.MX,_e.MY,_e.MZ],pt=[0,_e.MAPC,_e.MAPR,_e.MAPS];this.matrix=new _.Matrix4,this.matrix.set(et[pt[1]][0]/at[pt[1]],et[pt[2]][0]/at[pt[2]],et[pt[3]][0]/at[pt[3]],0,et[pt[1]][1]/at[pt[1]],et[pt[2]][1]/at[pt[2]],et[pt[3]][1]/at[pt[3]],0,et[pt[1]][2]/at[pt[1]],et[pt[2]][2]/at[pt[2]],et[pt[3]][2]/at[pt[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new _.Matrix4().makeTranslation(_e.NXSTART+_e.originX,_e.NYSTART+_e.originY,_e.NZSTART+_e.originZ)),this.origin=new _.Vector3(0,0,0),this.unit=new _.Vector3(1,1,1),this.size={x:gt.NX,y:gt.NY,z:gt.NZ},this.dimensionorder=[gt.MAPC,gt.MAPR,gt.MAPS];var ct=new Float32Array(lt.buffer,1024+gt.NSYMBT),yt=gt.NX,ft=gt.NY,_t=gt.NZ;this.data=new Float32Array(yt*ft*_t);for(let wt=0;wt<yt;wt++)for(let Et=0;Et<ft;Et++)for(let Mt=0;Mt<_t;Mt++)this.data[(wt*ft+Et)*_t+Mt]=ct[(Mt*ft+Et)*yt+wt]}}},"./src/VolumetricRender.ts":(i,s,o)=>{o.r(s),o.d(s,{GLVolumetricRender:()=>it});var a=o("./src/WebGL/shapes/index.ts"),_=o("./src/WebGL/math/index.ts"),j=o("./src/WebGL/index.ts"),rt=o("./src/colors.ts"),tt=o("./src/GLShape.ts");class it{static interpolateArray(lt,gt){function vt(ut,et,at){return ut+(et-ut)*at}var ht=[],mt=(lt.length-1)/(gt-1);ht[0]=lt[0];for(var nt=1;nt<gt-1;nt++){var $=nt*mt,_e=Math.floor($),st=Math.ceil($),ot=$-_e;ht[nt]=vt(lt[_e],lt[st],ot)}return ht[gt-1]=lt[lt.length-1],ht}constructor(lt,gt,vt){this.hidden=!1,this.boundingSphere=new a.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,gt=gt||{};var ht=Object.assign([],gt.transferfn);this.subsamples=gt.subsamples||5;let mt=256;ht.forEach(function(ft){ft.value=parseFloat(ft.value)}),ht.sort(function(ft,_t){return ft.value-_t.value}),this.min=ht[0].value,ht.length==0&&ht.push(ht[0]),this.max=ht[ht.length-1].value;var nt,$,_e,st,ot,ut,et,at,pt,ct;for(let ft=0;ft<ht.length-1;ft++)if(_e=rt.CC.color(ht[ft].color),st=rt.CC.color(ht[ft+1].color),pt=ht[ft].opacity,ct=ht[ft+1].opacity,nt=Math.floor((ht[ft].value-this.min)*mt/(this.max-this.min)),$=Math.floor((ht[ft+1].value-this.min)*mt/(this.max-this.min)),nt!=$){ot=it.interpolateArray([_e.r*255,st.r*255],$-nt),ut=it.interpolateArray([_e.g*255,st.g*255],$-nt),et=it.interpolateArray([_e.b*255,st.b*255],$-nt),at=it.interpolateArray([pt*255,ct*255],$-nt);for(let _t=0;_t<ot.length;_t++)this.transferfunctionbuffer.push(ot[_t]),this.transferfunctionbuffer.push(ut[_t]),this.transferfunctionbuffer.push(et[_t]),this.transferfunctionbuffer.push(at[_t])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),lt.matrix){let ft=new _.Vector3(0,0,0),_t=new _.Vector3(lt.size.x,lt.size.y,lt.size.z),wt=new _.Vector3(1,1,1);ft.applyMatrix4(lt.matrix),_t.applyMatrix4(lt.matrix),wt.applyMatrix4(lt.matrix).sub(ft),this.extent=[[ft.x,ft.y,ft.z],[_t.x,_t.y,_t.z]];for(let At=1;At<7;At++)_t.x=At&1?lt.size.x:0,_t.y=At&2?lt.size.y:0,_t.z=At&4?lt.size.z:0,_t.applyMatrix4(lt.matrix),this.extent[0][0]=Math.min(this.extent[0][0],_t.x),this.extent[0][1]=Math.min(this.extent[0][1],_t.y),this.extent[0][2]=Math.min(this.extent[0][2],_t.z),this.extent[1][0]=Math.max(this.extent[1][0],_t.x),this.extent[1][1]=Math.max(this.extent[1][1],_t.y),this.extent[1][2]=Math.max(this.extent[1][2],_t.z);let Et=_t.x-ft.x,Mt=_t.y-ft.y,St=_t.z-ft.z;this.maxdepth=Math.sqrt(Et*Et+Mt*Mt+St*St),this.minunit=Math.min(Math.min(wt.x,wt.y),wt.z),this.texmatrix=new _.Matrix4().identity().scale({x:lt.size.x,y:lt.size.y,z:lt.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(lt.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=new _.Matrix4().identity();let ft=lt.unit.x*lt.size.x,_t=lt.unit.y*lt.size.y,wt=lt.unit.z*lt.size.z;this.texmatrix.makeTranslation(-lt.origin.x/ft,-lt.origin.y/_t,-lt.origin.z/wt),this.texmatrix.scale({x:1/ft,y:1/_t,z:1/wt}),this.minunit=Math.min(Math.min(lt.unit.x,lt.unit.y),lt.unit.z),this.extent=[[lt.origin.x,lt.origin.y,lt.origin.z],[lt.origin.x+ft,lt.origin.y+_t,lt.origin.z+wt]],this.maxdepth=Math.sqrt(ft*ft+_t*_t+wt*wt)}var yt=new tt.GLShape({});if(yt.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=yt.finalize(),this.boundingSphere.center=new _.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,gt.coords===void 0&&gt.selection!==void 0&&(vt?gt.coords=vt.selectedAtoms(gt.selection):console.log("Need to provide viewer to volumetric renderer if selection specified.")),gt.coords!==void 0&&gt.seldist!==void 0){let ft=new Uint8Array(lt.data.length),_t=gt.seldist,wt=_t*_t;for(let Et=0,Mt=gt.coords.length;Et<Mt;Et++){let St=gt.coords[Et],At=St.x-_t,Rt=St.y-_t,Ct=St.z-_t,Pt=St.x+_t,Lt=St.y+_t,Ot=St.z+_t;if(lt.getIndex(At,Rt,Ct)>=0||lt.getIndex(Pt,Lt,Ot)>=0)for(let It=At;It<Pt;It+=this.minunit)for(let $t=Rt;$t<Lt;$t+=this.minunit)for(let jt=Ct;jt<Ot;jt+=this.minunit){let Zt=lt.getIndex(It,$t,jt);Zt>=0&&!ft[Zt]&&(It-St.x)*(It-St.x)+($t-St.y)*($t-St.y)+(jt-St.z)*(jt-St.z)<wt&&(ft[Zt]=1)}}for(let Et=0,Mt=lt.data.length;Et<Mt;Et++)ft[Et]==0&&(lt.data[Et]=1/0)}this.data=lt}globj(lt){if(this.renderedShapeObj&&(lt.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new j.Object3D;var gt=null,vt=new j.Texture(this.data,!0),ht=new j.Texture(this.transferfunctionbuffer,!1);vt.needsUpdate=!0,ht.needsUpdate=!0,ht.flipY=!1,gt=new j.VolumetricMaterial({transferfn:ht,transfermin:this.min,transfermax:this.max,map:vt,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var mt=new j.Mesh(this.geo,gt);this.shapeObj.add(mt),this.renderedShapeObj=this.shapeObj.clone(),lt.add(this.renderedShapeObj)}}removegl(lt){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),lt.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}},"./src/WebGL/Camera.ts":(i,s,o)=>{o.r(s),o.d(s,{Camera:()=>j});var a=o("./src/WebGL/core/index.ts"),_=o("./src/WebGL/math/index.ts");class j extends a.Object3D{constructor(tt=50,it=1,dt=.1,lt=2e3,gt=!1){super(),this.projectionMatrix=new _.Matrix4,this.projectionMatrixInverse=new _.Matrix4,this.matrixWorldInverse=new _.Matrix4,this.fov=tt,this.aspect=it,this.near=dt,this.far=lt;var vt=this.position.z;this.right=vt*Math.tan(Math.PI/180*tt),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!gt,this.updateProjectionMatrix()}lookAt(tt){this.matrix.lookAt(this.position,tt,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1&&this.rotation instanceof _.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}},"./src/WebGL/Fog.ts":(i,s,o)=>{o.r(s),o.d(s,{Fog:()=>_});var a=o("./src/colors.ts");class _{constructor(rt,tt=1,it=1e3){this.name="",this.color=new a.Color(rt),this.near=tt,this.far=it}clone(){return new _(this.color.getHex(),this.near,this.far)}}},"./src/WebGL/Renderer.ts":(i,s,o)=>{o.r(s),o.d(s,{Renderer:()=>nt});var a=o("./src/WebGL/Camera.ts"),_=o("./src/WebGL/constants/Sides.ts"),j=o("./src/WebGL/constants/TextureConstants.ts"),rt=o("./src/WebGL/core/index.ts"),tt=o("./src/colors.ts"),it=o("./src/WebGL/materials/index.ts"),dt=o("./src/WebGL/math/index.ts"),lt=o("./src/WebGL/objects/index.ts"),gt=o("./src/WebGL/shaders/index.ts"),vt=o("./src/WebGL/SpritePlugin.ts"),ht=null,mt=null;class nt{constructor(_e){this.context=null,this.devicePixelRatio=1,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._offscreen=null,this._bitmap=null,this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._vector3=new dt.Vector3,this._worldInverse=new dt.Matrix4,this._projInverse=new dt.Matrix4,this._textureMatrix=new dt.Matrix4,this._fullProjModelMatrix=new dt.Matrix4,this._fullProjModelMatrixInv=new dt.Matrix4,this._direction=new dt.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new vt.SpritePlugin,this._screenshader=null,this._AOshader=null,this._blurshader=null,this._vertexattribpos=null,this._aovertexattribpos=null,this._blurvertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,this._shadingTexture=null,this._scratchTexture=null,this._AOstrength=1,this._AOradius=5,this.SHADE_TEXTURE=3,_e=_e||{},this.row=_e.row,this.col=_e.col,this.rows=_e.rows,this.cols=_e.cols,this._canvas=_e.canvas!==void 0?_e.canvas:document.createElement("canvas"),this._precision=_e.precision!==void 0?_e.precision:"highp",this._alpha=_e.alpha!==void 0?_e.alpha:!0,this._premultipliedAlpha=_e.premultipliedAlpha!==void 0?_e.premultipliedAlpha:!0,this._antialias=_e.antialias!==void 0?_e.antialias:!1,this._preserveDrawingBuffer=_e.preserveDrawingBuffer!==void 0?_e.preserveDrawingBuffer:!1,this._clearColor=_e.clearColor!==void 0?new tt.Color(_e.clearColor):new tt.Color(0),this._clearAlpha=_e.clearAlpha!==void 0?_e.clearAlpha:0,this._outlineMaterial=new it.MeshOutlineMaterial(_e.outline),this._outlineSphereImposterMaterial=new it.SphereImposterOutlineMaterial(_e.outline),this._outlineStickImposterMaterial=new it.StickImposterOutlineMaterial(_e.outline),this._outlineEnabled=!!_e.outline,this._AOEnabled=!!_e.ambientOcclusion,_e.ambientOcclusion&&typeof _e.ambientOcclusion.strength<"u"&&(this._AOstrength=parseFloat(_e.ambientOcclusion.strength)),this._AOstrength==0&&(this._AOEnabled=!1),_e.ambientOcclusion&&typeof _e.ambientOcclusion.radius<"u"&&(this._AOradius=parseFloat(_e.ambientOcclusion.radius)),this.domElement=this._canvas,this._canvas.id=_e.id,!(_e.containerWidth==0||_e.containerHeight==0)&&(this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this))}supportedExtensions(){return{supportsAIA:!!this._extInstanced,supportsImposters:!!this._extFragDepth||!this.isWebGL1(),regen:!1}}getContext(){return this._gl}getCanvas(){return this._canvas}isLost(){return this._gl==null||this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(_e,st){this._clearColor.setHex(_e),this._clearAlpha=st,this.isLost()||this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(_e){this._outlineMaterial=new it.MeshOutlineMaterial(_e),this._outlineSphereImposterMaterial=new it.SphereImposterOutlineMaterial(_e),this._outlineStickImposterMaterial=new it.StickImposterOutlineMaterial(_e),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}enableAmbientOcclusion(_e){_e&&(_e.strength&&(this._AOstrength=_e.strength),_e.scale&&(this._AOradius=_e.scale)),this._AOEnabled=this._AOstrength>0}disableAmbientOcclusion(){this._AOEnabled=!1}setViewport(){if(this._offscreen&&(this._offscreen.width=this._canvas.width,this._offscreen.height=this._canvas.height),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var _e=this._canvas.width/this.cols,st=this._canvas.height/this.rows;this._viewportWidth=_e,this._viewportHeight=st,this.isLost()||(this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(_e*this.col,st*this.row,_e,st),this._gl.viewport(_e*this.col,st*this.row,_e,st))}}setSize(_e,st){if(this.devicePixelRatio=window.devicePixelRatio!==void 0?window.devicePixelRatio:1,this._antialias&&this.devicePixelRatio<2&&(this.devicePixelRatio*=2),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var ot=_e/this.cols,ut=st/this.rows;this._canvas.width=_e*this.devicePixelRatio,this._canvas.height=st*this.devicePixelRatio,this._viewportWidth=ot*this.devicePixelRatio,this._viewportHeight=ut*this.devicePixelRatio,this._canvas.style.width=_e+"px",this._canvas.style.height=st+"px",this.setViewport()}else this._viewportWidth=this._canvas.width=_e*this.devicePixelRatio,this._viewportHeight=this._canvas.height=st*this.devicePixelRatio,this._canvas.style.width=_e+"px",this._canvas.style.height=st+"px",this.isLost()||this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight);this.initFrameBuffer()}clear(_e,st,ot){var ut=0;(_e===void 0||_e)&&(ut|=this._gl.COLOR_BUFFER_BIT),(st===void 0||st)&&(ut|=this._gl.DEPTH_BUFFER_BIT),(ot===void 0||ot)&&(ut|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(ut)}setMaterialFaces(_e,st){var ot=_e.side===_.DoubleSide,ut=_e.side===_.BackSide;_e.imposter||(ut=st?!ut:ut),this._oldDoubleSided!==ot&&(ot?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=ot),this._oldFlipSided!==ut&&(ut?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=ut),this._gl.cullFace(this._gl.BACK)}setDepthTest(_e){this._oldDepthTest!==_e&&(_e?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=_e)}setDepthWrite(_e){this._oldDepthWrite!==_e&&(this._gl.depthMask(_e),this._oldDepthWrite=_e)}setBlending(_e){_e?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND)}initMaterial(_e,st,ot,ut){_e.addEventListener("dispose",this.onMaterialDispose.bind(this));var et,at;if(at=_e.shaderID,at){var pt=gt.ShaderLib[at];_e.vertexShader=pt.vertexShader,_e.fragmentShader=pt.fragmentShader,_e.uniforms=gt.ShaderUtils.clone(pt.uniforms),_e.shaded&&_e.makeShaded(this.SHADE_TEXTURE)}et={wireframe:_e.wireframe,fragdepth:_e.imposter,volumetric:_e.volumetric,shaded:_e.shaded},_e.program=this.buildProgram(_e.fragmentShader,_e.vertexShader,_e.uniforms,et)}renderBuffer(_e,st,ot,ut,et,at){if(ut.visible){var pt,ct;if(pt=this.setProgram(_e,st,ot,ut,at,this),!!pt){ct=pt.attributes;var yt=!1,ft=ut.wireframe?1:0,_t=et.id*16777215+pt.id*2+ft;_t!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=_t,yt=!0),yt&&(this.disableAttributes(),ct.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglVertexBuffer),this.enableAttribute(ct.position),this._gl.vertexAttribPointer(ct.position,3,this._gl.FLOAT,!1,0,0)),ct.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglColorBuffer),this.enableAttribute(ct.color),this._gl.vertexAttribPointer(ct.color,3,this._gl.FLOAT,!1,0,0)),ct.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglNormalBuffer),this.enableAttribute(ct.normal),this._gl.vertexAttribPointer(ct.normal,3,this._gl.FLOAT,!1,0,0)),ct.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglOffsetBuffer),this.enableAttribute(ct.offset),this._gl.vertexAttribPointer(ct.offset,3,this._gl.FLOAT,!1,0,0)),ct.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglRadiusBuffer),this.enableAttribute(ct.radius),this._gl.vertexAttribPointer(ct.radius,1,this._gl.FLOAT,!1,0,0)));var wt,Et;if(at instanceof lt.Mesh){if(ut.shaderID==="instanced"){var Mt=ut.sphere.geometryGroups[0];yt&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Mt.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,et.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Mt.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,et.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,Mt.faceArray,this._gl.STATIC_DRAW)),wt=Mt.faceidx,this._extInstanced.vertexAttribDivisorANGLE(ct.offset,1),this._extInstanced.vertexAttribDivisorANGLE(ct.radius,1),this._extInstanced.vertexAttribDivisorANGLE(ct.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,wt,this._gl.UNSIGNED_SHORT,0,et.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(ct.offset,0),this._extInstanced.vertexAttribDivisorANGLE(ct.radius,0),this._extInstanced.vertexAttribDivisorANGLE(ct.color,0)}else ut.wireframe?(Et=et.lineidx,this.setLineWidth(ut.wireframeLinewidth),yt&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,et.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,Et,this._gl.UNSIGNED_SHORT,0)):(wt=et.faceidx,yt&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,et.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,wt,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=wt,this.info.render.faces+=wt/3}else at instanceof lt.Line&&(Et=et.vertices,this.setLineWidth(ut.linewidth),this._gl.drawArrays(this._gl.LINES,0,Et),this.info.render.calls++)}}}clearShading(){this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}setShading(_e,st,ot){let ut=_e.__lights,et=_e.fog,at=[];for(let yt=0,ft=_e.__webglObjects.length;yt<ft;yt++){let _t=_e.__webglObjects[yt];_t.render&&_t[ot]&&at.push(_t)}if(at.length==0)return;this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,null,0),this.renderObjects(_e.__webglObjects,!0,ot+"Depth",st,ut,et,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._scratchTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._AOshader),this._currentProgram=this._AOshader,this.setDepthTest(-1),this.setDepthWrite(-1);let pt=this._AOshader.uniforms;this._gl.uniform1f(pt.total_strength,this._AOstrength),this._gl.uniform1f(pt.radius,this._AOradius),this._fullProjModelMatrix=new dt.Matrix4,this._fullProjModelMatrixInv=new dt.Matrix4;let ct=at[0].object;this._fullProjModelMatrix.multiplyMatrices(st.projectionMatrix,ct._modelViewMatrix),this._fullProjModelMatrixInv.getInverse(this._fullProjModelMatrix),this._gl.uniformMatrix4fv(pt.projectionMatrix,!1,this._fullProjModelMatrix.elements),this._gl.uniformMatrix4fv(pt.projinv,!1,this._fullProjModelMatrixInv.elements),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._aovertexattribpos),this._gl.vertexAttribPointer(this._aovertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._blurshader),this._currentProgram=this._blurshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._blurvertexattribpos),this._gl.vertexAttribPointer(this._blurvertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}render(_e,st){if(!(st instanceof a.Camera)){console.error("Renderer.render: camera is not an instance of Camera.");return}var ot,ut,et,at,pt,ct=_e.__lights,yt=_e.fog;if(this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&_e.updateMatrixWorld(),st.parent===void 0&&st.updateMatrixWorld(),st.matrixWorldInverse.getInverse(st.matrixWorld),this.isLost())return;this.autoUpdateObjects&&this.initWebGLObjects(_e),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(!0,!0,!0),pt=_e.__webglObjects;let ft=!1,_t=this._AOEnabled;for(ot=0,ut=pt.length;ot<ut;ot++)et=pt[ot],at=et.object,et.render=!1,at.visible&&(this.setupMatrices(at,st),this.unrollBufferMaterial(et),et.render=!0,et.volumetric&&(ft=!0),et.hasAO&&(_t=!0));if(this.setBlending(!1),_t&&this.setShading(_e,st,"opaque"),this.renderObjects(_e.__webglObjects,!0,"opaque",st,ct,yt,!1),_t&&this.clearShading(),this.renderSprites(_e,st,!1),this.renderObjects(_e.__webglObjects,!0,"transparentDepth",st,ct,yt,!0),this.renderObjects(_e.__webglObjects,!1,"transparent",st,ct,yt,!0),ft&&this._fb&&(this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,null,0),this.renderObjects(_e.__webglObjects,!1,"volumetric",st,ct,yt,!0)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(_e,st,!0),this._bitmap){const wt=this._offscreen.transferToImageBitmap();this._bitmap.transferFromImageBitmap(wt)}}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let _e=this._viewportWidth,st=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,_e,st),this._gl.viewport(0,0,_e,st),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,_e,st,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,_e,st,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._shadingTexture&&(this._gl.deleteTexture(this._shadingTexture),this._shadingTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,_e,st,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.deleteTexture(this._scratchTexture),this._scratchTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,_e,st,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE)),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.clearDepth(1),this._gl.clear(this._gl.DEPTH_BUFFER_BIT),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let _e=this._viewportWidth,st=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,_e,st),this._gl.viewport(0,0,_e,st),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._shadingTexture=this._gl.createTexture(),this._scratchTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var ot=this._antialias?gt.ShaderLib.screenaa:gt.ShaderLib.screen;this._screenshader=this.buildProgram(ot.fragmentShader,ot.vertexShader,ot.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition");var ut=[1,1,-1,1,-1,-1,-1,-1,1,-1,1,1];this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(ut),this._gl.STATIC_DRAW);let et=gt.ShaderLib.ssao;this._AOshader=this.buildProgram(et.fragmentShader,et.vertexShader,et.uniforms,{}),this._aovertexattribpos=this._gl.getAttribLocation(this._AOshader,"vertexPosition");let at=gt.ShaderLib.blur;this._blurshader=this.buildProgram(at.fragmentShader,at.vertexShader,at.uniforms,{}),this._blurvertexattribpos=this._gl.getAttribLocation(this._blurshader,"vertexPosition")}renderFrameBuffertoScreen(){this.isWebGL1()||this._fb===null||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(_e){if(_e.__webglObjects||(_e.__webglObjects=[],_e.__webglObjectsImmediate=[],_e.__webglSprites=[],_e.__webglFlares=[]),_e.__objectsAdded.length){for(;_e.__objectsAdded.length;)this.addObject(_e.__objectsAdded[0],_e),_e.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;_e.__objectsRemoved.length;)this.removeObject(_e.__objectsRemoved[0],_e),_e.__objectsRemoved.splice(0,1);for(var st=0,ot=_e.__webglObjects.length;st<ot;st++)this.updateObject(_e.__webglObjects[st].object)}getYRatio(){return this.rows!==void 0&&this.row!==void 0?this.rows:1}getXRatio(){return this.cols!==void 0&&this.col!==void 0?this.cols:1}getAspect(_e,st){(_e==null||st==null)&&(_e=this._canvas.width,st=this._canvas.height);var ot=_e/st;if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var ut=_e/this.cols,et=st/this.rows;ot=ut/et}return ot}setTexture(_e,st,ot){if(_e.needsUpdate){_e.__webglInit||(_e.__webglInit=!0,_e.addEventListener("dispose",this.onTextureDispose.bind(this)),_e.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+st);var ut=ot?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(ut,_e.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,_e.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,_e.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,_e.unpackAlignment);var et=this.paramToGL(_e.format),at=this.paramToGL(_e.type);if(ot)this.setTextureParameters(this._gl.TEXTURE_3D,_e),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,_e.image.size.z,_e.image.size.y,_e.image.size.x,0,this._gl.RED,this._gl.FLOAT,_e.image.data);else{var pt=_e.image,ct=pt.width,yt=pt.height;typeof ct>"u"&&(ct=pt.length,et==this._gl.RGBA&&(ct/=4),yt=1),this.setTextureParameters(this._gl.TEXTURE_2D,_e),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,et,et,at,_e.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,et,ct,yt,0,et,at,_e.image)}_e.needsUpdate=!1,_e.onUpdate&&_e.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+st),ot?this._gl.bindTexture(this._gl.TEXTURE_3D,_e.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,_e.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(_e){this._enabledAttributes[_e]||(this._gl.enableVertexAttribArray(_e),this._enabledAttributes[_e]=!0)}disableAttributes(){for(let _e in this._enabledAttributes)this._enabledAttributes[_e]&&(this._gl.disableVertexAttribArray(_e),this._enabledAttributes[_e]=!1)}setPolygonOffset(_e,st,ot){this._oldPolygonOffset!==_e&&(_e?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(_e){_e!==this._oldLineWidth&&(this._gl.lineWidth(_e),this._oldLineWidth=_e)}deallocateGeometry(_e){if(_e.__webglInit=void 0,_e.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(_e.__webglVertexBuffer),_e.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(_e.__webglColorBuffer),_e.geometryGroups!==void 0)for(var st=0,ot=_e.groups;st<ot;st++){var ut=_e.geometryGroups[st];ut.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(ut.__webglVertexBuffer),ut.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(ut.__webglColorBuffer),ut.__webglNormalBuffer!==void 0&&this._gl.deleteBuffer(ut.__webglNormalBuffer),ut.__webglFaceBuffer!==void 0&&this._gl.deleteBuffer(ut.__webglFaceBuffer),ut.__webglLineBuffer!==void 0&&this._gl.deleteBuffer(ut.__webglLineBuffer)}}deallocateMaterial(_e){var st=_e.program;if(st!==void 0){_e.program=void 0;var ot,ut,et,at=!1;for(ot=0,ut=this._programs.length;ot<ut;ot++)if(et=this._programs[ot],et.program===st){et.usedTimes--,et.usedTimes===0&&(at=!0);break}if(at===!0){var pt=[];for(ot=0,ut=this._programs.length;ot<ut;ot++)et=this._programs[ot],et.program!==st&&pt.push(et);this._programs=pt,this._gl.deleteProgram(st),this.info.memory.programs--}}}deallocateTexture(_e){if(_e.image&&_e.image.__webglTextureCube)this._gl.deleteTexture(_e.image.__webglTextureCube);else{if(!_e.__webglInit)return;_e.__webglInit=!1,this._gl.deleteTexture(_e.__webglTexture)}}onGeometryDispose(_e){var st=_e.target;st.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(st),this.info.memory.geometries--}onTextureDispose(_e){var st=_e.target;st.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(st),this.info.memory.textures--}onMaterialDispose(_e){var st=_e.target;st.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(st)}getShader(_e,st){var ot;return!this.isWebGL1()&&!st.startsWith("#version")&&(st=st.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),_e=="fragment"?st=st.replace(/varying/g,"in"):st=st.replace(/varying/g,"out"),st=st.replace(/attribute/g,"in"),st=st.replace(/texture2D/g,"texture"),st=st.replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;"),st=st.replace(/gl_FragColor/g,"glFragColor"),st=`#version 300 es
`+st),_e==="fragment"?ot=this._gl.createShader(this._gl.FRAGMENT_SHADER):_e==="vertex"&&(ot=this._gl.createShader(this._gl.VERTEX_SHADER)),ot==null?null:(this._gl.shaderSource(ot,st),this._gl.compileShader(ot),this._gl.getShaderParameter(ot,this._gl.COMPILE_STATUS)?ot:(console.error(this._gl.getShaderInfoLog(ot)),console.error("could not initialize shader"),null))}buildProgram(_e,st,ot,ut){var et,at,pt,ct,yt=[];yt.push(_e),yt.push(st);for(et in ut)yt.push(et),yt.push(ut[et]);for(ct=yt.join(),et=0,at=this._programs.length;et<at;et++){var ft=this._programs[et];if(ft.code===ct)return ft.usedTimes++,ft.program}if(this.isWebGL1()&&ut.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");if(pt=this._gl.createProgram(),pt==null)return null;var _t=this._precision,wt="precision "+_t+" float;",Et=[ut.volumetric?"#version 300 es":"",wt].join(`
`),Mt=[ut.volumetric?"#version 300 es":"",ut.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",ut.shaded?"#define SHADED 1":"",ut.wireframe?"#define WIREFRAME 1":"",wt].join(`
`),St=this.getShader("fragment",Mt+_e),At=this.getShader("vertex",Et+st);At!=null&&this._gl.attachShader(pt,At),St!=null&&this._gl.attachShader(pt,St),this._gl.linkProgram(pt),this._gl.getProgramParameter(pt,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),pt.uniforms={},pt.attributes={};var Rt,Ct,Pt;Rt=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","vWidth","vHeight"];for(Ct in ot)Rt.push(Ct);for(Pt=0;Pt<Rt.length;Pt++){var Lt=Rt[Pt];pt.uniforms[Lt]=this._gl.getUniformLocation(pt,Lt)}for(Rt=["position","normal","color","lineDistance","offset","radius"],Pt=0;Pt<Rt.length;Pt++){var Ot=Rt[Pt];pt.attributes[Ot]=this._gl.getAttribLocation(pt,Ot)}return pt.id=this._programs_counter++,this._programs.push({program:pt,code:ct,usedTimes:1}),this.info.memory.programs=this._programs.length,pt}setProgram(_e,st,ot,ut,et,at){if(ut.needsUpdate&&(ut.program&&this.deallocateMaterial(ut),this.initMaterial(ut,st,ot,et),ut.needsUpdate=!1),ut.program==null)return null;var pt=!1,ct=ut.program,yt=ct.uniforms,ft=ut.uniforms;if(ct!=this._currentProgram&&(this._gl.useProgram(ct),this._currentProgram=ct,pt=!0),ut.id!=this._currentMaterialId&&(this._currentMaterialId=ut.id,pt=!0),_e!=this._currentCamera&&(this._currentCamera=_e,pt=!0),yt.projectionMatrix&&this._gl.uniformMatrix4fv(yt.projectionMatrix,!1,_e.projectionMatrix.elements),yt.modelViewMatrix&&this._gl.uniformMatrix4fv(yt.modelViewMatrix,!1,et._modelViewMatrix.elements),yt.normalMatrix&&this._gl.uniformMatrix3fv(yt.normalMatrix,!1,et._normalMatrix.elements),yt.projinv&&(this._projInverse.getInverse(_e.projectionMatrix),this._gl.uniformMatrix4fv(yt.projinv,!1,this._projInverse.elements)),yt.viewMatrix&&this._gl.uniformMatrix4fv(yt.viewMatrix,!1,_e.matrixWorldInverse.elements),yt.vWidth&&this._gl.uniform1f(yt.vWidth,this._viewportWidth),yt.vHeight&&this._gl.uniform1f(yt.vHeight,this._viewportHeight),pt){if(ft.fogColor.value=ot.color,ft.fogNear.value=ot.near,ft.fogFar.value=ot.far,ut.shaderID.startsWith("lambert")||ut.shaderID==="instanced"||ut.shaderID.endsWith("imposter"))this._lightsNeedUpdate&&(this.setupLights(ct,st),this._lightsNeedUpdate=!1),ft.directionalLightColor.value=this._lights.directional.colors,ft.directionalLightDirection.value=this._lights.directional.positions;else if(ut.shaderID.endsWith("outline"))ft.outlineColor.value=ut.outlineColor,ft.outlineWidth.value=ut.outlineWidth,ft.outlinePushback.value=ut.outlinePushback,ft.outlineMaxPixels.value=ut.outlineMaxPixels*this.devicePixelRatio;else if(ut.shaderID==="volumetric"){et._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(et._modelViewMatrix),this._projInverse.getInverse(_e.projectionMatrix),this._textureMatrix.multiplyMatrices(et.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(yt.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(yt.projinv,!1,this._projInverse.elements);let _t=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);ft.step.value=et.material.unit*_t,ft.maxdepth.value=et.material.maxdepth*_t,ft.transfermax.value=et.material.transfermax,ft.transfermin.value=et.material.transfermin,ft.subsamples.value=et.material.subsamples,at.setTexture(et.material.transferfn,4,!1),at.setTexture(et.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}ft.opacity.value=ut.opacity,this.loadMaterialUniforms(yt,ft)}return ft.shading&&(ft.shading.value==3?(this._gl.activeTexture(this._gl.TEXTURE0+this.SHADE_TEXTURE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture)):console.error("Invalid shading textures.")),ct}loadMaterialUniforms(_e,st){var ot,ut,et,at;for(ot in st)_e[ot]&&(ut=st[ot].type,et=st[ot].value,at=_e[ot],ut==="f"?this._gl.uniform1f(at,et):ut==="i"?this._gl.uniform1i(at,et):ut==="fv"?this._gl.uniform3fv(at,et):ut==="c"?this._gl.uniform3f(at,et.r,et.g,et.b):ut==="f4"&&this._gl.uniform4f(at,et[0],et[1],et[2],et[3]))}addObject(_e,st){var ot,ut,et,at;if(!_e.__webglInit&&(_e.__webglInit=!0,_e._modelViewMatrix=new dt.Matrix4,_e._normalMatrix=new dt.Matrix3,_e.geometry!==void 0&&_e.geometry.__webglInit===void 0&&(_e.geometry.__webglInit=!0,_e.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),_e instanceof lt.Mesh||_e instanceof lt.Line))for(et=_e.geometry,ot=0,ut=et.geometryGroups.length;ot<ut;ot++)at=et.geometryGroups[ot],at.id=this._geometryGroupCounter++,at.__webglVertexBuffer||(_e instanceof lt.Mesh?(this.createMeshBuffers(at),et.elementsNeedUpdate=!0,et.normalsNeedUpdate=!0):_e instanceof lt.Line&&this.createLineBuffers(at),et.verticesNeedUpdate=!0,et.colorsNeedUpdate=!0);if(!_e.__webglActive){if(_e instanceof lt.Mesh||_e instanceof lt.Line)for(et=_e.geometry,ot=0,ut=et.geometryGroups.length;ot<ut;ot++)at=et.geometryGroups[ot],this.addBuffer(st.__webglObjects,at,_e);else _e instanceof lt.Sprite&&st.__webglSprites.push(_e);_e.__webglActive=!0}}updateObject(_e){var st=_e.geometry,ot;if(_e instanceof lt.Mesh||_e instanceof lt.Line){for(var ut=0,et=st.geometryGroups.length;ut<et;ut++)ot=st.geometryGroups[ut],(st.verticesNeedUpdate||st.elementsNeedUpdate||st.colorsNeedUpdate||st.normalsNeedUpdate)&&this.setBuffers(ot,this._gl.STATIC_DRAW);st.verticesNeedUpdate=!1,st.elementsNeedUpdate=!1,st.normalsNeedUpdate=!1,st.colorsNeedUpdate=!1,st.buffersNeedUpdate=!1}}removeObject(_e,st){_e instanceof lt.Mesh||_e instanceof lt.Line?this.removeInstances(st.__webglObjects,_e):_e instanceof lt.Sprite&&this.removeInstancesDirect(st.__webglSprites,_e),_e.__webglActive=!1}removeInstances(_e,st){for(var ot=_e.length-1;ot>=0;--ot)_e[ot].object===st&&_e.splice(ot,1)}removeInstancesDirect(_e,st){for(var ot=_e.length-1;ot>=0;--ot)_e[ot]===st&&_e.splice(ot,1)}unrollBufferMaterial(_e){var st=_e.object,ot=st.material;if(ot.volumetric)_e.opaque=null,_e.transparent=null,_e.volumetric=ot;else if(ot.transparent){if(_e.opaque=null,_e.volumetric=null,_e.transparent=ot,!ot.wireframe){let ut=ot.clone();ut.opacity=0,_e.transparentDepth=ut}}else{if(_e.opaque=ot,_e.transparent=null,_e.volumetric=null,!ot.wireframe){let ut=ot.clone();ut.opacity=0,_e.opaqueDepth=ut}ot.hasAO&&(_e.hasAO=!0),(this._AOEnabled||_e.hasAO)&&(_e.opaqueShaded=ot.clone(),_e.opaqueShaded.shaded=!0)}}setBuffers(_e,st){var ot=_e.vertexArray,ut=_e.colorArray;if(_e.__webglOffsetBuffer!==void 0?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_e.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,ot,st)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_e.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,ot,st)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_e.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,ut,st),_e.normalArray&&_e.__webglNormalBuffer!==void 0){var et=_e.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_e.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,et,st)}if(_e.radiusArray&&_e.__webglRadiusBuffer!==void 0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_e.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,_e.radiusArray,st)),_e.faceArray&&_e.__webglFaceBuffer!==void 0){var at=_e.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,_e.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,at,st)}if(_e.lineArray&&_e.__webglLineBuffer!==void 0){var pt=_e.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,_e.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,pt,st)}}createMeshBuffers(_e){_e.radiusArray&&(_e.__webglRadiusBuffer=this._gl.createBuffer()),_e.useOffset&&(_e.__webglOffsetBuffer=this._gl.createBuffer()),_e.__webglVertexBuffer=this._gl.createBuffer(),_e.__webglNormalBuffer=this._gl.createBuffer(),_e.__webglColorBuffer=this._gl.createBuffer(),_e.__webglFaceBuffer=this._gl.createBuffer(),_e.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(_e){_e.__webglVertexBuffer=this._gl.createBuffer(),_e.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(_e,st,ot){_e.push({buffer:st,object:ot,opaque:null,transparent:null})}setupMatrices(_e,st){_e._modelViewMatrix.multiplyMatrices(st.matrixWorldInverse,_e.matrixWorld),_e._normalMatrix.getInverse(_e._modelViewMatrix),_e._normalMatrix.transpose()}filterFallback(_e){return this._gl.LINEAR}setTextureParameters(_e,st){_e==this._gl.TEXTURE_2D?(this._gl.texParameteri(_e,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(_e,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(_e,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(st.magFilter)),this._gl.texParameteri(_e,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(st.minFilter))):(this._gl.texParameteri(_e,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(_e,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(_e,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(_e,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(_e,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(_e,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(_e,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(_e){return _e===j.UnsignedByteType?this._gl.UNSIGNED_BYTE:_e===j.RGBAFormat?this._gl.RGBA:_e===j.NearestFilter?this._gl.NEAREST:0}setupLights(_e,st){var ot,ut,et,at=0,pt=0,ct=0,yt,ft,_t=this._lights,wt=_t.directional.colors,Et=_t.directional.positions,Mt=0,St=0;for(ot=0,ut=st.length;ot<ut;ot++)if(et=st[ot],yt=et.color,ft=et.intensity,et instanceof rt.Light){if(this._direction.getPositionFromMatrix(et.matrixWorld),this._vector3.getPositionFromMatrix(et.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),this._direction.x===0&&this._direction.y===0&&this._direction.z===0)continue;Et[St]=this._direction.x,Et[St+1]=this._direction.y,Et[St+2]=this._direction.z,wt[St]=yt.r*ft,wt[St+1]=yt.g*ft,wt[St+2]=yt.b*ft,St+=3,Mt++}_t.ambient[0]=at,_t.ambient[1]=pt,_t.ambient[2]=ct,_t.directional.length=Mt}initGL(){try{if(OffscreenCanvas&&!(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null))(mt==null||mt.isContextLost())&&(ht=new OffscreenCanvas(this._canvas.width,this._canvas.height),mt=ht.getContext("webgl2",{alpha:!0,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})),this._offscreen=ht,this._gl=mt,this._bitmap=this._canvas.getContext("bitmaprenderer",{alpha:!0});else if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context.";var _e=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(_e[6])}catch(st){console.error(st)}}isWebGL1(){return this._webglversion==1}setDefaultGLState(){this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(_e,st,ot,ut,et,at,pt){var ct,yt,ft,_t,wt,Et,Mt;st?(wt=_e.length-1,Et=-1,Mt=-1):(wt=0,Et=_e.length,Mt=1);for(var St=wt;St!==Et;St+=Mt)if(ct=_e[St],ct.render){if(yt=ct.object,ft=ct.buffer,_t=ct[ot],(ct.hasAO||this._AOEnabled)&&ct[ot+"Shaded"]&&(_t=ct[ot+"Shaded"]),!_t)continue;pt&&this.setBlending(!0),this.setDepthTest(_t.depthTest),this.setDepthWrite(_t.depthWrite),this.setPolygonOffset(_t.polygonOffset,_t.polygonOffsetFactor,_t.polygonOffsetUnits);var At=yt._modelViewMatrix.isReflected();if(this.setMaterialFaces(_t,At),this.renderBuffer(ut,et,at,_t,ft,yt),(this._outlineEnabled||_t.outline)&&!_t.wireframe&&_t.shaderID!=="basic"&&_t.opacity!==0){let Rt=this._outlineMaterial;_t.shaderID=="sphereimposter"?Rt=this._outlineSphereImposterMaterial:_t.shaderID=="stickimposter"&&(Rt=this._outlineStickImposterMaterial),this.renderBuffer(ut,et,at,Rt,ft,yt)}}}renderSprites(_e,st,ot){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(_e,st,this._currentWidth,this._currentHeight,ot),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},"./src/WebGL/SpritePlugin.ts":(i,s,o)=>{o.r(s),o.d(s,{SpritePlugin:()=>_});var a=o("./src/WebGL/shaders/index.ts");class _{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init(tt){this.gl=tt.context,this.renderer=tt,this.precision=tt.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var it=0;this.sprite.vertices[it++]=-1,this.sprite.vertices[it++]=-1,this.sprite.vertices[it++]=0,this.sprite.vertices[it++]=0,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=-1,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=0,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=-1,this.sprite.vertices[it++]=1,this.sprite.vertices[it++]=0,this.sprite.vertices[it++]=1,it=0,this.sprite.faces[it++]=0,this.sprite.faces[it++]=1,this.sprite.faces[it++]=2,this.sprite.faces[it++]=0,this.sprite.faces[it++]=2,this.sprite.faces[it++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(a.ShaderLib.sprite,this.precision||1),this.sprite.attributes={};const dt={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),dt.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),dt.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),dt.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),dt.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),dt.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),dt.color=this.gl.getUniformLocation(this.sprite.program,"color"),dt.map=this.gl.getUniformLocation(this.sprite.program,"map"),dt.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),dt.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),dt.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),dt.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),dt.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),dt.fogType=this.gl.getUniformLocation(this.sprite.program,"fogType"),dt.fogDensity=this.gl.getUniformLocation(this.sprite.program,"fogDensity"),dt.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),dt.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),dt.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),dt.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=dt}render(tt,it,dt,lt,gt){var vt,ht,mt,nt,$,_e,st,ot,ut,et;if(!this.gl)throw new Error("WebGLRenderer not initialized");let at=[];(vt=tt==null?void 0:tt.__webglSprites)===null||vt===void 0||vt.forEach($t=>{(gt&&$t.material.depthTest==!1||!gt&&$t.material.depthTest)&&at.push($t)});let pt=at.length;if(!pt)return;const ct=this.sprite.attributes,yt=this.sprite.uniforms;if(!yt)throw new Error("Uniforms not defined");var ft=dt*.5,_t=lt*.5;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(ct.position),this.gl.enableVertexAttribArray(ct.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(ct.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(ct.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(yt.projectionMatrix,!1,it.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(yt.map,0);var wt=0,Et=0,Mt=tt.fog;Mt?(this.gl.uniform3f(yt.fogColor,Mt.color.r,Mt.color.g,Mt.color.b),this.gl.uniform1f(yt.fogNear,Mt.near),this.gl.uniform1f(yt.fogFar,Mt.far),this.gl.uniform1i(yt.fogType,1),wt=1,Et=1):(this.gl.uniform1i(yt.fogType,0),wt=0,Et=0);var St;let At,Rt,Ct,Pt,Lt=[];for(St=0;St<pt;St++)At=at[St],Rt=At.material,Rt&&(Rt.depthTest==!1&&!gt||!At.visible||Rt.opacity===0||(Rt.useScreenCoordinates?At.z=-At.position.z:(At._modelViewMatrix.multiplyMatrices(it.matrixWorldInverse,At.matrixWorld),At.z=-At._modelViewMatrix.elements[14])));for(at.sort(j),St=0;St<pt;St++)if(At=at[St],Rt=At.material,!!Rt&&!(!At.visible||Rt.opacity===0)&&Rt.map&&Rt.map.image&&Rt.map.image.width){this.gl.uniform1f((yt==null?void 0:yt.alphaTest)||null,Rt.alphaTest);var Ot=Rt.map.image.width,It=Rt.map.image.height;Lt[0]=Ot*this.renderer.devicePixelRatio/dt,Lt[1]=It*this.renderer.devicePixelRatio/lt,Rt.useScreenCoordinates===!0?(this.gl.uniform1i(yt.useScreenCoordinates,1),this.gl.uniform3f(yt.screenPosition,(At.position.x*this.renderer.devicePixelRatio-ft)/ft,(_t-At.position.y*this.renderer.devicePixelRatio)/_t,Math.max(0,Math.min(1,At.position.z)))):(this.gl.uniform1i(yt.useScreenCoordinates,0),this.gl.uniformMatrix4fv(yt.modelViewMatrix,!1,At._modelViewMatrix.elements)),tt.fog&&Rt.fog?Pt=Et:Pt=0,wt!==Pt&&(this.gl.uniform1i(yt.fogType,Pt),wt=Pt),Ct=1/(Rt.scaleByViewport?lt:1),Lt[0]*=Ct*At.scale.x,Lt[1]*=Ct*At.scale.y;let $t=(ht=Rt==null?void 0:Rt.alignment)===null||ht===void 0?void 0:ht.x,jt=(mt=Rt==null?void 0:Rt.alignment)===null||mt===void 0?void 0:mt.y;Rt.screenOffset&&($t=($t||0)+2*Rt.screenOffset.x/Ot,jt=(jt||0)+2*Rt.screenOffset.y/It),this.gl.uniform2f(yt.uvScale,((nt=Rt==null?void 0:Rt.uvScale)===null||nt===void 0?void 0:nt.x)||1,(($=Rt==null?void 0:Rt.uvScale)===null||$===void 0?void 0:$.y)||1),this.gl.uniform2f(yt.uvOffset,((_e=Rt==null?void 0:Rt.uvOffset)===null||_e===void 0?void 0:_e.x)||0,((st=Rt==null?void 0:Rt.uvOffset)===null||st===void 0?void 0:st.y)||0),this.gl.uniform2f(yt.alignment,$t||0,jt||0),this.gl.uniform1f(yt.opacity,Rt.opacity),this.gl.uniform3f(yt.color,((ot=Rt==null?void 0:Rt.color)===null||ot===void 0?void 0:ot.r)||0,((ut=Rt==null?void 0:Rt.color)===null||ut===void 0?void 0:ut.g)||0,((et=Rt==null?void 0:Rt.color)===null||et===void 0?void 0:et.b)||0),this.gl.uniform1f(yt.rotation,At.rotation),this.gl.uniform2fv(yt.scale,Lt),this.renderer.setDepthTest(Rt.depthTest),this.renderer.setDepthWrite(Rt.depthWrite),this.renderer.setTexture(Rt.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram(tt,it){if(!this.gl)throw new Error("WebGL Rendering context not found");var dt=this.gl.createProgram();if(!dt)throw new Error("Error creating webgl program");var lt=this.gl.createShader(this.gl.FRAGMENT_SHADER),gt=this.gl.createShader(this.gl.VERTEX_SHADER);if(!lt)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!gt)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var vt="precision "+it+` float;
`;if(this.gl.shaderSource(lt,vt+tt.fragmentShader),this.gl.shaderSource(gt,vt+tt.vertexShader),this.gl.compileShader(lt),this.gl.compileShader(gt),!this.gl.getShaderParameter(lt,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(gt,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: 
      ${this.gl.getShaderInfoLog(lt)} 
      ${this.gl.getShaderInfoLog(gt)}`);return this.gl.attachShader(dt,lt),this.gl.attachShader(dt,gt),this.gl.linkProgram(dt),this.gl.getProgramParameter(dt,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),dt}}function j(rt,tt){return rt.z!==tt.z?tt.z-rt.z:tt.id-rt.id}},"./src/WebGL/constants/Coloring.ts":(i,s,o)=>{o.r(s),o.d(s,{Coloring:()=>a});var a;(function(_){_[_.NoColors=0]="NoColors",_[_.FaceColors=1]="FaceColors",_[_.VertexColors=2]="VertexColors"})(a||(a={}))},"./src/WebGL/constants/Shading.ts":(i,s,o)=>{o.r(s),o.d(s,{Shading:()=>a});var a;(function(_){_[_.NoShading=0]="NoShading",_[_.FlatShading=1]="FlatShading",_[_.SmoothShading=2]="SmoothShading"})(a||(a={}))},"./src/WebGL/constants/Sides.ts":(i,s,o)=>{o.r(s),o.d(s,{BackSide:()=>_,DoubleSide:()=>j,FrontSide:()=>a});const a=0,_=1,j=2},"./src/WebGL/constants/SpriteAlignment.ts":(i,s,o)=>{o.r(s),o.d(s,{SpriteAlignment:()=>_});var a=o("./src/WebGL/math/index.ts");const _={topLeft:new a.Vector2(1,-1),topCenter:new a.Vector2(0,-1),topRight:new a.Vector2(-1,-1),centerLeft:new a.Vector2(1,0),center:new a.Vector2(0,0),centerRight:new a.Vector2(-1,0),bottomLeft:new a.Vector2(1,1),bottomCenter:new a.Vector2(0,1),bottomRight:new a.Vector2(-1,1)}},"./src/WebGL/constants/TextureConstants.ts":(i,s,o)=>{o.r(s),o.d(s,{ClampToEdgeWrapping:()=>a,FloatType:()=>it,LinearFilter:()=>_,LinearMipMapLinearFilter:()=>rt,NearestFilter:()=>j,R32Format:()=>gt,RFormat:()=>lt,RGBAFormat:()=>dt,UnsignedByteType:()=>tt});const a=1001,_=1006,j=1007,rt=1008,tt=1009,it=1010,dt=1021,lt=1022,gt=1023},"./src/WebGL/constants/TextureOperations.ts":(i,s,o)=>{o.r(s),o.d(s,{TextureOperations:()=>a});var a;(function(_){_[_.MultiplyOperation=0]="MultiplyOperation",_[_.MixOperation=1]="MixOperation",_[_.AddOperation=2]="AddOperation"})(a||(a={}))},"./src/WebGL/constants/index.ts":(i,s,o)=>{o.r(s),o.d(s,{BackSide:()=>_.BackSide,ClampToEdgeWrapping:()=>tt.ClampToEdgeWrapping,Coloring:()=>a.Coloring,DoubleSide:()=>_.DoubleSide,FloatType:()=>tt.FloatType,FrontSide:()=>_.FrontSide,LinearFilter:()=>tt.LinearFilter,LinearMipMapLinearFilter:()=>tt.LinearMipMapLinearFilter,NearestFilter:()=>tt.NearestFilter,R32Format:()=>tt.R32Format,RFormat:()=>tt.RFormat,RGBAFormat:()=>tt.RGBAFormat,Shading:()=>j.Shading,SpriteAlignment:()=>rt.SpriteAlignment,TextureOperations:()=>it.TextureOperations,UnsignedByteType:()=>tt.UnsignedByteType});var a=o("./src/WebGL/constants/Coloring.ts"),_=o("./src/WebGL/constants/Sides.ts"),j=o("./src/WebGL/constants/Shading.ts"),rt=o("./src/WebGL/constants/SpriteAlignment.ts"),tt=o("./src/WebGL/constants/TextureConstants.ts"),it=o("./src/WebGL/constants/TextureOperations.ts")},"./src/WebGL/core/EventDispatcher.ts":(i,s,o)=>{o.r(s),o.d(s,{EventDispatcher:()=>a});class a{constructor(){this.listeners={}}dispatchEvent(j){var rt=this.listeners[j.type];if(rt!==void 0){j.target=this;for(var tt=0,it=rt.length;tt<it;tt++)rt[tt].call(this,j)}}removeEventListener(j,rt){if(!rt)this.listeners[j]=[];else{var tt=this.listeners[j].indexOf(rt);tt!==-1&&this.listeners[j].splice(tt,1)}}addEventListener(j,rt){this.listeners[j]===void 0&&(this.listeners[j]=[]),this.listeners[j].indexOf(rt)===-1&&this.listeners[j].push(rt)}}},"./src/WebGL/core/Geometry.ts":(i,s,o)=>{o.r(s),o.d(s,{Geometry:()=>dt,GeometryGroup:()=>it,GeometryIDCount:()=>lt});var a=o("./src/WebGL/materials/LineBasicMaterial.ts"),_=o("./src/WebGL/core/EventDispatcher.ts"),j=o("./src/WebGL/math/index.ts"),rt=o("./src/colors.ts");const tt=65535;class it{constructor(vt=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.atomArray=Array(),this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=vt}setColor(vt){var ht=this.vertexArray,mt=this.colorArray;if(!ht)throw new Error("vertex array not initialized");if(!mt)throw new Error("color array not initialized");let nt=rt.CC.color(vt);for(var $=0;$<ht.length;$+=3)mt[$]=nt.r,mt[$+1]=nt.g,mt[$+2]=nt.b}setColors(vt){var ht=this.vertexArray,mt=this.colorArray;if(!ht)throw new Error("vertex array not initialized");if(!mt)throw new Error("color array not initialized");if(ht.length!=mt.length){console.log("Cannot re-color geometry group due to mismatched lengths.");return}for(var nt=0;nt<ht.length;nt+=3){var $=vt(ht[nt],ht[nt+1],ht[nt+2]);$ instanceof rt.Color||($=rt.CC.color($)),mt[nt]=$.r,mt[nt+1]=$.g,mt[nt+2]=$.b}}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var vt=new j.Vector3,ht,mt,nt,$,_e=0;_e<this.vertices;++_e)ht=_e*3,mt=this.vertexArray[ht],nt=this.vertexArray[ht+1],$=this.vertexArray[ht+2],vt.x+=mt,vt.y+=nt,vt.z+=$;return vt.divideScalar(this.vertices),vt}setNormals(){var vt=this.faceArray,ht=this.vertexArray,mt=this.normalArray;if(!(!this.vertices||!this.faceidx)){if(!vt)throw new Error("face array not initialized");if(!ht)throw new Error("vertex array not initialized");if(!mt)throw new Error("normal array not initialized");for(var nt,$,_e,st,ot,ut,et,at=0;at<vt.length/3;++at)nt=vt[at*3]*3,$=vt[at*3+1]*3,_e=vt[at*3+2]*3,st=new j.Vector3(ht[nt],ht[nt+1],ht[nt+2]),ot=new j.Vector3(ht[$],ht[$+1],ht[$+2]),ut=new j.Vector3(ht[_e],ht[_e+1],ht[_e+2]),st.subVectors(st,ot),ut.subVectors(ut,ot),ut.cross(st),et=ut,et.normalize(),mt[nt]+=et.x,mt[$]+=et.x,mt[_e]+=et.x,mt[nt+1]+=et.y,mt[$+1]+=et.y,mt[_e+1]+=et.y,mt[nt+2]+=et.z,mt[$+2]+=et.z,mt[_e+2]+=et.z}}setLineIndices(){if(this.faceidx&&!(this.lineArray&&this.lineArray.length==this.faceidx*2&&this.lineidx==this.faceidx*2)){var vt=this.faceArray,ht=this.lineArray=new Uint16Array(this.faceidx*2);if(this.lineidx=this.faceidx*2,!vt)throw new Error("face array not initialized");for(var mt=0;mt<this.faceidx/3;++mt){var nt=mt*3,$=nt*2,_e=vt[nt],st=vt[nt+1],ot=vt[nt+2];ht[$]=_e,ht[$+1]=st,ht[$+2]=_e,ht[$+3]=ot,ht[$+4]=st,ht[$+5]=ot}}}vrml(vt,ht){var mt,nt,$,_e,st,ot,ut,et,at,pt,ct,yt,ft,_t,wt,Et,Mt,St,At="";if(At+=vt+`Shape {
`+vt+` appearance Appearance {
`+vt+`  material Material {
`+vt+"   diffuseColor "+((mt=ht==null?void 0:ht.color)===null||mt===void 0?void 0:mt.r)+" "+((nt=ht==null?void 0:ht.color)===null||nt===void 0?void 0:nt.g)+" "+(($=ht==null?void 0:ht.color)===null||$===void 0?void 0:$.b)+`
`,ht.wireframe&&this.colorArray){let Ct=this.colorArray;At+=vt+"    emissiveColor "+Ct[0]+" "+Ct[1]+" "+Ct[2]+`
`}ht!=null&&ht.transparent&&(At+=vt+"   transparency "+(1-ht.opacity)+`
`),At+=vt+`  }
`,At+=vt+` }
`;var Rt=vt;if(vt+=" ",ht instanceof a.LineBasicMaterial||ht.wireframe){At+=vt+`geometry IndexedLineSet {
`+vt+` colorPerVertex TRUE
`+vt+` coord Coordinate {
`+vt+`  point [
`;let Ct,Pt,Lt;for(let Ot=0;Ot<this.vertices;++Ot){let It=Ot*3;Ct=(_e=this.vertexArray)===null||_e===void 0?void 0:_e[It],Pt=(st=this.vertexArray)===null||st===void 0?void 0:st[It+1],Lt=(ot=this.vertexArray)===null||ot===void 0?void 0:ot[It+2],At+=vt+"   "+Ct+" "+Pt+" "+Lt+`,
`}if(At+=vt+`  ]
`,At+=vt+` }
`,this.colorArray&&!ht.wireframe){At+=vt+` color Color {
`+vt+`  color [
`;for(let Ot=0;Ot<this.vertices;++Ot){let It=Ot*3;Ct=this.colorArray[It],Pt=this.colorArray[It+1],Lt=this.colorArray[It+2],At+=vt+"   "+Ct+" "+Pt+" "+Lt+`,
`}At+=vt+`  ]
`,At+=vt+` }
`}if(At+=vt+` coordIndex [
`,ht.wireframe&&this.faceArray)for(let Ot=0;Ot<this.faceidx;Ot+=3)Ct=(ut=this.faceArray)===null||ut===void 0?void 0:ut[Ot],Pt=(et=this.faceArray)===null||et===void 0?void 0:et[Ot+1],Lt=(at=this.faceArray)===null||at===void 0?void 0:at[Ot+2],At+=vt+"  "+Ct+", "+Pt+", "+Lt+`, -1,
`;else for(let Ot=0;Ot<this.vertices-1;Ot+=2)At+=vt+"  "+Ot+", "+(Ot+1)+`, -1,
`;At+=vt+` ]
`,At+=vt+`}
`}else{At+=vt+`geometry IndexedFaceSet {
`+vt+` colorPerVertex TRUE
`+vt+` normalPerVertex TRUE
`+vt+` solid FALSE
`,At+=vt+` coord Coordinate {
`+vt+`  point [
`;let Ct,Pt,Lt;for(let Ot=0;Ot<this.vertices;++Ot){let It=Ot*3;Ct=(pt=this.vertexArray)===null||pt===void 0?void 0:pt[It],Pt=(ct=this.vertexArray)===null||ct===void 0?void 0:ct[It+1],Lt=(yt=this.vertexArray)===null||yt===void 0?void 0:yt[It+2],At+=vt+"   "+Ct+" "+Pt+" "+Lt+`,
`}At+=vt+`  ]
`,At+=vt+` }
`,At+=vt+` normal Normal {
`+vt+`  vector [
`;for(let Ot=0;Ot<this.vertices;++Ot){let It=Ot*3;Ct=(ft=this.normalArray)===null||ft===void 0?void 0:ft[It],Pt=(_t=this.normalArray)===null||_t===void 0?void 0:_t[It+1],Lt=(wt=this.normalArray)===null||wt===void 0?void 0:wt[It+2],At+=vt+"   "+Ct+" "+Pt+" "+Lt+`,
`}if(At+=vt+`  ]
`,At+=vt+` }
`,this.colorArray){At+=vt+` color Color {
`+vt+`  color [
`;for(let Ot=0;Ot<this.vertices;++Ot){let It=Ot*3;Ct=this.colorArray[It],Pt=this.colorArray[It+1],Lt=this.colorArray[It+2],At+=vt+"   "+Ct+" "+Pt+" "+Lt+`,
`}At+=vt+`  ]
`,At+=vt+` }
`}At+=vt+` coordIndex [
`;for(let Ot=0;Ot<this.faceidx;Ot+=3)Ct=(Et=this.faceArray)===null||Et===void 0?void 0:Et[Ot],Pt=(Mt=this.faceArray)===null||Mt===void 0?void 0:Mt[Ot+1],Lt=(St=this.faceArray)===null||St===void 0?void 0:St[Ot+2],At+=vt+"  "+Ct+", "+Pt+", "+Lt+`, -1,
`;At+=vt+` ]
`,At+=vt+`}
`}return At+=Rt+"}",At}truncateArrayBuffers(vt=!0,ht=!1){var mt=this.vertexArray,nt=this.colorArray,$=this.normalArray,_e=this.faceArray,st=this.lineArray,ot=this.radiusArray;this.vertexArray=(mt==null?void 0:mt.subarray(0,this.vertices*3))||null,this.colorArray=(nt==null?void 0:nt.subarray(0,this.vertices*3))||null,vt?(this.normalArray=($==null?void 0:$.subarray(0,this.vertices*3))||null,this.faceArray=(_e==null?void 0:_e.subarray(0,this.faceidx))||null,this.lineidx>0?this.lineArray=(st==null?void 0:st.subarray(0,this.lineidx))||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),ot&&(this.radiusArray=ot.subarray(0,this.vertices)),ht&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class dt extends _.EventDispatcher{constructor(vt=!1,ht=!1,mt=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=lt++,this.mesh=vt,this.radii=ht,this.offset=mt}updateGeoGroup(vt=0){var ht,mt=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!mt||mt.vertices+vt>(((ht=mt==null?void 0:mt.vertexArray)===null||ht===void 0?void 0:ht.length)||0)/3)&&(mt=this.addGeoGroup()),mt}vrml(vt,ht){for(var mt="",nt=this.geometryGroups.length,$=0;$<nt;$++){var _e=this.geometryGroups[$];mt+=_e.vrml(vt,ht)+`,
`}return mt}addGeoGroup(){var vt=new it(this.geometryGroups.length);return this.geometryGroups.push(vt),this.groups=this.geometryGroups.length,vt.vertexArray=new Float32Array(tt*3),vt.colorArray=new Float32Array(tt*3),this.mesh&&(vt.normalArray=new Float32Array(tt*3),vt.faceArray=new Uint16Array(tt*6),vt.lineArray=new Uint16Array(tt*6)),this.radii&&(vt.radiusArray=new Float32Array(tt)),vt.useOffset=this.offset,vt}setUpNormals(...vt){for(var ht=0;ht<this.groups;ht++){var mt=this.geometryGroups[ht];mt.setNormals(...vt)}}setColors(...vt){for(var ht=this.geometryGroups.length,mt=0;mt<ht;mt++){var nt=this.geometryGroups[mt];nt.setColors(...vt)}}setColor(...vt){for(var ht=this.geometryGroups.length,mt=0;mt<ht;mt++){var nt=this.geometryGroups[mt];nt.setColor(...vt)}}setUpWireframe(...vt){for(var ht=0;ht<this.groups;ht++){var mt=this.geometryGroups[ht];mt.setLineIndices(...vt)}}initTypedArrays(){for(var vt=0;vt<this.groups;vt++){var ht=this.geometryGroups[vt];ht.__inittedArrays!==!0&&ht.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var vt=0,ht=0;ht<this.groups;ht++)vt+=this.geometryGroups[ht].vertices;return vt}}let lt=0},"./src/WebGL/core/Object3D.ts":(i,s,o)=>{o.r(s),o.d(s,{Light:()=>it,Object3D:()=>rt,Object3DIDCount:()=>j,Scene:()=>tt});var a=o("./src/WebGL/math/index.ts"),_=o("./src/colors.ts");let j=0;class rt{constructor(){this.id=j++,this.name="",this.children=[],this.position=new a.Vector3,this.rotation=new a.Vector3,this.matrix=new a.Matrix4,this.matrixWorld=new a.Matrix4,this.quaternion=new a.Quaternion,this.eulerOrder="XYZ",this.up=new a.Vector3(0,1,0),this.scale=new a.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(lt){this.matrix.lookAt(lt,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?console.error("Unimplemented math operation."):this.rotation instanceof a.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(lt){if(lt===this){console.error("Can't add $3Dmol.Object3D to itself");return}lt.parent=this,this.children.push(lt);for(var gt=this;gt.parent!==void 0;)gt=gt.parent;gt!==void 0&&gt instanceof tt&&gt.__addObject(lt)}remove(lt){var gt=this.children.indexOf(lt);if(gt!==-1){lt.parent=void 0,this.children.splice(gt,1);for(var vt=this;vt.parent!==void 0;)vt=vt.parent;vt!==void 0&&vt instanceof tt&&vt.__removeObject(lt)}}vrml(lt){lt||(lt=" ");var gt=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),vt=0,ht=0,mt=0;if(gt!=0){let _e=Math.sin(gt/2);vt=this.quaternion.x/_e,ht=this.quaternion.y/_e,mt=this.quaternion.z/_e}var nt=lt+`Transform {
`+lt+" center "+this.position.x+" "+this.position.y+" "+this.position.z+`
`+lt+" rotation "+vt+" "+ht+" "+mt+" "+gt+`
`+lt+` children [
`;this.geometry&&(nt+=this.geometry.vrml(lt,this.material));for(var $=0;$<this.children.length;$++)nt+=this.children[$].vrml(lt+" ")+`,
`;return nt+=` ]
`,nt+="}",nt}updateMatrix(){this.matrix.setPosition(this.position),this.useQuaternion===!1&&this.rotation instanceof a.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),(this.scale.x!==1||this.scale.y!==1||this.scale.z!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(lt){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||lt===!0)&&(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var gt=0;gt<this.children.length;gt++)this.children[gt].updateMatrixWorld(!0)}clone(lt){lt===void 0&&(lt=new rt),lt.name=this.name,lt.up.copy(this.up),lt.position.copy(this.position),lt.rotation instanceof a.Vector3&&this.rotation instanceof a.Vector3?lt.rotation.copy(this.rotation):lt.rotation=this.rotation,lt.eulerOrder=this.eulerOrder,lt.scale.copy(this.scale),lt.rotationAutoUpdate=this.rotationAutoUpdate,lt.matrix.copy(this.matrix),lt.matrixWorld.copy(this.matrixWorld),lt.quaternion.copy(this.quaternion),lt.matrixAutoUpdate=this.matrixAutoUpdate,lt.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,lt.useQuaternion=this.useQuaternion,lt.visible=this.visible;for(var gt=0;gt<this.children.length;gt++){var vt=this.children[gt];lt.add(vt.clone())}return lt}setVisible(lt){this.visible=lt;for(var gt=0;gt<this.children.length;gt++){var vt=this.children[gt];vt.setVisible(lt)}}}class tt extends rt{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(lt){if(lt instanceof it)this.__lights.indexOf(lt)===-1&&this.__lights.push(lt),lt.target&&lt.target.parent===void 0&&this.add(lt.target);else if(this.__objects.indexOf(lt)===-1){this.__objects.push(lt),this.__objectsAdded.push(lt);var gt=this.__objectsRemoved.indexOf(lt);gt!==-1&&this.__objectsRemoved.splice(gt,1)}for(var vt=0;vt<lt.children.length;vt++)this.__addObject(lt.children[vt])}__removeObject(lt){var gt;if(lt instanceof it)gt=this.__lights.indexOf(lt),gt!==-1&&this.__lights.splice(gt,1);else if(gt=this.__objects.indexOf(lt),gt!==-1){this.__objects.splice(gt,1),this.__objectsRemoved.push(lt);var vt=this.__objectsAdded.indexOf(lt);vt!==-1&&this.__objectsAdded.splice(gt,1)}for(var ht=0;ht<lt.children.length;ht++)this.__removeObject(lt.children[ht])}}class it extends rt{constructor(lt,gt=1){super(),this.position=new a.Vector3(0,1,0),this.target=new rt,this.castShadow=!1,this.onlyShadow=!1,this.color=new _.Color(lt),this.intensity=gt}}},"./src/WebGL/core/Projector.ts":(i,s,o)=>{o.r(s),o.d(s,{Projector:()=>j});var a=o("./src/WebGL/math/index.ts");const _=new a.Matrix4;class j{static unprojectVector(tt,it){return it.projectionMatrixInverse.getInverse(it.projectionMatrix),_.multiplyMatrices(it.matrixWorld,it.projectionMatrixInverse),tt.applyProjection(_)}static projectVector(tt,it){return it.matrixWorldInverse.getInverse(it.matrixWorld),_.multiplyMatrices(it.projectionMatrix,it.matrixWorldInverse),tt.applyProjection(_)}projectVector(tt,it){return j.projectVector(tt,it)}unprojectVector(tt,it){return j.unprojectVector(tt,it)}}},"./src/WebGL/core/Raycaster.ts":(i,s,o)=>{o.r(s),o.d(s,{Raycaster:()=>tt,intersectObject:()=>_e});var a=o("./src/WebGL/math/index.ts"),_=o("./src/WebGL/shapes/index.ts");const j=(st,ot)=>st.distance-ot.distance,rt=new a.Matrix4;class tt{constructor(ot,ut,et,at){this.precision=1e-4,this.linePrecision=.2,this.ray=new a.Ray(ot,ut),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=at||0,this.far=et||1/0}set(ot,ut){this.ray.set(ot,ut)}setFromCamera(ot,ut){ut.ortho?(this.ray.origin.set(ot.x,ot.y,(ut.near+ut.far)/(ut.near-ut.far)).unproject(ut),this.ray.direction.set(0,0,-1).transformDirection(ut.matrixWorld)):(this.ray.origin.setFromMatrixPosition(ut.matrixWorld),this.ray.direction.set(ot.x,ot.y,ot.z),ut.projectionMatrixInverse.getInverse(ut.projectionMatrix),rt.multiplyMatrices(ut.matrixWorld,ut.projectionMatrixInverse),this.ray.direction.applyProjection(rt),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(ot,ut){for(var et=[],at=0,pt=ut.length;at<pt;at++)_e(ot,ut[at],this,et);return et.sort(j),et}}const it=st=>Math.min(Math.max(st,-1),1);var dt=new _.Sphere,lt=new _.Cylinder,gt=new _.Triangle,vt=new a.Vector3,ht=new a.Vector3,mt=new a.Vector3,nt=new a.Vector3,$=new a.Vector3;function _e(st,ot,ut,et){if($.getPositionFromMatrix(st.matrixWorld),ot.intersectionShape===void 0)return et;var at=ot.intersectionShape,pt=ut.linePrecision;pt*=st.matrixWorld.getMaxScaleOnAxis();var ct=pt*pt;if(ot.boundingSphere!==void 0&&ot.boundingSphere instanceof _.Sphere&&(dt.copy(ot.boundingSphere),dt.applyMatrix4(st.matrixWorld),!ut.ray.isIntersectionSphere(dt)))return et;var yt,ft,_t,wt,Et,Mt,St,At,Rt,Ct,Pt,Lt,Ot,It;for(yt=0,ft=at.triangle.length;yt<ft;yt++)if(at.triangle[yt]instanceof _.Triangle){if(gt.copy(at.triangle[yt]),gt.applyMatrix4(st.matrixWorld),_t=gt.getNormal(),wt=ut.ray.direction.dot(_t),wt>=0||(vt.subVectors(gt.a,ut.ray.origin),St=_t.dot(vt)/wt,St<0))continue;ht.copy(ut.ray.direction).multiplyScalar(St).add(ut.ray.origin),ht.sub(gt.a),mt.copy(gt.b).sub(gt.a),nt.copy(gt.c).sub(gt.a);var $t=mt.dot(nt),jt=mt.lengthSq(),Zt=nt.lengthSq();if(Lt=(jt*ht.dot(nt)-$t*ht.dot(mt))/(jt*Zt-$t*$t),Lt<0||Lt>1||(Pt=(ht.dot(mt)-Lt*$t)/jt,Pt<0||Pt>1||Pt+Lt>1))continue;et.push({clickable:ot,distance:St})}for(yt=0,ft=at.cylinder.length;yt<ft;yt++)if(at.cylinder[yt]instanceof _.Cylinder){if(lt.copy(at.cylinder[yt]),lt.applyMatrix4(st.matrixWorld),vt.subVectors(lt.c1,ut.ray.origin),Et=vt.dot(lt.direction),Mt=vt.dot(ut.ray.direction),wt=it(ut.ray.direction.dot(lt.direction)),Rt=1-wt*wt,Rt===0)continue;Ot=(wt*Mt-Et)/Rt,It=(Mt-wt*Et)/Rt,ht.copy(lt.direction).multiplyScalar(Ot).add(lt.c1),mt.copy(ut.ray.direction).multiplyScalar(It).add(ut.ray.origin),At=nt.subVectors(ht,mt).lengthSq();var qt=lt.radius*lt.radius;if(At<=qt){if(Ct=(wt*Et-Mt)*(wt*Et-Mt)-Rt*(vt.lengthSq()-Et*Et-qt),Ct<=0?Lt=St=Math.sqrt(At):Lt=St=(Mt-wt*Et-Math.sqrt(Ct))/Rt,Pt=wt*Lt-Et,Pt<0||Pt*Pt>lt.lengthSq()||Lt<0)continue;et.push({clickable:ot,distance:St})}}for(yt=0,ft=at.line.length;yt<ft;yt+=2){ht.copy(at.line[yt]),ht.applyMatrix4(st.matrixWorld),mt.copy(at.line[yt+1]),mt.applyMatrix4(st.matrixWorld),nt.subVectors(mt,ht);var er=nt.lengthSq();nt.normalize(),vt.subVectors(ht,ut.ray.origin);var Yt=vt.dot(nt);Mt=vt.dot(ut.ray.direction),wt=it(ut.ray.direction.dot(nt)),Rt=1-wt*wt,Rt!==0&&(Ot=(wt*Mt-Yt)/Rt,It=(Mt-wt*Yt)/Rt,ht.add(nt.multiplyScalar(Ot)),mt.copy(ut.ray.direction).multiplyScalar(It).add(ut.ray.origin),At=nt.subVectors(mt,ht).lengthSq(),At<ct&&Ot*Ot<er&&et.push({clickable:ot,distance:It}))}for(yt=0,ft=at.sphere.length;yt<ft;yt++)if(at.sphere[yt]instanceof _.Sphere&&(dt.copy(at.sphere[yt]),dt.applyMatrix4(st.matrixWorld),ut.ray.isIntersectionSphere(dt))){ht.subVectors(dt.center,ut.ray.origin);var Qt=ht.dot(ut.ray.direction);if(Ct=Qt*Qt-(ht.lengthSq()-dt.radius*dt.radius),Qt<0)return et;Ct<=0?St=Qt:St=Qt-Math.sqrt(Ct),et.push({clickable:ot,distance:St})}return et}},"./src/WebGL/core/Texture.ts":(i,s,o)=>{o.r(s),o.d(s,{Texture:()=>tt,TextureIdCount:()=>it});var a=o("./src/WebGL/constants/TextureConstants.ts"),_=o("./src/WebGL/math/index.ts"),j=o("./src/WebGL/core/EventDispatcher.ts"),rt=o("./src/WebGL/core/UVMapping.ts");class tt extends j.EventDispatcher{constructor(lt,gt){super(),this.id=it++,this.name="",this.image=lt,this.mapping=new rt.UVMapping,this.wrapS=a.ClampToEdgeWrapping,this.wrapT=a.ClampToEdgeWrapping,this.anisotropy=1,gt?(this.format=a.RFormat,this.type=a.FloatType,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=a.NearestFilter,this.minFilter=a.NearestFilter):(this.format=a.RGBAFormat,this.type=a.UnsignedByteType,this.offset=new _.Vector2(0,0),this.repeat=new _.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=a.LinearFilter,this.minFilter=a.LinearMipMapLinearFilter),this.needsUpdate=!1,this.onUpdate=null}clone(lt=new tt){return lt.image=this.image,lt.mapping=this.mapping,lt.wrapS=this.wrapS,lt.wrapT=this.wrapT,lt.magFilter=this.magFilter,lt.minFilter=this.minFilter,lt.anisotropy=this.anisotropy,lt.format=this.format,lt.type=this.type,lt.offset.copy(this.offset),lt.repeat.copy(this.repeat),lt.premultiplyAlpha=this.premultiplyAlpha,lt.flipY=this.flipY,lt.unpackAlignment=this.unpackAlignment,lt}dispose(){this.dispatchEvent({type:"dispose"})}}let it=0},"./src/WebGL/core/UVMapping.ts":(i,s,o)=>{o.r(s),o.d(s,{UVMapping:()=>a});class a{}},"./src/WebGL/core/index.ts":(i,s,o)=>{o.r(s),o.d(s,{EventDispatcher:()=>a.EventDispatcher,Geometry:()=>_.Geometry,GeometryGroup:()=>_.GeometryGroup,GeometryIDCount:()=>_.GeometryIDCount,Light:()=>j.Light,Object3D:()=>j.Object3D,Object3DIDCount:()=>j.Object3DIDCount,Projector:()=>rt.Projector,Raycaster:()=>tt.Raycaster,Scene:()=>j.Scene,Texture:()=>it.Texture,TextureIdCount:()=>it.TextureIdCount,UVMapping:()=>dt.UVMapping,intersectObject:()=>tt.intersectObject});var a=o("./src/WebGL/core/EventDispatcher.ts"),_=o("./src/WebGL/core/Geometry.ts"),j=o("./src/WebGL/core/Object3D.ts"),rt=o("./src/WebGL/core/Projector.ts"),tt=o("./src/WebGL/core/Raycaster.ts"),it=o("./src/WebGL/core/Texture.ts"),dt=o("./src/WebGL/core/UVMapping.ts")},"./src/WebGL/index.ts":(i,s,o)=>{o.r(s),o.d(s,{BackSide:()=>a.BackSide,Camera:()=>lt.Camera,ClampToEdgeWrapping:()=>a.ClampToEdgeWrapping,Coloring:()=>a.Coloring,Cylinder:()=>dt.Cylinder,DoubleSide:()=>a.DoubleSide,EventDispatcher:()=>_.EventDispatcher,FloatType:()=>a.FloatType,Fog:()=>gt.Fog,FrontSide:()=>a.FrontSide,Geometry:()=>_.Geometry,GeometryGroup:()=>_.GeometryGroup,GeometryIDCount:()=>_.GeometryIDCount,ImposterMaterial:()=>j.ImposterMaterial,InstancedMaterial:()=>j.InstancedMaterial,Light:()=>_.Light,Line:()=>tt.Line,LineBasicMaterial:()=>j.LineBasicMaterial,LineStyle:()=>tt.LineStyle,LinearFilter:()=>a.LinearFilter,LinearMipMapLinearFilter:()=>a.LinearMipMapLinearFilter,Material:()=>j.Material,MaterialIdCount:()=>j.MaterialIdCount,Matrix3:()=>rt.Matrix3,Matrix4:()=>rt.Matrix4,Mesh:()=>tt.Mesh,MeshDoubleLambertMaterial:()=>j.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>j.MeshLambertMaterial,MeshOutlineMaterial:()=>j.MeshOutlineMaterial,NearestFilter:()=>a.NearestFilter,Object3D:()=>_.Object3D,Object3DIDCount:()=>_.Object3DIDCount,Projector:()=>_.Projector,Quaternion:()=>rt.Quaternion,R32Format:()=>a.R32Format,RFormat:()=>a.RFormat,RGBAFormat:()=>a.RGBAFormat,Ray:()=>rt.Ray,Raycaster:()=>_.Raycaster,Renderer:()=>vt.Renderer,Scene:()=>_.Scene,ShaderLib:()=>it.ShaderLib,ShaderUtils:()=>it.ShaderUtils,Shading:()=>a.Shading,Sphere:()=>dt.Sphere,SphereImposterMaterial:()=>j.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>j.SphereImposterOutlineMaterial,Sprite:()=>tt.Sprite,SpriteAlignment:()=>a.SpriteAlignment,SpriteMaterial:()=>j.SpriteMaterial,SpritePlugin:()=>ht.SpritePlugin,StickImposterMaterial:()=>j.StickImposterMaterial,StickImposterOutlineMaterial:()=>j.StickImposterOutlineMaterial,Texture:()=>_.Texture,TextureIdCount:()=>_.TextureIdCount,TextureOperations:()=>a.TextureOperations,Triangle:()=>dt.Triangle,UVMapping:()=>_.UVMapping,UnsignedByteType:()=>a.UnsignedByteType,Vector2:()=>rt.Vector2,Vector3:()=>rt.Vector3,VolumetricMaterial:()=>j.VolumetricMaterial,basic:()=>it.basic,clamp:()=>rt.clamp,clone:()=>it.clone,conversionMatrix3:()=>rt.conversionMatrix3,degToRad:()=>rt.degToRad,instanced:()=>it.instanced,intersectObject:()=>_.intersectObject,lambert:()=>it.lambert,lambertdouble:()=>it.lambertdouble,outline:()=>it.outline,screen:()=>it.screen,screenaa:()=>it.screenaa,sphereimposter:()=>it.sphereimposter,sphereimposteroutline:()=>it.sphereimposteroutline,sprite:()=>it.sprite,stickimposter:()=>it.stickimposter,stickimposteroutline:()=>it.stickimposteroutline,volumetric:()=>it.volumetric});var a=o("./src/WebGL/constants/index.ts"),_=o("./src/WebGL/core/index.ts"),j=o("./src/WebGL/materials/index.ts"),rt=o("./src/WebGL/math/index.ts"),tt=o("./src/WebGL/objects/index.ts"),it=o("./src/WebGL/shaders/index.ts"),dt=o("./src/WebGL/shapes/index.ts"),lt=o("./src/WebGL/Camera.ts"),gt=o("./src/WebGL/Fog.ts"),vt=o("./src/WebGL/Renderer.ts"),ht=o("./src/WebGL/SpritePlugin.ts")},"./src/WebGL/materials/ImposterMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{ImposterMaterial:()=>it});var a=o("./src/WebGL/constants/Coloring.ts"),_=o("./src/WebGL/constants/Shading.ts"),j=o("./src/colors.ts"),rt=o("./src/WebGL/math/index.ts"),tt=o("./src/WebGL/materials/Material.ts");class it extends tt.Material{constructor(lt){super(),this.color=new j.Color(16777215),this.ambient=new j.Color(1048575),this.emissive=new j.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new rt.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=_.Shading.SmoothShading,this.shaderID=null,this.vertexColors=a.Coloring.NoColors,this.skinning=!1,this.setValues(lt)}clone(lt=new it){return super.clone.call(this,lt),lt.color.copy(this.color),lt.ambient.copy(this.ambient),lt.emissive.copy(this.emissive),lt.wrapAround=this.wrapAround,lt.wrapRGB.copy(this.wrapRGB),lt.map=this.map,lt.lightMap=this.lightMap,lt.specularMap=this.specularMap,lt.envMap=this.envMap,lt.combine=this.combine,lt.reflectivity=this.reflectivity,lt.refractionRatio=this.refractionRatio,lt.fog=this.fog,lt.shading=this.shading,lt.shaderID=this.shaderID,lt.vertexColors=this.vertexColors,lt.skinning=this.skinning,lt.morphTargets=this.morphTargets,lt.morphNormals=this.morphNormals,lt}}},"./src/WebGL/materials/InstancedMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{InstancedMaterial:()=>it});var a=o("./src/WebGL/constants/Coloring.ts"),_=o("./src/WebGL/constants/Shading.ts"),j=o("./src/colors.ts"),rt=o("./src/WebGL/math/index.ts"),tt=o("./src/WebGL/materials/Material.ts");class it extends tt.Material{constructor(lt){super(),this.color=new j.Color(16777215),this.ambient=new j.Color(1048575),this.emissive=new j.Color(0),this.wrapAround=!1,this.wrapRGB=new rt.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=_.Shading.SmoothShading,this.shaderID="instanced",this.vertexColors=a.Coloring.NoColors,this.skinning=!1,this.sphere=null,this.setValues(lt)}clone(lt=new it){return super.clone.call(this,lt),lt.color.copy(this.color),lt.ambient.copy(this.ambient),lt.emissive.copy(this.emissive),lt.wrapAround=this.wrapAround,lt.wrapRGB.copy(this.wrapRGB),lt.map=this.map,lt.lightMap=this.lightMap,lt.specularMap=this.specularMap,lt.envMap=this.envMap,lt.combine=this.combine,lt.reflectivity=this.reflectivity,lt.refractionRatio=this.refractionRatio,lt.fog=this.fog,lt.shading=this.shading,lt.shaderID=this.shaderID,lt.vertexColors=this.vertexColors,lt.skinning=this.skinning,lt.morphTargets=this.morphTargets,lt.morphNormals=this.morphNormals,lt.sphere=this.sphere,lt}}},"./src/WebGL/materials/LineBasicMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{LineBasicMaterial:()=>j});var a=o("./src/colors.ts"),_=o("./src/WebGL/materials/Material.ts");class j extends _.Material{constructor(tt){super(),this.color=new a.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(tt)}clone(tt=new j){return super.clone.call(this,tt),tt.color.copy(this.color),tt}}},"./src/WebGL/materials/Material.ts":(i,s,o)=>{o.r(s),o.d(s,{Material:()=>tt,MaterialIdCount:()=>it});var a=o("./src/WebGL/constants/Sides.ts"),_=o("./src/WebGL/core/index.ts"),j=o("./src/WebGL/math/index.ts"),rt=o("./src/colors.ts");class tt extends _.EventDispatcher{constructor(){super(...arguments),this.id=it++,this.name="",this.side=a.FrontSide,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1,this.wireframe=!1,this.shaded=!1}setValues(lt={}){if(lt!==void 0)for(var gt in lt){var vt=lt[gt];if(vt===void 0){console.warn("$3Dmol.Material: '"+gt+"' parameter is undefined.");continue}if(gt in this){var ht=this[gt];ht instanceof rt.Color&&vt instanceof rt.Color?ht.copy(vt):ht instanceof rt.Color?ht.set(vt):ht instanceof j.Vector3&&vt instanceof j.Vector3?ht.copy(vt):this[gt]=vt}}}clone(lt=new tt){return lt.name=this.name,lt.side=this.side,lt.opacity=this.opacity,lt.transparent=this.transparent,lt.depthTest=this.depthTest,lt.depthWrite=this.depthWrite,lt.polygonOffset=this.polygonOffset,lt.polygonOffsetFactor=this.polygonOffsetFactor,lt.polygonOffsetUnits=this.polygonOffsetUnits,lt.alphaTest=this.alphaTest,lt.overdraw=this.overdraw,lt.visible=this.visible,lt}makeShaded(lt){this.shaded=!0,this.uniforms&&(this.uniforms.shading={type:"i",value:lt},this.uniforms.vWidth={type:"f",value:1},this.uniforms.vHeight={type:"f",value:1})}dispose(){this.dispatchEvent({type:"dispose"})}}let it=0},"./src/WebGL/materials/MeshDoubleLambertMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{MeshDoubleLambertMaterial:()=>j});var a=o("./src/WebGL/constants/Sides.ts"),_=o("./src/WebGL/materials/MeshLambertMaterial.ts");class j extends _.MeshLambertMaterial{constructor(tt){super(tt),this.shaderID="lambertdouble",this.side=a.DoubleSide,this.outline=!1}clone(tt=new j){return super.clone.call(this,tt),tt}}},"./src/WebGL/materials/MeshLambertMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{MeshLambertMaterial:()=>it});var a=o("./src/WebGL/constants/Coloring.ts"),_=o("./src/WebGL/constants/Shading.ts"),j=o("./src/WebGL/materials/Material.ts"),rt=o("./src/colors.ts"),tt=o("./src/WebGL/math/index.ts");class it extends j.Material{constructor(lt){super(),this.color=new rt.Color(16777215),this.ambient=new rt.Color(1048575),this.emissive=new rt.Color(0),this.wrapAround=!1,this.wrapRGB=new tt.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=_.Shading.SmoothShading,this.shaderID="lambert",this.vertexColors=a.Coloring.NoColors,this.skinning=!1,this.setValues(lt)}clone(lt=new it){return super.clone.call(this,lt),lt.color.copy(this.color),lt.ambient.copy(this.ambient),lt.emissive.copy(this.emissive),lt.wrapAround=this.wrapAround,lt.wrapRGB.copy(this.wrapRGB),lt.map=this.map,lt.lightMap=this.lightMap,lt.specularMap=this.specularMap,lt.envMap=this.envMap,lt.combine=this.combine,lt.reflectivity=this.reflectivity,lt.refractionRatio=this.refractionRatio,lt.fog=this.fog,lt.shading=this.shading,lt.shaderID=this.shaderID,lt.vertexColors=this.vertexColors,lt.skinning=this.skinning,lt.morphTargets=this.morphTargets,lt.morphNormals=this.morphNormals,lt}}},"./src/WebGL/materials/MeshOutlineMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{MeshOutlineMaterial:()=>j});var a=o("./src/colors.ts"),_=o("./src/WebGL/materials/Material.ts");class j extends _.Material{constructor(tt){super(),tt=tt||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=a.CC.color(tt.color||new a.Color(0,0,0)),this.outlineWidth=tt.width||.1,this.outlinePushback=tt.pushback||1,this.outlineMaxPixels=tt.maxpixels||0}clone(tt=new j){return super.clone.call(this,tt),tt.fog=this.fog,tt.shaderID=this.shaderID,tt.wireframe=this.wireframe,tt.outlineColor=this.outlineColor,tt.outlineWidth=this.outlineWidth,tt.outlinePushback=this.outlinePushback,tt.outlineMaxPixels=this.outlineMaxPixels,tt}}},"./src/WebGL/materials/SphereImposterMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{SphereImposterMaterial:()=>_});var a=o("./src/WebGL/materials/ImposterMaterial.ts");class _ extends a.ImposterMaterial{constructor(rt){super(rt),this.shaderID="sphereimposter",this.setValues(rt)}clone(rt=new _){return super.clone.call(this,rt),rt}}},"./src/WebGL/materials/SphereImposterOutlineMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{SphereImposterOutlineMaterial:()=>j});var a=o("./src/colors.ts"),_=o("./src/WebGL/materials/ImposterMaterial.ts");class j extends _.ImposterMaterial{constructor(tt){super(tt),tt=tt||{},this.shaderID="sphereimposteroutline",this.outlineColor=a.CC.color(tt.color||new a.Color(0,0,0)),this.outlineWidth=tt.width||.1,this.outlinePushback=tt.pushback||1,this.outlineMaxPixels=tt.maxpixels||0,this.setValues(tt)}clone(tt=new j){return super.clone.call(this,tt),tt.outlineColor=this.outlineColor,tt.outlineWidth=this.outlineWidth,tt.outlinePushback=this.outlinePushback,tt.outlineMaxPixels=this.outlineMaxPixels,tt}}},"./src/WebGL/materials/SpriteMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{SpriteMaterial:()=>it});var a=o("./src/WebGL/constants/SpriteAlignment.ts"),_=o("./src/WebGL/core/Texture.ts"),j=o("./src/colors.ts"),rt=o("./src/WebGL/math/index.ts"),tt=o("./src/WebGL/materials/Material.ts");class it extends tt.Material{constructor(lt){super(),this.color=new j.Color(16777215),this.map=new _.Texture,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new rt.Vector2(0,0),this.uvScale=new rt.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=a.SpriteAlignment.center.clone(),this.setValues(lt),lt=lt||{},lt.depthTest===void 0&&(this.depthTest=!this.useScreenCoordinates),lt.sizeAttenuation===void 0&&(this.sizeAttenuation=!this.useScreenCoordinates),lt.scaleByViewPort===void 0&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(lt=new it){return super.clone.call(this,lt),lt.color.copy(this.color),lt.map=this.map,lt.useScreenCoordinates=this.useScreenCoordinates,lt.screenOffset=this.screenOffset,lt.sizeAttenuation=this.sizeAttenuation,lt.scaleByViewport=this.scaleByViewPort,lt.alignment.copy(this.alignment),lt.uvOffset.copy(this.uvOffset),lt}}},"./src/WebGL/materials/StickImposterMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{StickImposterMaterial:()=>_});var a=o("./src/WebGL/materials/ImposterMaterial.ts");class _ extends a.ImposterMaterial{constructor(rt){super(rt),this.shaderID="stickimposter",this.setValues(rt)}clone(rt=new _){return super.clone.call(this,rt),rt}}},"./src/WebGL/materials/StickImposterOutlineMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{StickImposterOutlineMaterial:()=>j});var a=o("./src/colors.ts"),_=o("./src/WebGL/materials/ImposterMaterial.ts");class j extends _.ImposterMaterial{constructor(tt={}){super(tt),this.shaderID="stickimposteroutline",this.outlineColor=new a.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,this.outlineMaxPixels=0,tt.color&&(this.outlineColor=a.CC.color(tt.color)),tt.width&&(this.outlineWidth=tt.width),tt.pushback&&(this.outlinePushback=tt.pushback),tt.maxpixels&&(this.outlineMaxPixels=tt.maxpixels),this.setValues(tt)}clone(tt=new j){return super.clone.call(this,tt),tt.outlineColor=this.outlineColor,tt.outlineWidth=this.outlineWidth,tt.outlinePushback=this.outlinePushback,tt.outlineMaxPixels=this.outlineMaxPixels,tt}}},"./src/WebGL/materials/VolumetricMaterial.ts":(i,s,o)=>{o.r(s),o.d(s,{VolumetricMaterial:()=>rt});var a=o("./src/WebGL/constants/Sides.ts"),_=o("./src/colors.ts"),j=o("./src/WebGL/materials/Material.ts");class rt extends j.Material{constructor(it){super(),this.transparent=!1,this.volumetric=!0,this.color=new _.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=a.FrontSide,this.setValues(it)}clone(it=new rt){return super.clone.call(this,it),it.transparent=this.transparent,it.volumetric=this.volumetric,it.color=this.color,it.transferfn=this.transferfn,it.map=this.map,it.extent=this.extent,it.maxdepth=this.maxdepth,it.unit=this.unit,it.texmatrix=this.texmatrix,it.transfermin=this.transfermin,it.transfermax=this.transfermax,it.subsamples=this.subsamples,it.shaderID=this.shaderID,it.side=this.side,it}}},"./src/WebGL/materials/index.ts":(i,s,o)=>{o.r(s),o.d(s,{ImposterMaterial:()=>a.ImposterMaterial,InstancedMaterial:()=>_.InstancedMaterial,LineBasicMaterial:()=>j.LineBasicMaterial,Material:()=>rt.Material,MaterialIdCount:()=>rt.MaterialIdCount,MeshDoubleLambertMaterial:()=>tt.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>it.MeshLambertMaterial,MeshOutlineMaterial:()=>dt.MeshOutlineMaterial,SphereImposterMaterial:()=>lt.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>gt.SphereImposterOutlineMaterial,SpriteMaterial:()=>vt.SpriteMaterial,StickImposterMaterial:()=>ht.StickImposterMaterial,StickImposterOutlineMaterial:()=>mt.StickImposterOutlineMaterial,VolumetricMaterial:()=>nt.VolumetricMaterial});var a=o("./src/WebGL/materials/ImposterMaterial.ts"),_=o("./src/WebGL/materials/InstancedMaterial.ts"),j=o("./src/WebGL/materials/LineBasicMaterial.ts"),rt=o("./src/WebGL/materials/Material.ts"),tt=o("./src/WebGL/materials/MeshDoubleLambertMaterial.ts"),it=o("./src/WebGL/materials/MeshLambertMaterial.ts"),dt=o("./src/WebGL/materials/MeshOutlineMaterial.ts"),lt=o("./src/WebGL/materials/SphereImposterMaterial.ts"),gt=o("./src/WebGL/materials/SphereImposterOutlineMaterial.ts"),vt=o("./src/WebGL/materials/SpriteMaterial.ts"),ht=o("./src/WebGL/materials/StickImposterMaterial.ts"),mt=o("./src/WebGL/materials/StickImposterOutlineMaterial.ts"),nt=o("./src/WebGL/materials/VolumetricMaterial.ts")},"./src/WebGL/math/Quaternion.ts":(i,s,o)=>{o.r(s),o.d(s,{Quaternion:()=>a});class a{constructor(j,rt,tt,it){this.x=j||0,this.y=rt||0,this.z=tt||0,this.w=it!==void 0?it:1}set(j,rt,tt,it){return this.x=j,this.y=rt,this.z=tt,this.w=it,this}copy(j){return this.x=j.x,this.y=j.y,this.z=j.z,this.w=j.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let j=this.length();return j===0?(this.x=0,this.y=0,this.z=0,this.w=1):(j=1/j,this.x*=j,this.y*=j,this.z*=j,this.w*=j),this}multiply(j){return this.multiplyQuaternions(this,j)}multiplyScalar(j){return this.x*=j,this.y*=j,this.z*=j,this.w*=j,this}multiplyQuaternions(j,rt){const tt=j.x,it=j.y,dt=j.z,lt=j.w,gt=rt.x,vt=rt.y,ht=rt.z,mt=rt.w;return this.x=tt*mt+lt*gt+it*ht-dt*vt,this.y=it*mt+lt*vt+dt*gt-tt*ht,this.z=dt*mt+lt*ht+tt*vt-it*gt,this.w=lt*mt-tt*gt-it*vt-dt*ht,this}sub(j){return this.x-=j.x,this.y-=j.y,this.z-=j.z,this.w-=j.w,this}clone(){return new a(this.x,this.y,this.z,this.w)}setFromEuler(j){const rt=Math.cos(j.x/2),tt=Math.cos(j.y/2),it=Math.cos(j.z/2),dt=Math.sin(j.x/2),lt=Math.sin(j.y/2),gt=Math.sin(j.z/2);return this.x=dt*tt*it+rt*lt*gt,this.y=rt*lt*it-dt*tt*gt,this.z=rt*tt*gt+dt*lt*it,this.w=rt*tt*it-dt*lt*gt,this}}},"./src/WebGL/math/Vector2.ts":(i,s,o)=>{o.r(s),o.d(s,{Vector2:()=>a});class a{constructor(j,rt){this.x=j||0,this.y=rt||0}set(j,rt){return this.x=j,this.y=rt,this}subVectors(j,rt){return this.x=j.x-rt.x,this.y=j.y-rt.y,this}copy(j){return this.x=j.x,this.y=j.y,this}clone(){return new a(this.x,this.y)}}},"./src/WebGL/math/index.ts":(i,s,o)=>{o.r(s),o.d(s,{Matrix3:()=>it.Matrix3,Matrix4:()=>it.Matrix4,Quaternion:()=>a.Quaternion,Ray:()=>it.Ray,Vector2:()=>_.Vector2,Vector3:()=>it.Vector3,clamp:()=>j.clamp,conversionMatrix3:()=>rt.conversionMatrix3,degToRad:()=>tt.degToRad});var a=o("./src/WebGL/math/Quaternion.ts"),_=o("./src/WebGL/math/Vector2.ts"),j=o("./src/WebGL/math/utils/clamp.ts"),rt=o("./src/WebGL/math/utils/conversionMatrix3.ts"),tt=o("./src/WebGL/math/utils/degToRad.ts"),it=o("./src/WebGL/math/math.ts")},"./src/WebGL/math/math.ts":(i,s,o)=>{o.r(s),o.d(s,{Matrix3:()=>vt,Matrix4:()=>lt,Ray:()=>ht,Vector3:()=>gt});var a=o("./src/WebGL/math/utils/degToRad.ts"),_=o("./src/WebGL/math/utils/clamp.ts"),j,rt,tt,it,dt;class lt{constructor(nt=1,$=0,_e=0,st=0,ot=0,ut=1,et=0,at=0,pt=0,ct=0,yt=1,ft=0,_t=0,wt=0,Et=0,Mt=1){typeof nt<"u"&&typeof nt!="number"?this.elements=new Float32Array(nt):(this.elements=new Float32Array(16),this.elements[0]=nt,this.elements[4]=$,this.elements[8]=_e,this.elements[12]=st,this.elements[1]=ot,this.elements[5]=ut,this.elements[9]=et,this.elements[13]=at,this.elements[2]=pt,this.elements[6]=ct,this.elements[10]=yt,this.elements[14]=ft,this.elements[3]=_t,this.elements[7]=wt,this.elements[11]=Et,this.elements[15]=Mt)}makeScale(nt,$,_e){throw new Error("Method not implemented.")}set(nt,$,_e,st,ot,ut,et,at,pt,ct,yt,ft,_t,wt,Et,Mt){const St=this.elements;return St[0]=nt,St[4]=$,St[8]=_e,St[12]=st,St[1]=ot,St[5]=ut,St[9]=et,St[13]=at,St[2]=pt,St[6]=ct,St[10]=yt,St[14]=ft,St[3]=_t,St[7]=wt,St[11]=Et,St[15]=Mt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(nt){const $=nt.elements;return this.set($[0],$[4],$[8],$[12],$[1],$[5],$[9],$[13],$[2],$[6],$[10],$[14],$[3],$[7],$[11],$[15]),this}matrix3FromTopLeft(){const nt=this.elements;return new vt(nt[0],nt[4],nt[8],nt[1],nt[5],nt[9],nt[2],nt[6],nt[10])}setRotationFromEuler(nt,$){const _e=this.elements,{x:st,y:ot,z:ut}=nt,et=Math.cos(st),at=Math.sin(st),pt=Math.cos(ot),ct=Math.sin(ot),yt=Math.cos(ut),ft=Math.sin(ut);if($===void 0||$==="XYZ"){const _t=et*yt,wt=et*ft,Et=at*yt,Mt=at*ft;_e[0]=pt*yt,_e[4]=-pt*ft,_e[8]=ct,_e[1]=wt+Et*ct,_e[5]=_t-Mt*ct,_e[9]=-at*pt,_e[2]=Mt-_t*ct,_e[6]=Et+wt*ct,_e[10]=et*pt}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${$}`);return this}setRotationFromQuaternion(nt){const $=this.elements,{x:_e,y:st,z:ot,w:ut}=nt,et=_e+_e,at=st+st,pt=ot+ot,ct=_e*et,yt=_e*at,ft=_e*pt,_t=st*at,wt=st*pt,Et=ot*pt,Mt=ut*et,St=ut*at,At=ut*pt;return $[0]=1-(_t+Et),$[4]=yt-At,$[8]=ft+St,$[1]=yt+At,$[5]=1-(ct+Et),$[9]=wt-Mt,$[2]=ft-St,$[6]=wt+Mt,$[10]=1-(ct+_t),this}multiplyMatrices(nt,$){const _e=nt.elements,st=$.elements,ot=this.elements,ut=_e[0],et=_e[4],at=_e[8],pt=_e[12],ct=_e[1],yt=_e[5],ft=_e[9],_t=_e[13],wt=_e[2],Et=_e[6],Mt=_e[10],St=_e[14],At=_e[3],Rt=_e[7],Ct=_e[11],Pt=_e[15],Lt=st[0],Ot=st[4],It=st[8],$t=st[12],jt=st[1],Zt=st[5],qt=st[9],er=st[13],Yt=st[2],Qt=st[6],cr=st[10],lr=st[14],gr=st[3],rr=st[7],Gt=st[11],nr=st[15];return ot[0]=ut*Lt+et*jt+at*Yt+pt*gr,ot[4]=ut*Ot+et*Zt+at*Qt+pt*rr,ot[8]=ut*It+et*qt+at*cr+pt*Gt,ot[12]=ut*$t+et*er+at*lr+pt*nr,ot[1]=ct*Lt+yt*jt+ft*Yt+_t*gr,ot[5]=ct*Ot+yt*Zt+ft*Qt+_t*rr,ot[9]=ct*It+yt*qt+ft*cr+_t*Gt,ot[13]=ct*$t+yt*er+ft*lr+_t*nr,ot[2]=wt*Lt+Et*jt+Mt*Yt+St*gr,ot[6]=wt*Ot+Et*Zt+Mt*Qt+St*rr,ot[10]=wt*It+Et*qt+Mt*cr+St*Gt,ot[14]=wt*$t+Et*er+Mt*lr+St*nr,ot[3]=At*Lt+Rt*jt+Ct*Yt+Pt*gr,ot[7]=At*Ot+Rt*Zt+Ct*Qt+Pt*rr,ot[11]=At*It+Rt*qt+Ct*cr+Pt*Gt,ot[15]=At*$t+Rt*er+Ct*lr+Pt*nr,this}multiplyScalar(nt){const $=this.elements;return $[0]*=nt,$[4]*=nt,$[8]*=nt,$[12]*=nt,$[1]*=nt,$[5]*=nt,$[9]*=nt,$[13]*=nt,$[2]*=nt,$[6]*=nt,$[10]*=nt,$[14]*=nt,$[3]*=nt,$[7]*=nt,$[11]*=nt,$[15]*=nt,this}makeTranslation(nt,$,_e){return this.set(1,0,0,nt,0,1,0,$,0,0,1,_e,0,0,0,1),this}snap(nt){const $=Math.pow(10,4),_e=this.elements;for(let st=0;st<16;st++){const ot=Math.round(_e[st]);ot===Math.round(_e[st]*$)/$&&(_e[st]=ot)}return this}transpose(){const nt=this.elements;let $;return $=nt[1],nt[1]=nt[4],nt[4]=$,$=nt[2],nt[2]=nt[8],nt[8]=$,$=nt[6],nt[6]=nt[9],nt[9]=$,$=nt[3],nt[3]=nt[12],nt[12]=$,$=nt[7],nt[7]=nt[13],nt[13]=$,$=nt[11],nt[11]=nt[14],nt[14]=$,this}setPosition(nt){const $=this.elements;return $[12]=nt.x,$[13]=nt.y,$[14]=nt.z,this}translate(nt){const $=this.elements;return $[12]+=nt.x,$[13]+=nt.y,$[14]+=nt.z,this}getInverse(nt,$){const _e=this.elements,st=nt.elements,ot=st[0],ut=st[4],et=st[8],at=st[12],pt=st[1],ct=st[5],yt=st[9],ft=st[13],_t=st[2],wt=st[6],Et=st[10],Mt=st[14],St=st[3],At=st[7],Rt=st[11],Ct=st[15];_e[0]=yt*Mt*At-ft*Et*At+ft*wt*Rt-ct*Mt*Rt-yt*wt*Ct+ct*Et*Ct,_e[4]=at*Et*At-et*Mt*At-at*wt*Rt+ut*Mt*Rt+et*wt*Ct-ut*Et*Ct,_e[8]=et*ft*At-at*yt*At+at*ct*Rt-ut*ft*Rt-et*ct*Ct+ut*yt*Ct,_e[12]=at*yt*wt-et*ft*wt-at*ct*Et+ut*ft*Et+et*ct*Mt-ut*yt*Mt,_e[1]=ft*Et*St-yt*Mt*St-ft*_t*Rt+pt*Mt*Rt+yt*_t*Ct-pt*Et*Ct,_e[5]=et*Mt*St-at*Et*St+at*_t*Rt-ot*Mt*Rt-et*_t*Ct+ot*Et*Ct,_e[9]=at*yt*St-et*ft*St-at*pt*Rt+ot*ft*Rt+et*pt*Ct-ot*yt*Ct,_e[13]=et*ft*_t-at*yt*_t+at*pt*Et-ot*ft*Et-et*pt*Mt+ot*yt*Mt,_e[2]=ct*Mt*St-ft*wt*St+ft*_t*At-pt*Mt*At-ct*_t*Ct+pt*wt*Ct,_e[6]=at*wt*St-ut*Mt*St-at*_t*At+ot*Mt*At+ut*_t*Ct-ot*wt*Ct,_e[10]=ut*ft*St-at*ct*St+at*pt*At-ot*ft*At-ut*pt*Ct+ot*ct*Ct,_e[14]=at*ct*_t-ut*ft*_t-at*pt*wt+ot*ft*wt+ut*pt*Mt-ot*ct*Mt,_e[3]=yt*wt*St-ct*Et*St-yt*_t*At+pt*Et*At+ct*_t*Rt-pt*wt*Rt,_e[7]=ut*Et*St-et*wt*St+et*_t*At-ot*Et*At-ut*_t*Rt+ot*wt*Rt,_e[11]=et*ct*St-ut*yt*St-et*pt*At+ot*yt*At+ut*pt*Rt-ot*ct*Rt,_e[15]=ut*yt*_t-et*ct*_t+et*pt*wt-ot*yt*wt-ut*pt*Et+ot*ct*Et;const Pt=ot*_e[0]+pt*_e[4]+_t*_e[8]+St*_e[12];if(Pt===0){const Lt="Matrix4.getInverse(): can't invert matrix, determinant is 0";if($)throw new Error(Lt);return console.warn(Lt),this.identity(),this}return this.multiplyScalar(1/Pt),this}isReflected(){const nt=this.elements,$=nt[0],_e=nt[4],st=nt[8],ot=nt[1],ut=nt[5],et=nt[9],at=nt[2],pt=nt[6],ct=nt[10];return $*ut*ct+ot*pt*st+at*_e*et-at*ut*st-ot*_e*ct-$*pt*et<0}scale(nt){const $=this.elements,{x:_e}=nt,{y:st}=nt,{z:ot}=nt;return $[0]*=_e,$[4]*=st,$[8]*=ot,$[1]*=_e,$[5]*=st,$[9]*=ot,$[2]*=_e,$[6]*=st,$[10]*=ot,$[3]*=_e,$[7]*=st,$[11]*=ot,this}getMaxScaleOnAxis(){const nt=this.elements,$=nt[0]*nt[0]+nt[1]*nt[1]+nt[2]*nt[2],_e=nt[4]*nt[4]+nt[5]*nt[5]+nt[6]*nt[6],st=nt[8]*nt[8]+nt[9]*nt[9]+nt[10]*nt[10];return Math.sqrt(Math.max($,Math.max(_e,st)))}makeFrustum(nt,$,_e,st,ot,ut){const et=this.elements,at=2*ot/($-nt),pt=2*ot/(st-_e),ct=($+nt)/($-nt),yt=(st+_e)/(st-_e),ft=-(ut+ot)/(ut-ot),_t=-2*ut*ot/(ut-ot);return et[0]=at,et[4]=0,et[8]=ct,et[12]=0,et[1]=0,et[5]=pt,et[9]=yt,et[13]=0,et[2]=0,et[6]=0,et[10]=ft,et[14]=_t,et[3]=0,et[7]=0,et[11]=-1,et[15]=0,this}makePerspective(nt,$,_e,st){const ot=_e*Math.tan((0,a.degToRad)(nt*.5)),ut=-ot,et=ut*$,at=ot*$;return this.makeFrustum(et,at,ut,ot,_e,st)}makeOrthographic(nt,$,_e,st,ot,ut){const et=this.elements,at=1/($-nt),pt=1/(_e-st),ct=1/(ut-ot),yt=($+nt)*at,ft=(_e+st)*pt,_t=(ut+ot)*ct;return et[0]=2*at,et[4]=0,et[8]=0,et[12]=-yt,et[1]=0,et[5]=2*pt,et[9]=0,et[13]=-ft,et[2]=0,et[6]=0,et[10]=-2*ct,et[14]=-_t,et[3]=0,et[7]=0,et[11]=0,et[15]=1,this}isEqual(nt){const $=nt.elements,_e=this.elements;return _e[0]===$[0]&&_e[4]===$[4]&&_e[8]===$[8]&&_e[12]===$[12]&&_e[1]===$[1]&&_e[5]===$[5]&&_e[9]===$[9]&&_e[13]===$[13]&&_e[2]===$[2]&&_e[6]===$[6]&&_e[10]===$[10]&&_e[14]===$[14]&&_e[3]===$[3]&&_e[7]===$[7]&&_e[11]===$[11]&&_e[15]===$[15]}clone(){const nt=this.elements;return new lt(nt[0],nt[4],nt[8],nt[12],nt[1],nt[5],nt[9],nt[13],nt[2],nt[6],nt[10],nt[14],nt[3],nt[7],nt[11],nt[15])}isIdentity(){const nt=this.elements;return nt[0]===1&&nt[4]===0&&nt[8]===0&&nt[12]===0&&nt[1]===0&&nt[5]===1&&nt[9]===0&&nt[13]===0&&nt[2]===0&&nt[6]===0&&nt[10]===1&&nt[14]===0&&nt[3]===0&&nt[7]===0&&nt[11]===0&&nt[15]===1}isNearlyIdentity(nt){return this.clone().snap(nt).isIdentity()}getScale(nt){const $=this.elements;return nt=nt||new gt,tt.set($[0],$[1],$[2]),it.set($[4],$[5],$[6]),dt.set($[8],$[9],$[10]),nt.x=tt.length(),nt.y=it.length(),nt.z=dt.length(),nt}lookAt(nt,$,_e){const st=this.elements;return dt.subVectors(nt,$).normalize(),dt.length()===0&&(dt.z=1),tt.crossVectors(_e,dt).normalize(),tt.length()===0&&(dt.x+=1e-4,tt.crossVectors(_e,dt).normalize()),it.crossVectors(dt,tt),st[0]=tt.x,st[4]=it.x,st[8]=dt.x,st[1]=tt.y,st[5]=it.y,st[9]=dt.y,st[2]=tt.z,st[6]=it.z,st[10]=dt.z,this}compose(nt,$,_e){const st=this.elements;return j.identity(),j.setRotationFromQuaternion($),rt.makeScale(_e.x,_e.y,_e.z),this.multiplyMatrices(j,rt),st[12]=nt.x,st[13]=nt.y,st[14]=nt.z,this}}j=new lt,rt=new lt;class gt{constructor(nt,$,_e){this.x=nt||0,this.y=$||0,this.z=_e||0,this.atomid=void 0}set(nt,$,_e){return this.x=nt,this.y=$,this.z=_e,this}copy(nt){return this.x=nt.x,this.y=nt.y,this.z=nt.z,this}add(nt){return this.x+=nt.x,this.y+=nt.y,this.z+=nt.z,this}addVectors(nt,$){return this.x=nt.x+$.x,this.y=nt.y+$.y,this.z=nt.z+$.z,this}multiplyVectors(nt,$){return this.x=nt.x*$.x,this.y=nt.y*$.y,this.z=nt.z*$.z,this}sub(nt){return this.x-=nt.x,this.y-=nt.y,this.z-=nt.z,this}subVectors(nt,$){return this.x=nt.x-$.x,this.y=nt.y-$.y,this.z=nt.z-$.z,this}multiplyScalar(nt){return this.x*=nt,this.y*=nt,this.z*=nt,this}divideScalar(nt){return nt!==0?(this.x/=nt,this.y/=nt,this.z/=nt):(this.x=0,this.y=0,this.z=0),this}max(nt){return this.x=Math.max(this.x,nt.x),this.y=Math.max(this.y,nt.y),this.z=Math.max(this.z,nt.z),this}min(nt){return this.x=Math.min(this.x,nt.x),this.y=Math.min(this.y,nt.y),this.z=Math.min(this.z,nt.z),this}distanceTo(nt){return Math.sqrt(this.distanceToSquared(nt))}distanceToSquared(nt){const $=this.x-nt.x,_e=this.y-nt.y,st=this.z-nt.z;return $*$+_e*_e+st*st}applyMatrix3(nt){const{x:$}=this,{y:_e}=this,{z:st}=this,ot=nt.elements;return this.x=ot[0]*$+ot[3]*_e+ot[6]*st,this.y=ot[1]*$+ot[4]*_e+ot[7]*st,this.z=ot[2]*$+ot[5]*_e+ot[8]*st,this}applyMatrix4(nt){const{x:$}=this,{y:_e}=this,{z:st}=this,ot=nt.elements;return this.x=ot[0]*$+ot[4]*_e+ot[8]*st+ot[12],this.y=ot[1]*$+ot[5]*_e+ot[9]*st+ot[13],this.z=ot[2]*$+ot[6]*_e+ot[10]*st+ot[14],this}applyProjection(nt){const{x:$}=this,{y:_e}=this,{z:st}=this,ot=nt.elements,ut=ot[3]*$+ot[7]*_e+ot[11]*st+ot[15];return this.x=(ot[0]*$+ot[4]*_e+ot[8]*st+ot[12])/ut,this.y=(ot[1]*$+ot[5]*_e+ot[9]*st+ot[13])/ut,this.z=(ot[2]*$+ot[6]*_e+ot[10]*st+ot[14])/ut,this}applyQuaternion(nt){const{x:$}=this,{y:_e}=this,{z:st}=this,ot=nt.x,ut=nt.y,et=nt.z,at=nt.w,pt={};pt.x=2*(_e*et-st*ut),pt.y=2*(st*ot-$*et),pt.z=2*($*ut-_e*ot);const ct={};return ct.x=pt.y*et-pt.z*ut,ct.y=pt.z*ot-pt.x*et,ct.z=pt.x*ut-pt.y*ot,this.x=$+at*pt.x+ct.x,this.y=_e+at*pt.y+ct.y,this.z=st+at*pt.z+ct.z,this}negate(){return this.multiplyScalar(-1)}dot(nt){return this.x*nt.x+this.y*nt.y+this.z*nt.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(nt){const{x:$}=this,{y:_e}=this,{z:st}=this;return this.x=_e*nt.z-st*nt.y,this.y=st*nt.x-$*nt.z,this.z=$*nt.y-_e*nt.x,this}crossVectors(nt,$){return this.x=nt.y*$.z-nt.z*$.y,this.y=nt.z*$.x-nt.x*$.z,this.z=nt.x*$.y-nt.y*$.x,this}equals(nt){return this.x==nt.x&&this.y==nt.y&&this.z==nt.z}getPositionFromMatrix(nt){return this.x=nt.elements[12],this.y=nt.elements[13],this.z=nt.elements[14],this}setEulerFromRotationMatrix(nt,$){const _e=nt.elements,st=_e[0],ot=_e[4],ut=_e[8],et=_e[5],at=_e[9],pt=_e[6],ct=_e[10];return $===void 0||$==="XYZ"?(this.y=Math.asin((0,_.clamp)(ut,-1,1)),Math.abs(ut)<.99999?(this.x=Math.atan2(-at,ct),this.z=Math.atan2(-ot,st)):(this.x=Math.atan2(pt,et),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${$}`),this}rotateAboutVector(nt,$){nt.normalize();const _e=Math.cos($),st=Math.sin($),ot=this.clone().multiplyScalar(_e),ut=nt.clone().cross(this).multiplyScalar(st),et=nt.clone().multiplyScalar(nt.clone().dot(this)).multiplyScalar(1-_e),at=ot.add(ut).add(et);return this.x=at.x,this.y=at.y,this.z=at.z,this}setFromMatrixPosition(nt){const $=nt.elements;return this.x=$[12],this.y=$[13],this.z=$[14],this}transformDirection(nt){const{x:$}=this,{y:_e}=this,{z:st}=this,ot=nt.elements;return this.x=ot[0]*$+ot[4]*_e+ot[8]*st,this.y=ot[1]*$+ot[5]*_e+ot[9]*st,this.z=ot[2]*$+ot[6]*_e+ot[10]*st,this.normalize()}clone(){return new gt(this.x,this.y,this.z)}unproject(nt){const $=j;return $.multiplyMatrices(nt.matrixWorld,$.getInverse(nt.projectionMatrix)),this.applyMatrix4($)}}tt=new gt,it=new gt,dt=new gt;class vt{constructor(nt=1,$=0,_e=0,st=0,ot=1,ut=0,et=0,at=0,pt=1){this.elements=new Float32Array(9),this.set(nt,$,_e,st,ot,ut,et,at,pt)}set(nt,$,_e,st,ot,ut,et,at,pt){const ct=this.elements;return ct[0]=nt,ct[3]=$,ct[6]=_e,ct[1]=st,ct[4]=ot,ct[7]=ut,ct[2]=et,ct[5]=at,ct[8]=pt,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(nt){const $=nt.elements;this.set($[0],$[3],$[6],$[1],$[4],$[7],$[2],$[5],$[8])}multiplyScalar(nt){const $=this.elements;return $[0]*=nt,$[3]*=nt,$[6]*=nt,$[1]*=nt,$[4]*=nt,$[7]*=nt,$[2]*=nt,$[5]*=nt,$[8]*=nt,this}getInverse3(nt){const $=nt.elements,_e=this.elements;_e[0]=$[4]*$[8]-$[5]*$[7],_e[3]=$[6]*$[5]-$[3]*$[8],_e[6]=$[3]*$[7]-$[6]*$[4],_e[1]=$[7]*$[2]-$[1]*$[8],_e[4]=$[0]*$[8]-$[6]*$[2],_e[7]=$[1]*$[6]-$[0]*$[7],_e[2]=$[1]*$[5]-$[2]*$[4],_e[5]=$[2]*$[3]-$[0]*$[5],_e[8]=$[0]*$[4]-$[1]*$[3];const st=$[0]*_e[0]+$[3]*_e[1]+$[6]*_e[2];return this.multiplyScalar(1/st),this}getInverse(nt,$){const _e=nt.elements,st=this.elements;st[0]=_e[10]*_e[5]-_e[6]*_e[9],st[1]=-_e[10]*_e[1]+_e[2]*_e[9],st[2]=_e[6]*_e[1]-_e[2]*_e[5],st[3]=-_e[10]*_e[4]+_e[6]*_e[8],st[4]=_e[10]*_e[0]-_e[2]*_e[8],st[5]=-_e[6]*_e[0]+_e[2]*_e[4],st[6]=_e[9]*_e[4]-_e[5]*_e[8],st[7]=-_e[9]*_e[0]+_e[1]*_e[8],st[8]=_e[5]*_e[0]-_e[1]*_e[4];const ot=_e[0]*st[0]+_e[1]*st[3]+_e[2]*st[6];if(ot===0){const ut="Matrix3.getInverse(): can't invert matrix, determinant is 0";if($)throw new Error(ut);return console.warn(ut),this.identity(),this}return this.multiplyScalar(1/ot),this}getDeterminant(){const nt=this.elements;return nt[0]*nt[4]*nt[8]+nt[1]*nt[5]*nt[6]+nt[2]*nt[3]*nt[7]-nt[2]*nt[4]*nt[6]-nt[1]*nt[3]*nt[8]-nt[0]*nt[5]*nt[7]}transpose(){let nt;const $=this.elements;return nt=$[1],$[1]=$[3],$[3]=nt,nt=$[2],$[2]=$[6],$[6]=nt,nt=$[5],$[5]=$[7],$[7]=nt,this}clone(){const nt=this.elements;return new vt(nt[0],nt[3],nt[6],nt[1],nt[4],nt[7],nt[2],nt[5],nt[8])}getMatrix4(){const nt=this.elements;return new lt(nt[0],nt[3],nt[6],0,nt[1],nt[4],nt[7],0,nt[2],nt[5],nt[8],0)}}class ht{constructor(nt,$){this.origin=nt!==void 0?nt:new gt,this.direction=$!==void 0?$:new gt}set(nt,$){return this.origin.copy(nt),this.direction.copy($),this}copy(nt){return this.origin.copy(nt.origin),this.direction.copy(nt.direction),this}at(nt,$){return($||new gt).copy(this.direction).multiplyScalar(nt).add(this.origin)}recast(nt){const $=tt;return this.origin.copy(this.at(nt,$)),this}closestPointToPoint(nt,$){const _e=$||new gt;_e.subVectors(nt,this.origin);const st=_e.dot(this.direction);return _e.copy(this.direction).multiplyScalar(st).add(this.origin)}distanceToPoint(nt){const $=tt,_e=$.subVectors(nt,this.origin).dot(this.direction);return $.copy(this.direction).multiplyScalar(_e).add(this.origin),$.distanceTo(nt)}isIntersectionCylinder(){}isIntersectionSphere(nt){return this.distanceToPoint(nt.center)<=nt.radius}isIntersectionPlane(nt){return nt.normal.dot(this.direction)!==0||nt.distanceToPoint(this.origin)===0}distanceToPlane(nt){const $=nt.normal.dot(this.direction);return $===0?nt.distanceToPoint(this.origin)===0?0:void 0:-(this.origin.dot(nt.normal)+nt.constant)/$}intersectPlane(nt,$){const _e=this.distanceToPlane(nt);if(_e!==void 0)return this.at(_e,$)}applyMatrix4(nt){return this.direction.add(this.origin).applyMatrix4(nt),this.origin.applyMatrix4(nt),this.direction.sub(this.origin),this}clone(){return new ht().copy(this)}}},"./src/WebGL/math/utils/clamp.ts":(i,s,o)=>{o.r(s),o.d(s,{clamp:()=>a});function a(_,j,rt){return Math.min(Math.max(_,j),rt)}},"./src/WebGL/math/utils/conversionMatrix3.ts":(i,s,o)=>{o.r(s),o.d(s,{conversionMatrix3:()=>_});var a=o("./src/WebGL/math/math.ts");function _(j,rt,tt,it,dt,lt){it=it*Math.PI/180,dt=dt*Math.PI/180,lt=lt*Math.PI/180;const gt=_e=>_e*_e,vt=Math.cos(it),ht=Math.cos(dt),mt=Math.cos(lt),nt=Math.sin(lt);return new a.Matrix3(j,rt*mt,tt*ht,0,rt*nt,tt*(vt-ht*mt)/nt,0,0,tt*Math.sqrt(1-gt(vt)-gt(ht)-gt(mt)+2*vt*ht*mt)/nt)}},"./src/WebGL/math/utils/degToRad.ts":(i,s,o)=>{o.r(s),o.d(s,{degToRad:()=>_});const a=Math.PI/180;function _(j){return j*a}},"./src/WebGL/objects/Line.ts":(i,s,o)=>{o.r(s),o.d(s,{Line:()=>rt,LineStyle:()=>j});var a=o("./src/WebGL/materials/index.ts"),_=o("./src/WebGL/core/index.ts"),j;(function(tt){tt[tt.LineStrip=0]="LineStrip",tt[tt.LinePieces=1]="LinePieces"})(j||(j={}));class rt extends _.Object3D{constructor(it,dt=new a.LineBasicMaterial({color:Math.random()*16777215}),lt=j.LineStrip){super(),this.geometry=it,this.material=dt,this.type=lt}clone(it=new rt(this.geometry,this.material,this.type)){return super.clone.call(this,it),it}}},"./src/WebGL/objects/Mesh.ts":(i,s,o)=>{o.r(s),o.d(s,{Mesh:()=>_});var a=o("./src/WebGL/core/index.ts");class _ extends a.Object3D{constructor(rt,tt){super(),this.geometry=rt,this.material=tt}clone(rt){return rt===void 0&&(rt=new _(this.geometry,this.material)),super.clone.call(this,rt),rt}}},"./src/WebGL/objects/Sprite.ts":(i,s,o)=>{o.r(s),o.d(s,{Sprite:()=>j});var a=o("./src/WebGL/materials/index.ts"),_=o("./src/WebGL/core/index.ts");class j extends _.Object3D{constructor(tt=new a.SpriteMaterial){super(),this.material=tt,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),(this.scale.x!==1||this.scale.y!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone(tt=new j(this.material)){return _.Object3D.prototype.clone.call(this,tt),tt}}},"./src/WebGL/objects/index.ts":(i,s,o)=>{o.r(s),o.d(s,{Line:()=>a.Line,LineStyle:()=>a.LineStyle,Mesh:()=>_.Mesh,Sprite:()=>j.Sprite});var a=o("./src/WebGL/objects/Line.ts"),_=o("./src/WebGL/objects/Mesh.ts"),j=o("./src/WebGL/objects/Sprite.ts")},"./src/WebGL/shaders/ShaderType.ts":(i,s,o)=>{o.r(s)},"./src/WebGL/shaders/index.ts":(i,s,o)=>{o.r(s),o.d(s,{ShaderLib:()=>a.ShaderLib,ShaderUtils:()=>_.ShaderUtils,basic:()=>a.basic,clone:()=>_.clone,instanced:()=>a.instanced,lambert:()=>a.lambert,lambertdouble:()=>a.lambertdouble,outline:()=>a.outline,screen:()=>a.screen,screenaa:()=>a.screenaa,sphereimposter:()=>a.sphereimposter,sphereimposteroutline:()=>a.sphereimposteroutline,sprite:()=>a.sprite,stickimposter:()=>a.stickimposter,stickimposteroutline:()=>a.stickimposteroutline,volumetric:()=>a.volumetric});var a=o("./src/WebGL/shaders/lib/index.ts"),_=o("./src/WebGL/shaders/utils/index.ts");o("./src/WebGL/shaders/ShaderType.ts")},"./src/WebGL/shaders/lib/basic/index.ts":(i,s,o)=>{o.r(s),o.d(s,{basic:()=>rt});var a=o("./src/WebGL/shaders/lib/basic/uniforms.ts"),_=o("./src/WebGL/shaders/lib/basic/basic.frag"),j=o("./src/WebGL/shaders/lib/basic/basic.vert");const rt={vertexShader:j.default.replace("#define GLSLIFY 1",""),fragmentShader:_.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/basic/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},"./src/WebGL/shaders/lib/blur/index.ts":(i,s,o)=>{o.r(s),o.d(s,{blur:()=>rt});var a=o("./src/WebGL/shaders/lib/blur/uniforms.ts"),_=o("./src/WebGL/shaders/lib/blur/blur.frag"),j=o("./src/WebGL/shaders/lib/blur/blur.vert");const rt={fragmentShader:_.default,vertexShader:j.default,uniforms:a.uniforms}},"./src/WebGL/shaders/lib/blur/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>a});const a={}},"./src/WebGL/shaders/lib/index.ts":(i,s,o)=>{o.r(s),o.d(s,{ShaderLib:()=>st,basic:()=>a.basic,instanced:()=>_.instanced,lambert:()=>j.lambert,lambertdouble:()=>rt.lambertdouble,outline:()=>tt.outline,screen:()=>it.screen,screenaa:()=>dt.screenaa,sphereimposter:()=>lt.sphereimposter,sphereimposteroutline:()=>gt.sphereimposteroutline,sprite:()=>vt.sprite,stickimposter:()=>ht.stickimposter,stickimposteroutline:()=>mt.stickimposteroutline,volumetric:()=>nt.volumetric});var a=o("./src/WebGL/shaders/lib/basic/index.ts"),_=o("./src/WebGL/shaders/lib/instanced/index.ts"),j=o("./src/WebGL/shaders/lib/lambert/index.ts"),rt=o("./src/WebGL/shaders/lib/lambertdouble/index.ts"),tt=o("./src/WebGL/shaders/lib/outline/index.ts"),it=o("./src/WebGL/shaders/lib/screen/index.ts"),dt=o("./src/WebGL/shaders/lib/screenaa/index.ts"),lt=o("./src/WebGL/shaders/lib/sphereimposter/index.ts"),gt=o("./src/WebGL/shaders/lib/sphereimposteroutline/index.ts"),vt=o("./src/WebGL/shaders/lib/sprite/index.ts"),ht=o("./src/WebGL/shaders/lib/stickimposter/index.ts"),mt=o("./src/WebGL/shaders/lib/stickimposteroutline/index.ts"),nt=o("./src/WebGL/shaders/lib/volumetric/index.ts"),$=o("./src/WebGL/shaders/lib/ssao/index.ts"),_e=o("./src/WebGL/shaders/lib/blur/index.ts");const st={basic:a.basic,blur:_e.blur,instanced:_.instanced,lambert:j.lambert,lambertdouble:rt.lambertdouble,outline:tt.outline,screen:it.screen,screenaa:dt.screenaa,ssao:$.ssao,sphereimposter:lt.sphereimposter,sphereimposteroutline:gt.sphereimposteroutline,sprite:vt.sprite,stickimposter:ht.stickimposter,stickimposteroutline:mt.stickimposteroutline,volumetric:nt.volumetric}},"./src/WebGL/shaders/lib/instanced/index.ts":(i,s,o)=>{o.r(s),o.d(s,{instanced:()=>rt});var a=o("./src/WebGL/shaders/lib/instanced/uniforms.ts"),_=o("./src/WebGL/shaders/lib/instanced/instanced.frag"),j=o("./src/WebGL/shaders/lib/instanced/instanced.vert");const rt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:j.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/instanced/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambert/index.ts":(i,s,o)=>{o.r(s),o.d(s,{lambert:()=>rt});var a=o("./src/WebGL/shaders/lib/lambert/uniforms.ts"),_=o("./src/WebGL/shaders/lib/lambert/lambert.frag"),j=o("./src/WebGL/shaders/lib/lambert/lambert.vert");const rt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:j.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/lambert/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambertdouble/index.ts":(i,s,o)=>{o.r(s),o.d(s,{lambertdouble:()=>rt});var a=o("./src/WebGL/shaders/lib/lambertdouble/uniforms.ts"),_=o("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag"),j=o("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert");const rt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:j.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/lambertdouble/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/outline/index.ts":(i,s,o)=>{o.r(s),o.d(s,{outline:()=>rt});var a=o("./src/WebGL/shaders/lib/outline/uniforms.ts"),_=o("./src/WebGL/shaders/lib/outline/outline.frag"),j=o("./src/WebGL/shaders/lib/outline/outline.vert");const rt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:j.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/outline/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new a.Color(0,0,0)},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}}},"./src/WebGL/shaders/lib/screen/index.ts":(i,s,o)=>{o.r(s),o.d(s,{screen:()=>rt});var a=o("./src/WebGL/shaders/lib/screen/uniforms.ts"),_=o("./src/WebGL/shaders/lib/screen/screen.frag"),j=o("./src/WebGL/shaders/lib/screen/screen.vert");const rt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:j.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/screen/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>a});const a={}},"./src/WebGL/shaders/lib/screenaa/index.ts":(i,s,o)=>{o.r(s),o.d(s,{screenaa:()=>rt});var a=o("./src/WebGL/shaders/lib/screenaa/uniforms.ts"),_=o("./src/WebGL/shaders/lib/screenaa/screenaa.frag"),j=o("./src/WebGL/shaders/lib/screenaa/screenaa.vert");const rt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:j.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/screenaa/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>a});const a={}},"./src/WebGL/shaders/lib/sphereimposter/index.ts":(i,s,o)=>{o.r(s),o.d(s,{sphereimposter:()=>rt});var a=o("./src/WebGL/shaders/lib/sphereimposter/uniforms.ts"),_=o("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag"),j=o("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert");const rt={vertexShader:j.default.replace("#define GLSLIFY 1",""),fragmentShader:_.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/sphereimposter/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/sphereimposteroutline/index.ts":(i,s,o)=>{o.r(s),o.d(s,{sphereimposteroutline:()=>rt});var a=o("./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts"),_=o("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag"),j=o("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert");const rt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:j.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new a.Color(0,0,0)},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}}},"./src/WebGL/shaders/lib/sprite/index.ts":(i,s,o)=>{o.r(s),o.d(s,{sprite:()=>rt});var a=o("./src/WebGL/shaders/lib/sprite/uniforms.ts"),_=o("./src/WebGL/shaders/lib/sprite/sprite.frag"),j=o("./src/WebGL/shaders/lib/sprite/sprite.vert");const rt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:j.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/sprite/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>a});const a={}},"./src/WebGL/shaders/lib/ssao/index.ts":(i,s,o)=>{o.r(s),o.d(s,{ssao:()=>rt});var a=o("./src/WebGL/shaders/lib/ssao/uniforms.ts"),_=o("./src/WebGL/shaders/lib/ssao/ssao.frag"),j=o("./src/WebGL/shaders/lib/ssao/ssao.vert");const rt={fragmentShader:_.default,vertexShader:j.default,uniforms:a.uniforms}},"./src/WebGL/shaders/lib/ssao/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>a});const a={total_strength:{type:"f",value:1},radius:{type:"f",value:5},projinv:{type:"mat4",value:[]}}},"./src/WebGL/shaders/lib/stickimposter/index.ts":(i,s,o)=>{o.r(s),o.d(s,{stickimposter:()=>it});var a=o("./src/WebGL/shaders/lib/stickimposter/uniforms.ts"),_=o("./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag"),j=o("./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag"),rt=o("./src/WebGL/shaders/lib/stickimposter/stickimposter.vert");const it={fragmentShader:[_.default,j.default].join(`
`),vertexShader:rt.default,uniforms:a.uniforms}},"./src/WebGL/shaders/lib/stickimposter/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/stickimposteroutline/index.ts":(i,s,o)=>{o.r(s),o.d(s,{stickimposteroutline:()=>tt});var a=o("./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts"),_=o("./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag"),j=o("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert");const tt={fragmentShader:_.default+"gl_FragColor = vec4(color,1.0);}",vertexShader:j.default,uniforms:a.uniforms}},"./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new a.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0},projinv:{type:"mat4",value:[]}}},"./src/WebGL/shaders/lib/volumetric/index.ts":(i,s,o)=>{o.r(s),o.d(s,{volumetric:()=>rt});var a=o("./src/WebGL/shaders/lib/volumetric/uniforms.ts"),_=o("./src/WebGL/shaders/lib/volumetric/volumetric.frag"),j=o("./src/WebGL/shaders/lib/volumetric/volumetric.vert");const rt={fragmentShader:_.default.replace("#define GLSLIFY 1",""),vertexShader:j.default.replace("#define GLSLIFY 1",""),uniforms:a.uniforms}},"./src/WebGL/shaders/lib/volumetric/uniforms.ts":(i,s,o)=>{o.r(s),o.d(s,{uniforms:()=>_});var a=o("./src/colors.ts");const _={opacity:{type:"f",value:1},fogColor:{type:"c",value:new a.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}}},"./src/WebGL/shaders/utils/clone.ts":(i,s,o)=>{o.r(s),o.d(s,{clone:()=>_});var a=o("./src/colors.ts");function _(j){let rt={};for(const it in j){rt[it]={},rt[it].type=j[it].type;var tt=j[it].value;tt instanceof a.Color?rt[it].value=tt.clone():typeof tt=="number"?rt[it].value=tt:tt instanceof Array?rt[it].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return rt}},"./src/WebGL/shaders/utils/index.ts":(i,s,o)=>{o.r(s),o.d(s,{ShaderUtils:()=>_,clone:()=>a.clone});var a=o("./src/WebGL/shaders/utils/clone.ts");const _={clone:a.clone}},"./src/WebGL/shapes/Cylinder.ts":(i,s,o)=>{o.r(s),o.d(s,{Cylinder:()=>j});var a=o("./src/WebGL/math/index.ts");let _=new a.Vector3;class j{constructor(tt=new a.Vector3,it=new a.Vector3,dt=0){this.c1=tt,this.c2=it,this.radius=dt,this.direction=new a.Vector3().subVectors(this.c2,this.c1).normalize()}copy(tt){return this.c1.copy(tt.c1),this.c2.copy(tt.c2),this.direction.copy(tt.direction),this.radius=tt.radius,this}lengthSq(){return _.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4(tt){return this.direction.add(this.c1).applyMatrix4(tt),this.c1.applyMatrix4(tt),this.c2.applyMatrix4(tt),this.direction.sub(this.c1).normalize(),this.radius=this.radius*tt.getMaxScaleOnAxis(),this}}},"./src/WebGL/shapes/Sphere.ts":(i,s,o)=>{o.r(s),o.d(s,{Sphere:()=>_});var a=o("./src/WebGL/math/index.ts");class _{constructor(rt={x:0,y:0,z:0},tt=0){this.center=new a.Vector3(rt.x,rt.y,rt.z),this.radius=tt}set(rt,tt){return this.center.copy(rt),this.radius=tt,this}copy(rt){return this.center.copy(rt.center),this.radius=rt.radius,this}applyMatrix4(rt){return this.center.applyMatrix4(rt),this.radius=this.radius*rt.getMaxScaleOnAxis(),this}translate(rt){return this.center.add(rt),this}equals(rt){return rt.center.equals(this.center)&&rt.radius===this.radius}clone(){return new _().copy(this)}}},"./src/WebGL/shapes/Triangle.ts":(i,s,o)=>{o.r(s),o.d(s,{Triangle:()=>j});var a=o("./src/WebGL/math/index.ts");const _=new a.Vector3;class j{constructor(tt=new a.Vector3,it=new a.Vector3,dt=new a.Vector3){this.a=tt,this.b=it,this.c=dt}copy(tt){return this.a.copy(tt.a),this.b.copy(tt.b),this.c.copy(tt.c),this}applyMatrix4(tt){return this.a.applyMatrix4(tt),this.b.applyMatrix4(tt),this.c.applyMatrix4(tt),this}getNormal(){var tt=this.a.clone();return tt.sub(this.b),_.subVectors(this.c,this.b),tt.cross(_),tt.normalize(),tt}}},"./src/WebGL/shapes/index.ts":(i,s,o)=>{o.r(s),o.d(s,{Cylinder:()=>_.Cylinder,Sphere:()=>a.Sphere,Triangle:()=>j.Triangle});var a=o("./src/WebGL/shapes/Sphere.ts"),_=o("./src/WebGL/shapes/Cylinder.ts"),j=o("./src/WebGL/shapes/Triangle.ts")},"./src/autoload.ts":(i,s,o)=>{o.r(s),o.d(s,{autoinit:()=>tt,autoload:()=>lt,processing_autoinit:()=>it,viewers:()=>dt});var a=o("./src/GLViewer.ts"),_=o("./src/ProteinSurface4.ts"),j=o("./src/utilities.ts"),rt=o("./src/colors.ts"),tt=!1,it=!1,dt={};function lt(gt,vt){var ht,mt,nt;if(document.querySelector(".viewer_3Dmoljs")!=null&&(tt=!0),tt){it=!0,gt=gt??null;var $=0;document.querySelectorAll(".viewer_3Dmoljs").forEach(_e=>{var st=[],ot=[],ut="";_e.style.position=="static"&&(_e.style.position="relative");var et=null;if(nt=null,_e.dataset.pdb)st.push("https://files.rcsb.org/view/"+_e.dataset.pdb+".pdb"),ot.push("pdb");else if(_e.dataset.cid)ot.push("sdf"),st.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+_e.dataset.cid+"/SDF?record_type=3d");else if(_e.dataset.href||_e.dataset.url){if(_e.dataset.href?ut=_e.dataset.href:ut=_e.dataset.url,st.push(ut),nt=ut.substring(ut.lastIndexOf(".")+1),nt=="gz"){let rr=ut.substring(0,ut.lastIndexOf(".")).lastIndexOf(".");nt=ut.substring(rr+1)}ot.push(nt);var at=ut.substring(ut.lastIndexOf("/")+1,ut.lastIndexOf("."));at=="/"&&(at=ut.substring(ut.lastIndexOf("/")+1)),_e.dataset[ot[ot.length-1]]=at}let pt=_e.dataset;for(ht in pt)ht.substring(0,3)==="pdb"&&ht!=="pdb"?(st.push("https://files.rcsb.org/view/"+pt[ht]+".pdb"),ot.push("pdb")):ht.substring(0,4)==="href"&&ht!=="href"?(ut=pt[ht],st.push(ut),ot.push(ut.substring(ut.lastIndexOf(".")+1))):ht.substring(0,3)==="cid"&&ht!=="cid"&&(st.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+pt[ht]+"/SDF?record_type=3d"),ot.push("sdf"));var ct={};_e.dataset.options&&(ct=(0,j.specStringToObject)(_e.dataset.options));var yt=rt.CC.color(_e.dataset.backgroundcolor),ft=_e.dataset.backgroundalpha;ft=ft==null?1:parseFloat(ft);var _t={line:{}};_e.dataset.style&&(_t=(0,j.specStringToObject)(_e.dataset.style));var wt={};_e.dataset.select&&(wt=(0,j.specStringToObject)(_e.dataset.select));var Et=[],Mt=[],St=[],At={},Rt=null,Ct=_e.dataset,Pt=/style(.+)/,Lt=/surface(.*)/,Ot=/labelres(.*)/,It=[];for(mt in Ct)Object.prototype.hasOwnProperty.call(Ct,mt)&&It.push(mt);for(It.sort(),ht=0;ht<It.length;ht++){mt=It[ht];var $t=Pt.exec(mt),jt,Zt,qt;$t&&(jt="select"+$t[1],Zt=(0,j.specStringToObject)(Ct[jt]),qt=(0,j.specStringToObject)(Ct[mt]),Et.push([Zt,qt])),$t=Lt.exec(mt),$t&&(jt="select"+$t[1],Zt=(0,j.specStringToObject)(Ct[jt]),qt=(0,j.specStringToObject)(Ct[mt]),Mt.push([Zt,qt])),$t=Ot.exec(mt),$t&&(jt="select"+$t[1],Zt=(0,j.specStringToObject)(Ct[jt]),qt=(0,j.specStringToObject)(Ct[mt]),St.push([Zt,qt])),mt=="zoomto"&&(At=(0,j.specStringToObject)(Ct[mt])),mt=="spin"&&(Rt=(0,j.specStringToObject)(Ct[mt]))}var er=function(rr){for(rr.setStyle(wt,_t),et&&et.createSelectionAndStyle(wt,_t),ht=0;ht<Et.length;ht++){let Gt=Et[ht][0]||{},nr=Et[ht][1]||{line:{}};rr.setStyle(Gt,nr),et&&et.createSelectionAndStyle(wt,_t)}for(ht=0;ht<Mt.length;ht++){let Gt=Mt[ht][0]||{},nr=Mt[ht][1]||{};et?rr.addSurface(_.SurfaceType.VDW,nr,Gt,Gt).then(Sr=>{et.loadSurface("VDW",Gt,nr,Sr)}):rr.addSurface(_.SurfaceType.VDW,nr,Gt,Gt)}for(ht=0;ht<St.length;ht++){let Gt=St[ht][0]||{},nr=St[ht][1]||{};rr.addResLabels(Gt,nr)}rr.render(),rr.zoomTo(At),Rt&&rr.spin(Rt.axis,Rt.speed)};let Yt=gt;try{var Qt=(0,j.specStringToObject)(_e.dataset.config)||{};Qt.backgroundColor===void 0&&(Qt.backgroundColor=yt),Qt.backgroundAlpha===void 0&&(Qt.backgroundAlpha=ft),Yt==null?Yt=dt[_e.id||$++]=(0,a.createViewer)(_e,Qt):(Yt.setBackgroundColor(yt,ft),Yt.setConfig(Qt),et&&et.initiateUI()),_e.dataset.ui&&$3Dmol.StateManager&&(et=new $3Dmol.StateManager(Yt))}catch(rr){console.log(rr),_e.textContent="WebGL appears to be disabled."}if(st.length!=0){let rr=0,Gt=((nr,_r)=>function(Sr){ut=st[rr];var Ar=nr.dataset.type||nr.dataset.datatype||ot[rr];if(_r.addModel(Sr,Ar,ct),et){var Rr=nr.dataset[ot[rr]];et.setModelTitle(Rr)}rr+=1,rr<st.length?(0,j.get)(st[rr]).then(Gt):(er(_r),nr.dataset.callback&&(0,j.makeFunction)(nr.dataset.callback)(_r),it=!1,vt&&vt(_r))})(_e,Yt);nt&&nt.endsWith("gz")?(0,j.getbin)(st[0]).then(Gt):(0,j.get)(st[0]).then(Gt)}else{if(_e.dataset.element){var cr="#"+_e.dataset.element,lr=document.querySelector(cr),gr=lr?lr.textContent:"";nt=_e.dataset.type||_e.dataset.datatype,Yt.addModel(gr,nt,ct)}er(Yt),_e.dataset.callback&&(0,j.makeFunction)(_e.dataset.callback)(Yt),it=!1,vt&&vt(Yt)}})}}document.onreadystatechange=()=>{document.readyState==="complete"&&lt()}},"./src/colors.ts":(i,s,o)=>{o.r(s),o.d(s,{CC:()=>_,Color:()=>a,builtinColorSchemes:()=>gt,chains:()=>lt,elementColors:()=>it,htmlColors:()=>j,residues:()=>dt,ssColors:()=>rt});class a{constructor(ht,mt,nt){return this.r=0,this.g=0,this.b=0,arguments.length>1&&typeof ht=="number"?(this.r=ht||0,this.g=mt||0,this.b=nt||0,this):this.set(ht||0)}set(ht){return ht instanceof a?ht.clone():(typeof ht=="number"?this.setHex(ht):typeof ht=="object"&&(this.r=(ht==null?void 0:ht.r)||0,this.g=(ht==null?void 0:ht.g)||0,this.b=(ht==null?void 0:ht.b)||0),this)}setHex(ht){return ht=Math.floor(ht),this.r=(ht>>16&255)/255,this.g=(ht>>8&255)/255,this.b=(ht&255)/255,this}getHex(){var ht=Math.round(this.r*255),mt=Math.round(this.g*255),nt=Math.round(this.b*255);return ht<<16|mt<<8|nt}clone(){return new a(this.r,this.g,this.b)}copy(ht){return this.r=ht.r,this.g=ht.g,this.b=ht.b,this}scaled(){var ht={};return ht.r=Math.round(this.r*255),ht.g=Math.round(this.g*255),ht.b=Math.round(this.b*255),ht.a=1,ht}}class _{static color(ht){if(!ht)return _.cache[0];if(ht instanceof a)return ht;if(typeof ht=="number"&&typeof _.cache[ht]<"u")return _.cache[ht];if(ht&&Array.isArray(ht))return ht.map(_.color);let mt=_.getHex(ht),nt=new a(mt);return _.cache[mt]=nt,nt}static getHex(ht){var mt;if(Array.isArray(ht))return ht.map(_.getHex);if(typeof ht=="string"){let nt=ht;if(!isNaN(parseInt(nt)))return parseInt(nt);if(nt=nt.trim(),nt.length==4&&nt[0]=="#"&&(nt="#"+nt[1]+nt[1]+nt[2]+nt[2]+nt[3]+nt[3]),nt.length==7&&nt[0]=="#")return parseInt(nt.substring(1),16);let $=_.rgbRegEx.exec(nt);if($){$[1]!=""&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let _e=0;for(let st=2;st<5;st++){_e*=256;let ot=$[st].endsWith("%")?255*parseFloat($[st])/100:parseFloat($[st]);_e+=Math.round(ot)}return _e}return((mt=window==null?void 0:window.$3Dmol)===null||mt===void 0?void 0:mt.htmlColors[ht.toLowerCase()])||0}return ht}}_.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,_.cache={0:new a(0)};const j={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},rt={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},tt={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},it={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:tt,defaultColors:Object.assign({},tt),greenCarbon:Object.assign(Object.assign({},tt),{C:65280}),cyanCarbon:Object.assign(Object.assign({},tt),{C:65535}),magentaCarbon:Object.assign(Object.assign({},tt),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},tt),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},tt),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},tt),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},tt),{C:8388736}),blueCarbon:Object.assign(Object.assign({},tt),{C:255})},dt={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},lt={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},gt={ssPyMol:{prop:"ss",map:rt.pyMol},ssJmol:{prop:"ss",map:rt.Jmol},Jmol:{prop:"elem",map:it.Jmol},amino:{prop:"resn",map:dt.amino},shapely:{prop:"resn",map:dt.shapely},nucleic:{prop:"resn",map:dt.nucleic},chain:{prop:"chain",map:lt.atom},rasmol:{prop:"elem",map:it.rasmol},default:{prop:"elem",map:it.defaultColors},greenCarbon:{prop:"elem",map:it.greenCarbon},chainHetatm:{prop:"chain",map:lt.hetatm},cyanCarbon:{prop:"elem",map:it.cyanCarbon},magentaCarbon:{prop:"elem",map:it.magentaCarbon},purpleCarbon:{prop:"elem",map:it.purpleCarbon},whiteCarbon:{prop:"elem",map:it.whiteCarbon},orangeCarbon:{prop:"elem",map:it.orangeCarbon},yellowCarbon:{prop:"elem",map:it.yellowCarbon},blueCarbon:{prop:"elem",map:it.blueCarbon}}},"./src/glcartoon.ts":(i,s,o)=>{o.r(s),o.d(s,{drawCartoon:()=>wt,subdivide_spline:()=>lt});var a=o("./src/WebGL/math/index.ts"),_=o("./src/WebGL/shapes/index.ts"),j=o("./src/WebGL/index.ts"),rt=o("./src/Gradient.ts"),tt=o("./src/colors.ts"),it=o("./src/GLDraw.ts"),dt=o("./src/utilities.ts");function lt(Et,Mt){var St=[],At=Et;At=[],At.push(Et[0]);var Rt,Ct,Pt,Lt,Ot,It,$t,jt,Zt;for(Rt=1,Ct=Et.length-1;Rt<Ct;Rt++)if(Ot=Et[Rt],It=Et[Rt+1],Ot.smoothen){var qt=new a.Vector3((Ot.x+It.x)/2,(Ot.y+It.y)/2,(Ot.z+It.z)/2);qt.atom=Ot.atom,At.push(qt)}else At.push(Ot);for(At.push(Et[Et.length-1]),Rt=-1,Pt=At.length;Rt<=Pt-3;Rt++)if(Lt=At[Rt===-1?0:Rt],Ot=At[Rt+1],It=At[Rt+2],$t=At[Rt===Pt-3?Pt-1:Rt+3],jt=new a.Vector3().subVectors(It,Lt).multiplyScalar(.5),Zt=new a.Vector3().subVectors($t,Ot).multiplyScalar(.5),!It.skip)for(var er=0;er<Mt;er++){var Yt=1/Mt*er,Qt=Ot.x+Yt*jt.x+Yt*Yt*(-3*Ot.x+3*It.x-2*jt.x-Zt.x)+Yt*Yt*Yt*(2*Ot.x-2*It.x+jt.x+Zt.x),cr=Ot.y+Yt*jt.y+Yt*Yt*(-3*Ot.y+3*It.y-2*jt.y-Zt.y)+Yt*Yt*Yt*(2*Ot.y-2*It.y+jt.y+Zt.y),lr=Ot.z+Yt*jt.z+Yt*Yt*(-3*Ot.z+3*It.z-2*jt.z-Zt.z)+Yt*Yt*Yt*(2*Ot.z-2*It.z+jt.z+Zt.z),gr=new a.Vector3(Qt,cr,lr);er<Mt/2?gr.atom=Ot.atom:gr.atom=It.atom,St.push(gr)}return St.push(At[At.length-1]),St}const gt=.5,vt=1.3,ht=.8,mt=.4,nt=.4;function $(Et,Mt,St,At){for(var Rt,Ct,Pt,Lt,Ot=0,It=Mt.length;Ot<It;Ot++){Lt=Math.round(Ot*(At.length-1)/It),Pt=tt.CC.color(At[Lt]);var $t=Et.updateGeoGroup(2),jt=$t.vertexArray,Zt=$t.colorArray,qt=$t.faceArray;Rt=$t.vertices,Ct=Rt*3,jt[Ct]=Mt[Ot].x,jt[Ct+1]=Mt[Ot].y,jt[Ct+2]=Mt[Ot].z,jt[Ct+3]=St[Ot].x,jt[Ct+4]=St[Ot].y,jt[Ct+5]=St[Ot].z;for(var er=0;er<6;++er)Zt[Ct+3*er]=Pt.r,Zt[Ct+1+3*er]=Pt.g,Zt[Ct+2+3*er]=Pt.b;if(Ot>0){var Yt=[Rt,Rt+1,Rt-1,Rt-2],Qt=$t.faceidx;qt[Qt]=Yt[0],qt[Qt+1]=Yt[1],qt[Qt+2]=Yt[3],qt[Qt+3]=Yt[1],qt[Qt+4]=Yt[2],qt[Qt+5]=Yt[3],$t.faceidx+=6}$t.vertices+=2}}function _e(Et,Mt,St,At,Rt,Ct,Pt){var Lt,Ot,It,$t;if(It=Mt.length,It<2||Mt[0].length<2)return;for(Lt=0;Lt<It;Lt++)Mt[Lt]=lt(Mt[Lt],At);if($t=Mt[0].length,!Rt)return $(Et,Mt[0],Mt[It-1],St);var jt,Zt,qt,er,Yt,Qt,cr=[],lr=[],gr=[];for(Ot=0;Ot<It;Ot++)cr.push(.25+1.5*Math.sqrt((It-1)*Ot-Math.pow(Ot,2))/(It-1)),lr.push(.5),gr.push(2*(Math.pow(Ot/It,2)-Ot/It)+.6);var rr=[];for(Ot=0;Ot<It*2-1;Ot++)rr[Ot]=[Ot,Ot+1,Ot+1-2*It,Ot-2*It];rr[It*2-1]=[Ot,Ot+1-2*It,Ot+1-4*It,Ot-2*It];var Gt,nr,_r,Sr,Ar,Rr,Mr,wr,Tr,fr;let pr=Et.updateGeoGroup();for(Lt=0;Lt<$t;Lt++){let Ut=Et.groups,Wt=!1;pr=Et.updateGeoGroup(2*It),Ut!=Et.groups&&Lt>0&&(Lt=Lt-1,Wt=!0),Rr=Math.round(Lt*(St.length-1)/$t),Ar=tt.CC.color(St[Rr]),Yt=qt,Qt=er,qt=[],er=[],jt=[],Mt[0][Lt].atom!==void 0&&(Sr=Mt[0][Lt].atom,Pt==="oval"?Zt=cr:Pt==="rectangle"?Zt=lr:Pt==="parabola"&&(Zt=gr)),Zt||(Zt=lr);var Lr,Or;for(Ot=0;Ot<It;Ot++)Lt<$t-1?Lr=Mt[Ot][Lt+1].clone().sub(Mt[Ot][Lt]):Lr=Mt[Ot][Lt-1].clone().sub(Mt[Ot][Lt]).negate(),Ot<It-1?Or=Mt[Ot+1][Lt].clone().sub(Mt[Ot][Lt]):Or=Mt[Ot-1][Lt].clone().sub(Mt[Ot][Lt]).negate(),jt[Ot]=Or.cross(Lr).normalize().multiplyScalar(Rt*Zt[Ot]);for(Ot=0;Ot<It;Ot++)qt[Ot]=Mt[Ot][Lt].clone().add(jt[Ot].clone().negate());for(Ot=0;Ot<It;Ot++)er[Ot]=Mt[Ot][Lt].clone().add(jt[Ot]);for(Mr=pr.vertexArray,wr=pr.colorArray,Tr=pr.faceArray,Gt=pr.vertices,nr=Gt*3,Ot=0;Ot<It;Ot++)Mr[nr+3*Ot+0]=qt[Ot].x,Mr[nr+3*Ot+1]=qt[Ot].y,Mr[nr+3*Ot+2]=qt[Ot].z;for(Ot=0;Ot<It;Ot++)Mr[nr+3*Ot+0+3*It]=er[It-1-Ot].x,Mr[nr+3*Ot+1+3*It]=er[It-1-Ot].y,Mr[nr+3*Ot+2+3*It]=er[It-1-Ot].z;for(Ot=0;Ot<2*It;++Ot)wr[nr+3*Ot+0]=Ar.r,wr[nr+3*Ot+1]=Ar.g,wr[nr+3*Ot+2]=Ar.b;if(Lt>0&&!Wt){for(Ot=0;Ot<It*2;Ot++)fr=[Gt+rr[Ot][0],Gt+rr[Ot][1],Gt+rr[Ot][2],Gt+rr[Ot][3]],_r=pr.faceidx,Tr[_r]=fr[0],Tr[_r+1]=fr[1],Tr[_r+2]=fr[3],Tr[_r+3]=fr[1],Tr[_r+4]=fr[2],Tr[_r+5]=fr[3],pr.faceidx+=6;if(Sr.clickable||Sr.hoverable){var Bt=[];Bt.push(new _.Triangle(Yt[0],qt[0],qt[It-1])),Bt.push(new _.Triangle(Yt[0],qt[It-1],Yt[It-1])),Bt.push(new _.Triangle(Yt[It-1],qt[It-1],er[It-1])),Bt.push(new _.Triangle(Yt[It-1],er[It-1],Qt[It-1])),Bt.push(new _.Triangle(er[0],Qt[0],Qt[It-1])),Bt.push(new _.Triangle(er[It-1],er[0],Qt[It-1])),Bt.push(new _.Triangle(qt[0],Yt[0],Qt[0])),Bt.push(new _.Triangle(er[0],qt[0],Qt[0]));for(Ot in Bt)Sr.intersectionShape.triangle.push(Bt[Ot])}}pr.vertices+=2*It}for(Mr=pr.vertexArray,wr=pr.colorArray,Tr=pr.faceArray,Gt=pr.vertices,nr=Gt*3,_r=pr.faceidx,Lt=0;Lt<It-1;Lt++)fr=[Lt,Lt+1,2*It-2-Lt,2*It-1-Lt],_r=pr.faceidx,Tr[_r]=fr[0],Tr[_r+1]=fr[1],Tr[_r+2]=fr[3],Tr[_r+3]=fr[1],Tr[_r+4]=fr[2],Tr[_r+5]=fr[3],pr.faceidx+=6;for(Lt=0;Lt<It-1;Lt++)fr=[Gt-1-Lt,Gt-2-Lt,Gt-2*It+Lt+1,Gt-2*It+Lt],_r=pr.faceidx,Tr[_r]=fr[0],Tr[_r+1]=fr[1],Tr[_r+2]=fr[3],Tr[_r+3]=fr[1],Tr[_r+4]=fr[2],Tr[_r+5]=fr[3],pr.faceidx+=6}function st(Et,Mt,St,At,Rt,Ct){if(!(Mt.length<2)){var Pt,Lt;if(Pt=Mt[0],Lt=Mt[Mt.length-1],Pt=lt(Pt,At),Lt=lt(Lt,At),!Rt)return $(Et,Pt,Lt,St);var Ot=[],It,$t,jt,Zt,qt,er=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],Yt,Qt,cr,lr,gr,rr,Gt,nr,_r,Sr,Ar,Rr,Mr,wr,Tr,fr,pr;for(nr=0,_r=Pt.length;nr<_r;nr++){if(gr=Math.round(nr*(St.length-1)/_r),lr=tt.CC.color(St[gr]),Ot.push($t=Pt[nr]),Ot.push($t),Ot.push(jt=Lt[nr]),Ot.push(jt),nr<_r-1){var Lr=Pt[nr+1].clone().sub(Pt[nr]),Or=Lt[nr].clone().sub(Pt[nr]);It=Or.cross(Lr).normalize().multiplyScalar(Rt)}for(Ot.push(Zt=Pt[nr].clone().add(It)),Ot.push(Zt),Ot.push(qt=Lt[nr].clone().add(It)),Ot.push(qt),$t.atom!==void 0&&(rr=$t.atom),wr=Et.updateGeoGroup(8),Tr=wr.vertexArray,fr=wr.colorArray,pr=wr.faceArray,Yt=wr.vertices,Qt=Yt*3,Tr[Qt]=$t.x,Tr[Qt+1]=$t.y,Tr[Qt+2]=$t.z,Tr[Qt+3]=$t.x,Tr[Qt+4]=$t.y,Tr[Qt+5]=$t.z,Tr[Qt+6]=jt.x,Tr[Qt+7]=jt.y,Tr[Qt+8]=jt.z,Tr[Qt+9]=jt.x,Tr[Qt+10]=jt.y,Tr[Qt+11]=jt.z,Tr[Qt+12]=Zt.x,Tr[Qt+13]=Zt.y,Tr[Qt+14]=Zt.z,Tr[Qt+15]=Zt.x,Tr[Qt+16]=Zt.y,Tr[Qt+17]=Zt.z,Tr[Qt+18]=qt.x,Tr[Qt+19]=qt.y,Tr[Qt+20]=qt.z,Tr[Qt+21]=qt.x,Tr[Qt+22]=qt.y,Tr[Qt+23]=qt.z,Sr=0;Sr<8;++Sr)fr[Qt+3*Sr]=lr.r,fr[Qt+1+3*Sr]=lr.g,fr[Qt+2+3*Sr]=lr.b;if(nr>0){var Bt=Gt!==void 0&&rr!==void 0&&Gt.serial!==rr.serial;for(Sr=0;Sr<4;Sr++){var Ut=[Yt+er[Sr][0],Yt+er[Sr][1],Yt+er[Sr][2],Yt+er[Sr][3]];if(cr=wr.faceidx,pr[cr]=Ut[0],pr[cr+1]=Ut[1],pr[cr+2]=Ut[3],pr[cr+3]=Ut[1],pr[cr+4]=Ut[2],pr[cr+5]=Ut[3],wr.faceidx+=6,rr.clickable||Gt.clickable||rr.hoverable||Gt.hoverable){var Wt=Ot[Ut[3]].clone(),ar=Ot[Ut[0]].clone(),Xt=Ot[Ut[2]].clone(),Er=Ot[Ut[1]].clone();if(Wt.atom=Ot[Ut[3]].atom||null,Xt.atom=Ot[Ut[2]].atom||null,ar.atom=Ot[Ut[0]].atom||null,Er.atom=Ot[Ut[1]].atom||null,Bt){var mr=Wt.clone().add(ar).multiplyScalar(.5),Dt=Xt.clone().add(Er).multiplyScalar(.5),Jt=Wt.clone().add(Er).multiplyScalar(.5);Sr%2===0?((Gt.clickable||Gt.hoverable)&&(Ar=new _.Triangle(mr,Jt,Wt),Rr=new _.Triangle(Dt,Xt,Jt),Mr=new _.Triangle(Jt,Xt,Wt),Gt.intersectionShape.triangle.push(Ar),Gt.intersectionShape.triangle.push(Rr),Gt.intersectionShape.triangle.push(Mr)),(rr.clickable||rr.hoverable)&&(Ar=new _.Triangle(ar,Er,Jt),Rr=new _.Triangle(Er,Dt,Jt),Mr=new _.Triangle(ar,Jt,mr),rr.intersectionShape.triangle.push(Ar),rr.intersectionShape.triangle.push(Rr),rr.intersectionShape.triangle.push(Mr))):((rr.clickable||rr.hoverable)&&(Ar=new _.Triangle(mr,Jt,Wt),Rr=new _.Triangle(Dt,Xt,Jt),Mr=new _.Triangle(Jt,Xt,Wt),rr.intersectionShape.triangle.push(Ar),rr.intersectionShape.triangle.push(Rr),rr.intersectionShape.triangle.push(Mr)),(Gt.clickable||Gt.hoverable)&&(Ar=new _.Triangle(ar,Er,Jt),Rr=new _.Triangle(Er,Dt,Jt),Mr=new _.Triangle(ar,Jt,mr),Gt.intersectionShape.triangle.push(Ar),Gt.intersectionShape.triangle.push(Rr),Gt.intersectionShape.triangle.push(Mr)))}else(rr.clickable||rr.hoverable)&&(Ar=new _.Triangle(ar,Er,Wt),Rr=new _.Triangle(Er,Xt,Wt),rr.intersectionShape.triangle.push(Ar),rr.intersectionShape.triangle.push(Rr))}}}wr.vertices+=8,Gt=rr}var sr=Ot.length-8;for(wr=Et.updateGeoGroup(8),Tr=wr.vertexArray,fr=wr.colorArray,pr=wr.faceArray,Yt=wr.vertices,Qt=Yt*3,cr=wr.faceidx,nr=0;nr<4;nr++){Ot.push(Ot[nr*2]),Ot.push(Ot[sr+nr*2]);var Cr=Ot[nr*2],tr=Ot[sr+nr*2];Tr[Qt+6*nr]=Cr.x,Tr[Qt+1+6*nr]=Cr.y,Tr[Qt+2+6*nr]=Cr.z,Tr[Qt+3+6*nr]=tr.x,Tr[Qt+4+6*nr]=tr.y,Tr[Qt+5+6*nr]=tr.z,fr[Qt+6*nr]=lr.r,fr[Qt+1+6*nr]=lr.g,fr[Qt+2+6*nr]=lr.b,fr[Qt+3+6*nr]=lr.r,fr[Qt+4+6*nr]=lr.g,fr[Qt+5+6*nr]=lr.b}sr+=8,Ar=[Yt,Yt+2,Yt+6,Yt+4],Rr=[Yt+1,Yt+5,Yt+7,Yt+3],pr[cr]=Ar[0],pr[cr+1]=Ar[1],pr[cr+2]=Ar[3],pr[cr+3]=Ar[1],pr[cr+4]=Ar[2],pr[cr+5]=Ar[3],pr[cr+6]=Rr[0],pr[cr+7]=Rr[1],pr[cr+8]=Rr[3],pr[cr+9]=Rr[1],pr[cr+10]=Rr[2],pr[cr+11]=Rr[3],wr.faceidx+=12,wr.vertices+=8}}function ot(Et,Mt,St,At,Rt,Ct,Pt){(!Pt||Pt==="default")&&(Pt="rectangle"),Pt==="edged"?st(Et,Mt,St,At,Rt):(Pt==="rectangle"||Pt==="oval"||Pt==="parabola")&&_e(Et,Mt,St,At,Rt,Ct,Pt)}function ut(Et){return Et&&Et.elem==="C"&&Et.atom==="CA"}function et(Et,Mt){if(Et&&Mt&&Et.chain===Mt.chain){if(!Et.hetflag&&!Mt.hetflag&&Et.reschain===Mt.reschain&&(Et.resi===Mt.resi||Et.resi===Mt.resi-1))return!0;if(Et.resi<Mt.resi){var St=Et.x-Mt.x,At=Et.y-Mt.y,Rt=Et.z-Mt.z,Ct=St*St+At*At+Rt*Rt;if(Et.atom=="CA"&&Mt.atom=="CA"&&Ct<16)return!0;if((Et.atom=="P"||Mt.atom=="P")&&Ct<64)return!0}}return!1}function at(Et,Mt,St,At,Rt){if(!(Mt==null||Mt.vertices==0)){Rt&&(Mt.initTypedArrays(),Mt.setUpNormals());var Ct=new j.MeshDoubleLambertMaterial;Ct.vertexColors=j.Coloring.FaceColors,typeof St=="number"&&St>=0&&St<1&&(Ct.transparent=!0,Ct.opacity=St),Ct.outline=At;var Pt=new j.Mesh(Mt,Ct);Et.add(Pt)}}function pt(Et,Mt,St,At,Rt,Ct,Pt,Lt,Ot){var It,$t,jt,Zt,qt,er;if(!(!At||!Rt||!Pt)){var Yt=Rt.sub(At);Yt.normalize();var Qt=Lt[Ot];for($t=Ot+1;$t<Lt.length&&(Qt=Lt[$t],Qt.atom!=Pt.atom);$t++);if(Qt=Qt?new a.Vector3(Qt.x,Qt.y,Qt.z):new a.Vector3(0,0,0),Qt.sub(At),Pt.ss==="arrow start"){var cr=Qt.clone().multiplyScalar(.3).cross(Rt);At.add(cr);var lr=Qt.clone().cross(Yt).normalize();Yt.rotateAboutVector(lr,.43)}for(Pt.style.cartoon.ribbon?It=Pt.style.cartoon.thickness||mt:Pt.style.cartoon.width?It=Pt.style.cartoon.width:Pt.ss==="c"?Pt.atom==="P"?It=ht:It=gt:Pt.ss==="arrow start"?(It=vt,qt=!0):Pt.ss==="arrow end"||Pt.ss==="h"&&Pt.style.cartoon.tubes||Pt.ss==="tube start"?It=gt:It=vt,Ct!=null&&Yt.dot(Ct)<0&&Yt.negate(),Yt.multiplyScalar(It),$t=0;$t<Mt;$t++)jt=-1+$t*2/(Mt-1),Zt=new a.Vector3(At.x+jt*Yt.x,At.y+jt*Yt.y,At.z+jt*Yt.z),Zt.atom=Pt,Pt.ss==="s"&&(Zt.smoothen=!0),Et[$t].push(Zt);if(qt)for(Yt.multiplyScalar(2),$t=0;$t<Mt;$t++)jt=-1+$t*2/(Mt-1),Zt=new a.Vector3(At.x+jt*Yt.x,At.y+jt*Yt.y,At.z+jt*Yt.z),Zt.atom=Pt,Zt.smoothen=!1,Zt.skip=!0,Et[$t].push(Zt);return er=Pt.style.cartoon.style||"default",Et.style?Et.style!=er&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),Et.style="default"):Et.style=er,(Pt.ss==="arrow start"||Pt.ss==="arrow end")&&(Pt.ss="s"),qt}}const ct={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},yt={DA:!0,DG:!0,A:!0,G:!0},ft={DT:!0,DC:!0,U:!0,C:!0,T:!0},_t={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function wt(Et,Mt,St,At=10){let Rt=At,Ct=At;var Pt,Lt,Ot,It,$t,jt,Zt,qt,er,Yt,Qt,cr,lr,gr,rr,Gt,nr,_r,Sr=new j.Geometry(!0),Ar=new j.Geometry(!0),Rr=[],Mr=[],wr=1,Tr=!1,fr={};for(var pr in rt.Gradient.builtinGradients)rt.Gradient.builtinGradients.hasOwnProperty(pr)&&(fr[pr]=new rt.Gradient.builtinGradients[pr](St[1],St[0]));var Lr=function(kt,br){return St&&br.color==="spectrum"?br.colorscheme in fr?fr[br.colorscheme].valueToHex(kt.resi):fr.sinebow.valueToHex(kt.resi):(0,dt.getColorFromStyle)(kt,br).getHex()};for(qt=0;qt<Rt;qt++)Mr[qt]=[];var Or=!1,Bt=!1,Ut=[];for(qt in Mt){if(It=Mt[qt],It.elem==="C"&&It.atom==="CA"){var Wt=et(Ot,It);Wt&&It.ss==="s"?Or=!0:Or&&(Ot&&Lt&&Ot.style.cartoon.arrows&&Lt.style.cartoon.arrows&&(Ot.ss="arrow end",Lt.ss="arrow start"),Or=!1),Wt&&(Ot.ss==="h"||Ot.ss=="tube start")&&Ot.style.cartoon.tubes?!Bt&&Ot.ss!="tube start"&&It.style.cartoon.tubes&&(It.ss="tube start",Bt=!0):Bt&&(Ot.ss==="tube start"?Ot.ss="tube end":Lt&&Lt.style.cartoon.tubes&&(Lt.ss="tube end"),Bt=!1),Lt=Ot,Ot=It}It&&It.atom in ct&&Ut.push(It)}Bt&&Ot.style.cartoon.tubes&&(Ot.ss="tube end",Bt=!1);var ar=function(kt){Mr[0].length>0&&ot(Ar,Mr,Rr,Ct,Zt,wr,Mr.style);var br=[],Ir=null;if(kt){for(qt=0;qt<Rt;qt++)br[qt]=Mr[qt][Mr[qt].length-1];Ir=Rr[Rr.length-1]}for(Mr=[],qt=0;qt<Rt;qt++)Mr[qt]=[];if(Rr=[],kt){for(qt=0;qt<Rt;qt++)Mr[qt].push(br[qt]);Rr.push(Ir)}at(Et,Ar,wr,Tr,!0),at(Et,Sr,wr,Tr,!1),Ar=new j.Geometry(!0),Sr=new j.Geometry(!0)};Ot=void 0;for(var Xt=0;Xt<Ut.length;Xt++){It=Ut[Xt];var Er=It.resn.trim(),mr=Er in _t;if(wr=1,Pt=It.style.cartoon,Ot&&Ot.style.cartoon&&(wr=Ot.style.cartoon.opacity),Ot&&Ot.style.cartoon&&Ot.style.cartoon.outline&&(Tr=Ot.style.cartoon.outline),Ot&&Ot.style.cartoon&&(!It.style.cartoon||Ot.style.cartoon.opacity!=It.style.cartoon.opacity)&&ar(Ot.chain==It.chain),Pt.style==="trace"){if(!It.hetflag){if(It.elem==="C"&&It.atom==="CA"||mr&&It.atom==="P"||It.atom==="BB"){if(jt=Lr(It,Pt),(0,dt.isNumeric)(Pt.thickness)?Zt=Pt.thickness:Zt=mt,et(Ot,It))if(jt==$t){var Dt=tt.CC.color(jt);it.GLDraw.drawCylinder(Sr,Ot,It,Zt,Dt,2,2)}else{var Jt=new a.Vector3().addVectors(Ot,It).multiplyScalar(.5),sr=tt.CC.color($t),Cr=tt.CC.color(jt);it.GLDraw.drawCylinder(Sr,Ot,Jt,Zt,sr,2,0),it.GLDraw.drawCylinder(Sr,Jt,It,Zt,Cr,0,2)}if((It.clickable===!0||It.hoverable)&&It.intersectionShape!==void 0){var tr=new a.Vector3(It.x,It.y,It.z);It.intersectionShape.sphere.push(new _.Sphere(tr,Zt))}Ot=It,$t=jt}}}else{if(ut(It)||mr&&(It.atom==="P"||It.atom.indexOf("O5")==0)){if(_r)if(It.ss==="tube end")_r=!1,nr=new a.Vector3(It.x,It.y,It.z),it.GLDraw.drawCylinder(Sr,Gt,nr,2,tt.CC.color($t),1,1),It.ss="h";else if(Ot.chain!=It.chain||Ot.ss==="tube end")_r=!1,Ot.ss="h",nr=new a.Vector3(Ot.x,Ot.y,Ot.z),it.GLDraw.drawCylinder(Sr,Gt,nr,2,tt.CC.color($t),1,1);else continue;if(Ot&&(!et(Ot,It)||Ot.ss==="tube start")){for(Ot.ss==="tube start"&&(_r=!0,Gt=new a.Vector3(Ot.x,Ot.y,Ot.z),Ot.ss="h"),rr&&(cr?gr=new a.Vector3().addVectors(Ot,cr).multiplyScalar(.5):gr=new a.Vector3(Ot.x,Ot.y,Ot.z),it.GLDraw.drawCylinder(Sr,gr,rr,nt,tt.CC.color(rr.color),0,2),pt(Mr,Rt,!0,cr,lr,Qt,Ot,Ut,Xt),Rr.push(jt),gr=null,rr=null),Mr[0].length>0&&ot(Ar,Mr,Rr,Ct,Zt,wr,Mr.style),Mr=[],qt=0;qt<Rt;qt++)Mr[qt]=[];Rr=[]}if(Ot===void 0||Ot.rescode!=It.rescode||Ot.resi!=It.resi){if(rr&&Ot!=null){gr=new a.Vector3().addVectors(Ot,It).multiplyScalar(.5);var vr=gr.clone().sub(rr).multiplyScalar(.02);gr.add(vr),it.GLDraw.drawCylinder(Sr,gr,rr,nt,tt.CC.color(rr.color),0,2),gr=null,rr=null}jt=Lr(It,Pt),Rr.push(jt),(0,dt.isNumeric)(Pt.thickness)?Zt=Pt.thickness:Zt=mt,Ot=It,er=new a.Vector3(Ot.x,Ot.y,Ot.z),er.resi=Ot.resi,$t=jt}(It.clickable===!0||It.hoverable===!0)&&(It.intersectionShape===void 0||It.intersectionShape.triangle===void 0)&&(It.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else Ot!=null&&(ut(Ot)&&It.atom==="O"||mr&&Ot.atom==="P"&&(It.atom==="OP2"||It.atom==="O2P")||mr&&Ot.atom.indexOf("O5")==0&&It.atom.indexOf("C5")==0)?(Yt=new a.Vector3(It.x,It.y,It.z),Yt.resi=It.resi,(It.atom==="OP2"||It.atom==="O2P")&&(lr=new a.Vector3(It.x,It.y,It.z))):mr&&It.atom.indexOf("O3")==0?cr=new a.Vector3(It.x,It.y,It.z):(It.atom==="N1"&&Er in yt||It.atom==="N3"&&Er in ft)&&(rr=new a.Vector3(It.x,It.y,It.z),rr.color=(0,dt.getColorFromStyle)(It,Pt).getHex());Yt&&er&&Yt.resi===er.resi&&(pt(Mr,Rt,!0,er,Yt,Qt,Ot,Ut,Xt),Qt=Yt,er=null,Yt=null,Rr.push(jt))}}rr&&(cr?gr=new a.Vector3().addVectors(Ot,cr).multiplyScalar(.5):gr=new a.Vector3(Ot.x,Ot.y,Ot.z),it.GLDraw.drawCylinder(Sr,gr,rr,nt,tt.CC.color(rr.color),0,2),pt(Mr,Rt,!0,cr,lr,Qt,Ot,Ut,Xt),Rr.push(jt)),ar(!1)}},"./src/index.ts":(i,s,o)=>{o.r(s),o.d(s,{CAP:()=>nt.CAP,CC:()=>_.CC,CONTEXTS_PER_VIEWPORT:()=>st.CONTEXTS_PER_VIEWPORT,Color:()=>_.Color,CustomLinear:()=>a.CustomLinear,Cylinder:()=>dt.Cylinder,GLDraw:()=>nt.GLDraw,GLModel:()=>_e.GLModel,GLShape:()=>mt.GLShape,GLViewer:()=>st.GLViewer,GLVolumetricRender:()=>ht.GLVolumetricRender,Gradient:()=>a.Gradient,GradientType:()=>a.GradientType,Label:()=>j.Label,LabelCount:()=>j.LabelCount,MarchingCube:()=>gt.MarchingCube,MarchingCubeInitializer:()=>gt.MarchingCubeInitializer,Matrix3:()=>it.Matrix3,Matrix4:()=>it.Matrix4,Parsers:()=>tt.Parsers,PausableTimer:()=>lt.PausableTimer,PointGrid:()=>gt.PointGrid,ProteinSurface:()=>gt.ProteinSurface,Quaternion:()=>it.Quaternion,ROYGB:()=>a.ROYGB,RWB:()=>a.RWB,Ray:()=>it.Ray,Sinebow:()=>a.Sinebow,Sphere:()=>dt.Sphere,SurfaceType:()=>gt.SurfaceType,Triangle:()=>dt.Triangle,Vector2:()=>it.Vector2,Vector3:()=>it.Vector3,VolumeData:()=>vt.VolumeData,adjustVolumeStyle:()=>lt.adjustVolumeStyle,applyPartialCharges:()=>rt.applyPartialCharges,autoinit:()=>ot.autoinit,autoload:()=>ot.autoload,base64ToArray:()=>lt.base64ToArray,bondLength:()=>tt.bondLength,builtinColorSchemes:()=>_.builtinColorSchemes,builtinGradients:()=>a.builtinGradients,chains:()=>_.chains,clamp:()=>it.clamp,conversionMatrix3:()=>it.conversionMatrix3,createStereoViewer:()=>st.createStereoViewer,createViewer:()=>st.createViewer,createViewerGrid:()=>st.createViewerGrid,deepCopy:()=>lt.deepCopy,degToRad:()=>it.degToRad,download:()=>lt.download,drawCartoon:()=>$.drawCartoon,elementColors:()=>_.elementColors,extend:()=>lt.extend,get:()=>lt.get,getAtomProperty:()=>lt.getAtomProperty,getColorFromStyle:()=>lt.getColorFromStyle,getElement:()=>lt.getElement,getExtent:()=>lt.getExtent,getGradient:()=>a.getGradient,getPropertyRange:()=>lt.getPropertyRange,getbin:()=>lt.getbin,htmlColors:()=>_.htmlColors,inflateString:()=>lt.inflateString,isEmptyObject:()=>lt.isEmptyObject,isNumeric:()=>lt.isNumeric,makeFunction:()=>lt.makeFunction,mergeGeos:()=>lt.mergeGeos,normalizeValue:()=>a.normalizeValue,partialCharges:()=>rt.partialCharges,processing_autoinit:()=>ot.processing_autoinit,residues:()=>_.residues,setBondLength:()=>tt.setBondLength,setSyncSurface:()=>gt.setSyncSurface,specStringToObject:()=>lt.specStringToObject,splitMesh:()=>mt.splitMesh,ssColors:()=>_.ssColors,subdivide_spline:()=>$.subdivide_spline,syncSurface:()=>gt.syncSurface,viewers:()=>ot.viewers});var a=o("./src/Gradient.ts"),_=o("./src/colors.ts"),j=o("./src/Label.ts"),rt=o("./src/partialCharges.ts"),tt=o("./src/parsers/index.ts"),it=o("./src/WebGL/math/index.ts"),dt=o("./src/WebGL/shapes/index.ts"),lt=o("./src/utilities.ts"),gt=o("./src/ProteinSurface4.ts"),vt=o("./src/VolumeData.ts"),ht=o("./src/VolumetricRender.ts"),mt=o("./src/GLShape.ts"),nt=o("./src/GLDraw.ts"),$=o("./src/glcartoon.ts"),_e=o("./src/GLModel.ts"),st=o("./src/GLViewer.ts"),ot=o("./src/autoload.ts");o("./src/specs.ts"),window&&(window.$3Dmol=s)},"./src/parsers/BCIF.ts":(i,s,o)=>{o.r(s),o.d(s,{BCIF:()=>mt});var a=o("./src/utilities.ts"),_=o("./src/parsers/utils/computeSecondaryStructure.ts"),j=o("./src/parsers/utils/processSymmetries.ts"),rt=o("./src/parsers/cifutils/category.ts"),tt=o("./src/parsers/utils/assignPDBBonds.ts"),it=o("./src/WebGL/index.ts"),dt=o("./src/parsers/utils/isEmpty.ts"),lt=o("./src/vendor/mmtf.js");class gt{constructor($){if(this.C={},$){let _e=$.getField("comp_id"),st=$.getField("atom_id_1"),ot=$.getField("atom_id_2"),ut=$.getField("value_order");for(let et=0;et<_e.length;et++){let at=_e[et],pt=st[et],ct=ot[et],yt=ut[et],ft=1;yt=="doub"?ft=2:yt=="trip"&&(ft=3),this.C[at]==null&&(this.C[at]={}),this.C[at][pt]==null&&(this.C[at][pt]={}),this.C[at][ct]==null&&(this.C[at][ct]={}),this.C[at][pt][ct]=ft,this.C[at][ct][pt]=ft}}}order($,_e,st){return this.C[$]!==void 0&&this.C[$][_e]!==void 0&&this.C[$][_e][st]!==void 0?this.C[$][_e][st]:0}}class vt{constructor($){if(this.C=[],$){let _e=$.getField("conn_type_id"),st=$.getField("ptnr1_label_asym_id"),ot=$.getField("ptnr1_label_seq_id"),ut=$.getField("ptnr1_label_comp_id"),et=$.getField("ptnr1_label_atom_id"),at=$.getField("ptnr2_label_asym_id"),pt=$.getField("ptnr2_label_seq_id"),ct=$.getField("ptnr2_label_comp_id"),yt=$.getField("ptnr2_label_atom_id"),ft=$.getField("pdbx_value_order");for(let _t=0;_t<_e.length;_t++)if(_e[_t]=="disulf"||_e[_t]=="covale"){let wt=ft?ft[_t]==""?1:parseInt(ft[_t]):1;this.C.push([[st[_t],ot[_t],ut[_t],et[_t]],[at[_t],pt[_t],ct[_t],yt[_t]],wt])}}}}class ht{constructor(){this.R={}}add($){this.R[$.lchain]==null&&(this.R[$.lchain]={}),this.R[$.lchain][$.lresi]==null&&(this.R[$.lchain][$.lresi]={}),this.R[$.lchain][$.lresi][$.lresn]==null&&(this.R[$.lchain][$.lresi][$.lresn]=[]),this.R[$.lchain][$.lresi][$.lresn].push($),this.R[$.lchain][$.lresi][$.lresn][$.atom]=$}geta([$,_e,st,ot]){if(this.R[$]!==void 0&&this.R[$][_e]!==void 0&&this.R[$][_e][st]!==void 0)return this.R[$][_e][st][ot]}setBonds($,_e){for(let st in this.R)for(let ot in this.R[st])for(let ut in this.R[st][ot]){let et=this.R[st][ot][ut];for(let at=0;at<et.length;at++)for(let pt=at+1;pt<et.length;pt++){let ct=et[at],yt=et[pt],ft=$.order(ut,ct.atom,yt.atom);ft>0&&(ct.bonds.push(yt.index),yt.bonds.push(ct.index),ct.bondOrder.push(ft),yt.bondOrder.push(ft))}}for(let st of _e.C){let ot=st[0],ut=st[1],et=st[2],at=this.geta(ot),pt=this.geta(ut);at!=null&&pt!=null&&(at.bonds.push(pt.index),pt.bonds.push(at.index),at.bondOrder.push(et),pt.bondOrder.push(et))}}}function mt(nt,$){var _e=!$.keepH,st=$.altLoc?$.altLoc:"A",ot=!$.noComputeSecondaryStructure;const ut=!$.doAssembly,et=$.assignBonds===void 0?!0:$.assignBonds;if(typeof nt=="string")try{nt=(0,a.base64ToArray)(nt)}catch{nt=new TextEncoder().encode(nt)}else nt=new Uint8Array(nt);var at=lt.decodeMsgpack(nt);at==31&&(nt=(0,a.inflateString)(nt,!1),at=lt.decodeMsgpack(nt));var pt=[],ct=pt.modelData=[],yt=at.dataBlocks.length;if(yt==0)return pt;$.multimodel||(yt=1);for(let ft=0;ft<yt;ft++){let _t=pt.length;const wt=[];ct.push({symmetries:[]}),pt.push([]);const Et=at.dataBlocks[ft],Mt=Object.create(null);for(const fr of Et.categories)Mt[fr.name.substr(1)]=(0,rt.Category)(fr);let St={},At=Mt.struct_conf;if(At){let fr=At.getField("conf_type_id"),pr=At.getField("beg_label_asym_id"),Lr=At.getField("beg_label_seq_id"),Or=At.getField("end_label_seq_id");for(let Bt=0;Bt<fr.length;Bt++)if(fr[Bt].startsWith("H")){let Ut=pr[Bt],Wt=Lr[Bt],ar=Or[Bt];Ut in St||(St[Ut]={}),St[Ut][Wt]="h1";for(let Xt=Wt+1;Xt<ar;Xt++)St[Ut][Xt]="h";St[Ut][ar]="h2"}}let Rt=Mt.struct_sheet_range;if(Rt){let fr=Rt.getField("id"),pr=Rt.getField("beg_label_asym_id"),Lr=Rt.getField("beg_label_seq_id"),Or=Rt.getField("end_label_seq_id");for(let Bt=0;Bt<fr.length;Bt++){let Ut=pr[Bt],Wt=Lr[Bt],ar=Or[Bt];Ut in St||(St[Ut]={}),St[Ut][Wt]="s1";for(let Xt=Wt+1;Xt<ar;Xt++)St[Ut][Xt]="s";St[Ut][ar]="s2"}}let Ct=Mt.pdbx_struct_oper_list,Pt=Ct.getField("id");if(Pt&&!ut){let fr=Ct.getField("matrix[1][1]"),pr=Ct.getField("matrix[1][2]"),Lr=Ct.getField("matrix[1][3]"),Or=Ct.getField("matrix[2][1]"),Bt=Ct.getField("matrix[2][2]"),Ut=Ct.getField("matrix[2][3]"),Wt=Ct.getField("matrix[3][1]"),ar=Ct.getField("matrix[3][2]"),Xt=Ct.getField("matrix[3][3]"),Er=Ct.getField("vector[1]"),mr=Ct.getField("vector[2]"),Dt=Ct.getField("vector[3]");for(let Jt=0;Jt<Pt.length;Jt++){const sr=new it.Matrix4(fr[Jt],pr[Jt],Lr[Jt],Er[Jt],Or[Jt],Bt[Jt],Ut[Jt],mr[Jt],Wt[Jt],ar[Jt],Xt[Jt],Dt[Jt]);ct[ct.length-1].symmetries.push(sr)}}let Lt=new gt(Mt.chem_comp_bond),Ot=new ht,It=new vt(Mt.struct_conn),$t=Mt.atom_site,jt=$t.rowCount,Zt=$t.getField("group_PDB"),qt=$t.getField("Cartn_x"),er=$t.getField("Cartn_y"),Yt=$t.getField("Cartn_z"),Qt=$t.getField("auth_asym_id"),cr=$t.getField("label_asym_id"),lr=$t.getField("auth_seq_id"),gr=$t.getField("label_seq_id"),rr=$t.getField("auth_comp_id"),Gt=$t.getField("label_comp_id"),nr=$t.getField("auth_atom_id"),_r=$t.getField("label_atom_id"),Sr=$t.getField("type_symbol"),Ar=$t.getField("B_iso_or_equiv"),Rr=$t.getField("id"),Mr=$t.getField("label_alt_id"),wr=$t.getField("pdbx_PDB_model_num"),Tr=wr?wr[0]:0;for(let fr=0;fr<jt;fr++){if(Zt!==void 0&&Zt[fr]==="TER")continue;if(wr&&wr[fr]!=Tr)if(Tr=wr[fr],$.multimodel)$.onemol||(pt.push([]),ct.push(ct[ct.length-1]),Tr=wr[fr],Ot.setBonds(Lt,It),Ot=new ht);else break;const pr={};pr.x=qt[fr],pr.y=er[fr],pr.z=Yt[fr],pr.chain=Qt?Qt[fr]:cr?cr[fr]:void 0,pr.lchain=cr?cr[fr]:void 0,pr.resi=lr?lr[fr]:gr?gr[fr]:void 0,pr.lresi=gr?gr[fr]:void 0,pr.resn=rr?rr[fr].trim():Gt?Gt[fr].trim():void 0,pr.lresn=Gt?Gt[fr].trim():void 0,pr.atom=nr?nr[fr].replace(/"/gm,""):_r?_r[fr].replace(/"/gm,""):void 0,pr.icode=Mr?Mr[fr]:void 0,pr.altLoc=pr.icode,pr.hetflag=!Zt||Zt[fr]==="HETA"||Zt[fr]==="HETATM";let Lr="X";Sr&&(Lr=Sr[fr].replace(/\(?\+?\d+.*/,"")),pr.elem=Lr[0].toUpperCase()+Lr.substring(1,2).toLowerCase(),Ar&&(pr.b=Ar[fr]),!(_e&&pr.elem=="H")&&(pr.altLoc!=""&&pr.altLoc!=st&&st!="*"||(pr.bonds=[],pr.ss="c",pr.serial=Rr[fr],pr.model=Tr,pr.bondOrder=[],pr.properties={},pr.index=pt[pt.length-1].length,wt[pr.serial]=[pt.length,pr.index],pt[pt.length-1].push(pr),Ot.add(pr)))}if(Ot.setBonds(Lt,It),!(0,dt.isEmpty)(St))for(let fr=_t;fr<pt.length;fr++){let pr=pt[fr];for(let Lr=0;Lr<pr.length;Lr++){const Or=pr[Lr];if(Or!==void 0&&Or.lchain in St&&Or.lresi in St[Or.lchain]){const Bt=St[Or.lchain][Or.lresi];Or.ss=Bt[0],Bt.length>1&&(Bt[1]=="1"?Or.ssbegin=!0:Bt[1]=="2"&&(Or.ssend=!0))}}}$.multimodel&&ft<yt-1&&($.onemol||(pt.push([]),ct.push({symmetries:[]})))}for(let ft=0;ft<pt.length;ft++)et&&!($.duplicateAssemblyAtoms&&!$.dontConnectDuplicatedAtoms)&&(0,tt.assignPDBBonds)(pt[ft],$),ot&&(0,_.computeSecondaryStructure)(pt[ft],$.hbondCutoff),(0,j.processSymmetries)(ct[ft].symmetries,pt[ft],$,ct[ft].cryst),$.duplicateAssemblyAtoms&&!$.dontConnectDuplicatedAtoms&&et&&(0,tt.assignPDBBonds)(pt[ft],$);return pt}},"./src/parsers/CDJSON.ts":(i,s,o)=>{o.r(s),o.d(s,{CDJSON:()=>a});function a(_,j){var rt=[[]];typeof _=="string"&&(_=JSON.parse(_));for(var tt=_.m,it=tt[0].a,dt=tt[0].b,lt=tt[0].s,gt=j!==void 0&&j.parseStyle!==void 0?j.parseStyle:lt!==void 0,vt=rt[rt.length-1].length,ht=0;ht<it.length;ht++){var mt=it[ht],nt={};nt.id=mt.i,nt.x=mt.x,nt.y=mt.y,nt.z=mt.z||0,nt.bonds=[],nt.bondOrder=[];var $=mt.l||"C";nt.elem=$[0].toUpperCase()+$.substring(1).toLowerCase(),nt.serial=rt[rt.length-1].length,gt&&(nt.style=lt[mt.s||0]),rt[rt.length-1].push(nt)}for(let _e=0;_e<dt.length;_e++){let st=dt[_e],ot=st.b+vt,ut=st.e+vt,et=st.o||1,at=rt[rt.length-1][ot],pt=rt[rt.length-1][ut];at.bonds.push(ut),at.bondOrder.push(et),pt.bonds.push(ot),pt.bondOrder.push(et)}return rt}},"./src/parsers/CIF.ts":(i,s,o)=>{o.r(s),o.d(s,{CIF:()=>it});var a=o("./src/parsers/utils/computeSecondaryStructure.ts"),_=o("./src/parsers/utils/processSymmetries.ts"),j=o("./src/WebGL/index.ts"),rt=o("./src/parsers/utils/assignPDBBonds.ts");const tt=function(dt,lt,gt,vt){return new j.Vector3(lt,gt,vt).applyMatrix3(dt)};function it(dt,lt={}){const gt=[],vt=!lt.doAssembly,ht=gt.modelData=[],mt=lt.assignBonds===void 0?!0:lt.assignBonds;function nt(et,at){const pt=[];let ct=0,yt=0;for(;yt<et.length;){for(;et.substring(yt,yt+at.length)!==at&&yt<et.length;)if(et[yt]==="'"){for(yt++;yt<et.length&&et[yt]!=="'";)yt++;for(;et.substring(yt,yt+at.length)!==at&&yt<et.length;)yt++}else if(et[yt]==='"'){for(yt++;yt<et.length&&et[yt]!=='"';)yt++;yt++}else yt++;pt.push(et.substring(ct,yt)),ct=yt=yt+at.length}return pt}const $=dt.split(/\r?\n|\r/),_e=[];let st=!1;for(let et=0;et<$.length;et++){var ot=$[et].split("#")[0];if(st?ot[0]===";"&&(st=!1):ot[0]===";"&&(st=!0),st||ot!==""){if(!st&&(ot=ot.trim(),ot[0]==="_")){const at=ot.split(/\s/)[0].indexOf(".");if(at>-1){let pt=ot.split("");pt[at]="_",ot=pt.join(""),ot=ot.substring(0,at)+"_"+ot.substring(at+1)}}_e.push(ot)}}let ut=0;for(;ut<_e.length;){for(;!_e[ut].startsWith("data_")||_e[ut]==="data_global";)ut++;ut++;const et={};for(;ut<_e.length&&!_e[ut].startsWith("data_");)if(_e[ut][0]===void 0)ut++;else if(_e[ut][0]==="_"){const yt=_e[ut].split(/\s/)[0].toLowerCase(),ft=et[yt]=et[yt]||[],_t=_e[ut].substring(_e[ut].indexOf(yt)+yt.length);if(_t==="")if(ut++,_e[ut][0]===";"){let wt=_e[ut].substring(1);for(ut++;_e[ut]!==";";)wt=wt+`
`+_e[ut],ut++;ft.push(wt)}else ft.push(_e[ut]);else ft.push(_t.trim());ut++}else if(_e[ut].substring(0,5)==="loop_"){ut++;const yt=[];for(;_e[ut]===""||_e[ut][0]==="_";){if(_e[ut]!==""){let _t=_e[ut].split(/\s/)[0].toLowerCase(),wt=et[_t]=et[_t]||[];yt.push(wt)}ut++}let ft=0;for(;ut<_e.length&&_e[ut][0]!=="_"&&!_e[ut].startsWith("loop_")&&!_e[ut].startsWith("data_");){let _t=nt(_e[ut]," ");for(let wt=0;wt<_t.length;wt++)_t[wt]!==""&&(yt[ft].push(_t[wt]),ft=(ft+1)%yt.length);ut++}}else ut++;ht.push({symmetries:[]}),gt.push([]);const at=et._atom_site_id!==void 0?et._atom_site_id.length:et._atom_site_label.length;let pt;if(et._cell_length_a!==void 0){const yt=parseFloat(et._cell_length_a),ft=parseFloat(et._cell_length_b),_t=parseFloat(et._cell_length_c),wt=parseFloat(et._cell_angle_alpha)||90,Et=parseFloat(et._cell_angle_beta)||90,Mt=parseFloat(et._cell_angle_gamma)||90;pt=(0,j.conversionMatrix3)(yt,ft,_t,wt,Et,Mt),ht[ht.length-1].cryst={a:yt,b:ft,c:_t,alpha:wt,beta:Et,gamma:Mt}}for(let yt=0;yt<at;yt++){if(et._atom_site_group_pdb!==void 0&&et._atom_site_group_pdb[yt]==="TER")continue;const ft={};if(et._atom_site_cartn_x!==void 0)ft.x=parseFloat(et._atom_site_cartn_x[yt]),ft.y=parseFloat(et._atom_site_cartn_y[yt]),ft.z=parseFloat(et._atom_site_cartn_z[yt]);else{const wt=tt(pt,parseFloat(et._atom_site_fract_x[yt]),parseFloat(et._atom_site_fract_y[yt]),parseFloat(et._atom_site_fract_z[yt]));ft.x=wt.x,ft.y=wt.y,ft.z=wt.z}ft.chain=et._atom_site_auth_asym_id?et._atom_site_auth_asym_id[yt]:et._atom_site_label_asym_id?et._atom_site_label_asym_id[yt]:void 0,ft.resi=et._atom_site_auth_seq_id?parseInt(et._atom_site_auth_seq_id[yt]):et._atom_site_label_seq_id?et._atom_site_label_seq_id[yt]:void 0,ft.resn=et._atom_site_auth_comp_id?et._atom_site_auth_comp_id[yt].trim():et._atom_site_label_comp_id?et._atom_site_label_comp_id[yt].trim():void 0,ft.atom=et._atom_site_auth_atom_id?et._atom_site_auth_atom_id[yt].replace(/"/gm,""):et._atom_site_label_atom_id?et._atom_site_label_atom_id[yt].replace(/"/gm,""):void 0,ft.hetflag=!et._atom_site_group_pdb||et._atom_site_group_pdb[yt]==="HETA"||et._atom_site_group_pdb[yt]==="HETATM",et._atom_site_b_iso_or_equiv&&(ft.b=parseFloat(et._atom_site_b_iso_or_equiv[yt]));let _t="X";et._atom_site_type_symbol?_t=et._atom_site_type_symbol[yt].replace(/\(?\+?\d+.*/,""):et._atom_site_label&&(_t=et._atom_site_label[yt].split("_")[0].replace(/\(?\d+.*/,"")),ft.elem=_t[0].toUpperCase()+_t.substring(1,2).toLowerCase(),ft.bonds=[],ft.ss="c",ft.serial=yt,ft.bondOrder=[],ft.properties={},gt[gt.length-1].push(ft)}if(et._pdbx_struct_oper_list_id!==void 0&&!vt)for(let yt=0;yt<et._pdbx_struct_oper_list_id.length;yt++){const ft=parseFloat(et["_pdbx_struct_oper_list_matrix[1][1]"][yt]),_t=parseFloat(et["_pdbx_struct_oper_list_matrix[1][2]"][yt]),wt=parseFloat(et["_pdbx_struct_oper_list_matrix[1][3]"][yt]),Et=parseFloat(et["_pdbx_struct_oper_list_vector[1]"][yt]),Mt=parseFloat(et["_pdbx_struct_oper_list_matrix[2][1]"][yt]),St=parseFloat(et["_pdbx_struct_oper_list_matrix[2][2]"][yt]),At=parseFloat(et["_pdbx_struct_oper_list_matrix[2][3]"][yt]),Rt=parseFloat(et["_pdbx_struct_oper_list_vector[2]"][yt]),Ct=parseFloat(et["_pdbx_struct_oper_list_matrix[3][1]"][yt]),Pt=parseFloat(et["_pdbx_struct_oper_list_matrix[3][2]"][yt]),Lt=parseFloat(et["_pdbx_struct_oper_list_matrix[3][3]"][yt]),Ot=parseFloat(et["_pdbx_struct_oper_list_vector[3]"][yt]),It=new j.Matrix4(ft,_t,wt,Et,Mt,St,At,Rt,Ct,Pt,Lt,Ot);ht[ht.length-1].symmetries.push(It)}const ct=function(yt){const ft=yt.match("-");yt=yt.replace(/[-xyz]/g,"");const _t=yt.split("/");let wt,Et;return _t[1]===void 0?Et=1:Et=parseInt(_t[1]),_t[0]===""?wt=1:wt=parseInt(_t[0]),wt/Et*(ft?-1:1)};if(et._symmetry_equiv_pos_as_xyz!==void 0&&!vt)for(let yt=0;yt<et._symmetry_equiv_pos_as_xyz.length;yt++){const _t=et._symmetry_equiv_pos_as_xyz[yt].replace(/["' ]/g,"").split(",").map(function(St){return St.replace(/-/g,"+-")});let wt=new j.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let St=0;St<3;St++){const At=_t[St].split("+");for(let Rt=0;Rt<At.length;Rt++){const Ct=At[Rt];if(Ct==="")continue;const Pt=ct(Ct);Ct.match("x")?wt.elements[St+0]=Pt:Ct.match("y")?wt.elements[St+4]=Pt:Ct.match("z")?wt.elements[St+8]=Pt:wt.elements[St+12]=Pt}}const Et=pt.getMatrix4(),Mt=new j.Matrix4().getInverse(Et,!0);wt=new j.Matrix4().multiplyMatrices(wt,Mt),wt=new j.Matrix4().multiplyMatrices(Et,wt),ht[ht.length-1].symmetries.push(wt)}}for(let et=0;et<gt.length;et++)mt&&!(lt.duplicateAssemblyAtoms&&!lt.dontConnectDuplicatedAtoms)&&(0,rt.assignPDBBonds)(gt[et],lt),(0,a.computeSecondaryStructure)(gt[et],lt.hbondCutoff),(0,_.processSymmetries)(ht[et].symmetries,gt[et],lt,ht[et].cryst),lt.duplicateAssemblyAtoms&&!lt.dontConnectDuplicatedAtoms&&mt&&(0,rt.assignPDBBonds)(gt[et],lt);return gt}},"./src/parsers/CUBE.ts":(i,s,o)=>{o.r(s),o.d(s,{CUBE:()=>rt});var a=o("./src/WebGL/index.ts"),_=o("./src/parsers/utils/assignBonds.ts"),j=o("./src/parsers/utils/anumToSymbol.ts");function rt(tt,it){it=it||{};const dt=[[]];let lt=tt.split(/\r?\n/);const gt=it.assignBonds===void 0?!0:it.assignBonds;if(lt.length<6)return dt;let vt=lt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const ht=Math.abs(parseFloat(vt[0]));let mt={origin:void 0,size:void 0,unit:void 0,matrix4:void 0,matrix:void 0};const nt=mt.origin=new a.Vector3(parseFloat(vt[1]),parseFloat(vt[2]),parseFloat(vt[3]));vt=lt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),vt=lt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const $=vt[0]>0?.529177:1;nt.multiplyScalar($);const _e=Math.abs(vt[0]),st=new a.Vector3(parseFloat(vt[1]),parseFloat(vt[2]),parseFloat(vt[3])).multiplyScalar($);vt=lt[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const ot=Math.abs(vt[0]),ut=new a.Vector3(parseFloat(vt[1]),parseFloat(vt[2]),parseFloat(vt[3])).multiplyScalar($);vt=lt[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const et=Math.abs(vt[0]),at=new a.Vector3(parseFloat(vt[1]),parseFloat(vt[2]),parseFloat(vt[3])).multiplyScalar($);if(mt.size={x:_e,y:ot,z:et},mt.unit=new a.Vector3(st.x,ut.y,at.z),st.y!=0||st.z!=0||ut.x!=0||ut.z!=0||at.x!=0||at.y!=0){mt.matrix4=new a.Matrix4(st.x,ut.x,at.x,0,st.y,ut.y,at.y,0,st.z,ut.z,at.z,0,0,0,0,1);let Et=new a.Matrix4().makeTranslation(nt.x,nt.y,nt.z);mt.matrix4=mt.matrix4.multiplyMatrices(Et,mt.matrix4),mt.matrix=mt.matrix4.matrix3FromTopLeft(),mt.origin=new a.Vector3(0,0,0),mt.unit=new a.Vector3(1,1,1)}dt.modelData=[{cryst:mt}],lt=lt.splice(6,ht);for(var pt=dt[dt.length-1].length,ct=pt+lt.length,yt=pt;yt<ct;++yt){var ft={};ft.serial=yt;var _t=lt[yt-pt],wt=_t.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");ft.elem=j.anumToSymbol[wt[0]],ft.x=parseFloat(wt[2])*$,ft.y=parseFloat(wt[3])*$,ft.z=parseFloat(wt[4])*$,ft.hetflag=!0,ft.bonds=[],ft.bondOrder=[],ft.properties={},dt[dt.length-1].push(ft)}if(gt)for(let Et=0;Et<dt.length;Et++)(0,_.assignBonds)(dt[Et],it);return dt}},"./src/parsers/GRO.ts":(i,s,o)=>{o.r(s),o.d(s,{GRO:()=>j});var a=o("./src/parsers/utils/assignPDBBonds.ts"),_=o("./src/parsers/utils/atomNameToElem.ts");function j(rt,tt){const it=[],dt=rt.split(/\r?\n|\r/);for(;dt.length>0;){const lt=parseInt(dt[1]);if(dt.length<3||isNaN(lt)||lt<=0||dt.length<lt+3)break;const vt=[];it.push(vt);let ht=2;const mt=vt.length,nt=mt+lt;for(let $=mt;$<nt;$++){const _e=dt[ht++],st={};st.serial=$,st.atom=_e.slice(10,15).trim(),st.elem=(0,_.atomNameToElem)(st.atom,!0),st.x=10*parseFloat(_e.slice(20,28)),st.y=10*parseFloat(_e.slice(28,36)),st.z=10*parseFloat(_e.slice(36,44)),st.resi=parseInt(_e.slice(0,5)),st.resn=_e.slice(5,10).trim(),st.bonds=[],st.bondOrder=[],st.properties={},_e.length>44&&(st.dx=10*parseFloat(_e.slice(44,52)),st.dy=10*parseFloat(_e.slice(52,60)),st.dz=10*parseFloat(_e.slice(60,68))),vt[$]=st}if(dt.length<=ht+3){const _e=dt[ht++].trim().split(/\s+/);if(_e.length===3){for(let st=0;st<3;st++)_e[st]=(parseFloat(_e[st])*10).toString();it.box=_e}}dt.splice(0,++ht)}for(let lt=0;lt<it.length;lt++)(0,a.assignPDBBonds)(it[lt],tt);return it}},"./src/parsers/LAMMPSTRJ.ts":(i,s,o)=>{o.r(s),o.d(s,{LAMMPSTRJ:()=>j});var a=o("./src/parsers/utils/assignBonds.ts");const _={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"};function j(rt,tt){const it=[],dt=rt.split(/\r?\n|\r/);let lt=0,gt=0,vt=0;for(;vt<dt.length-9;){for(var ht=vt;ht<dt.length;ht++)if(dt[ht].match(/ITEM: NUMBER OF ATOMS/)&&(gt=parseInt(dt[ht+1])),dt[ht].match(/ITEM: ATOMS/)){lt=ht+1;break}const mt=dt[lt-1].replace("ITEM: ATOMS ","").split(" ");it.push([]);for(let nt=lt;nt<lt+gt;nt++){const $={},_e={},st=dt[nt].split(" ");for(let ot=0;ot<st.length;ot++){const ut=_[mt[ot]];ut!==void 0&&(ut==="serial"?$[ut]=parseInt(st[ot]):ut==="x"||ut==="y"||ut==="z"?$[ut]=parseFloat(st[ot]):ut==="charge"||ut==="radius"?_e[ut]=parseFloat(st[ot]):$[ut]=st[ot]),$.properties=_e,$.bonds=[],$.bondOrder=[]}it[it.length-1][nt-lt]=$}vt=lt+gt-1}if(tt.assignBonds)for(let mt=0;mt<it.length;mt++)(0,a.assignBonds)(it[mt],tt);return it}},"./src/parsers/MMTF.ts":(i,s,o)=>{o.r(s),o.d(s,{MMTFparser:()=>gt});var a=o("./src/utilities.ts"),_=o("./src/WebGL/index.ts"),j=o("./src/parsers/utils/computeSecondaryStructure.ts"),rt=o("./src/parsers/utils/processSymmetries.ts"),tt=o("./src/vendor/mmtf.js"),it=function(vt){return String.fromCharCode.apply(null,vt).replace(/\0/g,"")},dt=function(vt){return vt==0||vt==2||vt==4?"h":vt==3?"s":"c"};let lt=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function gt(vt,ht){var mt=!ht.keepH,nt=ht.altLoc?ht.altLoc:"A",$=!!ht.noSecondaryStructure,_e=!ht.noComputeSecondaryStructure,st=!ht.doAssembly,ot=ht.assemblyIndex?ht.assemblyIndex:0;typeof vt=="string"?vt=(0,a.base64ToArray)(vt):vt=new Uint8Array(vt);var ut=tt.decode(vt),et=[[]],at=et.modelData=[],pt=0,ct=0,yt=0,ft=ut.secStructList,_t=ut.bFactorList,wt=ut.altLocList,Et=ut.occupancyList,Mt=ut.bondAtomList,St=ut.bondOrderList,At=ut.numModels;if(At==0)return et;ht.multimodel||(At=1);var Rt,Ct,Pt,Lt,Ot,It,$t=[];if(!st&&ut.bioAssemblyList&&ut.bioAssemblyList.length>0){var jt=ut.bioAssemblyList[ot].transformList;for(Rt=0,It=jt.length;Rt<It;Rt++){var Zt=new _.Matrix4(jt[Rt].matrix);Zt.transpose(),$t.push(Zt)}}var qt=null;if(ut.unitCell){var er=ut.unitCell;qt={a:er[0],b:er[1],c:er[2],alpha:er[3],beta:er[4],gamma:er[5]}}let Yt=[];ut.entityList.forEach(or=>{or.chainIndexList.forEach(Ft=>{Yt[Ft]=or.type=="polymer"})});var Qt=0;for(Ot=0;Ot<At;Ot++){var cr=ut.chainsPerModel[Ot],lr=et[et.length-1],gr=[];for(at.push({symmetries:$t,cryst:qt}),Rt=0;Rt<cr;++Rt){var rr=ut.groupsPerChain[pt],Gt=it(ut.chainIdList.subarray(pt*4,pt*4+4));ut.chainNameList&&(Gt=it(ut.chainNameList.subarray(pt*4,pt*4+4)));var nr=ct,_r="";for(Ct=0;Ct<rr;++Ct){var Sr=ut.groupList[ut.groupTypeList[ct]],Ar=Sr.atomNameList.length,Rr=0,Mr=!1,wr=!1;if(ft){Rr=ft[ct];var Tr=dt(Rr);(ct==0||Tr!=_r)&&(Mr=!0),_r=Tr;var fr=ct+1;(fr>=ft.length||dt(ft[fr]!=Tr))&&(wr=!0)}var pr=ut.groupIdList[ct],Lr=Sr.groupName;let or=Sr.chemCompType;var Or=yt;let Ft=lt.has(or)||!Yt[pt];for(Pt=0;Pt<Ar;++Pt){var Bt=Sr.elementList[Pt];if(mt&&Bt=="H"){yt+=1;continue}var Ut="";_t&&(Ut=_t[yt]);var Wt="";wt&&wt[yt]&&(Wt=String.fromCharCode(wt[yt]));var ar="";if(Et&&(ar=Et[yt]),Wt!=""&&Wt!=nt&&nt!="*"){yt+=1;continue}var Xt=ut.atomIdList[yt],Er=Sr.atomNameList[Pt],mr=0;Sr.atomChargeList&&(mr=Sr.atomChargeList[Pt]);var Dt=ut.xCoordList[yt],Jt=ut.yCoordList[yt],sr=ut.zCoordList[yt];gr[yt]=lr.length,lr.push({resn:Lr,x:Dt,y:Jt,z:sr,elem:Bt,hetflag:Ft,chain:Gt,resi:pr,icode:Wt,rescode:pr+(Wt!=" "?"^"+Wt:""),serial:Xt,altLoc:Wt,index:yt,atom:Er,bonds:[],ss:dt(Rr),ssbegin:Mr,ssend:wr,bondOrder:[],properties:{charge:mr,occupancy:ar},b:Ut}),yt+=1}var Cr=Sr.bondAtomList;for(Pt=0,Lt=Sr.bondOrderList.length;Pt<Lt;++Pt){var tr=Or+Cr[Pt*2],vr=Or+Cr[Pt*2+1],kt=Sr.bondOrderList[Pt],br=gr[tr],Ir=gr[vr],Tt=lr[br],ur=lr[Ir];Tt&&ur&&(Tt.bonds.push(Ir),Tt.bondOrder.push(kt),ur.bonds.push(br),ur.bondOrder.push(kt))}ct+=1}for(ct=nr,Ct=0;Ct<rr;++Ct)ct+=1;pt+=1}if(Mt)for(let or=Qt,Ft=Mt.length;or<Ft;or+=2){let Ht=Mt[or],hr=Mt[or+1],Br=St?St[or/2]:1;if(Ht>=yt){Qt=or;break}let zr=gr[Ht],Dr=gr[hr],jr=lr[zr],fn=lr[Dr];jr&&fn&&(jr.bonds.push(Dr),jr.bondOrder.push(Br),fn.bonds.push(zr),fn.bondOrder.push(Br))}ht.multimodel&&(ht.onemol||et.push([]))}if(!st)for(let or=0;or<et.length;or++)(0,rt.processSymmetries)(at[or].symmetries,et[or],ht,at[or].cryst);return _e&&!$&&(0,j.computeSecondaryStructure)(et,ht.hbondCutoff),et}},"./src/parsers/MOL2.ts":(i,s,o)=>{o.r(s),o.d(s,{MOL2:()=>_});let a={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function _(j,rt){var tt=[[]],it=!1;typeof rt.keepH<"u"&&(it=!rt.keepH);var dt=j.search(/@<TRIPOS>MOLECULE/),lt=j.search(/@<TRIPOS>ATOM/);if(dt==-1||lt==-1)return tt;for(var gt=j.substring(dt).split(/\r?\n|\r/);gt.length>0;){var vt=[],ht=gt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),mt=parseInt(ht[0]),nt=0;ht.length>1&&(nt=parseInt(ht[1]));var $=4,_e;for(_e=3;_e<gt.length;_e++)if(gt[_e]=="@<TRIPOS>ATOM"){$=_e+1;break}var st=tt[tt.length-1].length,ot=st+mt,ut;for(_e=st;_e<ot;_e++){ut=gt[$++],ht=ut.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var et={},at=ht[5];if(a[at]!==void 0?at=a[at]:(at=at.split(".")[0],at=at[0].toUpperCase()+at.substring(1).toLowerCase()),et.atom=ht[1],et.elem=at,!(et.elem=="H"&&it)){var pt=tt[tt.length-1].length,ct=parseInt(ht[0]);et.serial=ct,et.x=parseFloat(ht[2]),et.y=parseFloat(ht[3]),et.z=parseFloat(ht[4]),et.atom=ht[5];var yt=parseFloat(ht[8]);et.index=pt,et.bonds=[],et.bondOrder=[],et.properties={charge:yt,partialCharge:yt},vt[ct]=pt,tt[tt.length-1].push(et)}}for(var ft=!1;$<gt.length;)if(gt[$++]=="@<TRIPOS>BOND"){ft=!0;break}if(ft&&nt)for(_e=0;_e<nt;_e++){ut=gt[$++],ht=ut.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var _t=parseInt(ht[1]),wt=tt[tt.length-1][vt[_t]],Et=parseInt(ht[2]),Mt=tt[tt.length-1][vt[Et]],St=parseInt(ht[3]);isNaN(St)&&(St=1),wt!==void 0&&Mt!==void 0&&(wt.bonds.push(vt[Et]),wt.bondOrder.push(St),Mt.bonds.push(vt[_t]),Mt.bondOrder.push(St))}if(rt.multimodel){rt.onemol||tt.push([]),gt.splice(0,$),j=gt.join(`
`);continue}else break}return tt}},"./src/parsers/PDB.ts":(i,s,o)=>{o.r(s),o.d(s,{PDB:()=>_});var a=o("./src/parsers/utils/getSinglePDB.ts");function _(j,rt){rt=rt||{};var tt=[],it={};tt.modelData=[];for(var dt=j.split(/\r?\n|\r/);dt.length>0;){var lt=(0,a.getSinglePDB)(dt,rt,it),gt=lt[0],vt=lt[1];if(dt=lt[2],gt.length!=0){if(rt.multimodel&&rt.onemol&&tt.length>0)for(var ht=tt[0].length,mt=0;mt<gt.length;mt++){var nt=gt[mt];nt.index=mt;for(var $=0;$<nt.bonds.length;$++)nt.bonds[$]+=ht;tt[0].push(nt)}else tt.modelData.push(vt),tt.push(gt);if(!rt.multimodel)break}}return tt}},"./src/parsers/PQR.ts":(i,s,o)=>{o.r(s),o.d(s,{PQR:()=>j});var a=o("./src/parsers/utils/assignPDBBonds.ts"),_=o("./src/parsers/utils/computeSecondaryStructure.ts");function j(rt,tt){var it=[[]],dt=!tt.noSecondaryStructure;it.modelData=[{symmetries:[]}];var lt=[],gt=rt.split(/\r?\n|\r/),vt;for(let ft=0;ft<gt.length;ft++){vt=gt[ft].replace(/^\s*/,"");var ht=vt.substring(0,6);if(ht.indexOf("END")==0)if(tt.multimodel){tt.onemol||it.push([]);continue}else break;else if(ht=="ATOM  "||ht=="HETATM"){var mt;let _t=parseInt(vt.substring(6,11)),wt=vt.substring(12,16).replace(/ /g,""),Et=vt.substring(17,20).trim(),Mt=vt.substring(21,22),St=parseInt(vt.substring(22,26));var nt=vt.substring(30).trim().split(/\s+/),$=parseFloat(nt[0]),_e=parseFloat(nt[1]),st=parseFloat(nt[2]),ot=parseFloat(nt[3]),ut=parseFloat(nt[4]),et=wt[0];wt.length>1&&wt[1].toUpperCase()!=wt[1]&&(et=wt.substring(0,2)),vt[0]=="H"?mt=!0:mt=!1,lt[_t]=it[it.length-1].length,it[it.length-1].push({resn:Et,x:$,y:_e,z:st,elem:et,hetflag:mt,chain:Mt,resi:St,serial:_t,atom:wt,bonds:[],ss:"c",bondOrder:[],properties:{charge:ot,partialCharge:ot,radius:ut},pdbline:vt})}else if(ht=="CONECT"){var at=parseInt(vt.substring(6,11)),pt=it[it.length-1][lt[at]];for(let _t=0;_t<4;_t++){var ct=parseInt(vt.substring([11,16,21,26][_t],[11,16,21,26][_t]+5)),yt=it[it.length-1][lt[ct]];pt!==void 0&&yt!==void 0&&(pt.bonds.push(lt[ct]),pt.bondOrder.push(1))}}}for(let ft=0;ft<it.length;ft++)(0,a.assignPDBBonds)(it[ft],tt),dt&&(0,_.computeSecondaryStructure)(it[ft],tt.hbondCutoff);return it}},"./src/parsers/PRMTOP.ts":(i,s,o)=>{o.r(s),o.d(s,{PRMTOP:()=>a});function a(_){var j=[],rt,tt=0,it=_.split(/\r?\n|\r/);if(it.length>0&&it[0].includes("VERSION")){var dt=it.filter(function($){return $.includes("POINTERS")||$.includes("ATOM_NAME")||$.includes("CHARGE")||$.includes("RADII")||$.includes("BONDS_INC_HYDROGEN")||$.includes("BONDS_WITHOUT_HYDROGEN")}),lt=mt("POINTERS");if(lt==-1)return[];var gt=nt(lt),vt=parseInt(it[lt+1].slice(0,gt[1]));if(isNaN(vt)||vt<=0)return[];if(lt=mt("ATOM_NAME"),lt==-1)return[];gt=nt(lt);var ht=gt[0];for(let $=0;$<vt/gt[0];$++){$==parseInt(vt/gt[0])&&(ht=vt%gt[0]);for(let _e=0;_e<ht;_e++){let st={},ot={charge:"",radii:""};st.serial=tt,st.x=0,st.y=0,st.z=0,st.atom=it[lt+1].slice(gt[1]*_e,gt[1]*(_e+1)).trim(),st.elem=it[lt+1].slice(gt[1]*_e,gt[1]*_e+1).trim(),st.properties=ot,st.bonds=[],st.bondOrder=[],j.push(st),tt++}lt++}if(lt=mt("CHARGE"),lt!=-1){gt=nt(lt),tt=0,ht=gt[0];for(let $=0;$<vt/gt[0];$++){$==parseInt(vt/gt[0])&&(ht=vt%gt[0]);for(let _e=0;_e<ht;_e++)j[tt].properties.charge=parseFloat(it[lt+1].slice(gt[1]*_e,gt[1]*(_e+1))),tt++;lt++}}if(lt=mt("RADII"),lt!=-1){gt=nt(lt),tt=0,ht=gt[0];for(let $=0;$<vt/gt[0];$++){$==parseInt(vt/gt[0])&&(ht=vt%gt[0]);for(let _e=0;_e<ht;_e++)j[tt].properties.radii=parseFloat(it[lt+1].slice(gt[1]*_e,gt[1]*(_e+1))),tt++;lt++}}if(lt=mt("BONDS_WITHOUT_HYDROGEN"),lt!=-1)for(gt=nt(lt),tt=0,ht=gt[0],lt=lt+1;!it[lt].match(/^%FLAG/);){it[lt+1].match(/^%FLAG/)&&(ht=vt%gt[0]);for(let $=0;$<ht;$++)tt%3==0?rt=parseInt(it[lt].slice(gt[1]*$,gt[1]*($+1))/3):tt%3==1&&j[rt].bonds.push(parseInt(it[lt].slice(gt[1]*$,gt[1]*($+1))/3)),tt++;lt++}if(lt=mt("BONDS_INC_HYDROGEN"),lt!=-1)for(gt=nt(lt),tt=0,ht=gt[0],lt=lt+1;!it[lt].match(/^%FLAG/);){it[lt+1].match(/^%FLAG/)&&(ht=vt%gt[0]);for(let $=0;$<ht;$++)tt%3==0?rt=parseInt(it[lt].slice(gt[1]*$,gt[1]*($+1))/3):tt%3==1&&j[rt].bonds.push(parseInt(it[lt].slice(gt[1]*$,gt[1]*($+1))/3)),tt++;lt++}}else return[];function mt($){var _e=it.indexOf(dt.filter(function(st){return st.includes($)})[0]);if(Number.isInteger(_e)&&_e>0){for(;!it[_e].includes("FORMAT");)_e++;return _e}else return-1}function nt($){var _e=it[$].match(/\((\d*)\S*/),st=it[$].match(/[a-zA-Z](\d*)\)\s*/);return st==null&&(st=it[$].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[_e[1],st[1]]}return[j]}},"./src/parsers/SDF.ts":(i,s,o)=>{o.r(s),o.d(s,{SDF:()=>j});var a=function(rt,tt){var it=[[]],dt=!1;for(typeof tt.keepH<"u"&&(dt=!tt.keepH);rt.length>0&&!(rt.length<4);){var lt=parseInt(rt[3].substring(0,3));if(isNaN(lt)||lt<=0)break;var gt=parseInt(rt[3].substring(3,6)),vt=4;if(rt.length<4+lt+gt)break;var ht=[],mt=it[it.length-1].length,nt=mt+lt,$,_e;for($=mt;$<nt;$++,vt++){_e=rt[vt];var st={},ot=_e.substring(31,34).replace(/ /g,"");st.atom=st.elem=ot[0].toUpperCase()+ot.substring(1).toLowerCase(),(st.elem!=="H"||!dt)&&(st.serial=$,ht[$]=it[it.length-1].length,st.x=parseFloat(_e.substring(0,10)),st.y=parseFloat(_e.substring(10,20)),st.z=parseFloat(_e.substring(20,30)),st.hetflag=!0,st.bonds=[],st.bondOrder=[],st.properties={},st.index=it[it.length-1].length,it[it.length-1].push(st))}for($=0;$<gt;$++,vt++){_e=rt[vt];var ut=ht[parseInt(_e.substring(0,3))-1+mt],et=ht[parseInt(_e.substring(3,6))-1+mt],at=parseFloat(_e.substring(6));typeof ut<"u"&&typeof et<"u"&&(it[it.length-1][ut].bonds.push(et),it[it.length-1][ut].bondOrder.push(at),it[it.length-1][et].bonds.push(ut),it[it.length-1][et].bondOrder.push(at))}if(tt.multimodel){for(tt.onemol||it.push([]);rt[vt]!=="$$$$"&&vt<rt.length;)vt++;rt.splice(0,++vt)}else break}return it},_=function(rt,tt){var it=[[]],dt=!1;for(typeof tt.keepH<"u"&&(dt=!tt.keepH);rt.length>0&&!(rt.length<8||!rt[4].startsWith("M  V30 BEGIN CTAB")||!rt[5].startsWith("M  V30 COUNTS")||rt[5].length<14);){var lt=rt[5].substring(13).match(/\S+/g);if(lt.length<2)break;var gt=parseInt(lt[0]);if(isNaN(gt)||gt<=0)break;var vt=parseInt(lt[1]),ht=7;if(rt.length<8+gt+vt)break;var mt=[],nt=it[it.length-1].length,$=nt+gt,_e,st;for(_e=nt;_e<$;_e++,ht++){st=rt[ht];var ot=st.substring(6).match(/\S+/g);if(ot.length>4){var ut={},et=ot[1].replace(/ /g,"");ut.atom=ut.elem=et[0].toUpperCase()+et.substring(1).toLowerCase(),(ut.elem!=="H"||!dt)&&(ut.serial=_e,mt[_e]=it[it.length-1].length,ut.x=parseFloat(ot[2]),ut.y=parseFloat(ot[3]),ut.z=parseFloat(ot[4]),ut.hetflag=!0,ut.bonds=[],ut.bondOrder=[],ut.properties={},ut.index=it[it.length-1].length,it[it.length-1].push(ut))}}if(rt[ht]==="M  V30 END ATOM")ht++;else break;if(vt!==0&&rt[ht]==="M  V30 BEGIN BOND")ht++;else break;for(_e=0;_e<vt;_e++,ht++){st=rt[ht];var at=st.substring(6).match(/\S+/g);if(at.length>3){var pt=mt[parseInt(at[2])-1+nt],ct=mt[parseInt(at[3])-1+nt],yt=parseFloat(at[1]);typeof pt<"u"&&typeof ct<"u"&&(it[it.length-1][pt].bonds.push(ct),it[it.length-1][pt].bondOrder.push(yt),it[it.length-1][ct].bonds.push(pt),it[it.length-1][ct].bondOrder.push(yt))}}if(tt.multimodel){for(tt.onemol||it.push([]);rt[ht]!=="$$$$"&&ht<rt.length;)ht++;rt.splice(0,++ht)}else break}return it};function j(rt,tt){var it="V2000",dt=rt.split(/\r?\n|\r/);return dt.length>3&&dt[3].length>38&&(it=dt[3].substring(34,39)),it==="V2000"?a(dt,tt):it==="V3000"?_(dt,tt):[[""]]}},"./src/parsers/VASP.ts":(i,s,o)=>{o.r(s),o.d(s,{VASP:()=>j});var a=o("./src/WebGL/index.ts"),_=o("./src/parsers/utils/assignBonds.ts");function j(rt,tt={}){var it=[[]],dt={};const lt=tt.assignBonds===void 0?!0:tt.assignBonds;var gt=rt.replace(/^\s+/,"").split(/\r?\n/);if(gt.length<3)return it;if(gt[1].match(/\d+/))dt.length=parseFloat(gt[1]);else return console.log("Warning: second line of the vasp structure file must be a number"),it;if(dt.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),it;dt.xVec=new Float32Array(gt[2].replace(/^\s+/,"").split(/\s+/)),dt.yVec=new Float32Array(gt[3].replace(/^\s+/,"").split(/\s+/)),dt.zVec=new Float32Array(gt[4].replace(/^\s+/,"").split(/\s+/));var vt=new a.Matrix3(dt.xVec[0],dt.xVec[1],dt.xVec[2],dt.yVec[0],dt.yVec[1],dt.yVec[2],dt.zVec[0],dt.zVec[1],dt.zVec[2]);vt.multiplyScalar(dt.length),it.modelData=[{symmetries:[],cryst:{matrix:vt}}];var ht=gt[5].trim().split(/\s+/),mt=new Int16Array(gt[6].trim().split(/\s+/)),nt=gt[7].trim(),$=!1;if(nt.match(/S/)&&($=!0,nt=gt[8].trim()),nt.toLowerCase()[0]=="c")nt="cartesian";else if(nt.toLowerCase()[0]=="d")nt="direct";else return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),it;if(ht.length!=mt.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(ht),console.log(mt),it;$?gt.splice(0,9):gt.splice(0,8);for(var _e=0,st=0,ot=ht.length;st<ot;st++){for(var ut=ht[st],et=0,at=mt[st];et<at;et++){var pt=new Float32Array(gt[_e+et].trim().split(/\s+/)),ct={};ct.elem=ut,nt=="cartesian"?(ct.x=dt.length*pt[0],ct.y=dt.length*pt[1],ct.z=dt.length*pt[2]):(ct.x=dt.length*(pt[0]*dt.xVec[0]+pt[1]*dt.yVec[0]+pt[2]*dt.zVec[0]),ct.y=dt.length*(pt[0]*dt.xVec[1]+pt[1]*dt.yVec[1]+pt[2]*dt.zVec[1]),ct.z=dt.length*(pt[0]*dt.xVec[2]+pt[1]*dt.yVec[2]+pt[2]*dt.zVec[2])),ct.bonds=[],ct.bondOrder=[],it[0].push(ct)}_e+=mt[st]}if(lt)for(let yt=0;yt<it.length;yt++)(0,_.assignBonds)(it[yt],tt);return it}},"./src/parsers/XYZ.ts":(i,s,o)=>{o.r(s),o.d(s,{XYZ:()=>j});var a=o("./src/WebGL/index.ts"),_=o("./src/parsers/utils/assignBonds.ts");function j(rt,tt){tt=tt||{};for(var it=[[]],dt=tt.assignBonds===void 0?!0:tt.assignBonds,lt=rt.split(/\r?\n|\r/);lt.length>0&&!(lt.length<3);){var gt=parseInt(lt[0]);if(isNaN(gt)||gt<=0||lt.length<gt+2)break;var vt=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi,ht=vt.exec(lt[1]);if(ht!=null&&ht.length>1){var mt=new Float32Array(ht[1].split(/\s+/)),nt=new a.Matrix3(mt[0],mt[3],mt[6],mt[1],mt[4],mt[7],mt[2],mt[5],mt[8]);it.modelData=[{cryst:{matrix:nt}}]}for(var $=2,_e=it[it.length-1].length,st=_e+gt,ot=_e;ot<st;ot++){var ut=lt[$++],et=ut.replace(/^\s+/,"").replace(/\s+/g," ").split(" "),at={};at.serial=ot;var pt=et[0];at.atom=at.elem=pt[0].toUpperCase()+pt.substring(1,2).toLowerCase(),at.x=parseFloat(et[1]),at.y=parseFloat(et[2]),at.z=parseFloat(et[3]),at.hetflag=!0,at.bonds=[],at.bondOrder=[],at.properties={},it[it.length-1][ot]=at,et.length>=7&&(at.dx=parseFloat(et[4]),at.dy=parseFloat(et[5]),at.dz=parseFloat(et[6]))}if(tt.multimodel)it.push([]),lt.splice(0,$);else break}if(dt)for(let yt=0;yt<it.length;yt++)(0,_.assignBonds)(it[yt],tt);if(tt.onemol){var ct=it;it=[],it.push(ct[0]);for(let yt=1;yt<ct.length;yt++){let ft=it[0].length;for(let _t=0;_t<ct[yt].length;_t++){let wt=ct[yt][_t];for(let Et=0;Et<wt.bonds.length;Et++)wt.bonds[Et]=wt.bonds[Et]+ft;wt.index=it[0].length,wt.serial=it[0].length,it[0].push(wt)}}}return it}},"./src/parsers/cifutils/category.ts":(i,s,o)=>{o.r(s),o.d(s,{Category:()=>_});var a=o("./src/parsers/cifutils/decoder.ts");function _(j){const rt=Object.create(null),tt=Object.create(null);for(const it of j.columns)rt[it.name]=it;return{rowCount:j.rowCount,name:j.name.substring(1),fieldNames:j.columns.map(it=>it.name),getField(it){const dt=rt[it];if(dt)return tt[it]||(tt[it]=(0,a.decode)(dt.data)),tt[it]}}}},"./src/parsers/cifutils/decoder.ts":(i,s,o)=>{o.r(s),o.d(s,{decode:()=>rt});var a=o("./src/parsers/cifutils/encoding.ts");const _=new Uint16Array(new Uint8Array([18,52]).buffer)[0]===13330;function j(ft,_t){const wt=new ArrayBuffer(ft.length),Et=new Uint8Array(wt);for(let Mt=0,St=ft.length;Mt<St;Mt+=_t)for(let At=0;At<_t;At++)Et[Mt+_t-At-1]=ft[Mt+At];return wt}function rt(ft){let _t=ft.data;for(let wt=ft.encoding.length-1;wt>=0;wt--)_t=tt(_t,ft.encoding[wt]);return _t}function tt(ft,_t){switch(_t.kind){case"ByteArray":switch(_t.type){case a.Encoding.IntDataType.Uint8:return ft;case a.Encoding.IntDataType.Int8:return lt(ft);case a.Encoding.IntDataType.Int16:return vt(ft);case a.Encoding.IntDataType.Uint16:return ht(ft);case a.Encoding.IntDataType.Int32:return mt(ft);case a.Encoding.IntDataType.Uint32:return nt(ft);case a.Encoding.FloatDataType.Float32:return $(ft);case a.Encoding.FloatDataType.Float64:return _e(ft);default:throw new Error("unreachable")}case"FixedPoint":return st(ft,_t);case"IntervalQuantization":return ot(ft,_t);case"RunLength":return ut(ft,_t);case"Delta":return et(ft,_t);case"IntegerPacking":return ct(ft,_t);case"StringArray":return yt(ft,_t)}}function it(ft,_t){switch(ft){case a.Encoding.IntDataType.Int8:return new Int8Array(_t);case a.Encoding.IntDataType.Int16:return new Int16Array(_t);case a.Encoding.IntDataType.Int32:return new Int32Array(_t);case a.Encoding.IntDataType.Uint8:return new Uint8Array(_t);case a.Encoding.IntDataType.Uint16:return new Uint16Array(_t);case a.Encoding.IntDataType.Uint32:return new Uint32Array(_t);default:return new Int32Array(_t)}}function dt(ft,_t){switch(ft){case a.Encoding.FloatDataType.Float32:return new Float32Array(_t);case a.Encoding.FloatDataType.Float64:return new Float64Array(_t);default:return new Float64Array(_t)}}function lt(ft){return new Int8Array(ft.buffer,ft.byteOffset)}function gt(ft,_t,wt){return(ft.byteOffset!=0||ft.byteLength!=ft.buffer.byteLength)&&(ft=new Uint8Array(ft)),_?new wt(ft.buffer):new wt(j(ft,_t))}function vt(ft){return gt(ft,2,Int16Array)}function ht(ft){return gt(ft,2,Uint16Array)}function mt(ft){return gt(ft,4,Int32Array)}function nt(ft){return gt(ft,4,Uint32Array)}function $(ft){return gt(ft,4,Float32Array)}function _e(ft){return gt(ft,8,Float64Array)}function st(ft,_t){const wt=ft.length,Et=dt(_t.srcType,wt),Mt=1/_t.factor;for(let St=0;St<wt;St++)Et[St]=Mt*ft[St];return Et}function ot(ft,_t){const wt=ft.length,Et=dt(_t.srcType,wt),Mt=(_t.max-_t.min)/(_t.numSteps-1),St=_t.min;for(let At=0;At<wt;At++)Et[At]=St+Mt*ft[At];return Et}function ut(ft,_t){const wt=it(_t.srcType,_t.srcSize);let Et=0;for(let Mt=0,St=ft.length;Mt<St;Mt+=2){const At=ft[Mt],Rt=ft[Mt+1];for(let Ct=0;Ct<Rt;++Ct)wt[Et++]=At}return wt}function et(ft,_t){const wt=ft.length,Et=it(_t.srcType,wt);if(!wt)return ft;Et[0]=ft[0]+(_t.origin|0);for(let Mt=1;Mt<wt;++Mt)Et[Mt]=ft[Mt]+Et[Mt-1];return Et}function at(ft,_t){const wt=_t.byteCount===1?127:32767,Et=-wt-1,Mt=ft.length,St=new Int32Array(_t.srcSize);let At=0,Rt=0;for(;At<Mt;){let Ct=0,Pt=ft[At];for(;Pt===wt||Pt===Et;)Ct+=Pt,At++,Pt=ft[At];Ct+=Pt,St[Rt]=Ct,At++,Rt++}return St}function pt(ft,_t){const wt=_t.byteCount===1?255:65535,Et=ft.length,Mt=new Int32Array(_t.srcSize);let St=0,At=0;for(;St<Et;){let Rt=0,Ct=ft[St];for(;Ct===wt;)Rt+=Ct,St++,Ct=ft[St];Rt+=Ct,Mt[At]=Rt,St++,At++}return Mt}function ct(ft,_t){return ft.length===_t.srcSize?ft:_t.isUnsigned?pt(ft,_t):at(ft,_t)}function yt(ft,_t){const wt=rt({encoding:_t.offsetEncoding,data:_t.offsets}),Et=rt({encoding:_t.dataEncoding,data:ft}),Mt=_t.stringData,St=new Array(wt.length);St[0]="";for(let Ct=1,Pt=wt.length;Ct<Pt;Ct++)St[Ct]=Mt.substring(wt[Ct-1],wt[Ct]);let At=0;const Rt=new Array(Et.length);for(let Ct=0,Pt=Et.length;Ct<Pt;Ct++)Rt[At++]=St[Et[Ct]+1];return Rt}},"./src/parsers/cifutils/encoding.ts":(i,s,o)=>{o.r(s),o.d(s,{Encoding:()=>_,VERSION:()=>a});const a="0.3.0";var _;(function(j){(function(it){it[it.Int8=1]="Int8",it[it.Int16=2]="Int16",it[it.Int32=3]="Int32",it[it.Uint8=4]="Uint8",it[it.Uint16=5]="Uint16",it[it.Uint32=6]="Uint32"})(j.IntDataType||(j.IntDataType={})),function(it){it[it.Float32=32]="Float32",it[it.Float64=33]="Float64"}(j.FloatDataType||(j.FloatDataType={}));function rt(it){let dt;return it instanceof Int8Array?dt=j.IntDataType.Int8:it instanceof Int16Array?dt=j.IntDataType.Int16:it instanceof Int32Array?dt=j.IntDataType.Int32:it instanceof Uint8Array?dt=j.IntDataType.Uint8:it instanceof Uint16Array?dt=j.IntDataType.Uint16:it instanceof Uint32Array?dt=j.IntDataType.Uint32:it instanceof Float32Array?dt=j.FloatDataType.Float32:it instanceof Float64Array?dt=j.FloatDataType.Float64:dt=j.IntDataType.Int32,dt}j.getDataType=rt;function tt(it){if(it instanceof Int8Array||it instanceof Int16Array||it instanceof Int32Array)return!0;for(let dt=0,lt=it.length;dt<lt;dt++)if(dt<0)return!1;return!0}j.isSignedIntegerDataType=tt})(_||(_={}))},"./src/parsers/index.ts":(i,s,o)=>{o.r(s),o.d(s,{Parsers:()=>st,bondLength:()=>_e.bondLength,setBondLength:()=>_e.setBondLength});var a=o("./src/parsers/VASP.ts"),_=o("./src/parsers/CUBE.ts"),j=o("./src/parsers/XYZ.ts"),rt=o("./src/parsers/SDF.ts"),tt=o("./src/parsers/CDJSON.ts"),it=o("./src/parsers/CIF.ts"),dt=o("./src/parsers/MOL2.ts"),lt=o("./src/parsers/PDB.ts"),gt=o("./src/parsers/PQR.ts"),vt=o("./src/parsers/MMTF.ts"),ht=o("./src/parsers/PRMTOP.ts"),mt=o("./src/parsers/GRO.ts"),nt=o("./src/parsers/LAMMPSTRJ.ts"),$=o("./src/parsers/BCIF.ts"),_e=o("./src/parsers/utils/bondLength.ts");const st={vasp:a.VASP,VASP:a.VASP,cube:_.CUBE,CUBE:_.CUBE,xyz:j.XYZ,XYZ:j.XYZ,sdf:rt.SDF,SDF:rt.SDF,json:tt.CDJSON,cdjson:tt.CDJSON,CDJSON:tt.CDJSON,mcif:it.CIF,cif:it.CIF,CIF:it.CIF,mol2:dt.MOL2,MOL2:dt.MOL2,pdb:lt.PDB,PDB:lt.PDB,pdbqt:lt.PDB,PDBQT:lt.PDB,pqr:gt.PQR,PQR:gt.PQR,mmtf:vt.MMTFparser,MMTF:vt.MMTFparser,prmtop:ht.PRMTOP,PRMTOP:ht.PRMTOP,gro:mt.GRO,GRO:mt.GRO,lammpstrj:nt.LAMMPSTRJ,LAMMPSTRJ:nt.LAMMPSTRJ,bcif:$.BCIF,BCIF:$.BCIF}},"./src/parsers/utils/anumToSymbol.ts":(i,s,o)=>{o.r(s),o.d(s,{anumToSymbol:()=>a});const a={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"}},"./src/parsers/utils/areConnected.ts":(i,s,o)=>{o.r(s),o.d(s,{areConnected:()=>j});var a=o("./src/parsers/utils/bondLength.ts");const _=new Set(["Na","K","Ca","Mg","Mn","Sr"]);function j(rt,tt,it){if(it&&it.unboundCations&&(_.has(rt.elem)||_.has(tt.elem)))return!1;let dt=(0,a.bondLength)(rt.elem)+(0,a.bondLength)(tt.elem);dt+=.25,dt*=dt;let lt=rt.x-tt.x;if(lt*=lt,lt>dt)return!1;let gt=rt.y-tt.y;if(gt*=gt,gt>dt)return!1;let vt=rt.z-tt.z;if(vt*=vt,vt>dt)return!1;const ht=lt+gt+vt;return!(isNaN(ht)||ht<.5||ht>dt||rt.altLoc!==tt.altLoc&&rt.altLoc.trim()!==""&&tt.altLoc.trim()!=="")}},"./src/parsers/utils/assignBackboneHBonds.ts":(i,s,o)=>{o.r(s),o.d(s,{assignBackboneHBonds:()=>a});function a(_,j){const rt=j||3.2,tt=rt*rt,it=[];for(let dt=0,lt=_.length;dt<lt;dt++){_[dt].index=dt;const gt=_[dt];!gt.hetflag&&(gt.atom==="N"||gt.atom==="O")&&(it.push(gt),gt.hbondOther=null,gt.hbondDistanceSq=Number.POSITIVE_INFINITY)}it.sort(function(dt,lt){return dt.z-lt.z});for(let dt=0,lt=it.length;dt<lt;dt++){const gt=it[dt];for(let vt=dt+1;vt<lt;vt++){const ht=it[vt],mt=ht.z-gt.z;if(mt>rt)break;if(ht.atom==gt.atom)continue;const nt=Math.abs(ht.y-gt.y);if(nt>rt)continue;const $=Math.abs(ht.x-gt.x);if($>rt)continue;const _e=$*$+nt*nt+mt*mt;_e>tt||ht.chain==gt.chain&&Math.abs(ht.resi-gt.resi)<4||(_e<gt.hbondDistanceSq&&(gt.hbondOther=ht,gt.hbondDistanceSq=_e),_e<ht.hbondDistanceSq&&(ht.hbondOther=gt,ht.hbondDistanceSq=_e))}}}},"./src/parsers/utils/assignBonds.ts":(i,s,o)=>{o.r(s),o.d(s,{assignBonds:()=>rt});var a=o("./src/parsers/utils/areConnected.ts");const _=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}],j=4.95;function rt(tt,it){for(let gt=0,vt=tt.length;gt<vt;gt++)tt[gt].index||(tt[gt].index=gt);const dt={x:{y:{z:[]}}};for(let gt=0;gt<tt.length;gt++){const vt=tt[gt],ht=Math.floor(vt.x/j),mt=Math.floor(vt.y/j),nt=Math.floor(vt.z/j);dt[ht]||(dt[ht]={}),dt[ht][mt]||(dt[ht][mt]={}),dt[ht][mt][nt]||(dt[ht][mt][nt]=[]),dt[ht][mt][nt].push(vt)}function lt(gt,vt){for(let ht=0;ht<gt.length;ht++){const mt=gt[ht];for(let nt=0;nt<vt.length;nt++){const $=vt[nt];if((0,a.areConnected)(mt,$,it)){const _e=mt.bonds.indexOf($.index),st=$.bonds.indexOf(mt.index);_e===-1&&st===-1?(mt.bonds.push($.index),mt.bondOrder.push(1),$.bonds.push(mt.index),$.bondOrder.push(1)):_e===-1?(mt.bonds.push($.index),mt.bondOrder.push($.bondOrder[st])):st===-1&&($.bonds.push(mt.index),$.bondOrder.push(mt.bondOrder[_e]))}}}}for(let gt in dt){const vt=parseInt(gt);for(let ht in dt[vt]){const mt=parseInt(ht);for(let nt in dt[vt][mt]){const $=parseInt(nt),_e=dt[vt][mt][$];for(let st=0;st<_e.length;st++){const ot=_e[st];for(let ut=st+1;ut<_e.length;ut++){const et=_e[ut];(0,a.areConnected)(ot,et,it)&&ot.bonds.indexOf(et.index)==-1&&(ot.bonds.push(et.index),ot.bondOrder.push(1),et.bonds.push(ot.index),et.bondOrder.push(1))}}for(let st=0;st<_.length;st++){const ot=_[st];if(!dt[vt+ot.x]||!dt[vt+ot.x][mt+ot.y]||!dt[vt+ot.x][mt+ot.y][$+ot.z])continue;const ut=dt[vt+ot.x][mt+ot.y][$+ot.z];lt(_e,ut)}}}}}},"./src/parsers/utils/assignPDBBonds.ts":(i,s,o)=>{o.r(s),o.d(s,{assignPDBBonds:()=>rt});var a=o("./src/parsers/utils/areConnected.ts"),_=o("./src/parsers/utils/assignBonds.ts"),j=o("./src/parsers/utils/standardResidues.ts");function rt(tt,it){const dt=[],lt=[];for(let mt=0,nt=tt.length;mt<nt;mt++){const $=tt[mt];$.index=mt,$.hetflag||!j.standardResidues.has($.resn)?lt.push($):dt.push($)}(0,_.assignBonds)(lt,it),dt.sort(function(mt,nt){return mt.chain!==nt.chain?mt.chain<nt.chain?-1:1:mt.resi-nt.resi});let gt=-1,vt=-1,ht;for(let mt=0,nt=dt.length;mt<nt;mt++){const $=dt[mt];$.resi!==gt&&(gt=$.resi,ht||vt++,ht=!1),$.reschain=vt;for(let _e=mt+1;_e<dt.length;_e++){const st=dt[_e];if(st.chain!==$.chain||st.resi-$.resi>1)break;(0,a.areConnected)($,st,it)&&($.bonds.indexOf(st.index)===-1&&($.bonds.push(st.index),$.bondOrder.push(1),st.bonds.push($.index),st.bondOrder.push(1)),$.resi!==st.resi&&(ht=!0))}}}},"./src/parsers/utils/atomNameToElem.ts":(i,s,o)=>{o.r(s),o.d(s,{atomNameToElem:()=>_});var a=o("./src/parsers/utils/bondLength.ts");function _(j,rt){let tt=j.replace(/ /g,"");return tt.length>0&&tt[0]==="H"&&tt!=="Hg"&&tt!=="He"&&tt!=="Hf"&&tt!=="Hs"&&tt!=="Ho"&&(tt="H"),tt.length>1&&(tt=tt[0].toUpperCase()+tt.substring(1).toLowerCase(),a.bondTable[tt]===void 0?tt=tt[0]:rt&&(tt==="Ca"||tt==="Cd")&&(tt="C")),tt}},"./src/parsers/utils/bondLength.ts":(i,s,o)=>{o.r(s),o.d(s,{bondLength:()=>_,bondTable:()=>a,setBondLength:()=>j});let a={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function _(rt){return a[rt]||1.6}function j(rt,tt){tt<0&&(tt=0),a[rt]=tt}},"./src/parsers/utils/computeSecondaryStructure.ts":(i,s,o)=>{o.r(s),o.d(s,{computeSecondaryStructure:()=>_});var a=o("./src/parsers/utils/assignBackboneHBonds.ts");function _(j,rt){(0,a.assignBackboneHBonds)(j,rt);const tt={};let it,dt,lt,gt,vt,ht;for(it=0,dt=j.length;it<dt;it++)if(vt=j[it],tt[vt.chain]===void 0&&(tt[vt.chain]=[]),isFinite(vt.hbondDistanceSq)){const mt=vt.hbondOther;tt[mt.chain]===void 0&&(tt[mt.chain]=[]),Math.abs(mt.resi-vt.resi)===4&&(tt[vt.chain][vt.resi]="h")}for(lt in tt)for(gt=1;gt<tt[lt].length-1;gt++){const mt=tt[lt][gt-1],nt=tt[lt][gt+1];ht=tt[lt][gt],mt=="h"&&mt==nt&&ht!=mt&&(tt[lt][gt]=mt)}for(it=0,dt=j.length;it<dt;it++)vt=j[it],isFinite(vt.hbondDistanceSq)&&tt[vt.chain][vt.resi]!="h"&&vt.ss!=="h"&&(tt[vt.chain][vt.resi]="maybesheet");for(let mt=0,nt=j.length;mt<nt;mt++)if(vt=j[mt],isFinite(vt.hbondDistanceSq)&&tt[vt.chain][vt.resi]=="maybesheet"){let $=vt.hbondOther,_e=tt[$.chain][$.resi];(_e=="maybesheet"||_e=="s")&&(tt[vt.chain][vt.resi]="s",tt[$.chain][$.resi]="s")}for(let mt in tt){for(let nt=1;nt<tt[mt].length-1;nt++){const $=tt[mt][nt-1],_e=tt[mt][nt+1];ht=tt[mt][nt],$=="s"&&$==_e&&ht!=$&&(tt[mt][nt]=$)}for(let nt=0;nt<tt[mt].length;nt++){const $=tt[mt][nt];($=="h"||$=="s")&&tt[mt][nt-1]!=$&&tt[mt][nt+1]!=$&&delete tt[mt][nt]}}for(it=0,dt=j.length;it<dt;it++)vt=j[it],ht=tt[vt.chain][vt.resi],delete vt.hbondOther,delete vt.hbondDistanceSq,!(ht===void 0||ht==="maybesheet")&&(vt.ss=ht,tt[vt.chain][vt.resi-1]!=ht&&(vt.ssbegin=!0),tt[vt.chain][vt.resi+1]!=ht&&(vt.ssend=!0))}},"./src/parsers/utils/getSinglePDB.ts":(i,s,o)=>{o.r(s),o.d(s,{getSinglePDB:()=>gt});var a=o("./src/WebGL/index.ts"),_=o("./src/parsers/utils/atomNameToElem.ts"),j=o("./src/parsers/utils/bondLength.ts"),rt=o("./src/parsers/utils/computeSecondaryStructure.ts"),tt=o("./src/parsers/utils/isEmpty.ts"),it=o("./src/parsers/utils/processSymmetries.ts"),dt=o("./src/parsers/utils/assignPDBBonds.ts"),lt=o("./src/parsers/utils/validateBonds.ts");function gt(vt,ht,mt){const nt=[],$=ht.assignBonds===void 0?!0:ht.assignBonds,_e=!ht.keepH,st=!!ht.noSecondaryStructure,ot=!ht.noComputeSecondaryStructure,ut=!ht.doAssembly,et=ht.altLoc?ht.altLoc:"A",at={symmetries:[],cryst:void 0};let pt,ct=[];const yt=[];let ft;const _t={};for(let wt=0;wt<vt.length;wt++){ft=vt[wt].replace(/^\s*/,"");const Et=ft.substring(0,6);let Mt,St,At;if(Et.indexOf("END")===0){if(ct=vt.slice(wt+1),Et==="END")for(const Rt in mt)mt.hasOwnProperty(Rt)&&delete mt[Rt];break}else if(Et==="ATOM  "||Et==="HETATM"){let Rt,Ct,Pt,Lt,Ot,It,$t,jt,Zt,qt,er,Yt;if(er=ft.substring(16,17),er!==" "&&er!==et&&et!=="*"||(qt=parseInt(ft.substring(6,11)),pt=ft.substring(12,16).replace(/ /g,""),Rt=ft.substring(17,20).replace(/ /g,""),Ct=ft.substring(21,22),Pt=parseInt(ft.substring(22,26)),Lt=ft.substring(26,27),Ot=parseFloat(ft.substring(30,38)),It=parseFloat(ft.substring(38,46)),$t=parseFloat(ft.substring(46,54)),Yt=parseFloat(ft.substring(60,68)),Zt=ft.substring(76,78).replace(/ /g,""),Zt===""||j.bondTable[Zt]===void 0?Zt=(0,_.atomNameToElem)(ft.substring(12,14),ft[0]=="A"):Zt=Zt[0].toUpperCase()+Zt.substring(1).toLowerCase(),Zt==="H"&&_e))continue;Et[0]=="H"?jt=!0:jt=!1,yt[qt]=nt.length,nt.push({resn:Rt,x:Ot,y:It,z:$t,elem:Zt,hetflag:jt,altLoc:er,chain:Ct,resi:Pt,icode:Lt,rescode:Pt+(Lt!==" "?"^"+Lt:""),serial:qt,atom:pt,bonds:[],ss:"c",bondOrder:[],properties:{},b:Yt,pdbline:ft})}else if(Et==="SHEET "){Mt=ft.substring(21,22),St=parseInt(ft.substring(22,26)),At=parseInt(ft.substring(33,37)),Mt in mt||(mt[Mt]={}),mt[Mt][St]="s1";for(let Rt=St+1;Rt<At;Rt++)mt[Mt][Rt]="s";mt[Mt][At]="s2"}else if(Et==="CONECT"){const Rt=parseInt(ft.substring(6,11)),Ct=yt[Rt],Pt=nt[Ct],Lt=[11,16,21,26];for(let Ot=0;Ot<4;Ot++){const It=parseInt(ft.substring(Lt[Ot],Lt[Ot]+5)),$t=yt[It];let jt=Ct+":"+$t;const Zt=nt[$t];if(Pt!==void 0&&Zt!==void 0)if(!_t[jt])_t[jt]=1,(Pt.bonds.length==0||Pt.bonds[Pt.bonds.length-1]!==$t)&&(Pt.bonds.push($t),Pt.bondOrder.push(1));else{_t[jt]+=1;for(let qt=0;qt<Pt.bonds.length;qt++)if(Pt.bonds[qt]==$t){const er=_t[jt];er>=4?Pt.bondOrder[qt]=1:Pt.bondOrder[qt]=er}}}}else if(Et==="HELIX "){Mt=ft.substring(19,20),St=parseInt(ft.substring(21,25)),At=parseInt(ft.substring(33,37)),Mt in mt||(mt[Mt]={}),mt[Mt][St]="h1";for(let Rt=St+1;Rt<At;Rt++)mt[Mt][Rt]="h";mt[Mt][At]="h2"}else if(!ut&&Et==="REMARK"&&ft.substring(13,18)==="BIOMT"){let Rt,Ct=new a.Matrix4;for(Rt=1;Rt<=3;Rt++)if(ft=vt[wt].replace(/^\s*/,""),parseInt(ft.substring(18,19))==Rt)Ct.elements[Rt-1]=parseFloat(ft.substring(23,33)),Ct.elements[Rt-1+4]=parseFloat(ft.substring(33,43)),Ct.elements[Rt-1+8]=parseFloat(ft.substring(43,53)),Ct.elements[Rt-1+12]=parseFloat(ft.substring(53)),wt++;else for(;ft.substring(13,18)==="BIOMT";)wt++,ft=vt[wt].replace(/^\s*/,"");Ct.elements[3]=0,Ct.elements[7]=0,Ct.elements[11]=0,Ct.elements[15]=1,at.symmetries.push(Ct),wt--}else if(Et==="CRYST1"){let Rt,Ct,Pt,Lt,Ot,It;Rt=parseFloat(ft.substring(7,15)),Ct=parseFloat(ft.substring(16,24)),Pt=parseFloat(ft.substring(25,33)),Lt=parseFloat(ft.substring(34,40)),Ot=parseFloat(ft.substring(41,47)),It=parseFloat(ft.substring(48,54)),at.cryst={a:Rt,b:Ct,c:Pt,alpha:Lt,beta:Ot,gamma:It}}else if(Et==="ANISOU"){const Rt=parseInt(ft.substring(6,11)),Ct=yt[Rt],Pt=nt[Ct];if(Pt){const Lt=ft.substring(30).trim().split(/\s+/),Ot={u11:parseInt(Lt[0]),u22:parseInt(Lt[1]),u33:parseInt(Lt[2]),u12:parseInt(Lt[3]),u13:parseInt(Lt[4]),u23:parseInt(Lt[5])};Pt.uMat=Ot}}}if((0,lt.validateBonds)(nt,yt),$&&(0,dt.assignPDBBonds)(nt,ht),ut||(0,it.processSymmetries)(at.symmetries,nt,ht,at.cryst),ot&&!st&&(0,rt.computeSecondaryStructure)(nt,ht.hbondCutoff),!(0,tt.isEmpty)(mt))for(let wt=0;wt<nt.length;wt++){const Et=nt[wt];if(Et!==void 0&&Et.chain in mt&&Et.resi in mt[Et.chain]){const Mt=mt[Et.chain][Et.resi];Et.ss=Mt[0],Mt.length>1&&(Mt[1]=="1"?Et.ssbegin=!0:Mt[1]=="2"&&(Et.ssend=!0))}}return[nt,at,ct]}},"./src/parsers/utils/isEmpty.ts":(i,s,o)=>{o.r(s),o.d(s,{isEmpty:()=>a});function a(_){for(const j in _)return!1;return!0}},"./src/parsers/utils/processSymmetries.ts":(i,s,o)=>{o.r(s),o.d(s,{processSymmetries:()=>_});var a=o("./src/WebGL/index.ts");function _(j,rt,tt,it){const dt=!tt.duplicateAssemblyAtoms,lt=rt.length;let gt=lt,vt=-1,ht=null,mt=null;(tt.normalizeAssembly||tt.wrapAtoms)&&it&&(ht=(0,a.conversionMatrix3)(it.a,it.b,it.c,it.alpha,it.beta,it.gamma),mt=new a.Matrix3,mt.getInverse3(ht));let nt=function(st){let ot=st.clone().applyMatrix3(mt);const ut=[ot.x,ot.y,ot.z],et=[0,0,0];for(let pt=0;pt<3;pt++){for(;ut[pt]<-.001;)ut[pt]+=1,et[pt]+=1;for(;ut[pt]>1.001;)ut[pt]-=1,et[pt]-=1}const at=new a.Vector3(et[0],et[1],et[2]);return at.applyMatrix3(ht),at};if(tt.normalizeAssembly&&it)for(let st=0;st<j.length;st++){const ot=new a.Vector3(0,0,0);for(let et=0;et<lt;et++){const at=new a.Vector3(rt[et].x,rt[et].y,rt[et].z);at.applyMatrix4(j[st]),ot.add(at)}ot.divideScalar(lt);const ut=nt(ot);j[st].isNearlyIdentity()&&ut.lengthSq()>.001&&(vt=st),j[st].translate(ut)}if(dt){if(j.length>1)for(let st=0;st<rt.length;st++){var $=[];for(let ot=0;ot<j.length;ot++)if(!j[ot].isNearlyIdentity()){var _e=new a.Vector3;_e.set(rt[st].x,rt[st].y,rt[st].z),_e.applyMatrix4(j[ot]),$.push(_e)}rt[st].symmetries=$}}else{for(let st=0;st<lt;st++)rt[st].sym=-1;for(let st=0;st<j.length;st++)if(!j[st].isNearlyIdentity()&&vt!=st){let ot=new a.Vector3;for(let ut=0;ut<lt;ut++){const et=[];for(let pt=0;pt<rt[ut].bonds.length;pt++)et.push(rt[ut].bonds[pt]+gt);if(ot.set(rt[ut].x,rt[ut].y,rt[ut].z),ot.applyMatrix4(j[st]),tt.wrapAtoms&&it){let pt=nt(ot);ot.add(pt)}const at={};for(const pt in rt[ut])at[pt]=rt[ut][pt];at.x=ot.x,at.y=ot.y,at.z=ot.z,at.bonds=et,at.sym=st,at.index=rt.length,rt.push(at)}gt=rt.length}else for(let ot=0;ot<lt;ot++)rt[ot].sym=st;if(tt.wrapAtoms&&it){let st=new a.Vector3;for(let ot=0;ot<lt;ot++){st.set(rt[ot].x,rt[ot].y,rt[ot].z);let ut=nt(st);st.add(ut),rt[ot].x=st.x,rt[ot].y=st.y,rt[ot].z=st.z}}if(vt>=0){const st=new a.Vector3;for(let ot=0;ot<lt;ot++)st.set(rt[ot].x,rt[ot].y,rt[ot].z),st.applyMatrix4(j[vt]),rt[ot].x=st.x,rt[ot].y=st.y,rt[ot].z=st.z}j.length=0}}},"./src/parsers/utils/standardResidues.ts":(i,s,o)=>{o.r(s),o.d(s,{standardResidues:()=>a});const a=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"])},"./src/parsers/utils/validateBonds.ts":(i,s,o)=>{o.r(s),o.d(s,{validateBonds:()=>a});function a(_,j){for(let rt=0,tt=_.length;rt<tt;rt++){const it=_[rt];for(let dt=0;dt<it.bonds.length;dt++){const lt=it.bonds[dt],gt=_[lt],vt=j[it.serial];gt&&vt&&gt.bonds.indexOf(vt)<0&&(gt.bonds.push(vt),gt.bondOrder.push(it.bondOrder[dt]))}}}},"./src/partialCharges.ts":(i,s,o)=>{o.r(s),o.d(s,{applyPartialCharges:()=>_,partialCharges:()=>a});const a={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function _(j,rt){if((!rt||typeof j.partialCharge>"u")&&j.resn&&j.atom){var tt=j.resn+":"+j.atom;j.properties.partialCharge=a[tt]}}},"./src/specs.ts":(i,s,o)=>{o.r(s)},"./src/utilities.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,inflateString:()=>inflateString,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/Gradient.ts"),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/VolumeData.ts"),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/colors.ts"),pako__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/pako/dist/pako.esm.mjs");function extend(i,s){for(var o in s)s.hasOwnProperty(o)&&s[o]!==void 0&&(i[o]=s[o]);return i}function deepCopy(i){let s,o,a;if(i==null)return{};if(typeof i!="object"||i===null)return i;s=Array.isArray(i)?[]:{};for(a in i)o=i[a],s[a]=deepCopy(o);return s}function isNumeric(i){var s=typeof i;return(s==="number"||s==="string")&&!isNaN(i-parseFloat(i))}function isEmptyObject(i){var s;for(s in i)return!1;return!0}function makeFunction(callback){return callback&&typeof callback=="string"&&(callback=eval("("+callback+")")),callback&&typeof callback!="function"?(console.warn("Invalid callback provided."),()=>{}):callback}function adjustVolumeStyle(i){i&&(i.volformat&&!(i.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData)&&(i.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(i.voldata,i.volformat)),i.volscheme&&(i.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(i.volscheme)))}function getExtent(i,s){var o,a,_,j,rt,tt,it,dt,lt,gt,vt=!s;if(o=a=_=9999,j=rt=tt=-9999,it=dt=lt=gt=0,i.length===0)return[[0,0,0],[0,0,0],[0,0,0]];for(var ht=0;ht<i.length;ht++){var mt=i[ht];if(!(typeof mt>"u"||!isFinite(mt.x)||!isFinite(mt.y)||!isFinite(mt.z))&&(gt++,it+=mt.x,dt+=mt.y,lt+=mt.z,o=o<mt.x?o:mt.x,a=a<mt.y?a:mt.y,_=_<mt.z?_:mt.z,j=j>mt.x?j:mt.x,rt=rt>mt.y?rt:mt.y,tt=tt>mt.z?tt:mt.z,mt.symmetries&&vt))for(var nt=0;nt<mt.symmetries.length;nt++)gt++,it+=mt.symmetries[nt].x,dt+=mt.symmetries[nt].y,lt+=mt.symmetries[nt].z,o=o<mt.symmetries[nt].x?o:mt.symmetries[nt].x,a=a<mt.symmetries[nt].y?a:mt.symmetries[nt].y,_=_<mt.symmetries[nt].z?_:mt.symmetries[nt].z,j=j>mt.symmetries[nt].x?j:mt.symmetries[nt].x,rt=rt>mt.symmetries[nt].y?rt:mt.symmetries[nt].y,tt=tt>mt.symmetries[nt].z?tt:mt.symmetries[nt].z}return[[o,a,_],[j,rt,tt],[it/gt,dt/gt,lt/gt]]}function getPropertyRange(i,s){for(var o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,_=0,j=i.length;_<j;_++){var rt=i[_],tt=getAtomProperty(rt,s);tt!=null&&(tt<o&&(o=tt),tt>a&&(a=tt))}return!isFinite(o)&&!isFinite(a)?o=a=0:isFinite(o)?isFinite(a)||(a=o):o=a,[o,a]}class PausableTimer{constructor(s,o,a){this.total_time_run=0,this.fn=s,this.arg=a,this.countdown=o,this.start_time=new Date().getTime(),this.ident=setTimeout(s,o,a)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=new Date().getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(i){for(var s=window.atob(i),o=s.length,a=new Uint8Array(o),_=0;_<o;_++)a[_]=s.charCodeAt(_);return a}function getAtomProperty(i,s){var o=null;return i.properties&&typeof i.properties[s]<"u"?o=i.properties[s]:typeof i[s]<"u"&&(o=i[s]),o}function mergeGeos(i,s){var o=s.geometry;o!==void 0&&i.geometryGroups.push(o.geometryGroups[0])}function specStringToObject(i){if(typeof i=="object")return i;if(typeof i>"u"||i==null)return i;try{return JSON.parse(i)}catch{}i=i.replace(/%7E/g,"~");var s=function(vt){return isNumeric(vt)?Math.floor(parseFloat(vt))==parseInt(vt)||vt.indexOf(".")>=0?parseFloat(vt):parseInt(vt):vt==="true"?!0:vt==="false"?!1:vt},o={};if(i==="all")return o;for(var a=i.split(";"),_=0;_<a.length;_++){var j=a[_].split(":"),rt=j[0],tt={},it=j[1];if(it)if(it=it.replace(/~/g,"="),it.indexOf("=")!==-1)for(var dt=it.split(","),lt=0;lt<dt.length;lt++){var gt=dt[lt].split("=",2);tt[gt[0]]=s(gt[1])}else it.indexOf(",")!==-1?tt=it.split(","):tt=s(it);o[rt]=tt}return o}function checkStatus(i){if(!i.ok)throw new Error(`HTTP ${i.status} - ${i.statusText}`);return i}function get(i,s){var o=fetch(i).then(checkStatus).then(a=>a.text());return s?o.then(s):o}function getbin(i,s,o,a){var _;return o=="POST"?_=fetch(i,{method:"POST",body:a}).then(j=>checkStatus(j)).then(j=>j.arrayBuffer()):_=fetch(i).then(j=>checkStatus(j)).then(j=>j.arrayBuffer()),s?_.then(s):_}function download(i,s,o,a){var _="",j="",rt="",tt=null,it=s.addModel();if(i.indexOf(":")<0&&(i.length==4?i="pdb:"+i:isNaN(i)?i="url:"+i:i="cid:"+i),i.substring(0,5)=="mmtf:"&&(console.warn("WARNING: MMTF now deprecated.  Reverting to bcif."),i="bcif:"+i.slice(5)),i.substring(0,5)==="bcif:")i=i.substring(5).toUpperCase(),rt="https://models.rcsb.org/"+i+".bcif.gz",o&&typeof o.noComputeSecondaryStructure>"u"&&(o.noComputeSecondaryStructure=!0),tt=new Promise(function(lt){getbin(rt).then(function(gt){it.addMolData(gt,"bcif.gz",o),s.zoomTo(),s.render(),lt(it)},function(){console.error("fetch of "+rt+" failed.")})});else{if(i.substring(0,4)==="pdb:"){if(_="bcif",o&&o.format&&(_=o.format),o&&typeof o.noComputeSecondaryStructure>"u"&&(o.noComputeSecondaryStructure=!0),i=i.substring(4).toUpperCase(),!i.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}_=="bcif"?rt="https://models.rcsb.org/"+i.toUpperCase()+".bcif.gz":(j=o&&o.pdbUri?o.pdbUri:"https://files.rcsb.org/view/",rt=j+i+"."+_)}else if(i.substring(0,4)=="cid:"){if(_="sdf",i=i.substring(4),!i.match(/^[0-9]+$/)){alert("Wrong Compound ID");return}rt="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+i+"/SDF?record_type=3d"}else i.substring(0,4)=="url:"&&(rt=i.substring(4),_=rt);var dt=function(lt){it.addMolData(lt,_,o),s.zoomTo(),s.render()};tt=new Promise(function(lt){_=="bcif"?getbin(rt).then(function(gt){dt(gt),lt(it)}).catch(function(){j=o&&o.pdbUri?o.pdbUri:"https://files.rcsb.org/view/",rt=j+i+".pdb",_="pdb",console.warn("falling back to pdb format"),get(rt).then(function(gt){dt(gt),lt(it)}).catch(function(gt){dt(""),lt(it),console.error("fetch of "+rt+" failed: "+gt.statusText)})}):get(rt).then(function(gt){dt(gt),lt(it)}).catch(function(gt){dt(""),lt(it),console.error("fetch of "+rt+" failed: "+gt.statusText)})})}return a?(tt.then(function(lt){a(lt)}),it):tt}function getColorFromStyle(i,s){let o=s.colorscheme;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o]<"u")o=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o];else if(typeof o=="string"&&o.endsWith("Carbon")){let rt=o.substring(0,o.lastIndexOf("Carbon")).toLowerCase();if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[rt]<"u"){let tt=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);tt.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[rt],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o]={prop:"elem",map:tt},o=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o]}}let a=i.color;if(typeof s.color<"u"&&s.color!="spectrum"&&(a=s.color),typeof o<"u"){let rt,tt;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[o]<"u")o=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[o],typeof o[i[o.prop]]<"u"&&(a=o.map[i[o.prop]]);else if(typeof o[i[o.prop]]<"u")a=o.map[i[o.prop]];else if(typeof o.prop<"u"&&typeof o.gradient<"u"){rt=o.prop;var _=o.gradient;_ instanceof _Gradient__WEBPACK_IMPORTED_MODULE_0__.GradientType||(_=(0,_Gradient__WEBPACK_IMPORTED_MODULE_0__.getGradient)(o));let it=_.range()||[-1,1];tt=getAtomProperty(i,rt),tt!=null&&(a=_.valueToHex(tt,it))}else typeof o.prop<"u"&&typeof o.map<"u"?(rt=o.prop,tt=getAtomProperty(i,rt),typeof o.map[tt]<"u"&&(a=o.map[tt])):typeof s.colorscheme[i.elem]<"u"?a=s.colorscheme[i.elem]:console.warn("Could not interpret colorscheme "+o)}else typeof s.colorfunc<"u"&&(a=s.colorfunc(i));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(a)}function getElement(i){let s=i;return typeof i=="string"?s=document.querySelector("#"+i):typeof i=="object"&&i.get&&(s=i.get(0)),s}function inflateString(i,s=!0){let o;return typeof i=="string"?o=new TextEncoder().encode(i):o=new Uint8Array(i),(0,pako__WEBPACK_IMPORTED_MODULE_3__.inflate)(o,{to:s?"string":null})}},"./node_modules/upng-js/UPNG.js":(i,s,o)=>{(function(){var a={},_;i.exports=a,_=o("./node_modules/upng-js/node_modules/pako/index.js"),function(j,rt){j.toRGBA8=function(tt){var it=tt.width,dt=tt.height;if(tt.tabs.acTL==null)return[j.toRGBA8.decodeImage(tt.data,it,dt,tt).buffer];var lt=[];tt.frames[0].data==null&&(tt.frames[0].data=tt.data);for(var gt,vt=new Uint8Array(it*dt*4),ht=0;ht<tt.frames.length;ht++){var mt=tt.frames[ht],nt=mt.rect.x,$=mt.rect.y,_e=mt.rect.width,st=mt.rect.height,ot=j.toRGBA8.decodeImage(mt.data,_e,st,tt);if(ht==0?gt=ot:mt.blend==0?j._copyTile(ot,_e,st,gt,it,dt,nt,$,0):mt.blend==1&&j._copyTile(ot,_e,st,gt,it,dt,nt,$,1),lt.push(gt.buffer),gt=gt.slice(0),mt.dispose!=0){if(mt.dispose==1)j._copyTile(vt,_e,st,gt,it,dt,nt,$,0);else if(mt.dispose==2){for(var ut=ht-1;tt.frames[ut].dispose==2;)ut--;gt=new Uint8Array(lt[ut]).slice(0)}}}return lt},j.toRGBA8.decodeImage=function(tt,it,dt,lt){var gt=it*dt,vt=j.decode._getBPP(lt),ht=Math.ceil(it*vt/8),mt=new Uint8Array(gt*4),nt=new Uint32Array(mt.buffer),$=lt.ctype,_e=lt.depth,st=j._bin.readUshort;if($==6){var ot=gt<<2;if(_e==8)for(var ut=0;ut<ot;ut++)mt[ut]=tt[ut];if(_e==16)for(var ut=0;ut<ot;ut++)mt[ut]=tt[ut<<1]}else if($==2){var et=lt.tabs.tRNS,at=-1,pt=-1,ct=-1;if(et&&(at=et[0],pt=et[1],ct=et[2]),_e==8)for(var ut=0;ut<gt;ut++){var yt=ut<<2,ft=ut*3;mt[yt]=tt[ft],mt[yt+1]=tt[ft+1],mt[yt+2]=tt[ft+2],mt[yt+3]=255,at!=-1&&tt[ft]==at&&tt[ft+1]==pt&&tt[ft+2]==ct&&(mt[yt+3]=0)}if(_e==16)for(var ut=0;ut<gt;ut++){var yt=ut<<2,ft=ut*6;mt[yt]=tt[ft],mt[yt+1]=tt[ft+2],mt[yt+2]=tt[ft+4],mt[yt+3]=255,at!=-1&&st(tt,ft)==at&&st(tt,ft+2)==pt&&st(tt,ft+4)==ct&&(mt[yt+3]=0)}}else if($==3){var _t=lt.tabs.PLTE,wt=lt.tabs.tRNS,Et=wt?wt.length:0;if(_e==1)for(var Mt=0;Mt<dt;Mt++)for(var St=Mt*ht,At=Mt*it,ut=0;ut<it;ut++){var yt=At+ut<<2,Rt=tt[St+(ut>>3)]>>7-((ut&7)<<0)&1,Ct=3*Rt;mt[yt]=_t[Ct],mt[yt+1]=_t[Ct+1],mt[yt+2]=_t[Ct+2],mt[yt+3]=Rt<Et?wt[Rt]:255}if(_e==2)for(var Mt=0;Mt<dt;Mt++)for(var St=Mt*ht,At=Mt*it,ut=0;ut<it;ut++){var yt=At+ut<<2,Rt=tt[St+(ut>>2)]>>6-((ut&3)<<1)&3,Ct=3*Rt;mt[yt]=_t[Ct],mt[yt+1]=_t[Ct+1],mt[yt+2]=_t[Ct+2],mt[yt+3]=Rt<Et?wt[Rt]:255}if(_e==4)for(var Mt=0;Mt<dt;Mt++)for(var St=Mt*ht,At=Mt*it,ut=0;ut<it;ut++){var yt=At+ut<<2,Rt=tt[St+(ut>>1)]>>4-((ut&1)<<2)&15,Ct=3*Rt;mt[yt]=_t[Ct],mt[yt+1]=_t[Ct+1],mt[yt+2]=_t[Ct+2],mt[yt+3]=Rt<Et?wt[Rt]:255}if(_e==8)for(var ut=0;ut<gt;ut++){var yt=ut<<2,Rt=tt[ut],Ct=3*Rt;mt[yt]=_t[Ct],mt[yt+1]=_t[Ct+1],mt[yt+2]=_t[Ct+2],mt[yt+3]=Rt<Et?wt[Rt]:255}}else if($==4){if(_e==8)for(var ut=0;ut<gt;ut++){var yt=ut<<2,Pt=ut<<1,Lt=tt[Pt];mt[yt]=Lt,mt[yt+1]=Lt,mt[yt+2]=Lt,mt[yt+3]=tt[Pt+1]}if(_e==16)for(var ut=0;ut<gt;ut++){var yt=ut<<2,Pt=ut<<2,Lt=tt[Pt];mt[yt]=Lt,mt[yt+1]=Lt,mt[yt+2]=Lt,mt[yt+3]=tt[Pt+2]}}else if($==0){var at=lt.tabs.tRNS?lt.tabs.tRNS:-1;if(_e==1)for(var ut=0;ut<gt;ut++){var Lt=255*(tt[ut>>3]>>7-(ut&7)&1),Ot=Lt==at*255?0:255;nt[ut]=Ot<<24|Lt<<16|Lt<<8|Lt}if(_e==2)for(var ut=0;ut<gt;ut++){var Lt=85*(tt[ut>>2]>>6-((ut&3)<<1)&3),Ot=Lt==at*85?0:255;nt[ut]=Ot<<24|Lt<<16|Lt<<8|Lt}if(_e==4)for(var ut=0;ut<gt;ut++){var Lt=17*(tt[ut>>1]>>4-((ut&1)<<2)&15),Ot=Lt==at*17?0:255;nt[ut]=Ot<<24|Lt<<16|Lt<<8|Lt}if(_e==8)for(var ut=0;ut<gt;ut++){var Lt=tt[ut],Ot=Lt==at?0:255;nt[ut]=Ot<<24|Lt<<16|Lt<<8|Lt}if(_e==16)for(var ut=0;ut<gt;ut++){var Lt=tt[ut<<1],Ot=st(tt,ut<<1)==at?0:255;nt[ut]=Ot<<24|Lt<<16|Lt<<8|Lt}}return mt},j.decode=function(tt){for(var it=new Uint8Array(tt),dt=8,lt=j._bin,gt=lt.readUshort,vt=lt.readUint,ht={tabs:{},frames:[]},mt=new Uint8Array(it.length),nt=0,$,_e=0,st=[137,80,78,71,13,10,26,10],ot=0;ot<8;ot++)if(it[ot]!=st[ot])throw"The input is not a PNG file!";for(;dt<it.length;){var ut=lt.readUint(it,dt);dt+=4;var et=lt.readASCII(it,dt,4);if(dt+=4,et=="IHDR")j.decode._IHDR(it,dt,ht);else if(et=="IDAT"){for(var ot=0;ot<ut;ot++)mt[nt+ot]=it[dt+ot];nt+=ut}else if(et=="acTL")ht.tabs[et]={num_frames:vt(it,dt),num_plays:vt(it,dt+4)},$=new Uint8Array(it.length);else if(et=="fcTL"){if(_e!=0){var at=ht.frames[ht.frames.length-1];at.data=j.decode._decompress(ht,$.slice(0,_e),at.rect.width,at.rect.height),_e=0}var pt={x:vt(it,dt+12),y:vt(it,dt+16),width:vt(it,dt+4),height:vt(it,dt+8)},ct=gt(it,dt+22);ct=gt(it,dt+20)/(ct==0?100:ct);var yt={rect:pt,delay:Math.round(ct*1e3),dispose:it[dt+24],blend:it[dt+25]};ht.frames.push(yt)}else if(et=="fdAT"){for(var ot=0;ot<ut-4;ot++)$[_e+ot]=it[dt+ot+4];_e+=ut-4}else if(et=="pHYs")ht.tabs[et]=[lt.readUint(it,dt),lt.readUint(it,dt+4),it[dt+8]];else if(et=="cHRM"){ht.tabs[et]=[];for(var ot=0;ot<8;ot++)ht.tabs[et].push(lt.readUint(it,dt+ot*4))}else if(et=="tEXt"){ht.tabs[et]==null&&(ht.tabs[et]={});var ft=lt.nextZero(it,dt),_t=lt.readASCII(it,dt,ft-dt),wt=lt.readASCII(it,ft+1,dt+ut-ft-1);ht.tabs[et][_t]=wt}else if(et=="iTXt"){ht.tabs[et]==null&&(ht.tabs[et]={});var ft=0,Et=dt;ft=lt.nextZero(it,Et);var _t=lt.readASCII(it,Et,ft-Et);Et=ft+1,it[Et],it[Et+1],Et+=2,ft=lt.nextZero(it,Et),lt.readASCII(it,Et,ft-Et),Et=ft+1,ft=lt.nextZero(it,Et),lt.readUTF8(it,Et,ft-Et),Et=ft+1;var wt=lt.readUTF8(it,Et,ut-(Et-dt));ht.tabs[et][_t]=wt}else if(et=="PLTE")ht.tabs[et]=lt.readBytes(it,dt,ut);else if(et=="hIST"){var Mt=ht.tabs.PLTE.length/3;ht.tabs[et]=[];for(var ot=0;ot<Mt;ot++)ht.tabs[et].push(gt(it,dt+ot*2))}else if(et=="tRNS")ht.ctype==3?ht.tabs[et]=lt.readBytes(it,dt,ut):ht.ctype==0?ht.tabs[et]=gt(it,dt):ht.ctype==2&&(ht.tabs[et]=[gt(it,dt),gt(it,dt+2),gt(it,dt+4)]);else if(et=="gAMA")ht.tabs[et]=lt.readUint(it,dt)/1e5;else if(et=="sRGB")ht.tabs[et]=it[dt];else if(et=="bKGD")ht.ctype==0||ht.ctype==4?ht.tabs[et]=[gt(it,dt)]:ht.ctype==2||ht.ctype==6?ht.tabs[et]=[gt(it,dt),gt(it,dt+2),gt(it,dt+4)]:ht.ctype==3&&(ht.tabs[et]=it[dt]);else if(et=="IEND"){if(_e!=0){var at=ht.frames[ht.frames.length-1];at.data=j.decode._decompress(ht,$.slice(0,_e),at.rect.width,at.rect.height),_e=0}ht.data=j.decode._decompress(ht,mt,ht.width,ht.height);break}dt+=ut,lt.readUint(it,dt),dt+=4}return delete ht.compress,delete ht.interlace,delete ht.filter,ht},j.decode._decompress=function(tt,it,dt,lt){return tt.compress==0&&(it=j.decode._inflate(it)),tt.interlace==0?it=j.decode._filterZero(it,tt,0,dt,lt):tt.interlace==1&&(it=j.decode._readInterlace(it,tt)),it},j.decode._inflate=function(tt){return rt.inflate(tt)},j.decode._readInterlace=function(tt,it){for(var dt=it.width,lt=it.height,gt=j.decode._getBPP(it),vt=gt>>3,ht=Math.ceil(dt*gt/8),mt=new Uint8Array(lt*ht),nt=0,$=[0,0,4,0,2,0,1],_e=[0,4,0,2,0,1,0],st=[8,8,8,4,4,2,2],ot=[8,8,4,4,2,2,1],ut=0;ut<7;){for(var et=st[ut],at=ot[ut],pt=0,ct=0,yt=$[ut];yt<lt;)yt+=et,ct++;for(var ft=_e[ut];ft<dt;)ft+=at,pt++;var _t=Math.ceil(pt*gt/8);j.decode._filterZero(tt,it,nt,pt,ct);for(var wt=0,Et=$[ut];Et<lt;){for(var Mt=_e[ut],St=nt+wt*_t<<3;Mt<dt;){if(gt==1){var At=tt[St>>3];At=At>>7-(St&7)&1,mt[Et*ht+(Mt>>3)]|=At<<7-((Mt&3)<<0)}if(gt==2){var At=tt[St>>3];At=At>>6-(St&7)&3,mt[Et*ht+(Mt>>2)]|=At<<6-((Mt&3)<<1)}if(gt==4){var At=tt[St>>3];At=At>>4-(St&7)&15,mt[Et*ht+(Mt>>1)]|=At<<4-((Mt&1)<<2)}if(gt>=8)for(var Rt=Et*ht+Mt*vt,Ct=0;Ct<vt;Ct++)mt[Rt+Ct]=tt[(St>>3)+Ct];St+=gt,Mt+=at}wt++,Et+=et}pt*ct!=0&&(nt+=ct*(1+_t)),ut=ut+1}return mt},j.decode._getBPP=function(tt){var it=[1,null,3,1,2,null,4][tt.ctype];return it*tt.depth},j.decode._filterZero=function(tt,it,dt,lt,gt){var vt=j.decode._getBPP(it),ht=Math.ceil(lt*vt/8),mt=j.decode._paeth;vt=Math.ceil(vt/8);for(var nt=0;nt<gt;nt++){var $=dt+nt*ht,_e=$+nt+1,st=tt[_e-1];if(st==0)for(var ot=0;ot<ht;ot++)tt[$+ot]=tt[_e+ot];else if(st==1){for(var ot=0;ot<vt;ot++)tt[$+ot]=tt[_e+ot];for(var ot=vt;ot<ht;ot++)tt[$+ot]=tt[_e+ot]+tt[$+ot-vt]&255}else if(nt==0){for(var ot=0;ot<vt;ot++)tt[$+ot]=tt[_e+ot];if(st==2)for(var ot=vt;ot<ht;ot++)tt[$+ot]=tt[_e+ot]&255;if(st==3)for(var ot=vt;ot<ht;ot++)tt[$+ot]=tt[_e+ot]+(tt[$+ot-vt]>>1)&255;if(st==4)for(var ot=vt;ot<ht;ot++)tt[$+ot]=tt[_e+ot]+mt(tt[$+ot-vt],0,0)&255}else{if(st==2)for(var ot=0;ot<ht;ot++)tt[$+ot]=tt[_e+ot]+tt[$+ot-ht]&255;if(st==3){for(var ot=0;ot<vt;ot++)tt[$+ot]=tt[_e+ot]+(tt[$+ot-ht]>>1)&255;for(var ot=vt;ot<ht;ot++)tt[$+ot]=tt[_e+ot]+(tt[$+ot-ht]+tt[$+ot-vt]>>1)&255}if(st==4){for(var ot=0;ot<vt;ot++)tt[$+ot]=tt[_e+ot]+mt(0,tt[$+ot-ht],0)&255;for(var ot=vt;ot<ht;ot++)tt[$+ot]=tt[_e+ot]+mt(tt[$+ot-vt],tt[$+ot-ht],tt[$+ot-vt-ht])&255}}}return tt},j.decode._paeth=function(tt,it,dt){var lt=tt+it-dt,gt=Math.abs(lt-tt),vt=Math.abs(lt-it),ht=Math.abs(lt-dt);return gt<=vt&&gt<=ht?tt:vt<=ht?it:dt},j.decode._IHDR=function(tt,it,dt){var lt=j._bin;dt.width=lt.readUint(tt,it),it+=4,dt.height=lt.readUint(tt,it),it+=4,dt.depth=tt[it],it++,dt.ctype=tt[it],it++,dt.compress=tt[it],it++,dt.filter=tt[it],it++,dt.interlace=tt[it],it++},j._bin={nextZero:function(tt,it){for(;tt[it]!=0;)it++;return it},readUshort:function(tt,it){return tt[it]<<8|tt[it+1]},writeUshort:function(tt,it,dt){tt[it]=dt>>8&255,tt[it+1]=dt&255},readUint:function(tt,it){return tt[it]*16777216+(tt[it+1]<<16|tt[it+2]<<8|tt[it+3])},writeUint:function(tt,it,dt){tt[it]=dt>>24&255,tt[it+1]=dt>>16&255,tt[it+2]=dt>>8&255,tt[it+3]=dt&255},readASCII:function(tt,it,dt){for(var lt="",gt=0;gt<dt;gt++)lt+=String.fromCharCode(tt[it+gt]);return lt},writeASCII:function(tt,it,dt){for(var lt=0;lt<dt.length;lt++)tt[it+lt]=dt.charCodeAt(lt)},readBytes:function(tt,it,dt){for(var lt=[],gt=0;gt<dt;gt++)lt.push(tt[it+gt]);return lt},pad:function(tt){return tt.length<2?"0"+tt:tt},readUTF8:function(tt,it,dt){for(var lt="",gt,vt=0;vt<dt;vt++)lt+="%"+j._bin.pad(tt[it+vt].toString(16));try{gt=decodeURIComponent(lt)}catch{return j._bin.readASCII(tt,it,dt)}return gt}},j._copyTile=function(tt,it,dt,lt,gt,vt,ht,mt,nt){for(var $=Math.min(it,gt),_e=Math.min(dt,vt),st=0,ot=0,ut=0;ut<_e;ut++)for(var et=0;et<$;et++)if(ht>=0&&mt>=0?(st=ut*it+et<<2,ot=(mt+ut)*gt+ht+et<<2):(st=(-mt+ut)*it-ht+et<<2,ot=ut*gt+et<<2),nt==0)lt[ot]=tt[st],lt[ot+1]=tt[st+1],lt[ot+2]=tt[st+2],lt[ot+3]=tt[st+3];else if(nt==1){var at=tt[st+3]*.00392156862745098,pt=tt[st]*at,ct=tt[st+1]*at,yt=tt[st+2]*at,ft=lt[ot+3]*(1/255),_t=lt[ot]*ft,wt=lt[ot+1]*ft,Et=lt[ot+2]*ft,Mt=1-at,St=at+ft*Mt,At=St==0?0:1/St;lt[ot+3]=255*St,lt[ot+0]=(pt+_t*Mt)*At,lt[ot+1]=(ct+wt*Mt)*At,lt[ot+2]=(yt+Et*Mt)*At}else if(nt==2){var at=tt[st+3],pt=tt[st],ct=tt[st+1],yt=tt[st+2],ft=lt[ot+3],_t=lt[ot],wt=lt[ot+1],Et=lt[ot+2];at==ft&&pt==_t&&ct==wt&&yt==Et?(lt[ot]=0,lt[ot+1]=0,lt[ot+2]=0,lt[ot+3]=0):(lt[ot]=pt,lt[ot+1]=ct,lt[ot+2]=yt,lt[ot+3]=at)}else if(nt==3){var at=tt[st+3],pt=tt[st],ct=tt[st+1],yt=tt[st+2],ft=lt[ot+3],_t=lt[ot],wt=lt[ot+1],Et=lt[ot+2];if(at==ft&&pt==_t&&ct==wt&&yt==Et)continue;if(at<220&&ft>20)return!1}return!0},j.encode=function(tt,it,dt,lt,gt,vt){lt==null&&(lt=0),vt==null&&(vt=!1);for(var ht=new Uint8Array(tt[0].byteLength*tt.length+100),mt=[137,80,78,71,13,10,26,10],nt=0;nt<8;nt++)ht[nt]=mt[nt];var $=8,_e=j._bin,st=j.crc.crc,ot=_e.writeUint,ut=_e.writeUshort,et=_e.writeASCII,at=j.encode.compressPNG(tt,it,dt,lt,vt);ot(ht,$,13),$+=4,et(ht,$,"IHDR"),$+=4,ot(ht,$,it),$+=4,ot(ht,$,dt),$+=4,ht[$]=at.depth,$++,ht[$]=at.ctype,$++,ht[$]=0,$++,ht[$]=0,$++,ht[$]=0,$++,ot(ht,$,st(ht,$-17,17)),$+=4,ot(ht,$,1),$+=4,et(ht,$,"sRGB"),$+=4,ht[$]=1,$++,ot(ht,$,st(ht,$-5,5)),$+=4;var pt=tt.length>1;if(pt&&(ot(ht,$,8),$+=4,et(ht,$,"acTL"),$+=4,ot(ht,$,tt.length),$+=4,ot(ht,$,0),$+=4,ot(ht,$,st(ht,$-12,12)),$+=4),at.ctype==3){var ct=at.plte.length;ot(ht,$,ct*3),$+=4,et(ht,$,"PLTE"),$+=4;for(var nt=0;nt<ct;nt++){var yt=nt*3,ft=at.plte[nt],_t=ft&255,wt=ft>>8&255,Et=ft>>16&255;ht[$+yt+0]=_t,ht[$+yt+1]=wt,ht[$+yt+2]=Et}if($+=ct*3,ot(ht,$,st(ht,$-ct*3-4,ct*3+4)),$+=4,at.gotAlpha){ot(ht,$,ct),$+=4,et(ht,$,"tRNS"),$+=4;for(var nt=0;nt<ct;nt++)ht[$+nt]=at.plte[nt]>>24&255;$+=ct,ot(ht,$,st(ht,$-ct-4,ct+4)),$+=4}}for(var Mt=0,St=0;St<at.frames.length;St++){var At=at.frames[St];pt&&(ot(ht,$,26),$+=4,et(ht,$,"fcTL"),$+=4,ot(ht,$,Mt++),$+=4,ot(ht,$,At.rect.width),$+=4,ot(ht,$,At.rect.height),$+=4,ot(ht,$,At.rect.x),$+=4,ot(ht,$,At.rect.y),$+=4,ut(ht,$,gt[St]),$+=2,ut(ht,$,1e3),$+=2,ht[$]=At.dispose,$++,ht[$]=At.blend,$++,ot(ht,$,st(ht,$-30,30)),$+=4);var Rt=At.cimg,ct=Rt.length;ot(ht,$,ct+(St==0?0:4)),$+=4;var Ct=$;et(ht,$,St==0?"IDAT":"fdAT"),$+=4,St!=0&&(ot(ht,$,Mt++),$+=4);for(var nt=0;nt<ct;nt++)ht[$+nt]=Rt[nt];$+=ct,ot(ht,$,st(ht,Ct,$-Ct)),$+=4}return ot(ht,$,0),$+=4,et(ht,$,"IEND"),$+=4,ot(ht,$,st(ht,$-4,4)),$+=4,ht.buffer.slice(0,$)},j.encode.compressPNG=function(tt,it,dt,lt,gt){for(var vt=j.encode.compress(tt,it,dt,lt,!1,gt),ht=0;ht<tt.length;ht++){var mt=vt.frames[ht];mt.rect.width;var nt=mt.rect.height,$=mt.bpl,_e=mt.bpp,st=new Uint8Array(nt*$+nt);mt.cimg=j.encode._filterZero(mt.img,nt,_e,$,st)}return vt},j.encode.compress=function(tt,it,dt,lt,gt,vt){vt==null&&(vt=!1);for(var ht=6,mt=8,nt=4,$=255,_e=0;_e<tt.length;_e++)for(var st=new Uint8Array(tt[_e]),ot=st.length,ut=0;ut<ot;ut+=4)$&=st[ut+3];var et=$!=255,at={},pt=[];if(tt.length!=0&&(at[0]=0,pt.push(0),lt!=0&&lt--),lt!=0){var ct=j.quantize(tt,lt,gt);tt=ct.bufs;for(var ut=0;ut<ct.plte.length;ut++){var yt=ct.plte[ut].est.rgba;at[yt]==null&&(at[yt]=pt.length,pt.push(yt))}}else for(var _e=0;_e<tt.length;_e++)for(var ft=new Uint32Array(tt[_e]),ot=ft.length,ut=0;ut<ot;ut++){var yt=ft[ut];if((ut<it||yt!=ft[ut-1]&&yt!=ft[ut-it])&&at[yt]==null&&(at[yt]=pt.length,pt.push(yt),pt.length>=300))break}var _t=et?gt:!1,wt=pt.length;wt<=256&&vt==!1&&(wt<=2?mt=1:wt<=4?mt=2:wt<=16?mt=4:mt=8,gt&&(mt=8),et=!0);for(var Et=[],_e=0;_e<tt.length;_e++){var Mt=new Uint8Array(tt[_e]),St=new Uint32Array(Mt.buffer),At=0,Rt=0,Ct=it,Pt=dt,Lt=0;if(_e!=0&&!_t){for(var Ot=gt||_e==1||Et[Et.length-2].dispose==2?1:2,It=0,$t=1e9,jt=0;jt<Ot;jt++){for(var rr=new Uint8Array(tt[_e-1-jt]),Zt=new Uint32Array(tt[_e-1-jt]),qt=it,er=dt,Yt=-1,Qt=-1,cr=0;cr<dt;cr++)for(var lr=0;lr<it;lr++){var ut=cr*it+lr;St[ut]!=Zt[ut]&&(lr<qt&&(qt=lr),lr>Yt&&(Yt=lr),cr<er&&(er=cr),cr>Qt&&(Qt=cr))}var gr=Yt==-1?1:(Yt-qt+1)*(Qt-er+1);gr<$t&&($t=gr,It=jt,Yt==-1?(At=Rt=0,Ct=Pt=1):(At=qt,Rt=er,Ct=Yt-qt+1,Pt=Qt-er+1))}var rr=new Uint8Array(tt[_e-1-It]);It==1&&(Et[Et.length-1].dispose=2);var Gt=new Uint8Array(Ct*Pt*4);new Uint32Array(Gt.buffer),j._copyTile(rr,it,dt,Gt,Ct,Pt,-At,-Rt,0),j._copyTile(Mt,it,dt,Gt,Ct,Pt,-At,-Rt,3)?(j._copyTile(Mt,it,dt,Gt,Ct,Pt,-At,-Rt,2),Lt=1):(j._copyTile(Mt,it,dt,Gt,Ct,Pt,-At,-Rt,0),Lt=0),Mt=Gt,St=new Uint32Array(Mt.buffer)}var nr=4*Ct;if(wt<=256&&vt==!1){nr=Math.ceil(mt*Ct/8);for(var Gt=new Uint8Array(nr*Pt),cr=0;cr<Pt;cr++){var ut=cr*nr,_r=cr*Ct;if(mt==8)for(var lr=0;lr<Ct;lr++)Gt[ut+lr]=at[St[_r+lr]];else if(mt==4)for(var lr=0;lr<Ct;lr++)Gt[ut+(lr>>1)]|=at[St[_r+lr]]<<4-(lr&1)*4;else if(mt==2)for(var lr=0;lr<Ct;lr++)Gt[ut+(lr>>2)]|=at[St[_r+lr]]<<6-(lr&3)*2;else if(mt==1)for(var lr=0;lr<Ct;lr++)Gt[ut+(lr>>3)]|=at[St[_r+lr]]<<7-(lr&7)*1}Mt=Gt,ht=3,nt=1}else if(et==!1&&tt.length==1){for(var Gt=new Uint8Array(Ct*Pt*3),Sr=Ct*Pt,ut=0;ut<Sr;ut++){var Ar=ut*3,Rr=ut*4;Gt[Ar]=Mt[Rr],Gt[Ar+1]=Mt[Rr+1],Gt[Ar+2]=Mt[Rr+2]}Mt=Gt,ht=2,nt=3,nr=3*Ct}Et.push({rect:{x:At,y:Rt,width:Ct,height:Pt},img:Mt,bpl:nr,bpp:nt,blend:Lt,dispose:_t?1:0})}return{ctype:ht,depth:mt,plte:pt,gotAlpha:et,frames:Et}},j.encode._filterZero=function(tt,it,dt,lt,gt){for(var vt=[],ht=0;ht<5;ht++)if(!(it*lt>5e5&&(ht==2||ht==3||ht==4))){for(var mt=0;mt<it;mt++)j.encode._filterLine(gt,tt,mt,lt,dt,ht);if(vt.push(rt.deflate(gt)),dt==1)break}for(var nt,$=1e9,_e=0;_e<vt.length;_e++)vt[_e].length<$&&(nt=_e,$=vt[_e].length);return vt[nt]},j.encode._filterLine=function(tt,it,dt,lt,gt,vt){var ht=dt*lt,mt=ht+dt,nt=j.decode._paeth;if(tt[mt]=vt,mt++,vt==0)for(var $=0;$<lt;$++)tt[mt+$]=it[ht+$];else if(vt==1){for(var $=0;$<gt;$++)tt[mt+$]=it[ht+$];for(var $=gt;$<lt;$++)tt[mt+$]=it[ht+$]-it[ht+$-gt]+256&255}else if(dt==0){for(var $=0;$<gt;$++)tt[mt+$]=it[ht+$];if(vt==2)for(var $=gt;$<lt;$++)tt[mt+$]=it[ht+$];if(vt==3)for(var $=gt;$<lt;$++)tt[mt+$]=it[ht+$]-(it[ht+$-gt]>>1)+256&255;if(vt==4)for(var $=gt;$<lt;$++)tt[mt+$]=it[ht+$]-nt(it[ht+$-gt],0,0)+256&255}else{if(vt==2)for(var $=0;$<lt;$++)tt[mt+$]=it[ht+$]+256-it[ht+$-lt]&255;if(vt==3){for(var $=0;$<gt;$++)tt[mt+$]=it[ht+$]+256-(it[ht+$-lt]>>1)&255;for(var $=gt;$<lt;$++)tt[mt+$]=it[ht+$]+256-(it[ht+$-lt]+it[ht+$-gt]>>1)&255}if(vt==4){for(var $=0;$<gt;$++)tt[mt+$]=it[ht+$]+256-nt(0,it[ht+$-lt],0)&255;for(var $=gt;$<lt;$++)tt[mt+$]=it[ht+$]+256-nt(it[ht+$-gt],it[ht+$-lt],it[ht+$-gt-lt])&255}}},j.crc={table:function(){for(var tt=new Uint32Array(256),it=0;it<256;it++){for(var dt=it,lt=0;lt<8;lt++)dt&1?dt=3988292384^dt>>>1:dt=dt>>>1;tt[it]=dt}return tt}(),update:function(tt,it,dt,lt){for(var gt=0;gt<lt;gt++)tt=j.crc.table[(tt^it[dt+gt])&255]^tt>>>8;return tt},crc:function(tt,it,dt){return j.crc.update(4294967295,tt,it,dt)^4294967295}},j.quantize=function(tt,it,dt){for(var lt=[],gt=0,vt=0;vt<tt.length;vt++)lt.push(j.encode.alphaMul(new Uint8Array(tt[vt]),dt)),gt+=tt[vt].byteLength;for(var ht=new Uint8Array(gt),mt=new Uint32Array(ht.buffer),nt=0,vt=0;vt<lt.length;vt++){for(var $=lt[vt],_e=$.length,st=0;st<_e;st++)ht[nt+st]=$[st];nt+=_e}var ot={i0:0,i1:ht.length,bst:null,est:null,tdst:0,left:null,right:null};ot.bst=j.quantize.stats(ht,ot.i0,ot.i1),ot.est=j.quantize.estats(ot.bst);for(var ut=[ot];ut.length<it;){for(var et=0,at=0,vt=0;vt<ut.length;vt++)ut[vt].est.L>et&&(et=ut[vt].est.L,at=vt);if(et<.001)break;var pt=ut[at],ct=j.quantize.splitPixels(ht,mt,pt.i0,pt.i1,pt.est.e,pt.est.eMq255),yt={i0:pt.i0,i1:ct,bst:null,est:null,tdst:0,left:null,right:null};yt.bst=j.quantize.stats(ht,yt.i0,yt.i1),yt.est=j.quantize.estats(yt.bst);var ft={i0:ct,i1:pt.i1,bst:null,est:null,tdst:0,left:null,right:null};ft.bst={R:[],m:[],N:pt.bst.N-yt.bst.N};for(var vt=0;vt<16;vt++)ft.bst.R[vt]=pt.bst.R[vt]-yt.bst.R[vt];for(var vt=0;vt<4;vt++)ft.bst.m[vt]=pt.bst.m[vt]-yt.bst.m[vt];ft.est=j.quantize.estats(ft.bst),pt.left=yt,pt.right=ft,ut[at]=yt,ut.push(ft)}ut.sort(function(Ot,It){return It.bst.N-Ot.bst.N});for(var _t=0;_t<lt.length;_t++){for(var wt=j.quantize.planeDst,Et=new Uint8Array(lt[_t].buffer),Mt=new Uint32Array(lt[_t].buffer),St=Et.length,vt=0;vt<St;vt+=4){for(var At=Et[vt]*.00392156862745098,Rt=Et[vt+1]*(1/255),Ct=Et[vt+2]*(1/255),Pt=Et[vt+3]*(1/255),Lt=ot;Lt.left;)Lt=wt(Lt.est,At,Rt,Ct,Pt)<=0?Lt.left:Lt.right;Mt[vt>>2]=Lt.est.rgba}lt[_t]=Mt.buffer}return{bufs:lt,plte:ut}},j.quantize.getNearest=function(tt,it,dt,lt,gt){if(tt.left==null)return tt.tdst=j.quantize.dist(tt.est.q,it,dt,lt,gt),tt;var vt=j.quantize.planeDst(tt.est,it,dt,lt,gt),ht=tt.left,mt=tt.right;vt>0&&(ht=tt.right,mt=tt.left);var nt=j.quantize.getNearest(ht,it,dt,lt,gt);if(nt.tdst<=vt*vt)return nt;var $=j.quantize.getNearest(mt,it,dt,lt,gt);return $.tdst<nt.tdst?$:nt},j.quantize.planeDst=function(tt,it,dt,lt,gt){var vt=tt.e;return vt[0]*it+vt[1]*dt+vt[2]*lt+vt[3]*gt-tt.eMq},j.quantize.dist=function(tt,it,dt,lt,gt){var vt=it-tt[0],ht=dt-tt[1],mt=lt-tt[2],nt=gt-tt[3];return vt*vt+ht*ht+mt*mt+nt*nt},j.quantize.splitPixels=function(tt,it,dt,lt,gt,vt){var ht=j.quantize.vecDot;for(lt-=4;dt<lt;){for(;ht(tt,dt,gt)<=vt;)dt+=4;for(;ht(tt,lt,gt)>vt;)lt-=4;if(dt>=lt)break;var mt=it[dt>>2];it[dt>>2]=it[lt>>2],it[lt>>2]=mt,dt+=4,lt-=4}for(;ht(tt,dt,gt)>vt;)dt-=4;return dt+4},j.quantize.vecDot=function(tt,it,dt){return tt[it]*dt[0]+tt[it+1]*dt[1]+tt[it+2]*dt[2]+tt[it+3]*dt[3]},j.quantize.stats=function(tt,it,dt){for(var lt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],gt=[0,0,0,0],vt=dt-it>>2,ht=it;ht<dt;ht+=4){var mt=tt[ht]*.00392156862745098,nt=tt[ht+1]*(1/255),$=tt[ht+2]*(1/255),_e=tt[ht+3]*(1/255);gt[0]+=mt,gt[1]+=nt,gt[2]+=$,gt[3]+=_e,lt[0]+=mt*mt,lt[1]+=mt*nt,lt[2]+=mt*$,lt[3]+=mt*_e,lt[5]+=nt*nt,lt[6]+=nt*$,lt[7]+=nt*_e,lt[10]+=$*$,lt[11]+=$*_e,lt[15]+=_e*_e}return lt[4]=lt[1],lt[8]=lt[2],lt[12]=lt[3],lt[9]=lt[6],lt[13]=lt[7],lt[14]=lt[11],{R:lt,m:gt,N:vt}},j.quantize.estats=function(tt){var it=tt.R,dt=tt.m,lt=tt.N,gt=dt[0],vt=dt[1],ht=dt[2],mt=dt[3],nt=lt==0?0:1/lt,$=[it[0]-gt*gt*nt,it[1]-gt*vt*nt,it[2]-gt*ht*nt,it[3]-gt*mt*nt,it[4]-vt*gt*nt,it[5]-vt*vt*nt,it[6]-vt*ht*nt,it[7]-vt*mt*nt,it[8]-ht*gt*nt,it[9]-ht*vt*nt,it[10]-ht*ht*nt,it[11]-ht*mt*nt,it[12]-mt*gt*nt,it[13]-mt*vt*nt,it[14]-mt*ht*nt,it[15]-mt*mt*nt],_e=$,st=j.M4,ot=[.5,.5,.5,.5],ut=0,et=0;if(lt!=0)for(var at=0;at<10&&(ot=st.multVec(_e,ot),et=Math.sqrt(st.dot(ot,ot)),ot=st.sml(1/et,ot),!(Math.abs(et-ut)<1e-9));at++)ut=et;var pt=[gt*nt,vt*nt,ht*nt,mt*nt],ct=st.dot(st.sml(255,pt),ot),yt=pt[3]<.001?0:1/pt[3];return{Cov:$,q:pt,e:ot,L:ut,eMq255:ct,eMq:st.dot(ot,pt),rgba:(Math.round(255*pt[3])<<24|Math.round(255*pt[2]*yt)<<16|Math.round(255*pt[1]*yt)<<8|Math.round(255*pt[0]*yt)<<0)>>>0}},j.M4={multVec:function(tt,it){return[tt[0]*it[0]+tt[1]*it[1]+tt[2]*it[2]+tt[3]*it[3],tt[4]*it[0]+tt[5]*it[1]+tt[6]*it[2]+tt[7]*it[3],tt[8]*it[0]+tt[9]*it[1]+tt[10]*it[2]+tt[11]*it[3],tt[12]*it[0]+tt[13]*it[1]+tt[14]*it[2]+tt[15]*it[3]]},dot:function(tt,it){return tt[0]*it[0]+tt[1]*it[1]+tt[2]*it[2]+tt[3]*it[3]},sml:function(tt,it){return[tt*it[0],tt*it[1],tt*it[2],tt*it[3]]}},j.encode.alphaMul=function(tt,it){for(var dt=new Uint8Array(tt.length),lt=tt.length>>2,gt=0;gt<lt;gt++){var vt=gt<<2,ht=tt[vt+3];it&&(ht=ht<128?0:255);var mt=ht*(1/255);dt[vt+0]=tt[vt+0]*mt,dt[vt+1]=tt[vt+1]*mt,dt[vt+2]=tt[vt+2]*mt,dt[vt+3]=ht}return dt}}(a,_)})()},"./node_modules/upng-js/node_modules/pako/index.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js").assign,_=o("./node_modules/upng-js/node_modules/pako/lib/deflate.js"),j=o("./node_modules/upng-js/node_modules/pako/lib/inflate.js"),rt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),tt={};a(tt,_,j,rt),i.exports=tt},"./node_modules/upng-js/node_modules/pako/lib/deflate.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js"),_=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),j=o("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),rt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),tt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),it=Object.prototype.toString,dt=0,lt=4,gt=0,vt=1,ht=2,mt=-1,nt=0,$=8;function _e(et){if(!(this instanceof _e))return new _e(et);this.options=_.assign({level:mt,method:$,chunkSize:16384,windowBits:15,memLevel:8,strategy:nt,to:""},et||{});var at=this.options;at.raw&&at.windowBits>0?at.windowBits=-at.windowBits:at.gzip&&at.windowBits>0&&at.windowBits<16&&(at.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tt,this.strm.avail_out=0;var pt=a.deflateInit2(this.strm,at.level,at.method,at.windowBits,at.memLevel,at.strategy);if(pt!==gt)throw new Error(rt[pt]);if(at.header&&a.deflateSetHeader(this.strm,at.header),at.dictionary){var ct;if(typeof at.dictionary=="string"?ct=j.string2buf(at.dictionary):it.call(at.dictionary)==="[object ArrayBuffer]"?ct=new Uint8Array(at.dictionary):ct=at.dictionary,pt=a.deflateSetDictionary(this.strm,ct),pt!==gt)throw new Error(rt[pt]);this._dict_set=!0}}_e.prototype.push=function(et,at){var pt=this.strm,ct=this.options.chunkSize,yt,ft;if(this.ended)return!1;ft=at===~~at?at:at===!0?lt:dt,typeof et=="string"?pt.input=j.string2buf(et):it.call(et)==="[object ArrayBuffer]"?pt.input=new Uint8Array(et):pt.input=et,pt.next_in=0,pt.avail_in=pt.input.length;do{if(pt.avail_out===0&&(pt.output=new _.Buf8(ct),pt.next_out=0,pt.avail_out=ct),yt=a.deflate(pt,ft),yt!==vt&&yt!==gt)return this.onEnd(yt),this.ended=!0,!1;(pt.avail_out===0||pt.avail_in===0&&(ft===lt||ft===ht))&&(this.options.to==="string"?this.onData(j.buf2binstring(_.shrinkBuf(pt.output,pt.next_out))):this.onData(_.shrinkBuf(pt.output,pt.next_out)))}while((pt.avail_in>0||pt.avail_out===0)&&yt!==vt);return ft===lt?(yt=a.deflateEnd(this.strm),this.onEnd(yt),this.ended=!0,yt===gt):(ft===ht&&(this.onEnd(gt),pt.avail_out=0),!0)},_e.prototype.onData=function(et){this.chunks.push(et)},_e.prototype.onEnd=function(et){et===gt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=et,this.msg=this.strm.msg};function st(et,at){var pt=new _e(at);if(pt.push(et,!0),pt.err)throw pt.msg||rt[pt.err];return pt.result}function ot(et,at){return at=at||{},at.raw=!0,st(et,at)}function ut(et,at){return at=at||{},at.gzip=!0,st(et,at)}s.Deflate=_e,s.deflate=st,s.deflateRaw=ot,s.gzip=ut},"./node_modules/upng-js/node_modules/pako/lib/inflate.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js"),_=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),j=o("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),rt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),tt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),it=o("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),dt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js"),lt=Object.prototype.toString;function gt(mt){if(!(this instanceof gt))return new gt(mt);this.options=_.assign({chunkSize:16384,windowBits:0,to:""},mt||{});var nt=this.options;nt.raw&&nt.windowBits>=0&&nt.windowBits<16&&(nt.windowBits=-nt.windowBits,nt.windowBits===0&&(nt.windowBits=-15)),nt.windowBits>=0&&nt.windowBits<16&&!(mt&&mt.windowBits)&&(nt.windowBits+=32),nt.windowBits>15&&nt.windowBits<48&&(nt.windowBits&15||(nt.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new it,this.strm.avail_out=0;var $=a.inflateInit2(this.strm,nt.windowBits);if($!==rt.Z_OK)throw new Error(tt[$]);if(this.header=new dt,a.inflateGetHeader(this.strm,this.header),nt.dictionary&&(typeof nt.dictionary=="string"?nt.dictionary=j.string2buf(nt.dictionary):lt.call(nt.dictionary)==="[object ArrayBuffer]"&&(nt.dictionary=new Uint8Array(nt.dictionary)),nt.raw&&($=a.inflateSetDictionary(this.strm,nt.dictionary),$!==rt.Z_OK)))throw new Error(tt[$])}gt.prototype.push=function(mt,nt){var $=this.strm,_e=this.options.chunkSize,st=this.options.dictionary,ot,ut,et,at,pt,ct=!1;if(this.ended)return!1;ut=nt===~~nt?nt:nt===!0?rt.Z_FINISH:rt.Z_NO_FLUSH,typeof mt=="string"?$.input=j.binstring2buf(mt):lt.call(mt)==="[object ArrayBuffer]"?$.input=new Uint8Array(mt):$.input=mt,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new _.Buf8(_e),$.next_out=0,$.avail_out=_e),ot=a.inflate($,rt.Z_NO_FLUSH),ot===rt.Z_NEED_DICT&&st&&(ot=a.inflateSetDictionary(this.strm,st)),ot===rt.Z_BUF_ERROR&&ct===!0&&(ot=rt.Z_OK,ct=!1),ot!==rt.Z_STREAM_END&&ot!==rt.Z_OK)return this.onEnd(ot),this.ended=!0,!1;$.next_out&&($.avail_out===0||ot===rt.Z_STREAM_END||$.avail_in===0&&(ut===rt.Z_FINISH||ut===rt.Z_SYNC_FLUSH))&&(this.options.to==="string"?(et=j.utf8border($.output,$.next_out),at=$.next_out-et,pt=j.buf2string($.output,et),$.next_out=at,$.avail_out=_e-at,at&&_.arraySet($.output,$.output,et,at,0),this.onData(pt)):this.onData(_.shrinkBuf($.output,$.next_out))),$.avail_in===0&&$.avail_out===0&&(ct=!0)}while(($.avail_in>0||$.avail_out===0)&&ot!==rt.Z_STREAM_END);return ot===rt.Z_STREAM_END&&(ut=rt.Z_FINISH),ut===rt.Z_FINISH?(ot=a.inflateEnd(this.strm),this.onEnd(ot),this.ended=!0,ot===rt.Z_OK):(ut===rt.Z_SYNC_FLUSH&&(this.onEnd(rt.Z_OK),$.avail_out=0),!0)},gt.prototype.onData=function(mt){this.chunks.push(mt)},gt.prototype.onEnd=function(mt){mt===rt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=mt,this.msg=this.strm.msg};function vt(mt,nt){var $=new gt(nt);if($.push(mt,!0),$.err)throw $.msg||tt[$.err];return $.result}function ht(mt,nt){return nt=nt||{},nt.raw=!0,vt(mt,nt)}s.Inflate=gt,s.inflate=vt,s.inflateRaw=ht,s.ungzip=vt},"./node_modules/upng-js/node_modules/pako/lib/utils/common.js":(i,s)=>{var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function a(rt,tt){return Object.prototype.hasOwnProperty.call(rt,tt)}s.assign=function(rt){for(var tt=Array.prototype.slice.call(arguments,1);tt.length;){var it=tt.shift();if(it){if(typeof it!="object")throw new TypeError(it+"must be non-object");for(var dt in it)a(it,dt)&&(rt[dt]=it[dt])}}return rt},s.shrinkBuf=function(rt,tt){return rt.length===tt?rt:rt.subarray?rt.subarray(0,tt):(rt.length=tt,rt)};var _={arraySet:function(rt,tt,it,dt,lt){if(tt.subarray&&rt.subarray){rt.set(tt.subarray(it,it+dt),lt);return}for(var gt=0;gt<dt;gt++)rt[lt+gt]=tt[it+gt]},flattenChunks:function(rt){var tt,it,dt,lt,gt,vt;for(dt=0,tt=0,it=rt.length;tt<it;tt++)dt+=rt[tt].length;for(vt=new Uint8Array(dt),lt=0,tt=0,it=rt.length;tt<it;tt++)gt=rt[tt],vt.set(gt,lt),lt+=gt.length;return vt}},j={arraySet:function(rt,tt,it,dt,lt){for(var gt=0;gt<dt;gt++)rt[lt+gt]=tt[it+gt]},flattenChunks:function(rt){return[].concat.apply([],rt)}};s.setTyped=function(rt){rt?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,_)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,j))},s.setTyped(o)},"./node_modules/upng-js/node_modules/pako/lib/utils/strings.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_=!0,j=!0;try{String.fromCharCode.apply(null,[0])}catch{_=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{j=!1}for(var rt=new a.Buf8(256),tt=0;tt<256;tt++)rt[tt]=tt>=252?6:tt>=248?5:tt>=240?4:tt>=224?3:tt>=192?2:1;rt[254]=rt[254]=1,s.string2buf=function(dt){var lt,gt,vt,ht,mt,nt=dt.length,$=0;for(ht=0;ht<nt;ht++)gt=dt.charCodeAt(ht),(gt&64512)===55296&&ht+1<nt&&(vt=dt.charCodeAt(ht+1),(vt&64512)===56320&&(gt=65536+(gt-55296<<10)+(vt-56320),ht++)),$+=gt<128?1:gt<2048?2:gt<65536?3:4;for(lt=new a.Buf8($),mt=0,ht=0;mt<$;ht++)gt=dt.charCodeAt(ht),(gt&64512)===55296&&ht+1<nt&&(vt=dt.charCodeAt(ht+1),(vt&64512)===56320&&(gt=65536+(gt-55296<<10)+(vt-56320),ht++)),gt<128?lt[mt++]=gt:gt<2048?(lt[mt++]=192|gt>>>6,lt[mt++]=128|gt&63):gt<65536?(lt[mt++]=224|gt>>>12,lt[mt++]=128|gt>>>6&63,lt[mt++]=128|gt&63):(lt[mt++]=240|gt>>>18,lt[mt++]=128|gt>>>12&63,lt[mt++]=128|gt>>>6&63,lt[mt++]=128|gt&63);return lt};function it(dt,lt){if(lt<65534&&(dt.subarray&&j||!dt.subarray&&_))return String.fromCharCode.apply(null,a.shrinkBuf(dt,lt));for(var gt="",vt=0;vt<lt;vt++)gt+=String.fromCharCode(dt[vt]);return gt}s.buf2binstring=function(dt){return it(dt,dt.length)},s.binstring2buf=function(dt){for(var lt=new a.Buf8(dt.length),gt=0,vt=lt.length;gt<vt;gt++)lt[gt]=dt.charCodeAt(gt);return lt},s.buf2string=function(dt,lt){var gt,vt,ht,mt,nt=lt||dt.length,$=new Array(nt*2);for(vt=0,gt=0;gt<nt;){if(ht=dt[gt++],ht<128){$[vt++]=ht;continue}if(mt=rt[ht],mt>4){$[vt++]=65533,gt+=mt-1;continue}for(ht&=mt===2?31:mt===3?15:7;mt>1&&gt<nt;)ht=ht<<6|dt[gt++]&63,mt--;if(mt>1){$[vt++]=65533;continue}ht<65536?$[vt++]=ht:(ht-=65536,$[vt++]=55296|ht>>10&1023,$[vt++]=56320|ht&1023)}return it($,vt)},s.utf8border=function(dt,lt){var gt;for(lt=lt||dt.length,lt>dt.length&&(lt=dt.length),gt=lt-1;gt>=0&&(dt[gt]&192)===128;)gt--;return gt<0||gt===0?lt:gt+rt[dt[gt]]>lt?gt:lt}},"./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js":i=>{function s(o,a,_,j){for(var rt=o&65535|0,tt=o>>>16&65535|0,it=0;_!==0;){it=_>2e3?2e3:_,_-=it;do rt=rt+a[j++]|0,tt=tt+rt|0;while(--it);rt%=65521,tt%=65521}return rt|tt<<16|0}i.exports=s},"./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js":i=>{i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js":i=>{function s(){for(var _,j=[],rt=0;rt<256;rt++){_=rt;for(var tt=0;tt<8;tt++)_=_&1?3988292384^_>>>1:_>>>1;j[rt]=_}return j}var o=s();function a(_,j,rt,tt){var it=o,dt=tt+rt;_^=-1;for(var lt=tt;lt<dt;lt++)_=_>>>8^it[(_^j[lt])&255];return _^-1}i.exports=a},"./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_=o("./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js"),j=o("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),rt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),tt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),it=0,dt=1,lt=3,gt=4,vt=5,ht=0,mt=1,nt=-2,$=-3,_e=-5,st=-1,ot=1,ut=2,et=3,at=4,pt=0,ct=2,yt=8,ft=9,_t=15,wt=8,Et=29,Mt=256,St=Mt+1+Et,At=30,Rt=19,Ct=2*St+1,Pt=15,Lt=3,Ot=258,It=Ot+Lt+1,$t=32,jt=42,Zt=69,qt=73,er=91,Yt=103,Qt=113,cr=666,lr=1,gr=2,rr=3,Gt=4,nr=3;function _r(Tt,ur){return Tt.msg=tt[ur],ur}function Sr(Tt){return(Tt<<1)-(Tt>4?9:0)}function Ar(Tt){for(var ur=Tt.length;--ur>=0;)Tt[ur]=0}function Rr(Tt){var ur=Tt.state,or=ur.pending;or>Tt.avail_out&&(or=Tt.avail_out),or!==0&&(a.arraySet(Tt.output,ur.pending_buf,ur.pending_out,or,Tt.next_out),Tt.next_out+=or,ur.pending_out+=or,Tt.total_out+=or,Tt.avail_out-=or,ur.pending-=or,ur.pending===0&&(ur.pending_out=0))}function Mr(Tt,ur){_._tr_flush_block(Tt,Tt.block_start>=0?Tt.block_start:-1,Tt.strstart-Tt.block_start,ur),Tt.block_start=Tt.strstart,Rr(Tt.strm)}function wr(Tt,ur){Tt.pending_buf[Tt.pending++]=ur}function Tr(Tt,ur){Tt.pending_buf[Tt.pending++]=ur>>>8&255,Tt.pending_buf[Tt.pending++]=ur&255}function fr(Tt,ur,or,Ft){var Ht=Tt.avail_in;return Ht>Ft&&(Ht=Ft),Ht===0?0:(Tt.avail_in-=Ht,a.arraySet(ur,Tt.input,Tt.next_in,Ht,or),Tt.state.wrap===1?Tt.adler=j(Tt.adler,ur,Ht,or):Tt.state.wrap===2&&(Tt.adler=rt(Tt.adler,ur,Ht,or)),Tt.next_in+=Ht,Tt.total_in+=Ht,Ht)}function pr(Tt,ur){var or=Tt.max_chain_length,Ft=Tt.strstart,Ht,hr,Br=Tt.prev_length,zr=Tt.nice_match,Dr=Tt.strstart>Tt.w_size-It?Tt.strstart-(Tt.w_size-It):0,jr=Tt.window,fn=Tt.w_mask,Kr=Tt.prev,Hr=Tt.strstart+Ot,Gr=jr[Ft+Br-1],dn=jr[Ft+Br];Tt.prev_length>=Tt.good_match&&(or>>=2),zr>Tt.lookahead&&(zr=Tt.lookahead);do if(Ht=ur,!(jr[Ht+Br]!==dn||jr[Ht+Br-1]!==Gr||jr[Ht]!==jr[Ft]||jr[++Ht]!==jr[Ft+1])){Ft+=2,Ht++;do;while(jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&jr[++Ft]===jr[++Ht]&&Ft<Hr);if(hr=Ot-(Hr-Ft),Ft=Hr-Ot,hr>Br){if(Tt.match_start=ur,Br=hr,hr>=zr)break;Gr=jr[Ft+Br-1],dn=jr[Ft+Br]}}while((ur=Kr[ur&fn])>Dr&&--or!==0);return Br<=Tt.lookahead?Br:Tt.lookahead}function Lr(Tt){var ur=Tt.w_size,or,Ft,Ht,hr,Br;do{if(hr=Tt.window_size-Tt.lookahead-Tt.strstart,Tt.strstart>=ur+(ur-It)){a.arraySet(Tt.window,Tt.window,ur,ur,0),Tt.match_start-=ur,Tt.strstart-=ur,Tt.block_start-=ur,Ft=Tt.hash_size,or=Ft;do Ht=Tt.head[--or],Tt.head[or]=Ht>=ur?Ht-ur:0;while(--Ft);Ft=ur,or=Ft;do Ht=Tt.prev[--or],Tt.prev[or]=Ht>=ur?Ht-ur:0;while(--Ft);hr+=ur}if(Tt.strm.avail_in===0)break;if(Ft=fr(Tt.strm,Tt.window,Tt.strstart+Tt.lookahead,hr),Tt.lookahead+=Ft,Tt.lookahead+Tt.insert>=Lt)for(Br=Tt.strstart-Tt.insert,Tt.ins_h=Tt.window[Br],Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Br+1])&Tt.hash_mask;Tt.insert&&(Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Br+Lt-1])&Tt.hash_mask,Tt.prev[Br&Tt.w_mask]=Tt.head[Tt.ins_h],Tt.head[Tt.ins_h]=Br,Br++,Tt.insert--,!(Tt.lookahead+Tt.insert<Lt)););}while(Tt.lookahead<It&&Tt.strm.avail_in!==0)}function Or(Tt,ur){var or=65535;for(or>Tt.pending_buf_size-5&&(or=Tt.pending_buf_size-5);;){if(Tt.lookahead<=1){if(Lr(Tt),Tt.lookahead===0&&ur===it)return lr;if(Tt.lookahead===0)break}Tt.strstart+=Tt.lookahead,Tt.lookahead=0;var Ft=Tt.block_start+or;if((Tt.strstart===0||Tt.strstart>=Ft)&&(Tt.lookahead=Tt.strstart-Ft,Tt.strstart=Ft,Mr(Tt,!1),Tt.strm.avail_out===0)||Tt.strstart-Tt.block_start>=Tt.w_size-It&&(Mr(Tt,!1),Tt.strm.avail_out===0))return lr}return Tt.insert=0,ur===gt?(Mr(Tt,!0),Tt.strm.avail_out===0?rr:Gt):(Tt.strstart>Tt.block_start&&(Mr(Tt,!1),Tt.strm.avail_out===0),lr)}function Bt(Tt,ur){for(var or,Ft;;){if(Tt.lookahead<It){if(Lr(Tt),Tt.lookahead<It&&ur===it)return lr;if(Tt.lookahead===0)break}if(or=0,Tt.lookahead>=Lt&&(Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Tt.strstart+Lt-1])&Tt.hash_mask,or=Tt.prev[Tt.strstart&Tt.w_mask]=Tt.head[Tt.ins_h],Tt.head[Tt.ins_h]=Tt.strstart),or!==0&&Tt.strstart-or<=Tt.w_size-It&&(Tt.match_length=pr(Tt,or)),Tt.match_length>=Lt)if(Ft=_._tr_tally(Tt,Tt.strstart-Tt.match_start,Tt.match_length-Lt),Tt.lookahead-=Tt.match_length,Tt.match_length<=Tt.max_lazy_match&&Tt.lookahead>=Lt){Tt.match_length--;do Tt.strstart++,Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Tt.strstart+Lt-1])&Tt.hash_mask,or=Tt.prev[Tt.strstart&Tt.w_mask]=Tt.head[Tt.ins_h],Tt.head[Tt.ins_h]=Tt.strstart;while(--Tt.match_length!==0);Tt.strstart++}else Tt.strstart+=Tt.match_length,Tt.match_length=0,Tt.ins_h=Tt.window[Tt.strstart],Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Tt.strstart+1])&Tt.hash_mask;else Ft=_._tr_tally(Tt,0,Tt.window[Tt.strstart]),Tt.lookahead--,Tt.strstart++;if(Ft&&(Mr(Tt,!1),Tt.strm.avail_out===0))return lr}return Tt.insert=Tt.strstart<Lt-1?Tt.strstart:Lt-1,ur===gt?(Mr(Tt,!0),Tt.strm.avail_out===0?rr:Gt):Tt.last_lit&&(Mr(Tt,!1),Tt.strm.avail_out===0)?lr:gr}function Ut(Tt,ur){for(var or,Ft,Ht;;){if(Tt.lookahead<It){if(Lr(Tt),Tt.lookahead<It&&ur===it)return lr;if(Tt.lookahead===0)break}if(or=0,Tt.lookahead>=Lt&&(Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Tt.strstart+Lt-1])&Tt.hash_mask,or=Tt.prev[Tt.strstart&Tt.w_mask]=Tt.head[Tt.ins_h],Tt.head[Tt.ins_h]=Tt.strstart),Tt.prev_length=Tt.match_length,Tt.prev_match=Tt.match_start,Tt.match_length=Lt-1,or!==0&&Tt.prev_length<Tt.max_lazy_match&&Tt.strstart-or<=Tt.w_size-It&&(Tt.match_length=pr(Tt,or),Tt.match_length<=5&&(Tt.strategy===ot||Tt.match_length===Lt&&Tt.strstart-Tt.match_start>4096)&&(Tt.match_length=Lt-1)),Tt.prev_length>=Lt&&Tt.match_length<=Tt.prev_length){Ht=Tt.strstart+Tt.lookahead-Lt,Ft=_._tr_tally(Tt,Tt.strstart-1-Tt.prev_match,Tt.prev_length-Lt),Tt.lookahead-=Tt.prev_length-1,Tt.prev_length-=2;do++Tt.strstart<=Ht&&(Tt.ins_h=(Tt.ins_h<<Tt.hash_shift^Tt.window[Tt.strstart+Lt-1])&Tt.hash_mask,or=Tt.prev[Tt.strstart&Tt.w_mask]=Tt.head[Tt.ins_h],Tt.head[Tt.ins_h]=Tt.strstart);while(--Tt.prev_length!==0);if(Tt.match_available=0,Tt.match_length=Lt-1,Tt.strstart++,Ft&&(Mr(Tt,!1),Tt.strm.avail_out===0))return lr}else if(Tt.match_available){if(Ft=_._tr_tally(Tt,0,Tt.window[Tt.strstart-1]),Ft&&Mr(Tt,!1),Tt.strstart++,Tt.lookahead--,Tt.strm.avail_out===0)return lr}else Tt.match_available=1,Tt.strstart++,Tt.lookahead--}return Tt.match_available&&(Ft=_._tr_tally(Tt,0,Tt.window[Tt.strstart-1]),Tt.match_available=0),Tt.insert=Tt.strstart<Lt-1?Tt.strstart:Lt-1,ur===gt?(Mr(Tt,!0),Tt.strm.avail_out===0?rr:Gt):Tt.last_lit&&(Mr(Tt,!1),Tt.strm.avail_out===0)?lr:gr}function Wt(Tt,ur){for(var or,Ft,Ht,hr,Br=Tt.window;;){if(Tt.lookahead<=Ot){if(Lr(Tt),Tt.lookahead<=Ot&&ur===it)return lr;if(Tt.lookahead===0)break}if(Tt.match_length=0,Tt.lookahead>=Lt&&Tt.strstart>0&&(Ht=Tt.strstart-1,Ft=Br[Ht],Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht])){hr=Tt.strstart+Ot;do;while(Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ft===Br[++Ht]&&Ht<hr);Tt.match_length=Ot-(hr-Ht),Tt.match_length>Tt.lookahead&&(Tt.match_length=Tt.lookahead)}if(Tt.match_length>=Lt?(or=_._tr_tally(Tt,1,Tt.match_length-Lt),Tt.lookahead-=Tt.match_length,Tt.strstart+=Tt.match_length,Tt.match_length=0):(or=_._tr_tally(Tt,0,Tt.window[Tt.strstart]),Tt.lookahead--,Tt.strstart++),or&&(Mr(Tt,!1),Tt.strm.avail_out===0))return lr}return Tt.insert=0,ur===gt?(Mr(Tt,!0),Tt.strm.avail_out===0?rr:Gt):Tt.last_lit&&(Mr(Tt,!1),Tt.strm.avail_out===0)?lr:gr}function ar(Tt,ur){for(var or;;){if(Tt.lookahead===0&&(Lr(Tt),Tt.lookahead===0)){if(ur===it)return lr;break}if(Tt.match_length=0,or=_._tr_tally(Tt,0,Tt.window[Tt.strstart]),Tt.lookahead--,Tt.strstart++,or&&(Mr(Tt,!1),Tt.strm.avail_out===0))return lr}return Tt.insert=0,ur===gt?(Mr(Tt,!0),Tt.strm.avail_out===0?rr:Gt):Tt.last_lit&&(Mr(Tt,!1),Tt.strm.avail_out===0)?lr:gr}function Xt(Tt,ur,or,Ft,Ht){this.good_length=Tt,this.max_lazy=ur,this.nice_length=or,this.max_chain=Ft,this.func=Ht}var Er;Er=[new Xt(0,0,0,0,Or),new Xt(4,4,8,4,Bt),new Xt(4,5,16,8,Bt),new Xt(4,6,32,32,Bt),new Xt(4,4,16,16,Ut),new Xt(8,16,32,32,Ut),new Xt(8,16,128,128,Ut),new Xt(8,32,128,256,Ut),new Xt(32,128,258,1024,Ut),new Xt(32,258,258,4096,Ut)];function mr(Tt){Tt.window_size=2*Tt.w_size,Ar(Tt.head),Tt.max_lazy_match=Er[Tt.level].max_lazy,Tt.good_match=Er[Tt.level].good_length,Tt.nice_match=Er[Tt.level].nice_length,Tt.max_chain_length=Er[Tt.level].max_chain,Tt.strstart=0,Tt.block_start=0,Tt.lookahead=0,Tt.insert=0,Tt.match_length=Tt.prev_length=Lt-1,Tt.match_available=0,Tt.ins_h=0}function Dt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=yt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(Ct*2),this.dyn_dtree=new a.Buf16((2*At+1)*2),this.bl_tree=new a.Buf16((2*Rt+1)*2),Ar(this.dyn_ltree),Ar(this.dyn_dtree),Ar(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(Pt+1),this.heap=new a.Buf16(2*St+1),Ar(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*St+1),Ar(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Jt(Tt){var ur;return!Tt||!Tt.state?_r(Tt,nt):(Tt.total_in=Tt.total_out=0,Tt.data_type=ct,ur=Tt.state,ur.pending=0,ur.pending_out=0,ur.wrap<0&&(ur.wrap=-ur.wrap),ur.status=ur.wrap?jt:Qt,Tt.adler=ur.wrap===2?0:1,ur.last_flush=it,_._tr_init(ur),ht)}function sr(Tt){var ur=Jt(Tt);return ur===ht&&mr(Tt.state),ur}function Cr(Tt,ur){return!Tt||!Tt.state||Tt.state.wrap!==2?nt:(Tt.state.gzhead=ur,ht)}function tr(Tt,ur,or,Ft,Ht,hr){if(!Tt)return nt;var Br=1;if(ur===st&&(ur=6),Ft<0?(Br=0,Ft=-Ft):Ft>15&&(Br=2,Ft-=16),Ht<1||Ht>ft||or!==yt||Ft<8||Ft>15||ur<0||ur>9||hr<0||hr>at)return _r(Tt,nt);Ft===8&&(Ft=9);var zr=new Dt;return Tt.state=zr,zr.strm=Tt,zr.wrap=Br,zr.gzhead=null,zr.w_bits=Ft,zr.w_size=1<<zr.w_bits,zr.w_mask=zr.w_size-1,zr.hash_bits=Ht+7,zr.hash_size=1<<zr.hash_bits,zr.hash_mask=zr.hash_size-1,zr.hash_shift=~~((zr.hash_bits+Lt-1)/Lt),zr.window=new a.Buf8(zr.w_size*2),zr.head=new a.Buf16(zr.hash_size),zr.prev=new a.Buf16(zr.w_size),zr.lit_bufsize=1<<Ht+6,zr.pending_buf_size=zr.lit_bufsize*4,zr.pending_buf=new a.Buf8(zr.pending_buf_size),zr.d_buf=1*zr.lit_bufsize,zr.l_buf=3*zr.lit_bufsize,zr.level=ur,zr.strategy=hr,zr.method=or,sr(Tt)}function vr(Tt,ur){return tr(Tt,ur,yt,_t,wt,pt)}function kt(Tt,ur){var or,Ft,Ht,hr;if(!Tt||!Tt.state||ur>vt||ur<0)return Tt?_r(Tt,nt):nt;if(Ft=Tt.state,!Tt.output||!Tt.input&&Tt.avail_in!==0||Ft.status===cr&&ur!==gt)return _r(Tt,Tt.avail_out===0?_e:nt);if(Ft.strm=Tt,or=Ft.last_flush,Ft.last_flush=ur,Ft.status===jt)if(Ft.wrap===2)Tt.adler=0,wr(Ft,31),wr(Ft,139),wr(Ft,8),Ft.gzhead?(wr(Ft,(Ft.gzhead.text?1:0)+(Ft.gzhead.hcrc?2:0)+(Ft.gzhead.extra?4:0)+(Ft.gzhead.name?8:0)+(Ft.gzhead.comment?16:0)),wr(Ft,Ft.gzhead.time&255),wr(Ft,Ft.gzhead.time>>8&255),wr(Ft,Ft.gzhead.time>>16&255),wr(Ft,Ft.gzhead.time>>24&255),wr(Ft,Ft.level===9?2:Ft.strategy>=ut||Ft.level<2?4:0),wr(Ft,Ft.gzhead.os&255),Ft.gzhead.extra&&Ft.gzhead.extra.length&&(wr(Ft,Ft.gzhead.extra.length&255),wr(Ft,Ft.gzhead.extra.length>>8&255)),Ft.gzhead.hcrc&&(Tt.adler=rt(Tt.adler,Ft.pending_buf,Ft.pending,0)),Ft.gzindex=0,Ft.status=Zt):(wr(Ft,0),wr(Ft,0),wr(Ft,0),wr(Ft,0),wr(Ft,0),wr(Ft,Ft.level===9?2:Ft.strategy>=ut||Ft.level<2?4:0),wr(Ft,nr),Ft.status=Qt);else{var Br=yt+(Ft.w_bits-8<<4)<<8,zr=-1;Ft.strategy>=ut||Ft.level<2?zr=0:Ft.level<6?zr=1:Ft.level===6?zr=2:zr=3,Br|=zr<<6,Ft.strstart!==0&&(Br|=$t),Br+=31-Br%31,Ft.status=Qt,Tr(Ft,Br),Ft.strstart!==0&&(Tr(Ft,Tt.adler>>>16),Tr(Ft,Tt.adler&65535)),Tt.adler=1}if(Ft.status===Zt)if(Ft.gzhead.extra){for(Ht=Ft.pending;Ft.gzindex<(Ft.gzhead.extra.length&65535)&&!(Ft.pending===Ft.pending_buf_size&&(Ft.gzhead.hcrc&&Ft.pending>Ht&&(Tt.adler=rt(Tt.adler,Ft.pending_buf,Ft.pending-Ht,Ht)),Rr(Tt),Ht=Ft.pending,Ft.pending===Ft.pending_buf_size));)wr(Ft,Ft.gzhead.extra[Ft.gzindex]&255),Ft.gzindex++;Ft.gzhead.hcrc&&Ft.pending>Ht&&(Tt.adler=rt(Tt.adler,Ft.pending_buf,Ft.pending-Ht,Ht)),Ft.gzindex===Ft.gzhead.extra.length&&(Ft.gzindex=0,Ft.status=qt)}else Ft.status=qt;if(Ft.status===qt)if(Ft.gzhead.name){Ht=Ft.pending;do{if(Ft.pending===Ft.pending_buf_size&&(Ft.gzhead.hcrc&&Ft.pending>Ht&&(Tt.adler=rt(Tt.adler,Ft.pending_buf,Ft.pending-Ht,Ht)),Rr(Tt),Ht=Ft.pending,Ft.pending===Ft.pending_buf_size)){hr=1;break}Ft.gzindex<Ft.gzhead.name.length?hr=Ft.gzhead.name.charCodeAt(Ft.gzindex++)&255:hr=0,wr(Ft,hr)}while(hr!==0);Ft.gzhead.hcrc&&Ft.pending>Ht&&(Tt.adler=rt(Tt.adler,Ft.pending_buf,Ft.pending-Ht,Ht)),hr===0&&(Ft.gzindex=0,Ft.status=er)}else Ft.status=er;if(Ft.status===er)if(Ft.gzhead.comment){Ht=Ft.pending;do{if(Ft.pending===Ft.pending_buf_size&&(Ft.gzhead.hcrc&&Ft.pending>Ht&&(Tt.adler=rt(Tt.adler,Ft.pending_buf,Ft.pending-Ht,Ht)),Rr(Tt),Ht=Ft.pending,Ft.pending===Ft.pending_buf_size)){hr=1;break}Ft.gzindex<Ft.gzhead.comment.length?hr=Ft.gzhead.comment.charCodeAt(Ft.gzindex++)&255:hr=0,wr(Ft,hr)}while(hr!==0);Ft.gzhead.hcrc&&Ft.pending>Ht&&(Tt.adler=rt(Tt.adler,Ft.pending_buf,Ft.pending-Ht,Ht)),hr===0&&(Ft.status=Yt)}else Ft.status=Yt;if(Ft.status===Yt&&(Ft.gzhead.hcrc?(Ft.pending+2>Ft.pending_buf_size&&Rr(Tt),Ft.pending+2<=Ft.pending_buf_size&&(wr(Ft,Tt.adler&255),wr(Ft,Tt.adler>>8&255),Tt.adler=0,Ft.status=Qt)):Ft.status=Qt),Ft.pending!==0){if(Rr(Tt),Tt.avail_out===0)return Ft.last_flush=-1,ht}else if(Tt.avail_in===0&&Sr(ur)<=Sr(or)&&ur!==gt)return _r(Tt,_e);if(Ft.status===cr&&Tt.avail_in!==0)return _r(Tt,_e);if(Tt.avail_in!==0||Ft.lookahead!==0||ur!==it&&Ft.status!==cr){var Dr=Ft.strategy===ut?ar(Ft,ur):Ft.strategy===et?Wt(Ft,ur):Er[Ft.level].func(Ft,ur);if((Dr===rr||Dr===Gt)&&(Ft.status=cr),Dr===lr||Dr===rr)return Tt.avail_out===0&&(Ft.last_flush=-1),ht;if(Dr===gr&&(ur===dt?_._tr_align(Ft):ur!==vt&&(_._tr_stored_block(Ft,0,0,!1),ur===lt&&(Ar(Ft.head),Ft.lookahead===0&&(Ft.strstart=0,Ft.block_start=0,Ft.insert=0))),Rr(Tt),Tt.avail_out===0))return Ft.last_flush=-1,ht}return ur!==gt?ht:Ft.wrap<=0?mt:(Ft.wrap===2?(wr(Ft,Tt.adler&255),wr(Ft,Tt.adler>>8&255),wr(Ft,Tt.adler>>16&255),wr(Ft,Tt.adler>>24&255),wr(Ft,Tt.total_in&255),wr(Ft,Tt.total_in>>8&255),wr(Ft,Tt.total_in>>16&255),wr(Ft,Tt.total_in>>24&255)):(Tr(Ft,Tt.adler>>>16),Tr(Ft,Tt.adler&65535)),Rr(Tt),Ft.wrap>0&&(Ft.wrap=-Ft.wrap),Ft.pending!==0?ht:mt)}function br(Tt){var ur;return!Tt||!Tt.state?nt:(ur=Tt.state.status,ur!==jt&&ur!==Zt&&ur!==qt&&ur!==er&&ur!==Yt&&ur!==Qt&&ur!==cr?_r(Tt,nt):(Tt.state=null,ur===Qt?_r(Tt,$):ht))}function Ir(Tt,ur){var or=ur.length,Ft,Ht,hr,Br,zr,Dr,jr,fn;if(!Tt||!Tt.state||(Ft=Tt.state,Br=Ft.wrap,Br===2||Br===1&&Ft.status!==jt||Ft.lookahead))return nt;for(Br===1&&(Tt.adler=j(Tt.adler,ur,or,0)),Ft.wrap=0,or>=Ft.w_size&&(Br===0&&(Ar(Ft.head),Ft.strstart=0,Ft.block_start=0,Ft.insert=0),fn=new a.Buf8(Ft.w_size),a.arraySet(fn,ur,or-Ft.w_size,Ft.w_size,0),ur=fn,or=Ft.w_size),zr=Tt.avail_in,Dr=Tt.next_in,jr=Tt.input,Tt.avail_in=or,Tt.next_in=0,Tt.input=ur,Lr(Ft);Ft.lookahead>=Lt;){Ht=Ft.strstart,hr=Ft.lookahead-(Lt-1);do Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[Ht+Lt-1])&Ft.hash_mask,Ft.prev[Ht&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=Ht,Ht++;while(--hr);Ft.strstart=Ht,Ft.lookahead=Lt-1,Lr(Ft)}return Ft.strstart+=Ft.lookahead,Ft.block_start=Ft.strstart,Ft.insert=Ft.lookahead,Ft.lookahead=0,Ft.match_length=Ft.prev_length=Lt-1,Ft.match_available=0,Tt.next_in=Dr,Tt.input=jr,Tt.avail_in=zr,Ft.wrap=Br,ht}s.deflateInit=vr,s.deflateInit2=tr,s.deflateReset=sr,s.deflateResetKeep=Jt,s.deflateSetHeader=Cr,s.deflate=kt,s.deflateEnd=br,s.deflateSetDictionary=Ir,s.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js":i=>{function s(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=s},"./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js":i=>{var s=30,o=12;i.exports=function(_,j){var rt,tt,it,dt,lt,gt,vt,ht,mt,nt,$,_e,st,ot,ut,et,at,pt,ct,yt,ft,_t,wt,Et,Mt;rt=_.state,tt=_.next_in,Et=_.input,it=tt+(_.avail_in-5),dt=_.next_out,Mt=_.output,lt=dt-(j-_.avail_out),gt=dt+(_.avail_out-257),vt=rt.dmax,ht=rt.wsize,mt=rt.whave,nt=rt.wnext,$=rt.window,_e=rt.hold,st=rt.bits,ot=rt.lencode,ut=rt.distcode,et=(1<<rt.lenbits)-1,at=(1<<rt.distbits)-1;e:do{st<15&&(_e+=Et[tt++]<<st,st+=8,_e+=Et[tt++]<<st,st+=8),pt=ot[_e&et];t:for(;;){if(ct=pt>>>24,_e>>>=ct,st-=ct,ct=pt>>>16&255,ct===0)Mt[dt++]=pt&65535;else if(ct&16){yt=pt&65535,ct&=15,ct&&(st<ct&&(_e+=Et[tt++]<<st,st+=8),yt+=_e&(1<<ct)-1,_e>>>=ct,st-=ct),st<15&&(_e+=Et[tt++]<<st,st+=8,_e+=Et[tt++]<<st,st+=8),pt=ut[_e&at];r:for(;;){if(ct=pt>>>24,_e>>>=ct,st-=ct,ct=pt>>>16&255,ct&16){if(ft=pt&65535,ct&=15,st<ct&&(_e+=Et[tt++]<<st,st+=8,st<ct&&(_e+=Et[tt++]<<st,st+=8)),ft+=_e&(1<<ct)-1,ft>vt){_.msg="invalid distance too far back",rt.mode=s;break e}if(_e>>>=ct,st-=ct,ct=dt-lt,ft>ct){if(ct=ft-ct,ct>mt&&rt.sane){_.msg="invalid distance too far back",rt.mode=s;break e}if(_t=0,wt=$,nt===0){if(_t+=ht-ct,ct<yt){yt-=ct;do Mt[dt++]=$[_t++];while(--ct);_t=dt-ft,wt=Mt}}else if(nt<ct){if(_t+=ht+nt-ct,ct-=nt,ct<yt){yt-=ct;do Mt[dt++]=$[_t++];while(--ct);if(_t=0,nt<yt){ct=nt,yt-=ct;do Mt[dt++]=$[_t++];while(--ct);_t=dt-ft,wt=Mt}}}else if(_t+=nt-ct,ct<yt){yt-=ct;do Mt[dt++]=$[_t++];while(--ct);_t=dt-ft,wt=Mt}for(;yt>2;)Mt[dt++]=wt[_t++],Mt[dt++]=wt[_t++],Mt[dt++]=wt[_t++],yt-=3;yt&&(Mt[dt++]=wt[_t++],yt>1&&(Mt[dt++]=wt[_t++]))}else{_t=dt-ft;do Mt[dt++]=Mt[_t++],Mt[dt++]=Mt[_t++],Mt[dt++]=Mt[_t++],yt-=3;while(yt>2);yt&&(Mt[dt++]=Mt[_t++],yt>1&&(Mt[dt++]=Mt[_t++]))}}else if(ct&64){_.msg="invalid distance code",rt.mode=s;break e}else{pt=ut[(pt&65535)+(_e&(1<<ct)-1)];continue r}break}}else if(ct&64)if(ct&32){rt.mode=o;break e}else{_.msg="invalid literal/length code",rt.mode=s;break e}else{pt=ot[(pt&65535)+(_e&(1<<ct)-1)];continue t}break}}while(tt<it&&dt<gt);yt=st>>3,tt-=yt,st-=yt<<3,_e&=(1<<st)-1,_.next_in=tt,_.next_out=dt,_.avail_in=tt<it?5+(it-tt):5-(tt-it),_.avail_out=dt<gt?257+(gt-dt):257-(dt-gt),rt.hold=_e,rt.bits=st}},"./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_=o("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),j=o("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),rt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js"),tt=o("./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js"),it=0,dt=1,lt=2,gt=4,vt=5,ht=6,mt=0,nt=1,$=2,_e=-2,st=-3,ot=-4,ut=-5,et=8,at=1,pt=2,ct=3,yt=4,ft=5,_t=6,wt=7,Et=8,Mt=9,St=10,At=11,Rt=12,Ct=13,Pt=14,Lt=15,Ot=16,It=17,$t=18,jt=19,Zt=20,qt=21,er=22,Yt=23,Qt=24,cr=25,lr=26,gr=27,rr=28,Gt=29,nr=30,_r=31,Sr=32,Ar=852,Rr=592,Mr=15,wr=Mr;function Tr(tr){return(tr>>>24&255)+(tr>>>8&65280)+((tr&65280)<<8)+((tr&255)<<24)}function fr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function pr(tr){var vr;return!tr||!tr.state?_e:(vr=tr.state,tr.total_in=tr.total_out=vr.total=0,tr.msg="",vr.wrap&&(tr.adler=vr.wrap&1),vr.mode=at,vr.last=0,vr.havedict=0,vr.dmax=32768,vr.head=null,vr.hold=0,vr.bits=0,vr.lencode=vr.lendyn=new a.Buf32(Ar),vr.distcode=vr.distdyn=new a.Buf32(Rr),vr.sane=1,vr.back=-1,mt)}function Lr(tr){var vr;return!tr||!tr.state?_e:(vr=tr.state,vr.wsize=0,vr.whave=0,vr.wnext=0,pr(tr))}function Or(tr,vr){var kt,br;return!tr||!tr.state||(br=tr.state,vr<0?(kt=0,vr=-vr):(kt=(vr>>4)+1,vr<48&&(vr&=15)),vr&&(vr<8||vr>15))?_e:(br.window!==null&&br.wbits!==vr&&(br.window=null),br.wrap=kt,br.wbits=vr,Lr(tr))}function Bt(tr,vr){var kt,br;return tr?(br=new fr,tr.state=br,br.window=null,kt=Or(tr,vr),kt!==mt&&(tr.state=null),kt):_e}function Ut(tr){return Bt(tr,wr)}var Wt=!0,ar,Xt;function Er(tr){if(Wt){var vr;for(ar=new a.Buf32(512),Xt=new a.Buf32(32),vr=0;vr<144;)tr.lens[vr++]=8;for(;vr<256;)tr.lens[vr++]=9;for(;vr<280;)tr.lens[vr++]=7;for(;vr<288;)tr.lens[vr++]=8;for(tt(dt,tr.lens,0,288,ar,0,tr.work,{bits:9}),vr=0;vr<32;)tr.lens[vr++]=5;tt(lt,tr.lens,0,32,Xt,0,tr.work,{bits:5}),Wt=!1}tr.lencode=ar,tr.lenbits=9,tr.distcode=Xt,tr.distbits=5}function mr(tr,vr,kt,br){var Ir,Tt=tr.state;return Tt.window===null&&(Tt.wsize=1<<Tt.wbits,Tt.wnext=0,Tt.whave=0,Tt.window=new a.Buf8(Tt.wsize)),br>=Tt.wsize?(a.arraySet(Tt.window,vr,kt-Tt.wsize,Tt.wsize,0),Tt.wnext=0,Tt.whave=Tt.wsize):(Ir=Tt.wsize-Tt.wnext,Ir>br&&(Ir=br),a.arraySet(Tt.window,vr,kt-br,Ir,Tt.wnext),br-=Ir,br?(a.arraySet(Tt.window,vr,kt-br,br,0),Tt.wnext=br,Tt.whave=Tt.wsize):(Tt.wnext+=Ir,Tt.wnext===Tt.wsize&&(Tt.wnext=0),Tt.whave<Tt.wsize&&(Tt.whave+=Ir))),0}function Dt(tr,vr){var kt,br,Ir,Tt,ur,or,Ft,Ht,hr,Br,zr,Dr,jr,fn,Kr=0,Hr,Gr,dn,nn,Cn,_n,an,ln,sn=new a.Buf8(4),mn,pn,Rn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!tr||!tr.state||!tr.output||!tr.input&&tr.avail_in!==0)return _e;kt=tr.state,kt.mode===Rt&&(kt.mode=Ct),ur=tr.next_out,Ir=tr.output,Ft=tr.avail_out,Tt=tr.next_in,br=tr.input,or=tr.avail_in,Ht=kt.hold,hr=kt.bits,Br=or,zr=Ft,ln=mt;e:for(;;)switch(kt.mode){case at:if(kt.wrap===0){kt.mode=Ct;break}for(;hr<16;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(kt.wrap&2&&Ht===35615){kt.check=0,sn[0]=Ht&255,sn[1]=Ht>>>8&255,kt.check=j(kt.check,sn,2,0),Ht=0,hr=0,kt.mode=pt;break}if(kt.flags=0,kt.head&&(kt.head.done=!1),!(kt.wrap&1)||(((Ht&255)<<8)+(Ht>>8))%31){tr.msg="incorrect header check",kt.mode=nr;break}if((Ht&15)!==et){tr.msg="unknown compression method",kt.mode=nr;break}if(Ht>>>=4,hr-=4,an=(Ht&15)+8,kt.wbits===0)kt.wbits=an;else if(an>kt.wbits){tr.msg="invalid window size",kt.mode=nr;break}kt.dmax=1<<an,tr.adler=kt.check=1,kt.mode=Ht&512?St:Rt,Ht=0,hr=0;break;case pt:for(;hr<16;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(kt.flags=Ht,(kt.flags&255)!==et){tr.msg="unknown compression method",kt.mode=nr;break}if(kt.flags&57344){tr.msg="unknown header flags set",kt.mode=nr;break}kt.head&&(kt.head.text=Ht>>8&1),kt.flags&512&&(sn[0]=Ht&255,sn[1]=Ht>>>8&255,kt.check=j(kt.check,sn,2,0)),Ht=0,hr=0,kt.mode=ct;case ct:for(;hr<32;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}kt.head&&(kt.head.time=Ht),kt.flags&512&&(sn[0]=Ht&255,sn[1]=Ht>>>8&255,sn[2]=Ht>>>16&255,sn[3]=Ht>>>24&255,kt.check=j(kt.check,sn,4,0)),Ht=0,hr=0,kt.mode=yt;case yt:for(;hr<16;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}kt.head&&(kt.head.xflags=Ht&255,kt.head.os=Ht>>8),kt.flags&512&&(sn[0]=Ht&255,sn[1]=Ht>>>8&255,kt.check=j(kt.check,sn,2,0)),Ht=0,hr=0,kt.mode=ft;case ft:if(kt.flags&1024){for(;hr<16;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}kt.length=Ht,kt.head&&(kt.head.extra_len=Ht),kt.flags&512&&(sn[0]=Ht&255,sn[1]=Ht>>>8&255,kt.check=j(kt.check,sn,2,0)),Ht=0,hr=0}else kt.head&&(kt.head.extra=null);kt.mode=_t;case _t:if(kt.flags&1024&&(Dr=kt.length,Dr>or&&(Dr=or),Dr&&(kt.head&&(an=kt.head.extra_len-kt.length,kt.head.extra||(kt.head.extra=new Array(kt.head.extra_len)),a.arraySet(kt.head.extra,br,Tt,Dr,an)),kt.flags&512&&(kt.check=j(kt.check,br,Dr,Tt)),or-=Dr,Tt+=Dr,kt.length-=Dr),kt.length))break e;kt.length=0,kt.mode=wt;case wt:if(kt.flags&2048){if(or===0)break e;Dr=0;do an=br[Tt+Dr++],kt.head&&an&&kt.length<65536&&(kt.head.name+=String.fromCharCode(an));while(an&&Dr<or);if(kt.flags&512&&(kt.check=j(kt.check,br,Dr,Tt)),or-=Dr,Tt+=Dr,an)break e}else kt.head&&(kt.head.name=null);kt.length=0,kt.mode=Et;case Et:if(kt.flags&4096){if(or===0)break e;Dr=0;do an=br[Tt+Dr++],kt.head&&an&&kt.length<65536&&(kt.head.comment+=String.fromCharCode(an));while(an&&Dr<or);if(kt.flags&512&&(kt.check=j(kt.check,br,Dr,Tt)),or-=Dr,Tt+=Dr,an)break e}else kt.head&&(kt.head.comment=null);kt.mode=Mt;case Mt:if(kt.flags&512){for(;hr<16;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(Ht!==(kt.check&65535)){tr.msg="header crc mismatch",kt.mode=nr;break}Ht=0,hr=0}kt.head&&(kt.head.hcrc=kt.flags>>9&1,kt.head.done=!0),tr.adler=kt.check=0,kt.mode=Rt;break;case St:for(;hr<32;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}tr.adler=kt.check=Tr(Ht),Ht=0,hr=0,kt.mode=At;case At:if(kt.havedict===0)return tr.next_out=ur,tr.avail_out=Ft,tr.next_in=Tt,tr.avail_in=or,kt.hold=Ht,kt.bits=hr,$;tr.adler=kt.check=1,kt.mode=Rt;case Rt:if(vr===vt||vr===ht)break e;case Ct:if(kt.last){Ht>>>=hr&7,hr-=hr&7,kt.mode=gr;break}for(;hr<3;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}switch(kt.last=Ht&1,Ht>>>=1,hr-=1,Ht&3){case 0:kt.mode=Pt;break;case 1:if(Er(kt),kt.mode=Zt,vr===ht){Ht>>>=2,hr-=2;break e}break;case 2:kt.mode=It;break;case 3:tr.msg="invalid block type",kt.mode=nr}Ht>>>=2,hr-=2;break;case Pt:for(Ht>>>=hr&7,hr-=hr&7;hr<32;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if((Ht&65535)!==(Ht>>>16^65535)){tr.msg="invalid stored block lengths",kt.mode=nr;break}if(kt.length=Ht&65535,Ht=0,hr=0,kt.mode=Lt,vr===ht)break e;case Lt:kt.mode=Ot;case Ot:if(Dr=kt.length,Dr){if(Dr>or&&(Dr=or),Dr>Ft&&(Dr=Ft),Dr===0)break e;a.arraySet(Ir,br,Tt,Dr,ur),or-=Dr,Tt+=Dr,Ft-=Dr,ur+=Dr,kt.length-=Dr;break}kt.mode=Rt;break;case It:for(;hr<14;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(kt.nlen=(Ht&31)+257,Ht>>>=5,hr-=5,kt.ndist=(Ht&31)+1,Ht>>>=5,hr-=5,kt.ncode=(Ht&15)+4,Ht>>>=4,hr-=4,kt.nlen>286||kt.ndist>30){tr.msg="too many length or distance symbols",kt.mode=nr;break}kt.have=0,kt.mode=$t;case $t:for(;kt.have<kt.ncode;){for(;hr<3;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}kt.lens[Rn[kt.have++]]=Ht&7,Ht>>>=3,hr-=3}for(;kt.have<19;)kt.lens[Rn[kt.have++]]=0;if(kt.lencode=kt.lendyn,kt.lenbits=7,mn={bits:kt.lenbits},ln=tt(it,kt.lens,0,19,kt.lencode,0,kt.work,mn),kt.lenbits=mn.bits,ln){tr.msg="invalid code lengths set",kt.mode=nr;break}kt.have=0,kt.mode=jt;case jt:for(;kt.have<kt.nlen+kt.ndist;){for(;Kr=kt.lencode[Ht&(1<<kt.lenbits)-1],Hr=Kr>>>24,Gr=Kr>>>16&255,dn=Kr&65535,!(Hr<=hr);){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(dn<16)Ht>>>=Hr,hr-=Hr,kt.lens[kt.have++]=dn;else{if(dn===16){for(pn=Hr+2;hr<pn;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(Ht>>>=Hr,hr-=Hr,kt.have===0){tr.msg="invalid bit length repeat",kt.mode=nr;break}an=kt.lens[kt.have-1],Dr=3+(Ht&3),Ht>>>=2,hr-=2}else if(dn===17){for(pn=Hr+3;hr<pn;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}Ht>>>=Hr,hr-=Hr,an=0,Dr=3+(Ht&7),Ht>>>=3,hr-=3}else{for(pn=Hr+7;hr<pn;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}Ht>>>=Hr,hr-=Hr,an=0,Dr=11+(Ht&127),Ht>>>=7,hr-=7}if(kt.have+Dr>kt.nlen+kt.ndist){tr.msg="invalid bit length repeat",kt.mode=nr;break}for(;Dr--;)kt.lens[kt.have++]=an}}if(kt.mode===nr)break;if(kt.lens[256]===0){tr.msg="invalid code -- missing end-of-block",kt.mode=nr;break}if(kt.lenbits=9,mn={bits:kt.lenbits},ln=tt(dt,kt.lens,0,kt.nlen,kt.lencode,0,kt.work,mn),kt.lenbits=mn.bits,ln){tr.msg="invalid literal/lengths set",kt.mode=nr;break}if(kt.distbits=6,kt.distcode=kt.distdyn,mn={bits:kt.distbits},ln=tt(lt,kt.lens,kt.nlen,kt.ndist,kt.distcode,0,kt.work,mn),kt.distbits=mn.bits,ln){tr.msg="invalid distances set",kt.mode=nr;break}if(kt.mode=Zt,vr===ht)break e;case Zt:kt.mode=qt;case qt:if(or>=6&&Ft>=258){tr.next_out=ur,tr.avail_out=Ft,tr.next_in=Tt,tr.avail_in=or,kt.hold=Ht,kt.bits=hr,rt(tr,zr),ur=tr.next_out,Ir=tr.output,Ft=tr.avail_out,Tt=tr.next_in,br=tr.input,or=tr.avail_in,Ht=kt.hold,hr=kt.bits,kt.mode===Rt&&(kt.back=-1);break}for(kt.back=0;Kr=kt.lencode[Ht&(1<<kt.lenbits)-1],Hr=Kr>>>24,Gr=Kr>>>16&255,dn=Kr&65535,!(Hr<=hr);){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(Gr&&!(Gr&240)){for(nn=Hr,Cn=Gr,_n=dn;Kr=kt.lencode[_n+((Ht&(1<<nn+Cn)-1)>>nn)],Hr=Kr>>>24,Gr=Kr>>>16&255,dn=Kr&65535,!(nn+Hr<=hr);){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}Ht>>>=nn,hr-=nn,kt.back+=nn}if(Ht>>>=Hr,hr-=Hr,kt.back+=Hr,kt.length=dn,Gr===0){kt.mode=lr;break}if(Gr&32){kt.back=-1,kt.mode=Rt;break}if(Gr&64){tr.msg="invalid literal/length code",kt.mode=nr;break}kt.extra=Gr&15,kt.mode=er;case er:if(kt.extra){for(pn=kt.extra;hr<pn;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}kt.length+=Ht&(1<<kt.extra)-1,Ht>>>=kt.extra,hr-=kt.extra,kt.back+=kt.extra}kt.was=kt.length,kt.mode=Yt;case Yt:for(;Kr=kt.distcode[Ht&(1<<kt.distbits)-1],Hr=Kr>>>24,Gr=Kr>>>16&255,dn=Kr&65535,!(Hr<=hr);){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(!(Gr&240)){for(nn=Hr,Cn=Gr,_n=dn;Kr=kt.distcode[_n+((Ht&(1<<nn+Cn)-1)>>nn)],Hr=Kr>>>24,Gr=Kr>>>16&255,dn=Kr&65535,!(nn+Hr<=hr);){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}Ht>>>=nn,hr-=nn,kt.back+=nn}if(Ht>>>=Hr,hr-=Hr,kt.back+=Hr,Gr&64){tr.msg="invalid distance code",kt.mode=nr;break}kt.offset=dn,kt.extra=Gr&15,kt.mode=Qt;case Qt:if(kt.extra){for(pn=kt.extra;hr<pn;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}kt.offset+=Ht&(1<<kt.extra)-1,Ht>>>=kt.extra,hr-=kt.extra,kt.back+=kt.extra}if(kt.offset>kt.dmax){tr.msg="invalid distance too far back",kt.mode=nr;break}kt.mode=cr;case cr:if(Ft===0)break e;if(Dr=zr-Ft,kt.offset>Dr){if(Dr=kt.offset-Dr,Dr>kt.whave&&kt.sane){tr.msg="invalid distance too far back",kt.mode=nr;break}Dr>kt.wnext?(Dr-=kt.wnext,jr=kt.wsize-Dr):jr=kt.wnext-Dr,Dr>kt.length&&(Dr=kt.length),fn=kt.window}else fn=Ir,jr=ur-kt.offset,Dr=kt.length;Dr>Ft&&(Dr=Ft),Ft-=Dr,kt.length-=Dr;do Ir[ur++]=fn[jr++];while(--Dr);kt.length===0&&(kt.mode=qt);break;case lr:if(Ft===0)break e;Ir[ur++]=kt.length,Ft--,kt.mode=qt;break;case gr:if(kt.wrap){for(;hr<32;){if(or===0)break e;or--,Ht|=br[Tt++]<<hr,hr+=8}if(zr-=Ft,tr.total_out+=zr,kt.total+=zr,zr&&(tr.adler=kt.check=kt.flags?j(kt.check,Ir,zr,ur-zr):_(kt.check,Ir,zr,ur-zr)),zr=Ft,(kt.flags?Ht:Tr(Ht))!==kt.check){tr.msg="incorrect data check",kt.mode=nr;break}Ht=0,hr=0}kt.mode=rr;case rr:if(kt.wrap&&kt.flags){for(;hr<32;){if(or===0)break e;or--,Ht+=br[Tt++]<<hr,hr+=8}if(Ht!==(kt.total&4294967295)){tr.msg="incorrect length check",kt.mode=nr;break}Ht=0,hr=0}kt.mode=Gt;case Gt:ln=nt;break e;case nr:ln=st;break e;case _r:return ot;case Sr:default:return _e}return tr.next_out=ur,tr.avail_out=Ft,tr.next_in=Tt,tr.avail_in=or,kt.hold=Ht,kt.bits=hr,(kt.wsize||zr!==tr.avail_out&&kt.mode<nr&&(kt.mode<gr||vr!==gt))&&mr(tr,tr.output,tr.next_out,zr-tr.avail_out),Br-=tr.avail_in,zr-=tr.avail_out,tr.total_in+=Br,tr.total_out+=zr,kt.total+=zr,kt.wrap&&zr&&(tr.adler=kt.check=kt.flags?j(kt.check,Ir,zr,tr.next_out-zr):_(kt.check,Ir,zr,tr.next_out-zr)),tr.data_type=kt.bits+(kt.last?64:0)+(kt.mode===Rt?128:0)+(kt.mode===Zt||kt.mode===Lt?256:0),(Br===0&&zr===0||vr===gt)&&ln===mt&&(ln=ut),ln}function Jt(tr){if(!tr||!tr.state)return _e;var vr=tr.state;return vr.window&&(vr.window=null),tr.state=null,mt}function sr(tr,vr){var kt;return!tr||!tr.state||(kt=tr.state,!(kt.wrap&2))?_e:(kt.head=vr,vr.done=!1,mt)}function Cr(tr,vr){var kt=vr.length,br,Ir,Tt;return!tr||!tr.state||(br=tr.state,br.wrap!==0&&br.mode!==At)?_e:br.mode===At&&(Ir=1,Ir=_(Ir,vr,kt,0),Ir!==br.check)?st:(Tt=mr(tr,vr,kt,kt),Tt?(br.mode=_r,ot):(br.havedict=1,mt))}s.inflateReset=Lr,s.inflateReset2=Or,s.inflateResetKeep=pr,s.inflateInit=Ut,s.inflateInit2=Bt,s.inflate=Dt,s.inflateEnd=Jt,s.inflateGetHeader=sr,s.inflateSetDictionary=Cr,s.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_=15,j=852,rt=592,tt=0,it=1,dt=2,lt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],gt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],vt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ht=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(nt,$,_e,st,ot,ut,et,at){var pt=at.bits,ct=0,yt=0,ft=0,_t=0,wt=0,Et=0,Mt=0,St=0,At=0,Rt=0,Ct,Pt,Lt,Ot,It,$t=null,jt=0,Zt,qt=new a.Buf16(_+1),er=new a.Buf16(_+1),Yt=null,Qt=0,cr,lr,gr;for(ct=0;ct<=_;ct++)qt[ct]=0;for(yt=0;yt<st;yt++)qt[$[_e+yt]]++;for(wt=pt,_t=_;_t>=1&&qt[_t]===0;_t--);if(wt>_t&&(wt=_t),_t===0)return ot[ut++]=20971520,ot[ut++]=20971520,at.bits=1,0;for(ft=1;ft<_t&&qt[ft]===0;ft++);for(wt<ft&&(wt=ft),St=1,ct=1;ct<=_;ct++)if(St<<=1,St-=qt[ct],St<0)return-1;if(St>0&&(nt===tt||_t!==1))return-1;for(er[1]=0,ct=1;ct<_;ct++)er[ct+1]=er[ct]+qt[ct];for(yt=0;yt<st;yt++)$[_e+yt]!==0&&(et[er[$[_e+yt]]++]=yt);if(nt===tt?($t=Yt=et,Zt=19):nt===it?($t=lt,jt-=257,Yt=gt,Qt-=257,Zt=256):($t=vt,Yt=ht,Zt=-1),Rt=0,yt=0,ct=ft,It=ut,Et=wt,Mt=0,Lt=-1,At=1<<wt,Ot=At-1,nt===it&&At>j||nt===dt&&At>rt)return 1;for(;;){cr=ct-Mt,et[yt]<Zt?(lr=0,gr=et[yt]):et[yt]>Zt?(lr=Yt[Qt+et[yt]],gr=$t[jt+et[yt]]):(lr=96,gr=0),Ct=1<<ct-Mt,Pt=1<<Et,ft=Pt;do Pt-=Ct,ot[It+(Rt>>Mt)+Pt]=cr<<24|lr<<16|gr|0;while(Pt!==0);for(Ct=1<<ct-1;Rt&Ct;)Ct>>=1;if(Ct!==0?(Rt&=Ct-1,Rt+=Ct):Rt=0,yt++,--qt[ct]===0){if(ct===_t)break;ct=$[_e+et[yt]]}if(ct>wt&&(Rt&Ot)!==Lt){for(Mt===0&&(Mt=wt),It+=ft,Et=ct-Mt,St=1<<Et;Et+Mt<_t&&(St-=qt[Et+Mt],!(St<=0));)Et++,St<<=1;if(At+=1<<Et,nt===it&&At>j||nt===dt&&At>rt)return 1;Lt=Rt&Ot,ot[Lt]=wt<<24|Et<<16|It-ut|0}}return Rt!==0&&(ot[It+Rt]=ct-Mt<<24|4194304|0),at.bits=wt,0}},"./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js":i=>{i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js":(i,s,o)=>{var a=o("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),_=4,j=0,rt=1,tt=2;function it(Dt){for(var Jt=Dt.length;--Jt>=0;)Dt[Jt]=0}var dt=0,lt=1,gt=2,vt=3,ht=258,mt=29,nt=256,$=nt+1+mt,_e=30,st=19,ot=2*$+1,ut=15,et=16,at=7,pt=256,ct=16,yt=17,ft=18,_t=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],wt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Mt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],St=512,At=new Array(($+2)*2);it(At);var Rt=new Array(_e*2);it(Rt);var Ct=new Array(St);it(Ct);var Pt=new Array(ht-vt+1);it(Pt);var Lt=new Array(mt);it(Lt);var Ot=new Array(_e);it(Ot);function It(Dt,Jt,sr,Cr,tr){this.static_tree=Dt,this.extra_bits=Jt,this.extra_base=sr,this.elems=Cr,this.max_length=tr,this.has_stree=Dt&&Dt.length}var $t,jt,Zt;function qt(Dt,Jt){this.dyn_tree=Dt,this.max_code=0,this.stat_desc=Jt}function er(Dt){return Dt<256?Ct[Dt]:Ct[256+(Dt>>>7)]}function Yt(Dt,Jt){Dt.pending_buf[Dt.pending++]=Jt&255,Dt.pending_buf[Dt.pending++]=Jt>>>8&255}function Qt(Dt,Jt,sr){Dt.bi_valid>et-sr?(Dt.bi_buf|=Jt<<Dt.bi_valid&65535,Yt(Dt,Dt.bi_buf),Dt.bi_buf=Jt>>et-Dt.bi_valid,Dt.bi_valid+=sr-et):(Dt.bi_buf|=Jt<<Dt.bi_valid&65535,Dt.bi_valid+=sr)}function cr(Dt,Jt,sr){Qt(Dt,sr[Jt*2],sr[Jt*2+1])}function lr(Dt,Jt){var sr=0;do sr|=Dt&1,Dt>>>=1,sr<<=1;while(--Jt>0);return sr>>>1}function gr(Dt){Dt.bi_valid===16?(Yt(Dt,Dt.bi_buf),Dt.bi_buf=0,Dt.bi_valid=0):Dt.bi_valid>=8&&(Dt.pending_buf[Dt.pending++]=Dt.bi_buf&255,Dt.bi_buf>>=8,Dt.bi_valid-=8)}function rr(Dt,Jt){var sr=Jt.dyn_tree,Cr=Jt.max_code,tr=Jt.stat_desc.static_tree,vr=Jt.stat_desc.has_stree,kt=Jt.stat_desc.extra_bits,br=Jt.stat_desc.extra_base,Ir=Jt.stat_desc.max_length,Tt,ur,or,Ft,Ht,hr,Br=0;for(Ft=0;Ft<=ut;Ft++)Dt.bl_count[Ft]=0;for(sr[Dt.heap[Dt.heap_max]*2+1]=0,Tt=Dt.heap_max+1;Tt<ot;Tt++)ur=Dt.heap[Tt],Ft=sr[sr[ur*2+1]*2+1]+1,Ft>Ir&&(Ft=Ir,Br++),sr[ur*2+1]=Ft,!(ur>Cr)&&(Dt.bl_count[Ft]++,Ht=0,ur>=br&&(Ht=kt[ur-br]),hr=sr[ur*2],Dt.opt_len+=hr*(Ft+Ht),vr&&(Dt.static_len+=hr*(tr[ur*2+1]+Ht)));if(Br!==0){do{for(Ft=Ir-1;Dt.bl_count[Ft]===0;)Ft--;Dt.bl_count[Ft]--,Dt.bl_count[Ft+1]+=2,Dt.bl_count[Ir]--,Br-=2}while(Br>0);for(Ft=Ir;Ft!==0;Ft--)for(ur=Dt.bl_count[Ft];ur!==0;)or=Dt.heap[--Tt],!(or>Cr)&&(sr[or*2+1]!==Ft&&(Dt.opt_len+=(Ft-sr[or*2+1])*sr[or*2],sr[or*2+1]=Ft),ur--)}}function Gt(Dt,Jt,sr){var Cr=new Array(ut+1),tr=0,vr,kt;for(vr=1;vr<=ut;vr++)Cr[vr]=tr=tr+sr[vr-1]<<1;for(kt=0;kt<=Jt;kt++){var br=Dt[kt*2+1];br!==0&&(Dt[kt*2]=lr(Cr[br]++,br))}}function nr(){var Dt,Jt,sr,Cr,tr,vr=new Array(ut+1);for(sr=0,Cr=0;Cr<mt-1;Cr++)for(Lt[Cr]=sr,Dt=0;Dt<1<<_t[Cr];Dt++)Pt[sr++]=Cr;for(Pt[sr-1]=Cr,tr=0,Cr=0;Cr<16;Cr++)for(Ot[Cr]=tr,Dt=0;Dt<1<<wt[Cr];Dt++)Ct[tr++]=Cr;for(tr>>=7;Cr<_e;Cr++)for(Ot[Cr]=tr<<7,Dt=0;Dt<1<<wt[Cr]-7;Dt++)Ct[256+tr++]=Cr;for(Jt=0;Jt<=ut;Jt++)vr[Jt]=0;for(Dt=0;Dt<=143;)At[Dt*2+1]=8,Dt++,vr[8]++;for(;Dt<=255;)At[Dt*2+1]=9,Dt++,vr[9]++;for(;Dt<=279;)At[Dt*2+1]=7,Dt++,vr[7]++;for(;Dt<=287;)At[Dt*2+1]=8,Dt++,vr[8]++;for(Gt(At,$+1,vr),Dt=0;Dt<_e;Dt++)Rt[Dt*2+1]=5,Rt[Dt*2]=lr(Dt,5);$t=new It(At,_t,nt+1,$,ut),jt=new It(Rt,wt,0,_e,ut),Zt=new It(new Array(0),Et,0,st,at)}function _r(Dt){var Jt;for(Jt=0;Jt<$;Jt++)Dt.dyn_ltree[Jt*2]=0;for(Jt=0;Jt<_e;Jt++)Dt.dyn_dtree[Jt*2]=0;for(Jt=0;Jt<st;Jt++)Dt.bl_tree[Jt*2]=0;Dt.dyn_ltree[pt*2]=1,Dt.opt_len=Dt.static_len=0,Dt.last_lit=Dt.matches=0}function Sr(Dt){Dt.bi_valid>8?Yt(Dt,Dt.bi_buf):Dt.bi_valid>0&&(Dt.pending_buf[Dt.pending++]=Dt.bi_buf),Dt.bi_buf=0,Dt.bi_valid=0}function Ar(Dt,Jt,sr,Cr){Sr(Dt),Yt(Dt,sr),Yt(Dt,~sr),a.arraySet(Dt.pending_buf,Dt.window,Jt,sr,Dt.pending),Dt.pending+=sr}function Rr(Dt,Jt,sr,Cr){var tr=Jt*2,vr=sr*2;return Dt[tr]<Dt[vr]||Dt[tr]===Dt[vr]&&Cr[Jt]<=Cr[sr]}function Mr(Dt,Jt,sr){for(var Cr=Dt.heap[sr],tr=sr<<1;tr<=Dt.heap_len&&(tr<Dt.heap_len&&Rr(Jt,Dt.heap[tr+1],Dt.heap[tr],Dt.depth)&&tr++,!Rr(Jt,Cr,Dt.heap[tr],Dt.depth));)Dt.heap[sr]=Dt.heap[tr],sr=tr,tr<<=1;Dt.heap[sr]=Cr}function wr(Dt,Jt,sr){var Cr,tr,vr=0,kt,br;if(Dt.last_lit!==0)do Cr=Dt.pending_buf[Dt.d_buf+vr*2]<<8|Dt.pending_buf[Dt.d_buf+vr*2+1],tr=Dt.pending_buf[Dt.l_buf+vr],vr++,Cr===0?cr(Dt,tr,Jt):(kt=Pt[tr],cr(Dt,kt+nt+1,Jt),br=_t[kt],br!==0&&(tr-=Lt[kt],Qt(Dt,tr,br)),Cr--,kt=er(Cr),cr(Dt,kt,sr),br=wt[kt],br!==0&&(Cr-=Ot[kt],Qt(Dt,Cr,br)));while(vr<Dt.last_lit);cr(Dt,pt,Jt)}function Tr(Dt,Jt){var sr=Jt.dyn_tree,Cr=Jt.stat_desc.static_tree,tr=Jt.stat_desc.has_stree,vr=Jt.stat_desc.elems,kt,br,Ir=-1,Tt;for(Dt.heap_len=0,Dt.heap_max=ot,kt=0;kt<vr;kt++)sr[kt*2]!==0?(Dt.heap[++Dt.heap_len]=Ir=kt,Dt.depth[kt]=0):sr[kt*2+1]=0;for(;Dt.heap_len<2;)Tt=Dt.heap[++Dt.heap_len]=Ir<2?++Ir:0,sr[Tt*2]=1,Dt.depth[Tt]=0,Dt.opt_len--,tr&&(Dt.static_len-=Cr[Tt*2+1]);for(Jt.max_code=Ir,kt=Dt.heap_len>>1;kt>=1;kt--)Mr(Dt,sr,kt);Tt=vr;do kt=Dt.heap[1],Dt.heap[1]=Dt.heap[Dt.heap_len--],Mr(Dt,sr,1),br=Dt.heap[1],Dt.heap[--Dt.heap_max]=kt,Dt.heap[--Dt.heap_max]=br,sr[Tt*2]=sr[kt*2]+sr[br*2],Dt.depth[Tt]=(Dt.depth[kt]>=Dt.depth[br]?Dt.depth[kt]:Dt.depth[br])+1,sr[kt*2+1]=sr[br*2+1]=Tt,Dt.heap[1]=Tt++,Mr(Dt,sr,1);while(Dt.heap_len>=2);Dt.heap[--Dt.heap_max]=Dt.heap[1],rr(Dt,Jt),Gt(sr,Ir,Dt.bl_count)}function fr(Dt,Jt,sr){var Cr,tr=-1,vr,kt=Jt[0*2+1],br=0,Ir=7,Tt=4;for(kt===0&&(Ir=138,Tt=3),Jt[(sr+1)*2+1]=65535,Cr=0;Cr<=sr;Cr++)vr=kt,kt=Jt[(Cr+1)*2+1],!(++br<Ir&&vr===kt)&&(br<Tt?Dt.bl_tree[vr*2]+=br:vr!==0?(vr!==tr&&Dt.bl_tree[vr*2]++,Dt.bl_tree[ct*2]++):br<=10?Dt.bl_tree[yt*2]++:Dt.bl_tree[ft*2]++,br=0,tr=vr,kt===0?(Ir=138,Tt=3):vr===kt?(Ir=6,Tt=3):(Ir=7,Tt=4))}function pr(Dt,Jt,sr){var Cr,tr=-1,vr,kt=Jt[0*2+1],br=0,Ir=7,Tt=4;for(kt===0&&(Ir=138,Tt=3),Cr=0;Cr<=sr;Cr++)if(vr=kt,kt=Jt[(Cr+1)*2+1],!(++br<Ir&&vr===kt)){if(br<Tt)do cr(Dt,vr,Dt.bl_tree);while(--br!==0);else vr!==0?(vr!==tr&&(cr(Dt,vr,Dt.bl_tree),br--),cr(Dt,ct,Dt.bl_tree),Qt(Dt,br-3,2)):br<=10?(cr(Dt,yt,Dt.bl_tree),Qt(Dt,br-3,3)):(cr(Dt,ft,Dt.bl_tree),Qt(Dt,br-11,7));br=0,tr=vr,kt===0?(Ir=138,Tt=3):vr===kt?(Ir=6,Tt=3):(Ir=7,Tt=4)}}function Lr(Dt){var Jt;for(fr(Dt,Dt.dyn_ltree,Dt.l_desc.max_code),fr(Dt,Dt.dyn_dtree,Dt.d_desc.max_code),Tr(Dt,Dt.bl_desc),Jt=st-1;Jt>=3&&Dt.bl_tree[Mt[Jt]*2+1]===0;Jt--);return Dt.opt_len+=3*(Jt+1)+5+5+4,Jt}function Or(Dt,Jt,sr,Cr){var tr;for(Qt(Dt,Jt-257,5),Qt(Dt,sr-1,5),Qt(Dt,Cr-4,4),tr=0;tr<Cr;tr++)Qt(Dt,Dt.bl_tree[Mt[tr]*2+1],3);pr(Dt,Dt.dyn_ltree,Jt-1),pr(Dt,Dt.dyn_dtree,sr-1)}function Bt(Dt){var Jt=4093624447,sr;for(sr=0;sr<=31;sr++,Jt>>>=1)if(Jt&1&&Dt.dyn_ltree[sr*2]!==0)return j;if(Dt.dyn_ltree[18]!==0||Dt.dyn_ltree[20]!==0||Dt.dyn_ltree[26]!==0)return rt;for(sr=32;sr<nt;sr++)if(Dt.dyn_ltree[sr*2]!==0)return rt;return j}var Ut=!1;function Wt(Dt){Ut||(nr(),Ut=!0),Dt.l_desc=new qt(Dt.dyn_ltree,$t),Dt.d_desc=new qt(Dt.dyn_dtree,jt),Dt.bl_desc=new qt(Dt.bl_tree,Zt),Dt.bi_buf=0,Dt.bi_valid=0,_r(Dt)}function ar(Dt,Jt,sr,Cr){Qt(Dt,(dt<<1)+(Cr?1:0),3),Ar(Dt,Jt,sr)}function Xt(Dt){Qt(Dt,lt<<1,3),cr(Dt,pt,At),gr(Dt)}function Er(Dt,Jt,sr,Cr){var tr,vr,kt=0;Dt.level>0?(Dt.strm.data_type===tt&&(Dt.strm.data_type=Bt(Dt)),Tr(Dt,Dt.l_desc),Tr(Dt,Dt.d_desc),kt=Lr(Dt),tr=Dt.opt_len+3+7>>>3,vr=Dt.static_len+3+7>>>3,vr<=tr&&(tr=vr)):tr=vr=sr+5,sr+4<=tr&&Jt!==-1?ar(Dt,Jt,sr,Cr):Dt.strategy===_||vr===tr?(Qt(Dt,(lt<<1)+(Cr?1:0),3),wr(Dt,At,Rt)):(Qt(Dt,(gt<<1)+(Cr?1:0),3),Or(Dt,Dt.l_desc.max_code+1,Dt.d_desc.max_code+1,kt+1),wr(Dt,Dt.dyn_ltree,Dt.dyn_dtree)),_r(Dt),Cr&&Sr(Dt)}function mr(Dt,Jt,sr){return Dt.pending_buf[Dt.d_buf+Dt.last_lit*2]=Jt>>>8&255,Dt.pending_buf[Dt.d_buf+Dt.last_lit*2+1]=Jt&255,Dt.pending_buf[Dt.l_buf+Dt.last_lit]=sr&255,Dt.last_lit++,Jt===0?Dt.dyn_ltree[sr*2]++:(Dt.matches++,Jt--,Dt.dyn_ltree[(Pt[sr]+nt+1)*2]++,Dt.dyn_dtree[er(Jt)*2]++),Dt.last_lit===Dt.lit_bufsize-1}s._tr_init=Wt,s._tr_stored_block=ar,s._tr_flush_block=Er,s._tr_tally=mr,s._tr_align=Xt},"./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js":i=>{function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=s},"./src/SurfaceWorker.js":()=>{$3Dmol.workerString=(function(){self.onmessage=function(i){var s=i.data,o=s.type;if(o<0)self.atomData=s.atoms,self.volume=s.volume,self.ps=new ProteinSurface;else{var a=self.ps;a.initparm(s.expandedExtent,o!=1,self.volume),a.fillvoxels(self.atomData,s.extendedAtoms),a.buildboundary(),(o===4||o===2)&&(a.fastdistancemap(),a.boundingatom(!1),a.fillvoxelswaals(self.atomData,s.extendedAtoms)),a.marchingcube(o);var _=a.getFacesAndVertices(s.atomsToShow);self.postMessage(_)}}}).toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=`;
function _classCallCheck() {};`,$3Dmol.workerString+=`;
`+$3Dmol.Vector3.toString(),$3Dmol.workerString+=`;
`+$3Dmol.MarchingCubeInitializer.toString()+`;

`,$3Dmol.workerString+=`;
`+$3Dmol.PointGrid.toString()+`;
`,$3Dmol.workerString+=`;
var ProteinSurface = `+$3Dmol.ProteinSurface.toString()+`;
`,$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},"./src/exporter.js":i=>{typeof i.exports=="object"&&(i.exports=window.$3Dmol)},"./src/vendor/mmtf.js":function(i,s){(function(o,a){a(s)})(this,function(o){function a(Bt,Ut,Wt){for(var ar=(Bt.byteLength,0),Xt=Wt.length;Xt>ar;ar++){var Er=Wt.charCodeAt(ar);if(128>Er)Bt.setUint8(Ut++,Er>>>0&127|0);else if(2048>Er)Bt.setUint8(Ut++,Er>>>6&31|192),Bt.setUint8(Ut++,Er>>>0&63|128);else if(65536>Er)Bt.setUint8(Ut++,Er>>>12&15|224),Bt.setUint8(Ut++,Er>>>6&63|128),Bt.setUint8(Ut++,Er>>>0&63|128);else{if(!(1114112>Er))throw new Error("bad codepoint "+Er);Bt.setUint8(Ut++,Er>>>18&7|240),Bt.setUint8(Ut++,Er>>>12&63|128),Bt.setUint8(Ut++,Er>>>6&63|128),Bt.setUint8(Ut++,Er>>>0&63|128)}}}function _(Bt){for(var Ut=0,Wt=0,ar=Bt.length;ar>Wt;Wt++){var Xt=Bt.charCodeAt(Wt);if(128>Xt)Ut+=1;else if(2048>Xt)Ut+=2;else if(65536>Xt)Ut+=3;else{if(!(1114112>Xt))throw new Error("bad codepoint "+Xt);Ut+=4}}return Ut}function j(Bt,Ut,Wt){var ar=typeof Bt;if(ar==="string"){var Xt=_(Bt);if(32>Xt)return Ut.setUint8(Wt,160|Xt),a(Ut,Wt+1,Bt),1+Xt;if(256>Xt)return Ut.setUint8(Wt,217),Ut.setUint8(Wt+1,Xt),a(Ut,Wt+2,Bt),2+Xt;if(65536>Xt)return Ut.setUint8(Wt,218),Ut.setUint16(Wt+1,Xt),a(Ut,Wt+3,Bt),3+Xt;if(4294967296>Xt)return Ut.setUint8(Wt,219),Ut.setUint32(Wt+1,Xt),a(Ut,Wt+5,Bt),5+Xt}if(Bt instanceof Uint8Array){var Xt=Bt.byteLength,Er=new Uint8Array(Ut.buffer);if(256>Xt)return Ut.setUint8(Wt,196),Ut.setUint8(Wt+1,Xt),Er.set(Bt,Wt+2),2+Xt;if(65536>Xt)return Ut.setUint8(Wt,197),Ut.setUint16(Wt+1,Xt),Er.set(Bt,Wt+3),3+Xt;if(4294967296>Xt)return Ut.setUint8(Wt,198),Ut.setUint32(Wt+1,Xt),Er.set(Bt,Wt+5),5+Xt}if(ar==="number"){if(!isFinite(Bt))throw new Error("Number not finite: "+Bt);if(Math.floor(Bt)!==Bt)return Ut.setUint8(Wt,203),Ut.setFloat64(Wt+1,Bt),9;if(Bt>=0){if(128>Bt)return Ut.setUint8(Wt,Bt),1;if(256>Bt)return Ut.setUint8(Wt,204),Ut.setUint8(Wt+1,Bt),2;if(65536>Bt)return Ut.setUint8(Wt,205),Ut.setUint16(Wt+1,Bt),3;if(4294967296>Bt)return Ut.setUint8(Wt,206),Ut.setUint32(Wt+1,Bt),5;throw new Error("Number too big 0x"+Bt.toString(16))}if(Bt>=-32)return Ut.setInt8(Wt,Bt),1;if(Bt>=-128)return Ut.setUint8(Wt,208),Ut.setInt8(Wt+1,Bt),2;if(Bt>=-32768)return Ut.setUint8(Wt,209),Ut.setInt16(Wt+1,Bt),3;if(Bt>=-2147483648)return Ut.setUint8(Wt,210),Ut.setInt32(Wt+1,Bt),5;throw new Error("Number too small -0x"+(-Bt).toString(16).substr(1))}if(Bt===null)return Ut.setUint8(Wt,192),1;if(ar==="boolean")return Ut.setUint8(Wt,Bt?195:194),1;if(ar==="object"){var Xt,Jt=0,mr=Array.isArray(Bt);if(mr)Xt=Bt.length;else{var Dt=Object.keys(Bt);Xt=Dt.length}var Jt;if(16>Xt?(Ut.setUint8(Wt,Xt|(mr?144:128)),Jt=1):65536>Xt?(Ut.setUint8(Wt,mr?220:222),Ut.setUint16(Wt+1,Xt),Jt=3):4294967296>Xt&&(Ut.setUint8(Wt,mr?221:223),Ut.setUint32(Wt+1,Xt),Jt=5),mr)for(var sr=0;Xt>sr;sr++)Jt+=j(Bt[sr],Ut,Wt+Jt);else for(var sr=0;Xt>sr;sr++){var Cr=Dt[sr];Jt+=j(Cr,Ut,Wt+Jt),Jt+=j(Bt[Cr],Ut,Wt+Jt)}return Jt}throw new Error("Unknown type "+ar)}function rt(Bt){var Ut=typeof Bt;if(Ut==="string"){var Wt=_(Bt);if(32>Wt)return 1+Wt;if(256>Wt)return 2+Wt;if(65536>Wt)return 3+Wt;if(4294967296>Wt)return 5+Wt}if(Bt instanceof Uint8Array){var Wt=Bt.byteLength;if(256>Wt)return 2+Wt;if(65536>Wt)return 3+Wt;if(4294967296>Wt)return 5+Wt}if(Ut==="number"){if(Math.floor(Bt)!==Bt)return 9;if(Bt>=0){if(128>Bt)return 1;if(256>Bt)return 2;if(65536>Bt)return 3;if(4294967296>Bt)return 5;throw new Error("Number too big 0x"+Bt.toString(16))}if(Bt>=-32)return 1;if(Bt>=-128)return 2;if(Bt>=-32768)return 3;if(Bt>=-2147483648)return 5;throw new Error("Number too small -0x"+Bt.toString(16).substr(1))}if(Ut==="boolean"||Bt===null)return 1;if(Ut==="object"){var Wt,ar=0;if(Array.isArray(Bt)){Wt=Bt.length;for(var Xt=0;Wt>Xt;Xt++)ar+=rt(Bt[Xt])}else{var Er=Object.keys(Bt);Wt=Er.length;for(var Xt=0;Wt>Xt;Xt++){var mr=Er[Xt];ar+=rt(mr)+rt(Bt[mr])}}if(16>Wt)return 1+ar;if(65536>Wt)return 3+ar;if(4294967296>Wt)return 5+ar;throw new Error("Array or object too long 0x"+Wt.toString(16))}throw new Error("Unknown type "+Ut)}function tt(Bt){var Ut=new ArrayBuffer(rt(Bt)),Wt=new DataView(Ut);return j(Bt,Wt,0),new Uint8Array(Ut)}function it(Bt,Ut,Wt){return Ut?new Bt(Ut.buffer,Ut.byteOffset,Ut.byteLength/(Wt||1)):void 0}function dt(Bt){return it(DataView,Bt)}function lt(Bt){return it(Uint8Array,Bt)}function gt(Bt){return it(Int8Array,Bt)}function vt(Bt){return it(Int32Array,Bt,4)}function ht(Bt){return it(Float32Array,Bt,4)}function mt(Bt,Ut){var Wt=Bt.length/2;Ut||(Ut=new Int16Array(Wt));for(var ar=0,Xt=0;Wt>ar;++ar,Xt+=2)Ut[ar]=Bt[Xt]<<8^Bt[Xt+1]<<0;return Ut}function nt(Bt,Ut){var Wt=Bt.length;Ut||(Ut=new Uint8Array(2*Wt));for(var ar=dt(Ut),Xt=0;Wt>Xt;++Xt)ar.setInt16(2*Xt,Bt[Xt]);return lt(Ut)}function $(Bt,Ut){var Wt=Bt.length/4;Ut||(Ut=new Int32Array(Wt));for(var ar=0,Xt=0;Wt>ar;++ar,Xt+=4)Ut[ar]=Bt[Xt]<<24^Bt[Xt+1]<<16^Bt[Xt+2]<<8^Bt[Xt+3]<<0;return Ut}function _e(Bt,Ut){var Wt=Bt.length;Ut||(Ut=new Uint8Array(4*Wt));for(var ar=dt(Ut),Xt=0;Wt>Xt;++Xt)ar.setInt32(4*Xt,Bt[Xt]);return lt(Ut)}function st(Bt,Ut){var Wt=Bt.length;Ut||(Ut=new Float32Array(Wt/4));for(var ar=dt(Ut),Xt=dt(Bt),Er=0,mr=0,Dt=Wt/4;Dt>Er;++Er,mr+=4)ar.setFloat32(mr,Xt.getFloat32(mr),!0);return Ut}function ot(Bt,Ut,Wt){var ar=Bt.length,Xt=1/Ut;Wt||(Wt=new Float32Array(ar));for(var Er=0;ar>Er;++Er)Wt[Er]=Bt[Er]*Xt;return Wt}function ut(Bt,Ut,Wt){var ar=Bt.length;Wt||(Wt=new Int32Array(ar));for(var Xt=0;ar>Xt;++Xt)Wt[Xt]=Math.round(Bt[Xt]*Ut);return Wt}function et(Bt,Ut){var Wt,ar;if(!Ut){var Xt=0;for(Wt=0,ar=Bt.length;ar>Wt;Wt+=2)Xt+=Bt[Wt+1];Ut=new Bt.constructor(Xt)}var Er=0;for(Wt=0,ar=Bt.length;ar>Wt;Wt+=2)for(var mr=Bt[Wt],Dt=Bt[Wt+1],Jt=0;Dt>Jt;++Jt)Ut[Er]=mr,++Er;return Ut}function at(Bt){if(Bt.length===0)return new Int32Array;var Ut,Wt,ar=2;for(Ut=1,Wt=Bt.length;Wt>Ut;++Ut)Bt[Ut-1]!==Bt[Ut]&&(ar+=2);var Xt=new Int32Array(ar),Er=0,mr=1;for(Ut=1,Wt=Bt.length;Wt>Ut;++Ut)Bt[Ut-1]!==Bt[Ut]?(Xt[Er]=Bt[Ut-1],Xt[Er+1]=mr,mr=1,Er+=2):++mr;return Xt[Er]=Bt[Bt.length-1],Xt[Er+1]=mr,Xt}function pt(Bt,Ut){var Wt=Bt.length;Ut||(Ut=new Bt.constructor(Wt)),Wt&&(Ut[0]=Bt[0]);for(var ar=1;Wt>ar;++ar)Ut[ar]=Bt[ar]+Ut[ar-1];return Ut}function ct(Bt,Ut){var Wt=Bt.length;Ut||(Ut=new Bt.constructor(Wt)),Ut[0]=Bt[0];for(var ar=1;Wt>ar;++ar)Ut[ar]=Bt[ar]-Bt[ar-1];return Ut}function yt(Bt,Ut){var Wt,ar,Xt=Bt instanceof Int8Array?127:32767,Er=-Xt-1,mr=Bt.length;if(!Ut){var Dt=0;for(Wt=0;mr>Wt;++Wt)Bt[Wt]<Xt&&Bt[Wt]>Er&&++Dt;Ut=new Int32Array(Dt)}for(Wt=0,ar=0;mr>Wt;){for(var Jt=0;Bt[Wt]===Xt||Bt[Wt]===Er;)Jt+=Bt[Wt],++Wt;Jt+=Bt[Wt],++Wt,Ut[ar]=Jt,++ar}return Ut}function ft(Bt,Ut){var Wt,ar=32767,Xt=-ar-1,Er=Bt.length,mr=0;for(Wt=0;Er>Wt;++Wt){var Dt=Bt[Wt];Dt===0?++mr:Dt>0?(mr+=Math.ceil(Dt/ar),Dt%ar===0&&(mr+=1)):(mr+=Math.ceil(Dt/Xt),Dt%Xt===0&&(mr+=1))}var Jt=new Int16Array(mr),sr=0;for(Wt=0;Er>Wt;++Wt){var Dt=Bt[Wt];if(Dt>=0)for(;Dt>=ar;)Jt[sr]=ar,++sr,Dt-=ar;else for(;Xt>=Dt;)Jt[sr]=Xt,++sr,Dt-=Xt;Jt[sr]=Dt,++sr}return Jt}function _t(Bt,Ut){return pt(et(Bt),Ut)}function wt(Bt){return at(ct(Bt))}function Et(Bt,Ut,Wt){return ot(et(Bt,vt(Wt)),Ut,Wt)}function Mt(Bt,Ut){return at(ut(Bt,Ut))}function St(Bt,Ut,Wt){return ot(pt(Bt,vt(Wt)),Ut,Wt)}function At(Bt,Ut,Wt){return ct(ut(Bt,Ut),Wt)}function Rt(Bt,Ut,Wt){return ot(yt(Bt,vt(Wt)),Ut,Wt)}function Ct(Bt,Ut,Wt){var ar=yt(Bt,vt(Wt));return St(ar,Ut,ht(ar))}function Pt(Bt,Ut,Wt){return ft(At(Bt,Ut))}function Lt(Er){var Ut=dt(Er),Wt=Ut.getInt32(0),ar=Ut.getInt32(4),Xt=Er.subarray(8,12),Er=Er.subarray(12);return[Wt,Er,ar,Xt]}function Ot(Bt,Ut,Wt,ar){var Xt=new ArrayBuffer(12+ar.byteLength),Er=new Uint8Array(Xt),mr=new DataView(Xt);return mr.setInt32(0,Bt),mr.setInt32(4,Ut),Wt&&Er.set(Wt,8),Er.set(ar,12),Er}function It(Bt){var Ut=Bt.length,Wt=lt(Bt);return Ot(2,Ut,void 0,Wt)}function $t(Bt){var Ut=Bt.length,Wt=_e(Bt);return Ot(4,Ut,void 0,Wt)}function jt(Bt,Ut){var Wt=Bt.length/Ut,ar=_e([Ut]),Xt=lt(Bt);return Ot(5,Wt,ar,Xt)}function Zt(Bt){var Ut=Bt.length,Wt=_e(at(Bt));return Ot(6,Ut,void 0,Wt)}function qt(Bt){var Ut=Bt.length,Wt=_e(wt(Bt));return Ot(8,Ut,void 0,Wt)}function er(Bt,Ut){var Wt=Bt.length,ar=_e([Ut]),Xt=_e(Mt(Bt,Ut));return Ot(9,Wt,ar,Xt)}function Yt(Bt,Ut){var Wt=Bt.length,ar=_e([Ut]),Xt=nt(Pt(Bt,Ut));return Ot(10,Wt,ar,Xt)}function Qt(Bt){var Ut={};return Mr.forEach(function(Wt){Bt[Wt]!==void 0&&(Ut[Wt]=Bt[Wt])}),Bt.bondAtomList&&(Ut.bondAtomList=$t(Bt.bondAtomList)),Bt.bondOrderList&&(Ut.bondOrderList=It(Bt.bondOrderList)),Ut.xCoordList=Yt(Bt.xCoordList,1e3),Ut.yCoordList=Yt(Bt.yCoordList,1e3),Ut.zCoordList=Yt(Bt.zCoordList,1e3),Bt.bFactorList&&(Ut.bFactorList=Yt(Bt.bFactorList,100)),Bt.atomIdList&&(Ut.atomIdList=qt(Bt.atomIdList)),Bt.altLocList&&(Ut.altLocList=Zt(Bt.altLocList)),Bt.occupancyList&&(Ut.occupancyList=er(Bt.occupancyList,100)),Ut.groupIdList=qt(Bt.groupIdList),Ut.groupTypeList=$t(Bt.groupTypeList),Bt.secStructList&&(Ut.secStructList=It(Bt.secStructList)),Bt.insCodeList&&(Ut.insCodeList=Zt(Bt.insCodeList)),Bt.sequenceIndexList&&(Ut.sequenceIndexList=qt(Bt.sequenceIndexList)),Ut.chainIdList=jt(Bt.chainIdList,4),Bt.chainNameList&&(Ut.chainNameList=jt(Bt.chainNameList,4)),Ut}function cr(Bt){function Ut(Jt){for(var sr={},Cr=0;Jt>Cr;Cr++){var tr=Er();sr[tr]=Er()}return sr}function Wt(Jt){var sr=Bt.subarray(mr,mr+Jt);return mr+=Jt,sr}function ar(Jt){var sr=Bt.subarray(mr,mr+Jt);mr+=Jt;var Cr=65535;if(Jt>Cr){for(var tr=[],vr=0;vr<sr.length;vr+=Cr)tr.push(String.fromCharCode.apply(null,sr.subarray(vr,vr+Cr)));return tr.join("")}return String.fromCharCode.apply(null,sr)}function Xt(Jt){for(var sr=new Array(Jt),Cr=0;Jt>Cr;Cr++)sr[Cr]=Er();return sr}function Er(){var Jt,sr,Cr=Bt[mr];if(!(128&Cr))return mr++,Cr;if((240&Cr)===128)return sr=15&Cr,mr++,Ut(sr);if((240&Cr)===144)return sr=15&Cr,mr++,Xt(sr);if((224&Cr)===160)return sr=31&Cr,mr++,ar(sr);if((224&Cr)===224)return Jt=Dt.getInt8(mr),mr++,Jt;switch(Cr){case 192:return mr++,null;case 194:return mr++,!1;case 195:return mr++,!0;case 196:return sr=Dt.getUint8(mr+1),mr+=2,Wt(sr);case 197:return sr=Dt.getUint16(mr+1),mr+=3,Wt(sr);case 198:return sr=Dt.getUint32(mr+1),mr+=5,Wt(sr);case 202:return Jt=Dt.getFloat32(mr+1),mr+=5,Jt;case 203:return Jt=Dt.getFloat64(mr+1),mr+=9,Jt;case 204:return Jt=Bt[mr+1],mr+=2,Jt;case 205:return Jt=Dt.getUint16(mr+1),mr+=3,Jt;case 206:return Jt=Dt.getUint32(mr+1),mr+=5,Jt;case 208:return Jt=Dt.getInt8(mr+1),mr+=2,Jt;case 209:return Jt=Dt.getInt16(mr+1),mr+=3,Jt;case 210:return Jt=Dt.getInt32(mr+1),mr+=5,Jt;case 217:return sr=Dt.getUint8(mr+1),mr+=2,ar(sr);case 218:return sr=Dt.getUint16(mr+1),mr+=3,ar(sr);case 219:return sr=Dt.getUint32(mr+1),mr+=5,ar(sr);case 220:return sr=Dt.getUint16(mr+1),mr+=3,Xt(sr);case 221:return sr=Dt.getUint32(mr+1),mr+=5,Xt(sr);case 222:return sr=Dt.getUint16(mr+1),mr+=3,Ut(sr);case 223:return sr=Dt.getUint32(mr+1),mr+=5,Ut(sr)}throw new Error("Unknown type 0x"+Cr.toString(16))}var mr=0,Dt=new DataView(Bt.buffer);return Er()}function lr(Bt,Ut,Wt,ar){switch(Bt){case 1:return st(Ut);case 2:return gt(Ut);case 3:return mt(Ut);case 4:return $(Ut);case 5:return lt(Ut);case 6:return et($(Ut),new Uint8Array(Wt));case 7:return et($(Ut));case 8:return _t($(Ut));case 9:return Et($(Ut),$(ar)[0]);case 10:return Ct(mt(Ut),$(ar)[0]);case 11:return ot(mt(Ut),$(ar)[0]);case 12:return Rt(mt(Ut),$(ar)[0]);case 13:return Rt(gt(Ut),$(ar)[0]);case 14:return yt(mt(Ut));case 15:return yt(gt(Ut))}}function gr(Bt,Ut){Ut=Ut||{};var Wt=Ut.ignoreFields,ar={};return Tr.forEach(function(Xt){var Er=Wt?Wt.indexOf(Xt)!==-1:!1,mr=Bt[Xt];Er||mr===void 0||(mr instanceof Uint8Array?ar[Xt]=lr.apply(null,Lt(mr)):ar[Xt]=mr)}),ar}function rr(Bt){return String.fromCharCode.apply(null,Bt).replace(/\0/g,"")}function Gt(Bt,Ut,Wt){Wt=Wt||{};var ar,Xt,Er,mr,Dt,Jt,sr=Wt.firstModelOnly,Cr=Ut.onModel,tr=Ut.onChain,vr=Ut.onGroup,kt=Ut.onAtom,br=Ut.onBond,Ir=0,Tt=0,ur=0,or=0,Ft=0,Ht=-1,hr=Bt.chainNameList,Br=Bt.secStructList,zr=Bt.insCodeList,Dr=Bt.sequenceIndexList,jr=Bt.atomIdList,fn=Bt.bFactorList,Kr=Bt.altLocList,Hr=Bt.occupancyList,Gr=Bt.bondAtomList,dn=Bt.bondOrderList;for(ar=0,Xt=Bt.chainsPerModel.length;Xt>ar&&!(sr&&Ir>0);++ar){var nn=Bt.chainsPerModel[Ir];for(Cr&&Cr({chainCount:nn,modelIndex:Ir}),Er=0;nn>Er;++Er){var Cn=Bt.groupsPerChain[Tt];if(tr){var _n=rr(Bt.chainIdList.subarray(4*Tt,4*Tt+4)),an=null;hr&&(an=rr(hr.subarray(4*Tt,4*Tt+4))),tr({groupCount:Cn,chainIndex:Tt,modelIndex:Ir,chainId:_n,chainName:an})}for(mr=0;Cn>mr;++mr){var ln=Bt.groupList[Bt.groupTypeList[ur]],sn=ln.atomNameList.length;if(vr){var mn=null;Br&&(mn=Br[ur]);var pn=null;Bt.insCodeList&&(pn=String.fromCharCode(zr[ur]));var Rn=null;Dr&&(Rn=Dr[ur]),vr({atomCount:sn,groupIndex:ur,chainIndex:Tt,modelIndex:Ir,groupId:Bt.groupIdList[ur],groupType:Bt.groupTypeList[ur],groupName:ln.groupName,singleLetterCode:ln.singleLetterCode,chemCompType:ln.chemCompType,secStruct:mn,insCode:pn,sequenceIndex:Rn})}for(Dt=0;sn>Dt;++Dt){if(kt){var es=null;jr&&(es=jr[or]);var Pn=null;fn&&(Pn=fn[or]);var ts=null;Kr&&(ts=String.fromCharCode(Kr[or]));var rs=null;Hr&&(rs=Hr[or]),kt({atomIndex:or,groupIndex:ur,chainIndex:Tt,modelIndex:Ir,atomId:es,element:ln.elementList[Dt],atomName:ln.atomNameList[Dt],formalCharge:ln.formalChargeList[Dt],xCoord:Bt.xCoordList[or],yCoord:Bt.yCoordList[or],zCoord:Bt.zCoordList[or],bFactor:Pn,altLoc:ts,occupancy:rs})}or+=1}if(br){var ns=ln.bondAtomList;for(Dt=0,Jt=ln.bondOrderList.length;Jt>Dt;++Dt)br({atomIndex1:or-sn+ns[2*Dt],atomIndex2:or-sn+ns[2*Dt+1],bondOrder:ln.bondOrderList[Dt]})}ur+=1}Tt+=1}if(Ft=Ht+1,Ht=or-1,br&&Gr)for(Dt=0,Jt=Gr.length;Jt>Dt;Dt+=2){var is=Gr[Dt],ss=Gr[Dt+1];(is>=Ft&&Ht>=is||ss>=Ft&&Ht>=ss)&&br({atomIndex1:is,atomIndex2:ss,bondOrder:dn?dn[Dt/2]:null})}Ir+=1}}function nr(Bt){return tt(Qt(Bt))}function _r(Bt,Ut){Bt instanceof ArrayBuffer&&(Bt=new Uint8Array(Bt));var Wt;return Wt=Bt instanceof Uint8Array?cr(Bt):Bt,gr(Wt,Ut)}function Sr(Bt,Ut,Wt,ar){function Xt(){try{var mr=_r(Er.response);Wt(mr)}catch(Dt){ar(Dt)}}var Er=new XMLHttpRequest;Er.addEventListener("load",Xt,!0),Er.addEventListener("error",ar,!0),Er.responseType="arraybuffer",Er.open("GET",Ut+Bt.toUpperCase()),Er.send()}function Ar(Bt,Ut,Wt){Sr(Bt,Lr,Ut,Wt)}function Rr(Bt,Ut,Wt){Sr(Bt,Or,Ut,Wt)}var Mr=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],wr=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],Tr=Mr.concat(wr),fr="v1.0.1",pr="//mmtf.rcsb.org/v1.0/",Lr=pr+"full/",Or=pr+"reduced/";o.encode=nr,o.decode=_r,o.traverse=Gt,o.fetch=Ar,o.fetchReduced=Rr,o.version=fr,o.fetchUrl=Lr,o.fetchReducedUrl=Or,o.encodeMsgpack=tt,o.encodeMmtf=Qt,o.decodeMsgpack=cr,o.decodeMmtf=gr})},"./node_modules/pako/dist/pako.esm.mjs":(i,s,o)=>{o.r(s),o.d(s,{Deflate:()=>Lo,Inflate:()=>Bo,constants:()=>No,default:()=>Qu,deflate:()=>Io,deflateRaw:()=>Do,gzip:()=>zo,inflate:()=>ko,inflateRaw:()=>Fo,ungzip:()=>Uo});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const a=4,_=0,j=1,rt=2;function tt(xt){let zt=xt.length;for(;--zt>=0;)xt[zt]=0}const it=0,dt=1,lt=2,gt=3,vt=258,ht=29,mt=256,nt=mt+1+ht,$=30,_e=19,st=2*nt+1,ot=15,ut=16,et=7,at=256,pt=16,ct=17,yt=18,ft=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_t=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),wt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Et=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Mt=512,St=new Array((nt+2)*2);tt(St);const At=new Array($*2);tt(At);const Rt=new Array(Mt);tt(Rt);const Ct=new Array(vt-gt+1);tt(Ct);const Pt=new Array(ht);tt(Pt);const Lt=new Array($);tt(Lt);function Ot(xt,zt,bt,Nt,Kt){this.static_tree=xt,this.extra_bits=zt,this.extra_base=bt,this.elems=Nt,this.max_length=Kt,this.has_stree=xt&&xt.length}let It,$t,jt;function Zt(xt,zt){this.dyn_tree=xt,this.max_code=0,this.stat_desc=zt}const qt=xt=>xt<256?Rt[xt]:Rt[256+(xt>>>7)],er=(xt,zt)=>{xt.pending_buf[xt.pending++]=zt&255,xt.pending_buf[xt.pending++]=zt>>>8&255},Yt=(xt,zt,bt)=>{xt.bi_valid>ut-bt?(xt.bi_buf|=zt<<xt.bi_valid&65535,er(xt,xt.bi_buf),xt.bi_buf=zt>>ut-xt.bi_valid,xt.bi_valid+=bt-ut):(xt.bi_buf|=zt<<xt.bi_valid&65535,xt.bi_valid+=bt)},Qt=(xt,zt,bt)=>{Yt(xt,bt[zt*2],bt[zt*2+1])},cr=(xt,zt)=>{let bt=0;do bt|=xt&1,xt>>>=1,bt<<=1;while(--zt>0);return bt>>>1},lr=xt=>{xt.bi_valid===16?(er(xt,xt.bi_buf),xt.bi_buf=0,xt.bi_valid=0):xt.bi_valid>=8&&(xt.pending_buf[xt.pending++]=xt.bi_buf&255,xt.bi_buf>>=8,xt.bi_valid-=8)},gr=(xt,zt)=>{const bt=zt.dyn_tree,Nt=zt.max_code,Kt=zt.stat_desc.static_tree,Vt=zt.stat_desc.has_stree,xr=zt.stat_desc.extra_bits,dr=zt.stat_desc.extra_base,Ur=zt.stat_desc.max_length;let ir,yr,qr,Fr,Pr,Nr,cn=0;for(Fr=0;Fr<=ot;Fr++)xt.bl_count[Fr]=0;for(bt[xt.heap[xt.heap_max]*2+1]=0,ir=xt.heap_max+1;ir<st;ir++)yr=xt.heap[ir],Fr=bt[bt[yr*2+1]*2+1]+1,Fr>Ur&&(Fr=Ur,cn++),bt[yr*2+1]=Fr,!(yr>Nt)&&(xt.bl_count[Fr]++,Pr=0,yr>=dr&&(Pr=xr[yr-dr]),Nr=bt[yr*2],xt.opt_len+=Nr*(Fr+Pr),Vt&&(xt.static_len+=Nr*(Kt[yr*2+1]+Pr)));if(cn!==0){do{for(Fr=Ur-1;xt.bl_count[Fr]===0;)Fr--;xt.bl_count[Fr]--,xt.bl_count[Fr+1]+=2,xt.bl_count[Ur]--,cn-=2}while(cn>0);for(Fr=Ur;Fr!==0;Fr--)for(yr=xt.bl_count[Fr];yr!==0;)qr=xt.heap[--ir],!(qr>Nt)&&(bt[qr*2+1]!==Fr&&(xt.opt_len+=(Fr-bt[qr*2+1])*bt[qr*2],bt[qr*2+1]=Fr),yr--)}},rr=(xt,zt,bt)=>{const Nt=new Array(ot+1);let Kt=0,Vt,xr;for(Vt=1;Vt<=ot;Vt++)Kt=Kt+bt[Vt-1]<<1,Nt[Vt]=Kt;for(xr=0;xr<=zt;xr++){let dr=xt[xr*2+1];dr!==0&&(xt[xr*2]=cr(Nt[dr]++,dr))}},Gt=()=>{let xt,zt,bt,Nt,Kt;const Vt=new Array(ot+1);for(bt=0,Nt=0;Nt<ht-1;Nt++)for(Pt[Nt]=bt,xt=0;xt<1<<ft[Nt];xt++)Ct[bt++]=Nt;for(Ct[bt-1]=Nt,Kt=0,Nt=0;Nt<16;Nt++)for(Lt[Nt]=Kt,xt=0;xt<1<<_t[Nt];xt++)Rt[Kt++]=Nt;for(Kt>>=7;Nt<$;Nt++)for(Lt[Nt]=Kt<<7,xt=0;xt<1<<_t[Nt]-7;xt++)Rt[256+Kt++]=Nt;for(zt=0;zt<=ot;zt++)Vt[zt]=0;for(xt=0;xt<=143;)St[xt*2+1]=8,xt++,Vt[8]++;for(;xt<=255;)St[xt*2+1]=9,xt++,Vt[9]++;for(;xt<=279;)St[xt*2+1]=7,xt++,Vt[7]++;for(;xt<=287;)St[xt*2+1]=8,xt++,Vt[8]++;for(rr(St,nt+1,Vt),xt=0;xt<$;xt++)At[xt*2+1]=5,At[xt*2]=cr(xt,5);It=new Ot(St,ft,mt+1,nt,ot),$t=new Ot(At,_t,0,$,ot),jt=new Ot(new Array(0),wt,0,_e,et)},nr=xt=>{let zt;for(zt=0;zt<nt;zt++)xt.dyn_ltree[zt*2]=0;for(zt=0;zt<$;zt++)xt.dyn_dtree[zt*2]=0;for(zt=0;zt<_e;zt++)xt.bl_tree[zt*2]=0;xt.dyn_ltree[at*2]=1,xt.opt_len=xt.static_len=0,xt.sym_next=xt.matches=0},_r=xt=>{xt.bi_valid>8?er(xt,xt.bi_buf):xt.bi_valid>0&&(xt.pending_buf[xt.pending++]=xt.bi_buf),xt.bi_buf=0,xt.bi_valid=0},Sr=(xt,zt,bt,Nt)=>{const Kt=zt*2,Vt=bt*2;return xt[Kt]<xt[Vt]||xt[Kt]===xt[Vt]&&Nt[zt]<=Nt[bt]},Ar=(xt,zt,bt)=>{const Nt=xt.heap[bt];let Kt=bt<<1;for(;Kt<=xt.heap_len&&(Kt<xt.heap_len&&Sr(zt,xt.heap[Kt+1],xt.heap[Kt],xt.depth)&&Kt++,!Sr(zt,Nt,xt.heap[Kt],xt.depth));)xt.heap[bt]=xt.heap[Kt],bt=Kt,Kt<<=1;xt.heap[bt]=Nt},Rr=(xt,zt,bt)=>{let Nt,Kt,Vt=0,xr,dr;if(xt.sym_next!==0)do Nt=xt.pending_buf[xt.sym_buf+Vt++]&255,Nt+=(xt.pending_buf[xt.sym_buf+Vt++]&255)<<8,Kt=xt.pending_buf[xt.sym_buf+Vt++],Nt===0?Qt(xt,Kt,zt):(xr=Ct[Kt],Qt(xt,xr+mt+1,zt),dr=ft[xr],dr!==0&&(Kt-=Pt[xr],Yt(xt,Kt,dr)),Nt--,xr=qt(Nt),Qt(xt,xr,bt),dr=_t[xr],dr!==0&&(Nt-=Lt[xr],Yt(xt,Nt,dr)));while(Vt<xt.sym_next);Qt(xt,at,zt)},Mr=(xt,zt)=>{const bt=zt.dyn_tree,Nt=zt.stat_desc.static_tree,Kt=zt.stat_desc.has_stree,Vt=zt.stat_desc.elems;let xr,dr,Ur=-1,ir;for(xt.heap_len=0,xt.heap_max=st,xr=0;xr<Vt;xr++)bt[xr*2]!==0?(xt.heap[++xt.heap_len]=Ur=xr,xt.depth[xr]=0):bt[xr*2+1]=0;for(;xt.heap_len<2;)ir=xt.heap[++xt.heap_len]=Ur<2?++Ur:0,bt[ir*2]=1,xt.depth[ir]=0,xt.opt_len--,Kt&&(xt.static_len-=Nt[ir*2+1]);for(zt.max_code=Ur,xr=xt.heap_len>>1;xr>=1;xr--)Ar(xt,bt,xr);ir=Vt;do xr=xt.heap[1],xt.heap[1]=xt.heap[xt.heap_len--],Ar(xt,bt,1),dr=xt.heap[1],xt.heap[--xt.heap_max]=xr,xt.heap[--xt.heap_max]=dr,bt[ir*2]=bt[xr*2]+bt[dr*2],xt.depth[ir]=(xt.depth[xr]>=xt.depth[dr]?xt.depth[xr]:xt.depth[dr])+1,bt[xr*2+1]=bt[dr*2+1]=ir,xt.heap[1]=ir++,Ar(xt,bt,1);while(xt.heap_len>=2);xt.heap[--xt.heap_max]=xt.heap[1],gr(xt,zt),rr(bt,Ur,xt.bl_count)},wr=(xt,zt,bt)=>{let Nt,Kt=-1,Vt,xr=zt[0*2+1],dr=0,Ur=7,ir=4;for(xr===0&&(Ur=138,ir=3),zt[(bt+1)*2+1]=65535,Nt=0;Nt<=bt;Nt++)Vt=xr,xr=zt[(Nt+1)*2+1],!(++dr<Ur&&Vt===xr)&&(dr<ir?xt.bl_tree[Vt*2]+=dr:Vt!==0?(Vt!==Kt&&xt.bl_tree[Vt*2]++,xt.bl_tree[pt*2]++):dr<=10?xt.bl_tree[ct*2]++:xt.bl_tree[yt*2]++,dr=0,Kt=Vt,xr===0?(Ur=138,ir=3):Vt===xr?(Ur=6,ir=3):(Ur=7,ir=4))},Tr=(xt,zt,bt)=>{let Nt,Kt=-1,Vt,xr=zt[0*2+1],dr=0,Ur=7,ir=4;for(xr===0&&(Ur=138,ir=3),Nt=0;Nt<=bt;Nt++)if(Vt=xr,xr=zt[(Nt+1)*2+1],!(++dr<Ur&&Vt===xr)){if(dr<ir)do Qt(xt,Vt,xt.bl_tree);while(--dr!==0);else Vt!==0?(Vt!==Kt&&(Qt(xt,Vt,xt.bl_tree),dr--),Qt(xt,pt,xt.bl_tree),Yt(xt,dr-3,2)):dr<=10?(Qt(xt,ct,xt.bl_tree),Yt(xt,dr-3,3)):(Qt(xt,yt,xt.bl_tree),Yt(xt,dr-11,7));dr=0,Kt=Vt,xr===0?(Ur=138,ir=3):Vt===xr?(Ur=6,ir=3):(Ur=7,ir=4)}},fr=xt=>{let zt;for(wr(xt,xt.dyn_ltree,xt.l_desc.max_code),wr(xt,xt.dyn_dtree,xt.d_desc.max_code),Mr(xt,xt.bl_desc),zt=_e-1;zt>=3&&xt.bl_tree[Et[zt]*2+1]===0;zt--);return xt.opt_len+=3*(zt+1)+5+5+4,zt},pr=(xt,zt,bt,Nt)=>{let Kt;for(Yt(xt,zt-257,5),Yt(xt,bt-1,5),Yt(xt,Nt-4,4),Kt=0;Kt<Nt;Kt++)Yt(xt,xt.bl_tree[Et[Kt]*2+1],3);Tr(xt,xt.dyn_ltree,zt-1),Tr(xt,xt.dyn_dtree,bt-1)},Lr=xt=>{let zt=4093624447,bt;for(bt=0;bt<=31;bt++,zt>>>=1)if(zt&1&&xt.dyn_ltree[bt*2]!==0)return _;if(xt.dyn_ltree[9*2]!==0||xt.dyn_ltree[10*2]!==0||xt.dyn_ltree[13*2]!==0)return j;for(bt=32;bt<mt;bt++)if(xt.dyn_ltree[bt*2]!==0)return j;return _};let Or=!1;const Bt=xt=>{Or||(Gt(),Or=!0),xt.l_desc=new Zt(xt.dyn_ltree,It),xt.d_desc=new Zt(xt.dyn_dtree,$t),xt.bl_desc=new Zt(xt.bl_tree,jt),xt.bi_buf=0,xt.bi_valid=0,nr(xt)},Ut=(xt,zt,bt,Nt)=>{Yt(xt,(it<<1)+(Nt?1:0),3),_r(xt),er(xt,bt),er(xt,~bt),bt&&xt.pending_buf.set(xt.window.subarray(zt,zt+bt),xt.pending),xt.pending+=bt},Wt=xt=>{Yt(xt,dt<<1,3),Qt(xt,at,St),lr(xt)},ar=(xt,zt,bt,Nt)=>{let Kt,Vt,xr=0;xt.level>0?(xt.strm.data_type===rt&&(xt.strm.data_type=Lr(xt)),Mr(xt,xt.l_desc),Mr(xt,xt.d_desc),xr=fr(xt),Kt=xt.opt_len+3+7>>>3,Vt=xt.static_len+3+7>>>3,Vt<=Kt&&(Kt=Vt)):Kt=Vt=bt+5,bt+4<=Kt&&zt!==-1?Ut(xt,zt,bt,Nt):xt.strategy===a||Vt===Kt?(Yt(xt,(dt<<1)+(Nt?1:0),3),Rr(xt,St,At)):(Yt(xt,(lt<<1)+(Nt?1:0),3),pr(xt,xt.l_desc.max_code+1,xt.d_desc.max_code+1,xr+1),Rr(xt,xt.dyn_ltree,xt.dyn_dtree)),nr(xt),Nt&&_r(xt)},Xt=(xt,zt,bt)=>(xt.pending_buf[xt.sym_buf+xt.sym_next++]=zt,xt.pending_buf[xt.sym_buf+xt.sym_next++]=zt>>8,xt.pending_buf[xt.sym_buf+xt.sym_next++]=bt,zt===0?xt.dyn_ltree[bt*2]++:(xt.matches++,zt--,xt.dyn_ltree[(Ct[bt]+mt+1)*2]++,xt.dyn_dtree[qt(zt)*2]++),xt.sym_next===xt.sym_end);var Er=Bt,mr=Ut,Dt=ar,Jt=Xt,sr=Wt,Cr={_tr_init:Er,_tr_stored_block:mr,_tr_flush_block:Dt,_tr_tally:Jt,_tr_align:sr},vr=(xt,zt,bt,Nt)=>{let Kt=xt&65535|0,Vt=xt>>>16&65535|0,xr=0;for(;bt!==0;){xr=bt>2e3?2e3:bt,bt-=xr;do Kt=Kt+zt[Nt++]|0,Vt=Vt+Kt|0;while(--xr);Kt%=65521,Vt%=65521}return Kt|Vt<<16|0};const kt=()=>{let xt,zt=[];for(var bt=0;bt<256;bt++){xt=bt;for(var Nt=0;Nt<8;Nt++)xt=xt&1?3988292384^xt>>>1:xt>>>1;zt[bt]=xt}return zt},br=new Uint32Array(kt());var Tt=(xt,zt,bt,Nt)=>{const Kt=br,Vt=Nt+bt;xt^=-1;for(let xr=Nt;xr<Vt;xr++)xt=xt>>>8^Kt[(xt^zt[xr])&255];return xt^-1},ur={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},or={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ft,_tr_stored_block:Ht,_tr_flush_block:hr,_tr_tally:Br,_tr_align:zr}=Cr,{Z_NO_FLUSH:Dr,Z_PARTIAL_FLUSH:jr,Z_FULL_FLUSH:fn,Z_FINISH:Kr,Z_BLOCK:Hr,Z_OK:Gr,Z_STREAM_END:dn,Z_STREAM_ERROR:nn,Z_DATA_ERROR:Cn,Z_BUF_ERROR:_n,Z_DEFAULT_COMPRESSION:an,Z_FILTERED:ln,Z_HUFFMAN_ONLY:sn,Z_RLE:mn,Z_FIXED:pn,Z_DEFAULT_STRATEGY:Rn,Z_UNKNOWN:es,Z_DEFLATED:Pn}=or,ts=9,rs=15,ns=8,ms=256+1+29,jo=30,$o=19,Go=2*ms+1,Vo=15,Yr=3,Tn=258,bn=Tn+Yr+1,Ho=32,kn=42,vs=57,xs=69,ys=73,_s=91,bs=103,On=113,$n=666,gn=1,Fn=2,Ln=3,Un=4,Ko=3,In=(xt,zt)=>(xt.msg=ur[zt],zt),Ds=xt=>xt*2-(xt>4?9:0),Mn=xt=>{let zt=xt.length;for(;--zt>=0;)xt[zt]=0},Xo=xt=>{let zt,bt,Nt,Kt=xt.w_size;zt=xt.hash_size,Nt=zt;do bt=xt.head[--Nt],xt.head[Nt]=bt>=Kt?bt-Kt:0;while(--zt);zt=Kt,Nt=zt;do bt=xt.prev[--Nt],xt.prev[Nt]=bt>=Kt?bt-Kt:0;while(--zt)};let An=(xt,zt,bt)=>(zt<<xt.hash_shift^bt)&xt.hash_mask;const vn=xt=>{const zt=xt.state;let bt=zt.pending;bt>xt.avail_out&&(bt=xt.avail_out),bt!==0&&(xt.output.set(zt.pending_buf.subarray(zt.pending_out,zt.pending_out+bt),xt.next_out),xt.next_out+=bt,zt.pending_out+=bt,xt.total_out+=bt,xt.avail_out-=bt,zt.pending-=bt,zt.pending===0&&(zt.pending_out=0))},xn=(xt,zt)=>{hr(xt,xt.block_start>=0?xt.block_start:-1,xt.strstart-xt.block_start,zt),xt.block_start=xt.strstart,vn(xt.strm)},en=(xt,zt)=>{xt.pending_buf[xt.pending++]=zt},Gn=(xt,zt)=>{xt.pending_buf[xt.pending++]=zt>>>8&255,xt.pending_buf[xt.pending++]=zt&255},Es=(xt,zt,bt,Nt)=>{let Kt=xt.avail_in;return Kt>Nt&&(Kt=Nt),Kt===0?0:(xt.avail_in-=Kt,zt.set(xt.input.subarray(xt.next_in,xt.next_in+Kt),bt),xt.state.wrap===1?xt.adler=vr(xt.adler,zt,Kt,bt):xt.state.wrap===2&&(xt.adler=Tt(xt.adler,zt,Kt,bt)),xt.next_in+=Kt,xt.total_in+=Kt,Kt)},zs=(xt,zt)=>{let bt=xt.max_chain_length,Nt=xt.strstart,Kt,Vt,xr=xt.prev_length,dr=xt.nice_match;const Ur=xt.strstart>xt.w_size-bn?xt.strstart-(xt.w_size-bn):0,ir=xt.window,yr=xt.w_mask,qr=xt.prev,Fr=xt.strstart+Tn;let Pr=ir[Nt+xr-1],Nr=ir[Nt+xr];xt.prev_length>=xt.good_match&&(bt>>=2),dr>xt.lookahead&&(dr=xt.lookahead);do if(Kt=zt,!(ir[Kt+xr]!==Nr||ir[Kt+xr-1]!==Pr||ir[Kt]!==ir[Nt]||ir[++Kt]!==ir[Nt+1])){Nt+=2,Kt++;do;while(ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&ir[++Nt]===ir[++Kt]&&Nt<Fr);if(Vt=Tn-(Fr-Nt),Nt=Fr-Tn,Vt>xr){if(xt.match_start=zt,xr=Vt,Vt>=dr)break;Pr=ir[Nt+xr-1],Nr=ir[Nt+xr]}}while((zt=qr[zt&yr])>Ur&&--bt!==0);return xr<=xt.lookahead?xr:xt.lookahead},Nn=xt=>{const zt=xt.w_size;let bt,Nt,Kt;do{if(Nt=xt.window_size-xt.lookahead-xt.strstart,xt.strstart>=zt+(zt-bn)&&(xt.window.set(xt.window.subarray(zt,zt+zt-Nt),0),xt.match_start-=zt,xt.strstart-=zt,xt.block_start-=zt,xt.insert>xt.strstart&&(xt.insert=xt.strstart),Xo(xt),Nt+=zt),xt.strm.avail_in===0)break;if(bt=Es(xt.strm,xt.window,xt.strstart+xt.lookahead,Nt),xt.lookahead+=bt,xt.lookahead+xt.insert>=Yr)for(Kt=xt.strstart-xt.insert,xt.ins_h=xt.window[Kt],xt.ins_h=An(xt,xt.ins_h,xt.window[Kt+1]);xt.insert&&(xt.ins_h=An(xt,xt.ins_h,xt.window[Kt+Yr-1]),xt.prev[Kt&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=Kt,Kt++,xt.insert--,!(xt.lookahead+xt.insert<Yr)););}while(xt.lookahead<bn&&xt.strm.avail_in!==0)},Bs=(xt,zt)=>{let bt=xt.pending_buf_size-5>xt.w_size?xt.w_size:xt.pending_buf_size-5,Nt,Kt,Vt,xr=0,dr=xt.strm.avail_in;do{if(Nt=65535,Vt=xt.bi_valid+42>>3,xt.strm.avail_out<Vt||(Vt=xt.strm.avail_out-Vt,Kt=xt.strstart-xt.block_start,Nt>Kt+xt.strm.avail_in&&(Nt=Kt+xt.strm.avail_in),Nt>Vt&&(Nt=Vt),Nt<bt&&(Nt===0&&zt!==Kr||zt===Dr||Nt!==Kt+xt.strm.avail_in)))break;xr=zt===Kr&&Nt===Kt+xt.strm.avail_in?1:0,Ht(xt,0,0,xr),xt.pending_buf[xt.pending-4]=Nt,xt.pending_buf[xt.pending-3]=Nt>>8,xt.pending_buf[xt.pending-2]=~Nt,xt.pending_buf[xt.pending-1]=~Nt>>8,vn(xt.strm),Kt&&(Kt>Nt&&(Kt=Nt),xt.strm.output.set(xt.window.subarray(xt.block_start,xt.block_start+Kt),xt.strm.next_out),xt.strm.next_out+=Kt,xt.strm.avail_out-=Kt,xt.strm.total_out+=Kt,xt.block_start+=Kt,Nt-=Kt),Nt&&(Es(xt.strm,xt.strm.output,xt.strm.next_out,Nt),xt.strm.next_out+=Nt,xt.strm.avail_out-=Nt,xt.strm.total_out+=Nt)}while(xr===0);return dr-=xt.strm.avail_in,dr&&(dr>=xt.w_size?(xt.matches=2,xt.window.set(xt.strm.input.subarray(xt.strm.next_in-xt.w_size,xt.strm.next_in),0),xt.strstart=xt.w_size,xt.insert=xt.strstart):(xt.window_size-xt.strstart<=dr&&(xt.strstart-=xt.w_size,xt.window.set(xt.window.subarray(xt.w_size,xt.w_size+xt.strstart),0),xt.matches<2&&xt.matches++,xt.insert>xt.strstart&&(xt.insert=xt.strstart)),xt.window.set(xt.strm.input.subarray(xt.strm.next_in-dr,xt.strm.next_in),xt.strstart),xt.strstart+=dr,xt.insert+=dr>xt.w_size-xt.insert?xt.w_size-xt.insert:dr),xt.block_start=xt.strstart),xt.high_water<xt.strstart&&(xt.high_water=xt.strstart),xr?Un:zt!==Dr&&zt!==Kr&&xt.strm.avail_in===0&&xt.strstart===xt.block_start?Fn:(Vt=xt.window_size-xt.strstart,xt.strm.avail_in>Vt&&xt.block_start>=xt.w_size&&(xt.block_start-=xt.w_size,xt.strstart-=xt.w_size,xt.window.set(xt.window.subarray(xt.w_size,xt.w_size+xt.strstart),0),xt.matches<2&&xt.matches++,Vt+=xt.w_size,xt.insert>xt.strstart&&(xt.insert=xt.strstart)),Vt>xt.strm.avail_in&&(Vt=xt.strm.avail_in),Vt&&(Es(xt.strm,xt.window,xt.strstart,Vt),xt.strstart+=Vt,xt.insert+=Vt>xt.w_size-xt.insert?xt.w_size-xt.insert:Vt),xt.high_water<xt.strstart&&(xt.high_water=xt.strstart),Vt=xt.bi_valid+42>>3,Vt=xt.pending_buf_size-Vt>65535?65535:xt.pending_buf_size-Vt,bt=Vt>xt.w_size?xt.w_size:Vt,Kt=xt.strstart-xt.block_start,(Kt>=bt||(Kt||zt===Kr)&&zt!==Dr&&xt.strm.avail_in===0&&Kt<=Vt)&&(Nt=Kt>Vt?Vt:Kt,xr=zt===Kr&&xt.strm.avail_in===0&&Nt===Kt?1:0,Ht(xt,xt.block_start,Nt,xr),xt.block_start+=Nt,vn(xt.strm)),xr?Ln:gn)},Cs=(xt,zt)=>{let bt,Nt;for(;;){if(xt.lookahead<bn){if(Nn(xt),xt.lookahead<bn&&zt===Dr)return gn;if(xt.lookahead===0)break}if(bt=0,xt.lookahead>=Yr&&(xt.ins_h=An(xt,xt.ins_h,xt.window[xt.strstart+Yr-1]),bt=xt.prev[xt.strstart&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=xt.strstart),bt!==0&&xt.strstart-bt<=xt.w_size-bn&&(xt.match_length=zs(xt,bt)),xt.match_length>=Yr)if(Nt=Br(xt,xt.strstart-xt.match_start,xt.match_length-Yr),xt.lookahead-=xt.match_length,xt.match_length<=xt.max_lazy_match&&xt.lookahead>=Yr){xt.match_length--;do xt.strstart++,xt.ins_h=An(xt,xt.ins_h,xt.window[xt.strstart+Yr-1]),bt=xt.prev[xt.strstart&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=xt.strstart;while(--xt.match_length!==0);xt.strstart++}else xt.strstart+=xt.match_length,xt.match_length=0,xt.ins_h=xt.window[xt.strstart],xt.ins_h=An(xt,xt.ins_h,xt.window[xt.strstart+1]);else Nt=Br(xt,0,xt.window[xt.strstart]),xt.lookahead--,xt.strstart++;if(Nt&&(xn(xt,!1),xt.strm.avail_out===0))return gn}return xt.insert=xt.strstart<Yr-1?xt.strstart:Yr-1,zt===Kr?(xn(xt,!0),xt.strm.avail_out===0?Ln:Un):xt.sym_next&&(xn(xt,!1),xt.strm.avail_out===0)?gn:Fn},Wn=(xt,zt)=>{let bt,Nt,Kt;for(;;){if(xt.lookahead<bn){if(Nn(xt),xt.lookahead<bn&&zt===Dr)return gn;if(xt.lookahead===0)break}if(bt=0,xt.lookahead>=Yr&&(xt.ins_h=An(xt,xt.ins_h,xt.window[xt.strstart+Yr-1]),bt=xt.prev[xt.strstart&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=xt.strstart),xt.prev_length=xt.match_length,xt.prev_match=xt.match_start,xt.match_length=Yr-1,bt!==0&&xt.prev_length<xt.max_lazy_match&&xt.strstart-bt<=xt.w_size-bn&&(xt.match_length=zs(xt,bt),xt.match_length<=5&&(xt.strategy===ln||xt.match_length===Yr&&xt.strstart-xt.match_start>4096)&&(xt.match_length=Yr-1)),xt.prev_length>=Yr&&xt.match_length<=xt.prev_length){Kt=xt.strstart+xt.lookahead-Yr,Nt=Br(xt,xt.strstart-1-xt.prev_match,xt.prev_length-Yr),xt.lookahead-=xt.prev_length-1,xt.prev_length-=2;do++xt.strstart<=Kt&&(xt.ins_h=An(xt,xt.ins_h,xt.window[xt.strstart+Yr-1]),bt=xt.prev[xt.strstart&xt.w_mask]=xt.head[xt.ins_h],xt.head[xt.ins_h]=xt.strstart);while(--xt.prev_length!==0);if(xt.match_available=0,xt.match_length=Yr-1,xt.strstart++,Nt&&(xn(xt,!1),xt.strm.avail_out===0))return gn}else if(xt.match_available){if(Nt=Br(xt,0,xt.window[xt.strstart-1]),Nt&&xn(xt,!1),xt.strstart++,xt.lookahead--,xt.strm.avail_out===0)return gn}else xt.match_available=1,xt.strstart++,xt.lookahead--}return xt.match_available&&(Nt=Br(xt,0,xt.window[xt.strstart-1]),xt.match_available=0),xt.insert=xt.strstart<Yr-1?xt.strstart:Yr-1,zt===Kr?(xn(xt,!0),xt.strm.avail_out===0?Ln:Un):xt.sym_next&&(xn(xt,!1),xt.strm.avail_out===0)?gn:Fn},Yo=(xt,zt)=>{let bt,Nt,Kt,Vt;const xr=xt.window;for(;;){if(xt.lookahead<=Tn){if(Nn(xt),xt.lookahead<=Tn&&zt===Dr)return gn;if(xt.lookahead===0)break}if(xt.match_length=0,xt.lookahead>=Yr&&xt.strstart>0&&(Kt=xt.strstart-1,Nt=xr[Kt],Nt===xr[++Kt]&&Nt===xr[++Kt]&&Nt===xr[++Kt])){Vt=xt.strstart+Tn;do;while(Nt===xr[++Kt]&&Nt===xr[++Kt]&&Nt===xr[++Kt]&&Nt===xr[++Kt]&&Nt===xr[++Kt]&&Nt===xr[++Kt]&&Nt===xr[++Kt]&&Nt===xr[++Kt]&&Kt<Vt);xt.match_length=Tn-(Vt-Kt),xt.match_length>xt.lookahead&&(xt.match_length=xt.lookahead)}if(xt.match_length>=Yr?(bt=Br(xt,1,xt.match_length-Yr),xt.lookahead-=xt.match_length,xt.strstart+=xt.match_length,xt.match_length=0):(bt=Br(xt,0,xt.window[xt.strstart]),xt.lookahead--,xt.strstart++),bt&&(xn(xt,!1),xt.strm.avail_out===0))return gn}return xt.insert=0,zt===Kr?(xn(xt,!0),xt.strm.avail_out===0?Ln:Un):xt.sym_next&&(xn(xt,!1),xt.strm.avail_out===0)?gn:Fn},Zo=(xt,zt)=>{let bt;for(;;){if(xt.lookahead===0&&(Nn(xt),xt.lookahead===0)){if(zt===Dr)return gn;break}if(xt.match_length=0,bt=Br(xt,0,xt.window[xt.strstart]),xt.lookahead--,xt.strstart++,bt&&(xn(xt,!1),xt.strm.avail_out===0))return gn}return xt.insert=0,zt===Kr?(xn(xt,!0),xt.strm.avail_out===0?Ln:Un):xt.sym_next&&(xn(xt,!1),xt.strm.avail_out===0)?gn:Fn};function En(xt,zt,bt,Nt,Kt){this.good_length=xt,this.max_lazy=zt,this.nice_length=bt,this.max_chain=Nt,this.func=Kt}const Vn=[new En(0,0,0,0,Bs),new En(4,4,8,4,Cs),new En(4,5,16,8,Cs),new En(4,6,32,32,Cs),new En(4,4,16,16,Wn),new En(8,16,32,32,Wn),new En(8,16,128,128,Wn),new En(8,32,128,256,Wn),new En(32,128,258,1024,Wn),new En(32,258,258,4096,Wn)],Qo=xt=>{xt.window_size=2*xt.w_size,Mn(xt.head),xt.max_lazy_match=Vn[xt.level].max_lazy,xt.good_match=Vn[xt.level].good_length,xt.nice_match=Vn[xt.level].nice_length,xt.max_chain_length=Vn[xt.level].max_chain,xt.strstart=0,xt.block_start=0,xt.lookahead=0,xt.insert=0,xt.match_length=xt.prev_length=Yr-1,xt.match_available=0,xt.ins_h=0};function Jo(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Pn,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Go*2),this.dyn_dtree=new Uint16Array((2*jo+1)*2),this.bl_tree=new Uint16Array((2*$o+1)*2),Mn(this.dyn_ltree),Mn(this.dyn_dtree),Mn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Vo+1),this.heap=new Uint16Array(2*ms+1),Mn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ms+1),Mn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Hn=xt=>{if(!xt)return 1;const zt=xt.state;return!zt||zt.strm!==xt||zt.status!==kn&&zt.status!==vs&&zt.status!==xs&&zt.status!==ys&&zt.status!==_s&&zt.status!==bs&&zt.status!==On&&zt.status!==$n?1:0},ks=xt=>{if(Hn(xt))return In(xt,nn);xt.total_in=xt.total_out=0,xt.data_type=es;const zt=xt.state;return zt.pending=0,zt.pending_out=0,zt.wrap<0&&(zt.wrap=-zt.wrap),zt.status=zt.wrap===2?vs:zt.wrap?kn:On,xt.adler=zt.wrap===2?0:1,zt.last_flush=-2,Ft(zt),Gr},Fs=xt=>{const zt=ks(xt);return zt===Gr&&Qo(xt.state),zt},qo=(xt,zt)=>Hn(xt)||xt.state.wrap!==2?nn:(xt.state.gzhead=zt,Gr),Us=(xt,zt,bt,Nt,Kt,Vt)=>{if(!xt)return nn;let xr=1;if(zt===an&&(zt=6),Nt<0?(xr=0,Nt=-Nt):Nt>15&&(xr=2,Nt-=16),Kt<1||Kt>ts||bt!==Pn||Nt<8||Nt>15||zt<0||zt>9||Vt<0||Vt>pn||Nt===8&&xr!==1)return In(xt,nn);Nt===8&&(Nt=9);const dr=new Jo;return xt.state=dr,dr.strm=xt,dr.status=kn,dr.wrap=xr,dr.gzhead=null,dr.w_bits=Nt,dr.w_size=1<<dr.w_bits,dr.w_mask=dr.w_size-1,dr.hash_bits=Kt+7,dr.hash_size=1<<dr.hash_bits,dr.hash_mask=dr.hash_size-1,dr.hash_shift=~~((dr.hash_bits+Yr-1)/Yr),dr.window=new Uint8Array(dr.w_size*2),dr.head=new Uint16Array(dr.hash_size),dr.prev=new Uint16Array(dr.w_size),dr.lit_bufsize=1<<Kt+6,dr.pending_buf_size=dr.lit_bufsize*4,dr.pending_buf=new Uint8Array(dr.pending_buf_size),dr.sym_buf=dr.lit_bufsize,dr.sym_end=(dr.lit_bufsize-1)*3,dr.level=zt,dr.strategy=Vt,dr.method=bt,Fs(xt)},na=(xt,zt)=>Us(xt,zt,Pn,rs,ns,Rn),ga=(xt,zt)=>{if(Hn(xt)||zt>Hr||zt<0)return xt?In(xt,nn):nn;const bt=xt.state;if(!xt.output||xt.avail_in!==0&&!xt.input||bt.status===$n&&zt!==Kr)return In(xt,xt.avail_out===0?_n:nn);const Nt=bt.last_flush;if(bt.last_flush=zt,bt.pending!==0){if(vn(xt),xt.avail_out===0)return bt.last_flush=-1,Gr}else if(xt.avail_in===0&&Ds(zt)<=Ds(Nt)&&zt!==Kr)return In(xt,_n);if(bt.status===$n&&xt.avail_in!==0)return In(xt,_n);if(bt.status===kn&&bt.wrap===0&&(bt.status=On),bt.status===kn){let Kt=Pn+(bt.w_bits-8<<4)<<8,Vt=-1;if(bt.strategy>=sn||bt.level<2?Vt=0:bt.level<6?Vt=1:bt.level===6?Vt=2:Vt=3,Kt|=Vt<<6,bt.strstart!==0&&(Kt|=Ho),Kt+=31-Kt%31,Gn(bt,Kt),bt.strstart!==0&&(Gn(bt,xt.adler>>>16),Gn(bt,xt.adler&65535)),xt.adler=1,bt.status=On,vn(xt),bt.pending!==0)return bt.last_flush=-1,Gr}if(bt.status===vs){if(xt.adler=0,en(bt,31),en(bt,139),en(bt,8),bt.gzhead)en(bt,(bt.gzhead.text?1:0)+(bt.gzhead.hcrc?2:0)+(bt.gzhead.extra?4:0)+(bt.gzhead.name?8:0)+(bt.gzhead.comment?16:0)),en(bt,bt.gzhead.time&255),en(bt,bt.gzhead.time>>8&255),en(bt,bt.gzhead.time>>16&255),en(bt,bt.gzhead.time>>24&255),en(bt,bt.level===9?2:bt.strategy>=sn||bt.level<2?4:0),en(bt,bt.gzhead.os&255),bt.gzhead.extra&&bt.gzhead.extra.length&&(en(bt,bt.gzhead.extra.length&255),en(bt,bt.gzhead.extra.length>>8&255)),bt.gzhead.hcrc&&(xt.adler=Tt(xt.adler,bt.pending_buf,bt.pending,0)),bt.gzindex=0,bt.status=xs;else if(en(bt,0),en(bt,0),en(bt,0),en(bt,0),en(bt,0),en(bt,bt.level===9?2:bt.strategy>=sn||bt.level<2?4:0),en(bt,Ko),bt.status=On,vn(xt),bt.pending!==0)return bt.last_flush=-1,Gr}if(bt.status===xs){if(bt.gzhead.extra){let Kt=bt.pending,Vt=(bt.gzhead.extra.length&65535)-bt.gzindex;for(;bt.pending+Vt>bt.pending_buf_size;){let dr=bt.pending_buf_size-bt.pending;if(bt.pending_buf.set(bt.gzhead.extra.subarray(bt.gzindex,bt.gzindex+dr),bt.pending),bt.pending=bt.pending_buf_size,bt.gzhead.hcrc&&bt.pending>Kt&&(xt.adler=Tt(xt.adler,bt.pending_buf,bt.pending-Kt,Kt)),bt.gzindex+=dr,vn(xt),bt.pending!==0)return bt.last_flush=-1,Gr;Kt=0,Vt-=dr}let xr=new Uint8Array(bt.gzhead.extra);bt.pending_buf.set(xr.subarray(bt.gzindex,bt.gzindex+Vt),bt.pending),bt.pending+=Vt,bt.gzhead.hcrc&&bt.pending>Kt&&(xt.adler=Tt(xt.adler,bt.pending_buf,bt.pending-Kt,Kt)),bt.gzindex=0}bt.status=ys}if(bt.status===ys){if(bt.gzhead.name){let Kt=bt.pending,Vt;do{if(bt.pending===bt.pending_buf_size){if(bt.gzhead.hcrc&&bt.pending>Kt&&(xt.adler=Tt(xt.adler,bt.pending_buf,bt.pending-Kt,Kt)),vn(xt),bt.pending!==0)return bt.last_flush=-1,Gr;Kt=0}bt.gzindex<bt.gzhead.name.length?Vt=bt.gzhead.name.charCodeAt(bt.gzindex++)&255:Vt=0,en(bt,Vt)}while(Vt!==0);bt.gzhead.hcrc&&bt.pending>Kt&&(xt.adler=Tt(xt.adler,bt.pending_buf,bt.pending-Kt,Kt)),bt.gzindex=0}bt.status=_s}if(bt.status===_s){if(bt.gzhead.comment){let Kt=bt.pending,Vt;do{if(bt.pending===bt.pending_buf_size){if(bt.gzhead.hcrc&&bt.pending>Kt&&(xt.adler=Tt(xt.adler,bt.pending_buf,bt.pending-Kt,Kt)),vn(xt),bt.pending!==0)return bt.last_flush=-1,Gr;Kt=0}bt.gzindex<bt.gzhead.comment.length?Vt=bt.gzhead.comment.charCodeAt(bt.gzindex++)&255:Vt=0,en(bt,Vt)}while(Vt!==0);bt.gzhead.hcrc&&bt.pending>Kt&&(xt.adler=Tt(xt.adler,bt.pending_buf,bt.pending-Kt,Kt))}bt.status=bs}if(bt.status===bs){if(bt.gzhead.hcrc){if(bt.pending+2>bt.pending_buf_size&&(vn(xt),bt.pending!==0))return bt.last_flush=-1,Gr;en(bt,xt.adler&255),en(bt,xt.adler>>8&255),xt.adler=0}if(bt.status=On,vn(xt),bt.pending!==0)return bt.last_flush=-1,Gr}if(xt.avail_in!==0||bt.lookahead!==0||zt!==Dr&&bt.status!==$n){let Kt=bt.level===0?Bs(bt,zt):bt.strategy===sn?Zo(bt,zt):bt.strategy===mn?Yo(bt,zt):Vn[bt.level].func(bt,zt);if((Kt===Ln||Kt===Un)&&(bt.status=$n),Kt===gn||Kt===Ln)return xt.avail_out===0&&(bt.last_flush=-1),Gr;if(Kt===Fn&&(zt===jr?zr(bt):zt!==Hr&&(Ht(bt,0,0,!1),zt===fn&&(Mn(bt.head),bt.lookahead===0&&(bt.strstart=0,bt.block_start=0,bt.insert=0))),vn(xt),xt.avail_out===0))return bt.last_flush=-1,Gr}return zt!==Kr?Gr:bt.wrap<=0?dn:(bt.wrap===2?(en(bt,xt.adler&255),en(bt,xt.adler>>8&255),en(bt,xt.adler>>16&255),en(bt,xt.adler>>24&255),en(bt,xt.total_in&255),en(bt,xt.total_in>>8&255),en(bt,xt.total_in>>16&255),en(bt,xt.total_in>>24&255)):(Gn(bt,xt.adler>>>16),Gn(bt,xt.adler&65535)),vn(xt),bt.wrap>0&&(bt.wrap=-bt.wrap),bt.pending!==0?Gr:dn)},xa=xt=>{if(Hn(xt))return nn;const zt=xt.state.status;return xt.state=null,zt===On?In(xt,Cn):Gr},_a=(xt,zt)=>{let bt=zt.length;if(Hn(xt))return nn;const Nt=xt.state,Kt=Nt.wrap;if(Kt===2||Kt===1&&Nt.status!==kn||Nt.lookahead)return nn;if(Kt===1&&(xt.adler=vr(xt.adler,zt,bt,0)),Nt.wrap=0,bt>=Nt.w_size){Kt===0&&(Mn(Nt.head),Nt.strstart=0,Nt.block_start=0,Nt.insert=0);let Ur=new Uint8Array(Nt.w_size);Ur.set(zt.subarray(bt-Nt.w_size,bt),0),zt=Ur,bt=Nt.w_size}const Vt=xt.avail_in,xr=xt.next_in,dr=xt.input;for(xt.avail_in=bt,xt.next_in=0,xt.input=zt,Nn(Nt);Nt.lookahead>=Yr;){let Ur=Nt.strstart,ir=Nt.lookahead-(Yr-1);do Nt.ins_h=An(Nt,Nt.ins_h,Nt.window[Ur+Yr-1]),Nt.prev[Ur&Nt.w_mask]=Nt.head[Nt.ins_h],Nt.head[Nt.ins_h]=Ur,Ur++;while(--ir);Nt.strstart=Ur,Nt.lookahead=Yr-1,Nn(Nt)}return Nt.strstart+=Nt.lookahead,Nt.block_start=Nt.strstart,Nt.insert=Nt.lookahead,Nt.lookahead=0,Nt.match_length=Nt.prev_length=Yr-1,Nt.match_available=0,xt.next_in=xr,xt.input=dr,xt.avail_in=Vt,Nt.wrap=Kt,Gr};var ba=na,$a=Us,xl=Fs,yl=ks,_l=qo,El=ga,Cl=xa,wl=_a,Sl="pako deflate (from Nodeca project)",Kn={deflateInit:ba,deflateInit2:$a,deflateReset:xl,deflateResetKeep:yl,deflateSetHeader:_l,deflate:El,deflateEnd:Cl,deflateSetDictionary:wl,deflateInfo:Sl};const Tl=(xt,zt)=>Object.prototype.hasOwnProperty.call(xt,zt);var Ml=function(xt){const zt=Array.prototype.slice.call(arguments,1);for(;zt.length;){const bt=zt.shift();if(bt){if(typeof bt!="object")throw new TypeError(bt+"must be non-object");for(const Nt in bt)Tl(bt,Nt)&&(xt[Nt]=bt[Nt])}}return xt},Al=xt=>{let zt=0;for(let Nt=0,Kt=xt.length;Nt<Kt;Nt++)zt+=xt[Nt].length;const bt=new Uint8Array(zt);for(let Nt=0,Kt=0,Vt=xt.length;Nt<Vt;Nt++){let xr=xt[Nt];bt.set(xr,Kt),Kt+=xr.length}return bt},os={assign:Ml,flattenChunks:Al};let Ns=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ns=!1}const Xn=new Uint8Array(256);for(let xt=0;xt<256;xt++)Xn[xt]=xt>=252?6:xt>=248?5:xt>=240?4:xt>=224?3:xt>=192?2:1;Xn[254]=Xn[254]=1;var Rl=xt=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(xt);let zt,bt,Nt,Kt,Vt,xr=xt.length,dr=0;for(Kt=0;Kt<xr;Kt++)bt=xt.charCodeAt(Kt),(bt&64512)===55296&&Kt+1<xr&&(Nt=xt.charCodeAt(Kt+1),(Nt&64512)===56320&&(bt=65536+(bt-55296<<10)+(Nt-56320),Kt++)),dr+=bt<128?1:bt<2048?2:bt<65536?3:4;for(zt=new Uint8Array(dr),Vt=0,Kt=0;Vt<dr;Kt++)bt=xt.charCodeAt(Kt),(bt&64512)===55296&&Kt+1<xr&&(Nt=xt.charCodeAt(Kt+1),(Nt&64512)===56320&&(bt=65536+(bt-55296<<10)+(Nt-56320),Kt++)),bt<128?zt[Vt++]=bt:bt<2048?(zt[Vt++]=192|bt>>>6,zt[Vt++]=128|bt&63):bt<65536?(zt[Vt++]=224|bt>>>12,zt[Vt++]=128|bt>>>6&63,zt[Vt++]=128|bt&63):(zt[Vt++]=240|bt>>>18,zt[Vt++]=128|bt>>>12&63,zt[Vt++]=128|bt>>>6&63,zt[Vt++]=128|bt&63);return zt};const Pl=(xt,zt)=>{if(zt<65534&&xt.subarray&&Ns)return String.fromCharCode.apply(null,xt.length===zt?xt:xt.subarray(0,zt));let bt="";for(let Nt=0;Nt<zt;Nt++)bt+=String.fromCharCode(xt[Nt]);return bt};var Ol=(xt,zt)=>{const bt=zt||xt.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(xt.subarray(0,zt));let Nt,Kt;const Vt=new Array(bt*2);for(Kt=0,Nt=0;Nt<bt;){let xr=xt[Nt++];if(xr<128){Vt[Kt++]=xr;continue}let dr=Xn[xr];if(dr>4){Vt[Kt++]=65533,Nt+=dr-1;continue}for(xr&=dr===2?31:dr===3?15:7;dr>1&&Nt<bt;)xr=xr<<6|xt[Nt++]&63,dr--;if(dr>1){Vt[Kt++]=65533;continue}xr<65536?Vt[Kt++]=xr:(xr-=65536,Vt[Kt++]=55296|xr>>10&1023,Vt[Kt++]=56320|xr&1023)}return Pl(Vt,Kt)},Ll=(xt,zt)=>{zt=zt||xt.length,zt>xt.length&&(zt=xt.length);let bt=zt-1;for(;bt>=0&&(xt[bt]&192)===128;)bt--;return bt<0||bt===0?zt:bt+Xn[xt[bt]]>zt?bt:zt},Yn={string2buf:Rl,buf2string:Ol,utf8border:Ll};function Il(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Ws=Il;const js=Object.prototype.toString,{Z_NO_FLUSH:Dl,Z_SYNC_FLUSH:zl,Z_FULL_FLUSH:Bl,Z_FINISH:Fl,Z_OK:as,Z_STREAM_END:Ul,Z_DEFAULT_COMPRESSION:Nl,Z_DEFAULT_STRATEGY:Wl,Z_DEFLATED:$l}=or;function Zn(xt){this.options=os.assign({level:Nl,method:$l,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wl},xt||{});let zt=this.options;zt.raw&&zt.windowBits>0?zt.windowBits=-zt.windowBits:zt.gzip&&zt.windowBits>0&&zt.windowBits<16&&(zt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ws,this.strm.avail_out=0;let bt=Kn.deflateInit2(this.strm,zt.level,zt.method,zt.windowBits,zt.memLevel,zt.strategy);if(bt!==as)throw new Error(ur[bt]);if(zt.header&&Kn.deflateSetHeader(this.strm,zt.header),zt.dictionary){let Nt;if(typeof zt.dictionary=="string"?Nt=Yn.string2buf(zt.dictionary):js.call(zt.dictionary)==="[object ArrayBuffer]"?Nt=new Uint8Array(zt.dictionary):Nt=zt.dictionary,bt=Kn.deflateSetDictionary(this.strm,Nt),bt!==as)throw new Error(ur[bt]);this._dict_set=!0}}Zn.prototype.push=function(xt,zt){const bt=this.strm,Nt=this.options.chunkSize;let Kt,Vt;if(this.ended)return!1;for(zt===~~zt?Vt=zt:Vt=zt===!0?Fl:Dl,typeof xt=="string"?bt.input=Yn.string2buf(xt):js.call(xt)==="[object ArrayBuffer]"?bt.input=new Uint8Array(xt):bt.input=xt,bt.next_in=0,bt.avail_in=bt.input.length;;){if(bt.avail_out===0&&(bt.output=new Uint8Array(Nt),bt.next_out=0,bt.avail_out=Nt),(Vt===zl||Vt===Bl)&&bt.avail_out<=6){this.onData(bt.output.subarray(0,bt.next_out)),bt.avail_out=0;continue}if(Kt=Kn.deflate(bt,Vt),Kt===Ul)return bt.next_out>0&&this.onData(bt.output.subarray(0,bt.next_out)),Kt=Kn.deflateEnd(this.strm),this.onEnd(Kt),this.ended=!0,Kt===as;if(bt.avail_out===0){this.onData(bt.output);continue}if(Vt>0&&bt.next_out>0){this.onData(bt.output.subarray(0,bt.next_out)),bt.avail_out=0;continue}if(bt.avail_in===0)break}return!0},Zn.prototype.onData=function(xt){this.chunks.push(xt)},Zn.prototype.onEnd=function(xt){xt===as&&(this.result=os.flattenChunks(this.chunks)),this.chunks=[],this.err=xt,this.msg=this.strm.msg};function ws(xt,zt){const bt=new Zn(zt);if(bt.push(xt,!0),bt.err)throw bt.msg||ur[bt.err];return bt.result}function Gl(xt,zt){return zt=zt||{},zt.raw=!0,ws(xt,zt)}function Vl(xt,zt){return zt=zt||{},zt.gzip=!0,ws(xt,zt)}var Hl=Zn,Kl=ws,Xl=Gl,Yl=Vl,Zl=or,Ql={Deflate:Hl,deflate:Kl,deflateRaw:Xl,gzip:Yl,constants:Zl};const ls=16209,Jl=16191;var eu=function(zt,bt){let Nt,Kt,Vt,xr,dr,Ur,ir,yr,qr,Fr,Pr,Nr,cn,Qr,Vr,rn,Xr,kr,tn,hn,Wr,on,Jr,$r;const Zr=zt.state;Nt=zt.next_in,Jr=zt.input,Kt=Nt+(zt.avail_in-5),Vt=zt.next_out,$r=zt.output,xr=Vt-(bt-zt.avail_out),dr=Vt+(zt.avail_out-257),Ur=Zr.dmax,ir=Zr.wsize,yr=Zr.whave,qr=Zr.wnext,Fr=Zr.window,Pr=Zr.hold,Nr=Zr.bits,cn=Zr.lencode,Qr=Zr.distcode,Vr=(1<<Zr.lenbits)-1,rn=(1<<Zr.distbits)-1;e:do{Nr<15&&(Pr+=Jr[Nt++]<<Nr,Nr+=8,Pr+=Jr[Nt++]<<Nr,Nr+=8),Xr=cn[Pr&Vr];t:for(;;){if(kr=Xr>>>24,Pr>>>=kr,Nr-=kr,kr=Xr>>>16&255,kr===0)$r[Vt++]=Xr&65535;else if(kr&16){tn=Xr&65535,kr&=15,kr&&(Nr<kr&&(Pr+=Jr[Nt++]<<Nr,Nr+=8),tn+=Pr&(1<<kr)-1,Pr>>>=kr,Nr-=kr),Nr<15&&(Pr+=Jr[Nt++]<<Nr,Nr+=8,Pr+=Jr[Nt++]<<Nr,Nr+=8),Xr=Qr[Pr&rn];r:for(;;){if(kr=Xr>>>24,Pr>>>=kr,Nr-=kr,kr=Xr>>>16&255,kr&16){if(hn=Xr&65535,kr&=15,Nr<kr&&(Pr+=Jr[Nt++]<<Nr,Nr+=8,Nr<kr&&(Pr+=Jr[Nt++]<<Nr,Nr+=8)),hn+=Pr&(1<<kr)-1,hn>Ur){zt.msg="invalid distance too far back",Zr.mode=ls;break e}if(Pr>>>=kr,Nr-=kr,kr=Vt-xr,hn>kr){if(kr=hn-kr,kr>yr&&Zr.sane){zt.msg="invalid distance too far back",Zr.mode=ls;break e}if(Wr=0,on=Fr,qr===0){if(Wr+=ir-kr,kr<tn){tn-=kr;do $r[Vt++]=Fr[Wr++];while(--kr);Wr=Vt-hn,on=$r}}else if(qr<kr){if(Wr+=ir+qr-kr,kr-=qr,kr<tn){tn-=kr;do $r[Vt++]=Fr[Wr++];while(--kr);if(Wr=0,qr<tn){kr=qr,tn-=kr;do $r[Vt++]=Fr[Wr++];while(--kr);Wr=Vt-hn,on=$r}}}else if(Wr+=qr-kr,kr<tn){tn-=kr;do $r[Vt++]=Fr[Wr++];while(--kr);Wr=Vt-hn,on=$r}for(;tn>2;)$r[Vt++]=on[Wr++],$r[Vt++]=on[Wr++],$r[Vt++]=on[Wr++],tn-=3;tn&&($r[Vt++]=on[Wr++],tn>1&&($r[Vt++]=on[Wr++]))}else{Wr=Vt-hn;do $r[Vt++]=$r[Wr++],$r[Vt++]=$r[Wr++],$r[Vt++]=$r[Wr++],tn-=3;while(tn>2);tn&&($r[Vt++]=$r[Wr++],tn>1&&($r[Vt++]=$r[Wr++]))}}else if(kr&64){zt.msg="invalid distance code",Zr.mode=ls;break e}else{Xr=Qr[(Xr&65535)+(Pr&(1<<kr)-1)];continue r}break}}else if(kr&64)if(kr&32){Zr.mode=Jl;break e}else{zt.msg="invalid literal/length code",Zr.mode=ls;break e}else{Xr=cn[(Xr&65535)+(Pr&(1<<kr)-1)];continue t}break}}while(Nt<Kt&&Vt<dr);tn=Nr>>3,Nt-=tn,Nr-=tn<<3,Pr&=(1<<Nr)-1,zt.next_in=Nt,zt.next_out=Vt,zt.avail_in=Nt<Kt?5+(Kt-Nt):5-(Nt-Kt),zt.avail_out=Vt<dr?257+(dr-Vt):257-(Vt-dr),Zr.hold=Pr,Zr.bits=Nr};const jn=15,$s=852,Gs=592,Vs=0,Ss=1,Hs=2,tu=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ru=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nu=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iu=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Qn=(xt,zt,bt,Nt,Kt,Vt,xr,dr)=>{const Ur=dr.bits;let ir=0,yr=0,qr=0,Fr=0,Pr=0,Nr=0,cn=0,Qr=0,Vr=0,rn=0,Xr,kr,tn,hn,Wr,on=null,Jr;const $r=new Uint16Array(jn+1),Zr=new Uint16Array(jn+1);let Bn=null,Wo,ps,gs;for(ir=0;ir<=jn;ir++)$r[ir]=0;for(yr=0;yr<Nt;yr++)$r[zt[bt+yr]]++;for(Pr=Ur,Fr=jn;Fr>=1&&$r[Fr]===0;Fr--);if(Pr>Fr&&(Pr=Fr),Fr===0)return Kt[Vt++]=1<<24|64<<16|0,Kt[Vt++]=1<<24|64<<16|0,dr.bits=1,0;for(qr=1;qr<Fr&&$r[qr]===0;qr++);for(Pr<qr&&(Pr=qr),Qr=1,ir=1;ir<=jn;ir++)if(Qr<<=1,Qr-=$r[ir],Qr<0)return-1;if(Qr>0&&(xt===Vs||Fr!==1))return-1;for(Zr[1]=0,ir=1;ir<jn;ir++)Zr[ir+1]=Zr[ir]+$r[ir];for(yr=0;yr<Nt;yr++)zt[bt+yr]!==0&&(xr[Zr[zt[bt+yr]]++]=yr);if(xt===Vs?(on=Bn=xr,Jr=20):xt===Ss?(on=tu,Bn=ru,Jr=257):(on=nu,Bn=iu,Jr=0),rn=0,yr=0,ir=qr,Wr=Vt,Nr=Pr,cn=0,tn=-1,Vr=1<<Pr,hn=Vr-1,xt===Ss&&Vr>$s||xt===Hs&&Vr>Gs)return 1;for(;;){Wo=ir-cn,xr[yr]+1<Jr?(ps=0,gs=xr[yr]):xr[yr]>=Jr?(ps=Bn[xr[yr]-Jr],gs=on[xr[yr]-Jr]):(ps=96,gs=0),Xr=1<<ir-cn,kr=1<<Nr,qr=kr;do kr-=Xr,Kt[Wr+(rn>>cn)+kr]=Wo<<24|ps<<16|gs|0;while(kr!==0);for(Xr=1<<ir-1;rn&Xr;)Xr>>=1;if(Xr!==0?(rn&=Xr-1,rn+=Xr):rn=0,yr++,--$r[ir]===0){if(ir===Fr)break;ir=zt[bt+xr[yr]]}if(ir>Pr&&(rn&hn)!==tn){for(cn===0&&(cn=Pr),Wr+=qr,Nr=ir-cn,Qr=1<<Nr;Nr+cn<Fr&&(Qr-=$r[Nr+cn],!(Qr<=0));)Nr++,Qr<<=1;if(Vr+=1<<Nr,xt===Ss&&Vr>$s||xt===Hs&&Vr>Gs)return 1;tn=rn&hn,Kt[tn]=Pr<<24|Nr<<16|Wr-Vt|0}}return rn!==0&&(Kt[Wr+rn]=ir-cn<<24|64<<16|0),dr.bits=Pr,0};const su=0,Ks=1,Xs=2,{Z_FINISH:Ys,Z_BLOCK:ou,Z_TREES:us,Z_OK:Dn,Z_STREAM_END:au,Z_NEED_DICT:lu,Z_STREAM_ERROR:yn,Z_DATA_ERROR:Zs,Z_MEM_ERROR:Qs,Z_BUF_ERROR:uu,Z_DEFLATED:Js}=or,cs=16180,qs=16181,eo=16182,to=16183,ro=16184,no=16185,io=16186,so=16187,oo=16188,ao=16189,ds=16190,wn=16191,Ts=16192,lo=16193,Ms=16194,uo=16195,co=16196,fo=16197,ho=16198,fs=16199,hs=16200,po=16201,go=16202,mo=16203,vo=16204,xo=16205,As=16206,yo=16207,_o=16208,un=16209,bo=16210,Eo=16211,cu=852,du=592,fu=15,Co=xt=>(xt>>>24&255)+(xt>>>8&65280)+((xt&65280)<<8)+((xt&255)<<24);function hu(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const zn=xt=>{if(!xt)return 1;const zt=xt.state;return!zt||zt.strm!==xt||zt.mode<cs||zt.mode>Eo?1:0},wo=xt=>{if(zn(xt))return yn;const zt=xt.state;return xt.total_in=xt.total_out=zt.total=0,xt.msg="",zt.wrap&&(xt.adler=zt.wrap&1),zt.mode=cs,zt.last=0,zt.havedict=0,zt.flags=-1,zt.dmax=32768,zt.head=null,zt.hold=0,zt.bits=0,zt.lencode=zt.lendyn=new Int32Array(cu),zt.distcode=zt.distdyn=new Int32Array(du),zt.sane=1,zt.back=-1,Dn},So=xt=>{if(zn(xt))return yn;const zt=xt.state;return zt.wsize=0,zt.whave=0,zt.wnext=0,wo(xt)},To=(xt,zt)=>{let bt;if(zn(xt))return yn;const Nt=xt.state;return zt<0?(bt=0,zt=-zt):(bt=(zt>>4)+5,zt<48&&(zt&=15)),zt&&(zt<8||zt>15)?yn:(Nt.window!==null&&Nt.wbits!==zt&&(Nt.window=null),Nt.wrap=bt,Nt.wbits=zt,So(xt))},Mo=(xt,zt)=>{if(!xt)return yn;const bt=new hu;xt.state=bt,bt.strm=xt,bt.window=null,bt.mode=cs;const Nt=To(xt,zt);return Nt!==Dn&&(xt.state=null),Nt},pu=xt=>Mo(xt,fu);let Ao=!0,Rs,Ps;const gu=xt=>{if(Ao){Rs=new Int32Array(512),Ps=new Int32Array(32);let zt=0;for(;zt<144;)xt.lens[zt++]=8;for(;zt<256;)xt.lens[zt++]=9;for(;zt<280;)xt.lens[zt++]=7;for(;zt<288;)xt.lens[zt++]=8;for(Qn(Ks,xt.lens,0,288,Rs,0,xt.work,{bits:9}),zt=0;zt<32;)xt.lens[zt++]=5;Qn(Xs,xt.lens,0,32,Ps,0,xt.work,{bits:5}),Ao=!1}xt.lencode=Rs,xt.lenbits=9,xt.distcode=Ps,xt.distbits=5},Ro=(xt,zt,bt,Nt)=>{let Kt;const Vt=xt.state;return Vt.window===null&&(Vt.wsize=1<<Vt.wbits,Vt.wnext=0,Vt.whave=0,Vt.window=new Uint8Array(Vt.wsize)),Nt>=Vt.wsize?(Vt.window.set(zt.subarray(bt-Vt.wsize,bt),0),Vt.wnext=0,Vt.whave=Vt.wsize):(Kt=Vt.wsize-Vt.wnext,Kt>Nt&&(Kt=Nt),Vt.window.set(zt.subarray(bt-Nt,bt-Nt+Kt),Vt.wnext),Nt-=Kt,Nt?(Vt.window.set(zt.subarray(bt-Nt,bt),0),Vt.wnext=Nt,Vt.whave=Vt.wsize):(Vt.wnext+=Kt,Vt.wnext===Vt.wsize&&(Vt.wnext=0),Vt.whave<Vt.wsize&&(Vt.whave+=Kt))),0},mu=(xt,zt)=>{let bt,Nt,Kt,Vt,xr,dr,Ur,ir,yr,qr,Fr,Pr,Nr,cn,Qr=0,Vr,rn,Xr,kr,tn,hn,Wr,on;const Jr=new Uint8Array(4);let $r,Zr;const Bn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(zn(xt)||!xt.output||!xt.input&&xt.avail_in!==0)return yn;bt=xt.state,bt.mode===wn&&(bt.mode=Ts),xr=xt.next_out,Kt=xt.output,Ur=xt.avail_out,Vt=xt.next_in,Nt=xt.input,dr=xt.avail_in,ir=bt.hold,yr=bt.bits,qr=dr,Fr=Ur,on=Dn;e:for(;;)switch(bt.mode){case cs:if(bt.wrap===0){bt.mode=Ts;break}for(;yr<16;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}if(bt.wrap&2&&ir===35615){bt.wbits===0&&(bt.wbits=15),bt.check=0,Jr[0]=ir&255,Jr[1]=ir>>>8&255,bt.check=Tt(bt.check,Jr,2,0),ir=0,yr=0,bt.mode=qs;break}if(bt.head&&(bt.head.done=!1),!(bt.wrap&1)||(((ir&255)<<8)+(ir>>8))%31){xt.msg="incorrect header check",bt.mode=un;break}if((ir&15)!==Js){xt.msg="unknown compression method",bt.mode=un;break}if(ir>>>=4,yr-=4,Wr=(ir&15)+8,bt.wbits===0&&(bt.wbits=Wr),Wr>15||Wr>bt.wbits){xt.msg="invalid window size",bt.mode=un;break}bt.dmax=1<<bt.wbits,bt.flags=0,xt.adler=bt.check=1,bt.mode=ir&512?ao:wn,ir=0,yr=0;break;case qs:for(;yr<16;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}if(bt.flags=ir,(bt.flags&255)!==Js){xt.msg="unknown compression method",bt.mode=un;break}if(bt.flags&57344){xt.msg="unknown header flags set",bt.mode=un;break}bt.head&&(bt.head.text=ir>>8&1),bt.flags&512&&bt.wrap&4&&(Jr[0]=ir&255,Jr[1]=ir>>>8&255,bt.check=Tt(bt.check,Jr,2,0)),ir=0,yr=0,bt.mode=eo;case eo:for(;yr<32;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}bt.head&&(bt.head.time=ir),bt.flags&512&&bt.wrap&4&&(Jr[0]=ir&255,Jr[1]=ir>>>8&255,Jr[2]=ir>>>16&255,Jr[3]=ir>>>24&255,bt.check=Tt(bt.check,Jr,4,0)),ir=0,yr=0,bt.mode=to;case to:for(;yr<16;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}bt.head&&(bt.head.xflags=ir&255,bt.head.os=ir>>8),bt.flags&512&&bt.wrap&4&&(Jr[0]=ir&255,Jr[1]=ir>>>8&255,bt.check=Tt(bt.check,Jr,2,0)),ir=0,yr=0,bt.mode=ro;case ro:if(bt.flags&1024){for(;yr<16;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}bt.length=ir,bt.head&&(bt.head.extra_len=ir),bt.flags&512&&bt.wrap&4&&(Jr[0]=ir&255,Jr[1]=ir>>>8&255,bt.check=Tt(bt.check,Jr,2,0)),ir=0,yr=0}else bt.head&&(bt.head.extra=null);bt.mode=no;case no:if(bt.flags&1024&&(Pr=bt.length,Pr>dr&&(Pr=dr),Pr&&(bt.head&&(Wr=bt.head.extra_len-bt.length,bt.head.extra||(bt.head.extra=new Uint8Array(bt.head.extra_len)),bt.head.extra.set(Nt.subarray(Vt,Vt+Pr),Wr)),bt.flags&512&&bt.wrap&4&&(bt.check=Tt(bt.check,Nt,Pr,Vt)),dr-=Pr,Vt+=Pr,bt.length-=Pr),bt.length))break e;bt.length=0,bt.mode=io;case io:if(bt.flags&2048){if(dr===0)break e;Pr=0;do Wr=Nt[Vt+Pr++],bt.head&&Wr&&bt.length<65536&&(bt.head.name+=String.fromCharCode(Wr));while(Wr&&Pr<dr);if(bt.flags&512&&bt.wrap&4&&(bt.check=Tt(bt.check,Nt,Pr,Vt)),dr-=Pr,Vt+=Pr,Wr)break e}else bt.head&&(bt.head.name=null);bt.length=0,bt.mode=so;case so:if(bt.flags&4096){if(dr===0)break e;Pr=0;do Wr=Nt[Vt+Pr++],bt.head&&Wr&&bt.length<65536&&(bt.head.comment+=String.fromCharCode(Wr));while(Wr&&Pr<dr);if(bt.flags&512&&bt.wrap&4&&(bt.check=Tt(bt.check,Nt,Pr,Vt)),dr-=Pr,Vt+=Pr,Wr)break e}else bt.head&&(bt.head.comment=null);bt.mode=oo;case oo:if(bt.flags&512){for(;yr<16;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}if(bt.wrap&4&&ir!==(bt.check&65535)){xt.msg="header crc mismatch",bt.mode=un;break}ir=0,yr=0}bt.head&&(bt.head.hcrc=bt.flags>>9&1,bt.head.done=!0),xt.adler=bt.check=0,bt.mode=wn;break;case ao:for(;yr<32;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}xt.adler=bt.check=Co(ir),ir=0,yr=0,bt.mode=ds;case ds:if(bt.havedict===0)return xt.next_out=xr,xt.avail_out=Ur,xt.next_in=Vt,xt.avail_in=dr,bt.hold=ir,bt.bits=yr,lu;xt.adler=bt.check=1,bt.mode=wn;case wn:if(zt===ou||zt===us)break e;case Ts:if(bt.last){ir>>>=yr&7,yr-=yr&7,bt.mode=As;break}for(;yr<3;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}switch(bt.last=ir&1,ir>>>=1,yr-=1,ir&3){case 0:bt.mode=lo;break;case 1:if(gu(bt),bt.mode=fs,zt===us){ir>>>=2,yr-=2;break e}break;case 2:bt.mode=co;break;case 3:xt.msg="invalid block type",bt.mode=un}ir>>>=2,yr-=2;break;case lo:for(ir>>>=yr&7,yr-=yr&7;yr<32;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}if((ir&65535)!==(ir>>>16^65535)){xt.msg="invalid stored block lengths",bt.mode=un;break}if(bt.length=ir&65535,ir=0,yr=0,bt.mode=Ms,zt===us)break e;case Ms:bt.mode=uo;case uo:if(Pr=bt.length,Pr){if(Pr>dr&&(Pr=dr),Pr>Ur&&(Pr=Ur),Pr===0)break e;Kt.set(Nt.subarray(Vt,Vt+Pr),xr),dr-=Pr,Vt+=Pr,Ur-=Pr,xr+=Pr,bt.length-=Pr;break}bt.mode=wn;break;case co:for(;yr<14;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}if(bt.nlen=(ir&31)+257,ir>>>=5,yr-=5,bt.ndist=(ir&31)+1,ir>>>=5,yr-=5,bt.ncode=(ir&15)+4,ir>>>=4,yr-=4,bt.nlen>286||bt.ndist>30){xt.msg="too many length or distance symbols",bt.mode=un;break}bt.have=0,bt.mode=fo;case fo:for(;bt.have<bt.ncode;){for(;yr<3;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}bt.lens[Bn[bt.have++]]=ir&7,ir>>>=3,yr-=3}for(;bt.have<19;)bt.lens[Bn[bt.have++]]=0;if(bt.lencode=bt.lendyn,bt.lenbits=7,$r={bits:bt.lenbits},on=Qn(su,bt.lens,0,19,bt.lencode,0,bt.work,$r),bt.lenbits=$r.bits,on){xt.msg="invalid code lengths set",bt.mode=un;break}bt.have=0,bt.mode=ho;case ho:for(;bt.have<bt.nlen+bt.ndist;){for(;Qr=bt.lencode[ir&(1<<bt.lenbits)-1],Vr=Qr>>>24,rn=Qr>>>16&255,Xr=Qr&65535,!(Vr<=yr);){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}if(Xr<16)ir>>>=Vr,yr-=Vr,bt.lens[bt.have++]=Xr;else{if(Xr===16){for(Zr=Vr+2;yr<Zr;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}if(ir>>>=Vr,yr-=Vr,bt.have===0){xt.msg="invalid bit length repeat",bt.mode=un;break}Wr=bt.lens[bt.have-1],Pr=3+(ir&3),ir>>>=2,yr-=2}else if(Xr===17){for(Zr=Vr+3;yr<Zr;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}ir>>>=Vr,yr-=Vr,Wr=0,Pr=3+(ir&7),ir>>>=3,yr-=3}else{for(Zr=Vr+7;yr<Zr;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}ir>>>=Vr,yr-=Vr,Wr=0,Pr=11+(ir&127),ir>>>=7,yr-=7}if(bt.have+Pr>bt.nlen+bt.ndist){xt.msg="invalid bit length repeat",bt.mode=un;break}for(;Pr--;)bt.lens[bt.have++]=Wr}}if(bt.mode===un)break;if(bt.lens[256]===0){xt.msg="invalid code -- missing end-of-block",bt.mode=un;break}if(bt.lenbits=9,$r={bits:bt.lenbits},on=Qn(Ks,bt.lens,0,bt.nlen,bt.lencode,0,bt.work,$r),bt.lenbits=$r.bits,on){xt.msg="invalid literal/lengths set",bt.mode=un;break}if(bt.distbits=6,bt.distcode=bt.distdyn,$r={bits:bt.distbits},on=Qn(Xs,bt.lens,bt.nlen,bt.ndist,bt.distcode,0,bt.work,$r),bt.distbits=$r.bits,on){xt.msg="invalid distances set",bt.mode=un;break}if(bt.mode=fs,zt===us)break e;case fs:bt.mode=hs;case hs:if(dr>=6&&Ur>=258){xt.next_out=xr,xt.avail_out=Ur,xt.next_in=Vt,xt.avail_in=dr,bt.hold=ir,bt.bits=yr,eu(xt,Fr),xr=xt.next_out,Kt=xt.output,Ur=xt.avail_out,Vt=xt.next_in,Nt=xt.input,dr=xt.avail_in,ir=bt.hold,yr=bt.bits,bt.mode===wn&&(bt.back=-1);break}for(bt.back=0;Qr=bt.lencode[ir&(1<<bt.lenbits)-1],Vr=Qr>>>24,rn=Qr>>>16&255,Xr=Qr&65535,!(Vr<=yr);){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}if(rn&&!(rn&240)){for(kr=Vr,tn=rn,hn=Xr;Qr=bt.lencode[hn+((ir&(1<<kr+tn)-1)>>kr)],Vr=Qr>>>24,rn=Qr>>>16&255,Xr=Qr&65535,!(kr+Vr<=yr);){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}ir>>>=kr,yr-=kr,bt.back+=kr}if(ir>>>=Vr,yr-=Vr,bt.back+=Vr,bt.length=Xr,rn===0){bt.mode=xo;break}if(rn&32){bt.back=-1,bt.mode=wn;break}if(rn&64){xt.msg="invalid literal/length code",bt.mode=un;break}bt.extra=rn&15,bt.mode=po;case po:if(bt.extra){for(Zr=bt.extra;yr<Zr;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}bt.length+=ir&(1<<bt.extra)-1,ir>>>=bt.extra,yr-=bt.extra,bt.back+=bt.extra}bt.was=bt.length,bt.mode=go;case go:for(;Qr=bt.distcode[ir&(1<<bt.distbits)-1],Vr=Qr>>>24,rn=Qr>>>16&255,Xr=Qr&65535,!(Vr<=yr);){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}if(!(rn&240)){for(kr=Vr,tn=rn,hn=Xr;Qr=bt.distcode[hn+((ir&(1<<kr+tn)-1)>>kr)],Vr=Qr>>>24,rn=Qr>>>16&255,Xr=Qr&65535,!(kr+Vr<=yr);){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}ir>>>=kr,yr-=kr,bt.back+=kr}if(ir>>>=Vr,yr-=Vr,bt.back+=Vr,rn&64){xt.msg="invalid distance code",bt.mode=un;break}bt.offset=Xr,bt.extra=rn&15,bt.mode=mo;case mo:if(bt.extra){for(Zr=bt.extra;yr<Zr;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}bt.offset+=ir&(1<<bt.extra)-1,ir>>>=bt.extra,yr-=bt.extra,bt.back+=bt.extra}if(bt.offset>bt.dmax){xt.msg="invalid distance too far back",bt.mode=un;break}bt.mode=vo;case vo:if(Ur===0)break e;if(Pr=Fr-Ur,bt.offset>Pr){if(Pr=bt.offset-Pr,Pr>bt.whave&&bt.sane){xt.msg="invalid distance too far back",bt.mode=un;break}Pr>bt.wnext?(Pr-=bt.wnext,Nr=bt.wsize-Pr):Nr=bt.wnext-Pr,Pr>bt.length&&(Pr=bt.length),cn=bt.window}else cn=Kt,Nr=xr-bt.offset,Pr=bt.length;Pr>Ur&&(Pr=Ur),Ur-=Pr,bt.length-=Pr;do Kt[xr++]=cn[Nr++];while(--Pr);bt.length===0&&(bt.mode=hs);break;case xo:if(Ur===0)break e;Kt[xr++]=bt.length,Ur--,bt.mode=hs;break;case As:if(bt.wrap){for(;yr<32;){if(dr===0)break e;dr--,ir|=Nt[Vt++]<<yr,yr+=8}if(Fr-=Ur,xt.total_out+=Fr,bt.total+=Fr,bt.wrap&4&&Fr&&(xt.adler=bt.check=bt.flags?Tt(bt.check,Kt,Fr,xr-Fr):vr(bt.check,Kt,Fr,xr-Fr)),Fr=Ur,bt.wrap&4&&(bt.flags?ir:Co(ir))!==bt.check){xt.msg="incorrect data check",bt.mode=un;break}ir=0,yr=0}bt.mode=yo;case yo:if(bt.wrap&&bt.flags){for(;yr<32;){if(dr===0)break e;dr--,ir+=Nt[Vt++]<<yr,yr+=8}if(bt.wrap&4&&ir!==(bt.total&4294967295)){xt.msg="incorrect length check",bt.mode=un;break}ir=0,yr=0}bt.mode=_o;case _o:on=au;break e;case un:on=Zs;break e;case bo:return Qs;case Eo:default:return yn}return xt.next_out=xr,xt.avail_out=Ur,xt.next_in=Vt,xt.avail_in=dr,bt.hold=ir,bt.bits=yr,(bt.wsize||Fr!==xt.avail_out&&bt.mode<un&&(bt.mode<As||zt!==Ys))&&Ro(xt,xt.output,xt.next_out,Fr-xt.avail_out),qr-=xt.avail_in,Fr-=xt.avail_out,xt.total_in+=qr,xt.total_out+=Fr,bt.total+=Fr,bt.wrap&4&&Fr&&(xt.adler=bt.check=bt.flags?Tt(bt.check,Kt,Fr,xt.next_out-Fr):vr(bt.check,Kt,Fr,xt.next_out-Fr)),xt.data_type=bt.bits+(bt.last?64:0)+(bt.mode===wn?128:0)+(bt.mode===fs||bt.mode===Ms?256:0),(qr===0&&Fr===0||zt===Ys)&&on===Dn&&(on=uu),on},vu=xt=>{if(zn(xt))return yn;let zt=xt.state;return zt.window&&(zt.window=null),xt.state=null,Dn},xu=(xt,zt)=>{if(zn(xt))return yn;const bt=xt.state;return bt.wrap&2?(bt.head=zt,zt.done=!1,Dn):yn},yu=(xt,zt)=>{const bt=zt.length;let Nt,Kt,Vt;return zn(xt)||(Nt=xt.state,Nt.wrap!==0&&Nt.mode!==ds)?yn:Nt.mode===ds&&(Kt=1,Kt=vr(Kt,zt,bt,0),Kt!==Nt.check)?Zs:(Vt=Ro(xt,zt,bt,bt),Vt?(Nt.mode=bo,Qs):(Nt.havedict=1,Dn))};var _u=So,bu=To,Eu=wo,Cu=pu,wu=Mo,Su=mu,Tu=vu,Mu=xu,Au=yu,Ru="pako inflate (from Nodeca project)",Sn={inflateReset:_u,inflateReset2:bu,inflateResetKeep:Eu,inflateInit:Cu,inflateInit2:wu,inflate:Su,inflateEnd:Tu,inflateGetHeader:Mu,inflateSetDictionary:Au,inflateInfo:Ru};function Pu(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ou=Pu;const Po=Object.prototype.toString,{Z_NO_FLUSH:Lu,Z_FINISH:Iu,Z_OK:Jn,Z_STREAM_END:Os,Z_NEED_DICT:Ls,Z_STREAM_ERROR:Du,Z_DATA_ERROR:Oo,Z_MEM_ERROR:zu}=or;function qn(xt){this.options=os.assign({chunkSize:65536,windowBits:15,to:""},xt||{});const zt=this.options;zt.raw&&zt.windowBits>=0&&zt.windowBits<16&&(zt.windowBits=-zt.windowBits,zt.windowBits===0&&(zt.windowBits=-15)),zt.windowBits>=0&&zt.windowBits<16&&!(xt&&xt.windowBits)&&(zt.windowBits+=32),zt.windowBits>15&&zt.windowBits<48&&(zt.windowBits&15||(zt.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ws,this.strm.avail_out=0;let bt=Sn.inflateInit2(this.strm,zt.windowBits);if(bt!==Jn)throw new Error(ur[bt]);if(this.header=new Ou,Sn.inflateGetHeader(this.strm,this.header),zt.dictionary&&(typeof zt.dictionary=="string"?zt.dictionary=Yn.string2buf(zt.dictionary):Po.call(zt.dictionary)==="[object ArrayBuffer]"&&(zt.dictionary=new Uint8Array(zt.dictionary)),zt.raw&&(bt=Sn.inflateSetDictionary(this.strm,zt.dictionary),bt!==Jn)))throw new Error(ur[bt])}qn.prototype.push=function(xt,zt){const bt=this.strm,Nt=this.options.chunkSize,Kt=this.options.dictionary;let Vt,xr,dr;if(this.ended)return!1;for(zt===~~zt?xr=zt:xr=zt===!0?Iu:Lu,Po.call(xt)==="[object ArrayBuffer]"?bt.input=new Uint8Array(xt):bt.input=xt,bt.next_in=0,bt.avail_in=bt.input.length;;){for(bt.avail_out===0&&(bt.output=new Uint8Array(Nt),bt.next_out=0,bt.avail_out=Nt),Vt=Sn.inflate(bt,xr),Vt===Ls&&Kt&&(Vt=Sn.inflateSetDictionary(bt,Kt),Vt===Jn?Vt=Sn.inflate(bt,xr):Vt===Oo&&(Vt=Ls));bt.avail_in>0&&Vt===Os&&bt.state.wrap>0&&xt[bt.next_in]!==0;)Sn.inflateReset(bt),Vt=Sn.inflate(bt,xr);switch(Vt){case Du:case Oo:case Ls:case zu:return this.onEnd(Vt),this.ended=!0,!1}if(dr=bt.avail_out,bt.next_out&&(bt.avail_out===0||Vt===Os))if(this.options.to==="string"){let Ur=Yn.utf8border(bt.output,bt.next_out),ir=bt.next_out-Ur,yr=Yn.buf2string(bt.output,Ur);bt.next_out=ir,bt.avail_out=Nt-ir,ir&&bt.output.set(bt.output.subarray(Ur,Ur+ir),0),this.onData(yr)}else this.onData(bt.output.length===bt.next_out?bt.output:bt.output.subarray(0,bt.next_out));if(!(Vt===Jn&&dr===0)){if(Vt===Os)return Vt=Sn.inflateEnd(this.strm),this.onEnd(Vt),this.ended=!0,!0;if(bt.avail_in===0)break}}return!0},qn.prototype.onData=function(xt){this.chunks.push(xt)},qn.prototype.onEnd=function(xt){xt===Jn&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=os.flattenChunks(this.chunks)),this.chunks=[],this.err=xt,this.msg=this.strm.msg};function Is(xt,zt){const bt=new qn(zt);if(bt.push(xt),bt.err)throw bt.msg||ur[bt.err];return bt.result}function Bu(xt,zt){return zt=zt||{},zt.raw=!0,Is(xt,zt)}var ku=qn,Fu=Is,Uu=Bu,Nu=Is,Wu=or,ju={Inflate:ku,inflate:Fu,inflateRaw:Uu,ungzip:Nu,constants:Wu};const{Deflate:$u,deflate:Gu,deflateRaw:Vu,gzip:Hu}=Ql,{Inflate:Ku,inflate:Xu,inflateRaw:Yu,ungzip:Zu}=ju;var Lo=$u,Io=Gu,Do=Vu,zo=Hu,Bo=Ku,ko=Xu,Fo=Yu,Uo=Zu,No=or,Qu={Deflate:Lo,deflate:Io,deflateRaw:Do,gzip:zo,Inflate:Bo,inflate:ko,inflateRaw:Fo,ungzip:Uo,constants:No}}},__webpack_module_cache__={};function __webpack_require__(i){var s=__webpack_module_cache__[i];if(s!==void 0)return s.exports;var o=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i].call(o.exports,o,o.exports,__webpack_require__),o.exports}__webpack_require__.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return __webpack_require__.d(s,{a:s}),s},__webpack_require__.d=(i,s)=>{for(var o in s)__webpack_require__.o(s,o)&&!__webpack_require__.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},__webpack_require__.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),__webpack_require__.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},__webpack_require__("./src/index.ts"),__webpack_require__("./src/SurfaceWorker.js");var __webpack_exports__=__webpack_require__("./src/exporter.js");return __webpack_exports__})())})(_3Dmol);var _3DmolExports=_3Dmol.exports;function Molecule3D(i){const s=reactExports.useRef(null);return reactExports.useEffect(()=>{if(s.current){const _=s.current.children;if(_.length!=0)for(let j=0;j<_.length;j++)_[j].remove()}const o=_3DmolExports.createViewer(s.current,{backgroundColor:i.color}),a=o.addModel(i.moleculedata,"xyz");i.style=="Stick"?o.setStyle({},{stick:{color:"spectrum"}}):i.style=="Sphere"&&o.setStyle({},{sphere:{color:"spectrum",radius:1}}),o.addUnitCell(a,{box:{color:"purple"},alabel:"X",blabel:"Y",clabel:"Z"}),o.zoomTo(),o.render()}),jsxRuntimeExports.jsx("div",{ref:s,style:{height:"100%",width:"100%",position:"relative"}})}function MoleculeDataTextArea(i){const s=i.moleculedata.split(`
`),[o,a]=reactExports.useState(Number(s[0])),[_,j]=reactExports.useState(s[1]),[rt,tt]=reactExports.useState(s.slice(2).join(`
`)),[it,dt]=reactExports.useState([""]),[lt,gt]=reactExports.useState(!1);function vt(mt){const nt=mt.split(`
`);let $="";for(let _e=0;_e<nt.length;_e++){const st=nt[_e].split(/\b\s+/).filter(ot=>ot);st.length!=0&&(st.length!=4&&($=$+"Wrong number of items on line "+(_e+1)+`
`,gt(!0)),/^[a-zA-Z]+$/.test(st[0])||($=$+"Invalid chemical on line "+(_e+1)+`
`,gt(!0)),(!/^[+-]?[0-9]{1,}(?:\.[0-9]{1,})?$/.test(st[1])||!/^[+-]?[0-9]{1,}(?:\.[0-9]{1,})?$/.test(st[2])||!/^[+-]?[0-9]{1,}(?:\.[0-9]{1,})?$/.test(st[3]))&&($=$+"Invalid number on line "+(_e+1)+`
`,gt(!0)))}return $}function ht(){const mt=vt(rt);if(mt=="")gt(!1),i.setmoleculeData(o+`
`+_+`
`+rt.split(`
`).filter(nt=>nt).join(`
`));else{const nt=mt.split(`
`);nt.length=nt.length-1,dt(nt)}}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TextField,{id:"atomBox",label:"Atoms",value:o,sx:{m:2,width:"64px"},disabled:!0}),jsxRuntimeExports.jsx(TextField,{id:"Comment/Lattice",label:"Comment/Lattice",value:_,sx:{m:2,width:"calc(100% - 128px)"},onChange:mt=>j(mt.target.value)}),jsxRuntimeExports.jsx(TextField,{id:"datafilebox",label:"Molecule Data",multiline:!0,rows:20,value:rt,sx:{m:2,width:"100%"},onChange:mt=>{a(mt.target.value.split(`
`).filter(nt=>nt).length),tt(mt.target.value)}}),jsxRuntimeExports.jsx(Button,{variant:"contained",sx:{m:2,width:"100%"},onClick:ht,children:"Render"}),lt?jsxRuntimeExports.jsx(Alert,{variant:"filled",sx:{m:2,width:"100%"},severity:"error",children:jsxRuntimeExports.jsx("ul",{style:{padding:0},children:it.map((mt,nt)=>jsxRuntimeExports.jsx("li",{style:{listStyle:"none"},children:mt},nt))})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})]})}const CircleOutlinedIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CircleOutlined"),HorizontalRuleOutlinedIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M4 11h16v2H4z"}),"HorizontalRuleOutlined");function StyleToggle(i){const s=(o,a)=>{a!==null&&i.setStyle(a)};return jsxRuntimeExports.jsxs(ToggleButtonGroup,{value:i.style,exclusive:!0,onChange:s,"aria-label":"Style Choice",children:[jsxRuntimeExports.jsx(Tooltip,{title:"Stick Style",arrow:!0,children:jsxRuntimeExports.jsx(ToggleButton,{value:"Stick","aria-label":"Stick",children:jsxRuntimeExports.jsx(HorizontalRuleOutlinedIcon,{})})}),jsxRuntimeExports.jsx(Tooltip,{title:"Sphere Style",arrow:!0,children:jsxRuntimeExports.jsx(ToggleButton,{value:"Sphere","aria-label":"Sphere",children:jsxRuntimeExports.jsx(CircleOutlinedIcon,{})})})]})}function MoleculeViewer(){const[i,s]=reactExports.useState("#3465A4"),[o,a]=reactExports.useState("Stick"),[_,j]=reactExports.useState(`12
Benzene molecule
C   0.000000  1.402720  0.000000
H   0.000000  2.490290  0.000000
C  -1.214790  0.701360  0.000000
H  -2.156660  1.245150  0.000000
C  -1.214790 -0.701360  0.000000
H  -2.156660 -1.245150  0.000000
C   0.000000 -1.402720  0.000000
H   0.000000 -2.490290  0.000000
C   1.214790 -0.701360  0.000000
H   2.156660 -1.245150  0.000000
C   1.214790  0.701360  0.000000
H   2.156660  1.245150  0.000000`);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SideDrawer,{}),jsxRuntimeExports.jsx(Typography,{variant:"h1",sx:{textAlign:"center"},children:"3D Molecule Viewer"}),jsxRuntimeExports.jsxs(Grid2,{container:!0,spacing:2,sx:{},children:[jsxRuntimeExports.jsxs(Grid2,{size:6,sx:{display:"grid",gridAutoRows:"80% 20%",margin:2,gap:3},children:[jsxRuntimeExports.jsx(Molecule3D,{color:i,moleculedata:_,style:o},i),jsxRuntimeExports.jsxs(Box,{sx:{textAlign:"center"},children:[jsxRuntimeExports.jsx(Tooltip,{title:"Change Background Colour",arrow:!0,children:jsxRuntimeExports.jsx("input",{style:{margin:"50px"},type:"color",value:i,onChange:rt=>{s(rt.target.value)}})}),jsxRuntimeExports.jsx(StyleToggle,{style:o,setStyle:a})]})]}),jsxRuntimeExports.jsx(Grid2,{size:5,children:jsxRuntimeExports.jsx("div",{style:{position:"relative"},children:jsxRuntimeExports.jsx(MoleculeDataTextArea,{moleculedata:_,setmoleculeData:j})})})]})]})}function App(){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/Conexs",element:jsxRuntimeExports.jsx(MoleculeViewer,{})}),jsxRuntimeExports.jsx(Route,{path:"/Conexs/graph",element:jsxRuntimeExports.jsx(GraphPage,{})})]})})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(App,{})})}));
